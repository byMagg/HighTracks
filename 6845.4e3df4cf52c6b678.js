"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6845],{6845:(T,l,s)=>{s.r(l),s.d(l,{TrackPage:()=>Z});var c=s(6895),g=s(433),i=s(4709),t=s(4650),d=s(5013),u=s(2607);function p(e,a){if(1&e&&(t.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()),2&e){const n=a.$implicit;t.xp6(3),t.hij("@",n.author,""),t.xp6(2),t.Oqu(n.text),t.xp6(2),t.Oqu(n.score)}}let h=(()=>{class e{constructor(n,o){this.apiService=n,this.router=o,this.score=0}ngOnInit(){this.getComments()}sendComment(){this.trackId&&this.author&&this.text&&this.score&&(this.apiService.insertComment(this.trackId,{author:this.author,text:this.text,score:this.score}).subscribe(()=>{this.getComments()}),this.author=void 0,this.text=void 0,this.score=0)}getComments(){this.trackId&&this.apiService.getComments(this.trackId).subscribe(n=>{this.comments=n})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.j),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["comments"]],inputs:{trackId:"trackId"},standalone:!0,features:[t.jDz],decls:23,vars:8,consts:[["position","floating"],["type","text","aria-label","Autor",3,"ngModel","ngModelChange"],["aria-label","Comentario",3,"ngModel","ngModelChange"],["aria-label","Range with ticks",3,"ngModel","ticks","snaps","min","max","ngModelChange"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"section")(1,"article")(2,"h2"),t._uU(3,"A\xf1adir comentarios"),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-label",0),t._uU(6,"Autor"),t.qZA(),t.TgZ(7,"ion-input",1),t.NdJ("ngModelChange",function(r){return o.author=r}),t.qZA()(),t.TgZ(8,"ion-item")(9,"ion-label",0),t._uU(10,"Comentario"),t.qZA(),t.TgZ(11,"ion-textarea",2),t.NdJ("ngModelChange",function(r){return o.text=r}),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label",0),t._uU(14,"Puntuaci\xf3n"),t.qZA(),t.TgZ(15,"ion-range",3),t.NdJ("ngModelChange",function(r){return o.score=r}),t.qZA()(),t.TgZ(16,"ion-button",4),t.NdJ("click",function(){return o.sendComment()}),t._uU(17,"A\xf1adir"),t.qZA()(),t.TgZ(18,"article")(19,"h2"),t._uU(20,"Comentarios"),t.qZA(),t.TgZ(21,"ion-list"),t.YNc(22,p,8,3,"ion-item",5),t.qZA()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",o.author),t.xp6(4),t.Q6J("ngModel",o.text),t.xp6(4),t.Q6J("ngModel",o.score)("ticks",!0)("snaps",!0)("min",0)("max",5),t.xp6(7),t.Q6J("ngForOf",o.comments))},dependencies:[i.Pc,i.YG,i.pK,i.Ie,i.Q$,i.q_,i.I_,i.g2,i.QI,i.j9,c.ez,c.sg,g.u5,g.JJ,g.On],styles:["section[_ngcontent-%COMP%]{width:100%}"]}),e})();function f(e,a){if(1&e&&(t.TgZ(0,"ion-title"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.track.name)}}function C(e,a){if(1&e&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.qZA()()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.name)}}function _(e,a){if(1&e&&(t.TgZ(0,"div",5)(1,"div")(2,"ion-card"),t._UZ(3,"ion-img",6),t.qZA()(),t.TgZ(4,"div",7),t.YNc(5,C,3,1,"div",8),t.TgZ(6,"div",9)(7,"div")(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div")(12,"span"),t._uU(13),t.qZA()()()()()),2&e){const n=t.oxw();t.xp6(3),t.s9C("src",n.track.album.images[0].url),t.xp6(2),t.Q6J("ngForOf",n.track.album.artists),t.xp6(4),t.hij("",t.xi3(10,4,n.track.duration_ms,"mm:ss")," min"),t.xp6(4),t.Oqu(n.track.album.release_date)}}let Z=(()=>{class e{constructor(n,o){this.apiService=n,this.route=o,this.route.params.subscribe(m=>{this.trackId=m.id,console.log(this.trackId),this.trackId&&this.apiService.getTrack(this.trackId).subscribe(r=>{this.track=r,console.log(this.track)})})}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.j),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-track"]],standalone:!0,features:[t.jDz],decls:8,vars:3,consts:[["slot","start"],["defaultHref","/tracks"],[4,"ngIf"],["id","container",4,"ngIf"],[3,"trackId"],["id","container"],["alt","",3,"src"],["id","info"],[4,"ngFor","ngForOf"],["id","main-info"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.YNc(4,f,2,1,"ion-title",2),t.qZA()(),t.TgZ(5,"ion-content"),t.YNc(6,_,14,7,"div",3),t._UZ(7,"comments",4),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngIf",o.track),t.xp6(2),t.Q6J("ngIf",o.track),t.xp6(1),t.Q6J("trackId",o.trackId))},dependencies:[c.ez,c.sg,c.O5,c.uU,g.u5,i.Pc,i.oU,i.Sm,i.PM,i.W2,i.Gu,i.Xz,i.wd,i.sr,i.cs,h],styles:["ion-card[_ngcontent-%COMP%]{height:100%}ion-img[_ngcontent-%COMP%]{height:400px}#container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}#info[_ngcontent-%COMP%]{display:grid;align-items:center;max-width:450px}#info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:15px}#main-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#000;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#fff;text-align:center;border-radius:5px;margin:0 auto;padding:5px}comments[_ngcontent-%COMP%]{display:flex;width:80%;margin:0 auto;max-width:500px}"]}),e})()}}]);