(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(gn,mt,H)=>{"use strict";H.d(mt,{nm:()=>se});var _=H(4976);H(4650),H(259);var Y=H(5861),et=H(6881),Ze=H(4859),xt=H(2090),Be=H(1877);const Oe=new Map,Pe={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function Ue(dt){return Oe.get(dt)||Object.assign({},Pe)}function _t(){return Ce}const ct="https://content-firebaseappcheck.googleapis.com/v1",ke="exchangeDebugToken",Le={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lt{constructor(tt,Et,qt,tn,cr){if(this.operation=tt,this.retryPolicy=Et,this.getWaitDuration=qt,this.lowerBound=tn,this.upperBound=cr,this.pending=null,this.nextErrorWaitInterval=tn,tn>cr)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(tt){var Et=this;return(0,Y.Z)(function*(){Et.stop();try{Et.pending=new xt.BH,yield function vt(dt){return new Promise(tt=>{setTimeout(tt,dt)})}(Et.getNextRun(tt)),Et.pending.resolve(),yield Et.pending.promise,Et.pending=new xt.BH,yield Et.operation(),Et.pending.resolve(),yield Et.pending.promise,Et.process(!0).catch(()=>{})}catch(qt){Et.retryPolicy(qt)?Et.process(!1).catch(()=>{}):Et.stop()}})()}getNextRun(tt){if(tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Et}}}const Bt=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cn(dt,tt){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Y.Z)(function*({url:dt,body:tt},Et){const qt={"Content-Type":"application/json"},tn=Et.getImmediate({optional:!0});if(tn){const fi=yield tn.getHeartbeatsHeader();fi&&(qt["X-Firebase-Client"]=fi)}const cr={method:"POST",body:JSON.stringify(tt),headers:qt};let gr,mr;try{gr=yield fetch(dt,cr)}catch(fi){throw Bt.create("fetch-network-error",{originalErrorMessage:null==fi?void 0:fi.message})}if(200!==gr.status)throw Bt.create("fetch-status-error",{httpStatus:gr.status});try{mr=yield gr.json()}catch(fi){throw Bt.create("fetch-parse-error",{originalErrorMessage:null==fi?void 0:fi.message})}const Xr=mr.ttl.match(/^([\d.]+)(s)$/);if(!Xr||!Xr[2]||isNaN(Number(Xr[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mr.ttl}`});const ys=1e3*Number(Xr[1]),Oo=Date.now();return{token:mr.token,expireTimeMillis:Oo+ys,issuedAtTimeMillis:Oo}})).apply(this,arguments)}const En="firebase-app-check-database",hr=1,Cr="firebase-app-check-store";let vn=null;function Hn(dt,tt){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Y.Z)(function*(dt,tt){const qt=(yield function jn(){return vn||(vn=new Promise((dt,tt)=>{try{const Et=indexedDB.open(En,hr);Et.onsuccess=qt=>{dt(qt.target.result)},Et.onerror=qt=>{var tn;tt(Bt.create("storage-open",{originalErrorMessage:null===(tn=qt.target.error)||void 0===tn?void 0:tn.message}))},Et.onupgradeneeded=qt=>{0===qt.oldVersion&&qt.target.result.createObjectStore(Cr,{keyPath:"compositeKey"})}}catch(Et){tt(Bt.create("storage-open",{originalErrorMessage:null==Et?void 0:Et.message}))}}),vn)}()).transaction(Cr,"readwrite"),cr=qt.objectStore(Cr).put({compositeKey:dt,value:tt});return new Promise((gr,mr)=>{cr.onsuccess=Xr=>{gr()},qt.onerror=Xr=>{var ys;mr(Bt.create("storage-set",{originalErrorMessage:null===(ys=Xr.target.error)||void 0===ys?void 0:ys.message}))}})})).apply(this,arguments)}const ci=new Be.Yd("@firebase/app-check");function oi(dt,tt){return(0,xt.hl)()?function br(dt,tt){return Hn(function sn(dt){return`${dt.options.appId}-${dt.name}`}(dt),tt)}(dt,tt).catch(Et=>{ci.warn(`Failed to write token to IndexedDB. Error: ${Et}`)}):Promise.resolve()}function lr(){return sr.apply(this,arguments)}function sr(){return(sr=(0,Y.Z)(function*(){const dt=_t();if(dt.enabled&&dt.token)return dt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mi={error:"UNKNOWN_ERROR"};function yr(dt){return xt.US.encodeString(JSON.stringify(dt),!1)}function jt(dt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Y.Z)(function*(dt,tt=!1){const Et=dt.app;!function Tt(dt){if(!Ue(dt).activated)throw Bt.create("use-before-activation",{appName:dt.name})}(Et);const qt=Ue(Et);let cr,tn=qt.token;if(tn&&!st(tn)&&(qt.token=void 0,tn=void 0),!tn){const Xr=yield qt.cachedTokenPromise;Xr&&(st(Xr)?tn=Xr:yield oi(Et,void 0))}if(!tt&&tn&&st(tn))return{token:tn.token};let mr,gr=!1;if(function vi(){return _t().enabled}()){qt.exchangeTokenPromise||(qt.exchangeTokenPromise=cn(function nn(dt,tt){const{projectId:Et,appId:qt,apiKey:tn}=dt.options;return{url:`${ct}/projects/${Et}/apps/${qt}:${ke}?key=${tn}`,body:{debug_token:tt}}}(Et,yield lr()),dt.heartbeatServiceProvider).finally(()=>{qt.exchangeTokenPromise=void 0}),gr=!0);const Xr=yield qt.exchangeTokenPromise;return yield oi(Et,Xr),qt.token=Xr,{token:Xr.token}}try{qt.exchangeTokenPromise||(qt.exchangeTokenPromise=qt.provider.getToken().finally(()=>{qt.exchangeTokenPromise=void 0}),gr=!0),tn=yield Ue(Et).exchangeTokenPromise}catch(Xr){"appCheck/throttled"===Xr.code?ci.warn(Xr.message):ci.error(Xr),cr=Xr}return tn?cr?mr=st(tn)?{token:tn.token,internalError:cr}:on(cr):(mr={token:tn.token},qt.token=tn,yield oi(Et,tn)):mr=on(cr),gr&&function Dt(dt,tt){const Et=Ue(dt).tokenObservers;for(const qt of Et)try{"EXTERNAL"===qt.type&&null!=tt.error?qt.error(tt.error):qt.next(tt)}catch{}}(Et,mr),mr})).apply(this,arguments)}function Ie(dt,tt){const Et=Ue(dt),qt=Et.tokenObservers.filter(tn=>tn.next!==tt);0===qt.length&&Et.tokenRefresher&&Et.tokenRefresher.isRunning()&&Et.tokenRefresher.stop(),Et.tokenObservers=qt}function _e(dt){const{app:tt}=dt,Et=Ue(tt);let qt=Et.tokenRefresher;qt||(qt=function We(dt){const{app:tt}=dt;return new lt((0,Y.Z)(function*(){let qt;if(qt=Ue(tt).token?yield jt(dt,!0):yield jt(dt),qt.error)throw qt.error;if(qt.internalError)throw qt.internalError}),()=>!0,()=>{const Et=Ue(tt);if(Et.token){let qt=Et.token.issuedAtTimeMillis+.5*(Et.token.expireTimeMillis-Et.token.issuedAtTimeMillis)+3e5;return qt=Math.min(qt,Et.token.expireTimeMillis-3e5),Math.max(0,qt-Date.now())}return 0},Le.RETRIAL_MIN_WAIT,Le.RETRIAL_MAX_WAIT)}(dt),Et.tokenRefresher=qt),!qt.isRunning()&&Et.isTokenAutoRefreshEnabled&&qt.start()}function st(dt){return dt.expireTimeMillis-Date.now()>0}function on(dt){return{token:yr(Mi),error:dt}}class ot{constructor(tt,Et){this.app=tt,this.heartbeatServiceProvider=Et}_delete(){const{tokenObservers:tt}=Ue(this.app);for(const Et of tt)Ie(this.app,Et.next);return Promise.resolve()}}const Pr="app-check-internal";!function _i(){(0,et._registerComponent)(new Ze.wA("app-check",dt=>function je(dt,tt){return new ot(dt,tt)}(dt.getProvider("app").getImmediate(),dt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((dt,tt,Et)=>{dt.getProvider(Pr).initialize()})),(0,et._registerComponent)(new Ze.wA(Pr,dt=>function ve(dt){return{getToken:tt=>jt(dt,tt),addTokenListener:tt=>function zt(dt,tt,Et,qt){const{app:tn}=dt,cr=Ue(tn);if(cr.tokenObservers=[...cr.tokenObservers,{next:Et,error:qt,type:tt}],cr.token&&st(cr.token)){const mr=cr.token;Promise.resolve().then(()=>{Et({token:mr.token}),_e(dt)}).catch(()=>{})}cr.cachedTokenPromise.then(()=>_e(dt))}(dt,"INTERNAL",tt),removeTokenListener:tt=>Ie(dt.app,tt)}}(dt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)("@firebase/app-check","0.7.0")}();class se{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},1205:(gn,mt,H)=>{"use strict";H.d(mt,{zQ:()=>ct,ww:()=>wt,rT:()=>Ce,f7:()=>ht,L6:()=>Oe,_Q:()=>Pe,lh:()=>Ue,Qv:()=>Be,nw:()=>_t});var _=H(4650),y=H(7579),ee=H(9646),de=H(9751),$e=H(8996),xe=H(6451),me=H(5363),Ve=H(3900),Fe=H(4004),we=H(6063);class ge extends y.x{constructor(ke=1/0,Le=1/0,Ne=we.l){super(),this._bufferSize=ke,this._windowTime=Le,this._timestampProvider=Ne,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Le===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,Le)}next(ke){const{isStopped:Le,_buffer:Ne,_infiniteTimeWindow:lt,_timestampProvider:vt,_windowTime:Xt}=this;Le||(Ne.push(ke),!lt&&Ne.push(vt.now()+Xt)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const Le=this._innerSubscribe(ke),{_infiniteTimeWindow:Ne,_buffer:lt}=this,vt=lt.slice();for(let Xt=0;Xt<vt.length&&!ke.closed;Xt+=Ne?1:2)ke.next(vt[Xt]);return this._checkFinalizedStatuses(ke),Le}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:Le,_buffer:Ne,_infiniteTimeWindow:lt}=this,vt=(lt?1:2)*ke;if(ke<1/0&&vt<Ne.length&&Ne.splice(0,Ne.length-vt),!lt){const Xt=Le.now();let Bt=0;for(let yn=1;yn<Ne.length&&Ne[yn]<=Xt;yn+=2)Bt=yn;Bt&&Ne.splice(0,Bt+1)}}}var ye=H(3099);function ze(pt,ke,Le){let Ne,lt=!1;return pt&&"object"==typeof pt?({bufferSize:Ne=1/0,windowTime:ke=1/0,refCount:lt=!1,scheduler:Le}=pt):Ne=null!=pt?pt:1/0,(0,ye.B)({connector:()=>new ge(Ne,ke,Le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:lt})}var He=H(590),rt=H(576);function Ct(pt,ke){return(0,rt.m)(ke)?(0,Ve.w)(()=>pt,ke):(0,Ve.w)(()=>pt)}var Re=H(9468),Se=H(9300),ue=H(4976),gt=H(2011),Y=H(6895),et=H(6217),Ze=H(9260);const Be=new _.OlP("angularfire2.auth.use-emulator"),Oe=new _.OlP("angularfire2.auth.settings"),Pe=new _.OlP("angularfire2.auth.tenant-id"),Ce=new _.OlP("angularfire2.auth.langugage-code"),Ue=new _.OlP("angularfire2.auth.use-device-language"),ht=new _.OlP("angularfire.auth.persistence"),_t=(pt,ke,Le,Ne,lt,vt,Xt,Bt)=>(0,gt.cc)(`${pt.name}.auth`,"AngularFireAuth",pt.name,()=>{const yn=ke.runOutsideAngular(()=>pt.auth());if(Le&&yn.useEmulator(...Le),Ne&&(yn.tenantId=Ne),yn.languageCode=lt,vt&&yn.useDeviceLanguage(),Xt)for(const[Tt,Te]of Object.entries(Xt))yn.settings[Tt]=Te;return Bt&&yn.setPersistence(Bt),yn},[Le,Ne,lt,vt,Xt,Bt]);let ct=(()=>{class pt{constructor(Le,Ne,lt,vt,Xt,Bt,yn,Tt,Te,St,cn,Sn){const zn=new y.x,wn=(0,ee.of)(void 0).pipe((0,me.Q)(Xt.outsideAngular),(0,Ve.w)(()=>vt.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,3042)))),(0,Fe.U)(()=>(0,gt.on)(Le,vt,Ne)),(0,Fe.U)(nn=>_t(nn,vt,Bt,Tt,Te,St,yn,cn)),ze({bufferSize:1,refCount:!1}));if((0,Y.PM)(lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{wn.pipe((0,He.P)()).subscribe();const En=wn.pipe((0,Ve.w)(tr=>tr.getRedirectResult().then(vn=>vn,()=>null)),ue.iC,ze({bufferSize:1,refCount:!1})),hr=wn.pipe((0,Ve.w)(tr=>new de.y(vn=>({unsubscribe:vt.runOutsideAngular(()=>tr.onAuthStateChanged(jn=>vn.next(jn),jn=>vn.error(jn),()=>vn.complete()))})))),Cr=wn.pipe((0,Ve.w)(tr=>new de.y(vn=>({unsubscribe:vt.runOutsideAngular(()=>tr.onIdTokenChanged(jn=>vn.next(jn),jn=>vn.error(jn),()=>vn.complete()))}))));this.authState=En.pipe(Ct(hr),(0,Re.R)(Xt.outsideAngular),(0,me.Q)(Xt.insideAngular)),this.user=En.pipe(Ct(Cr),(0,Re.R)(Xt.outsideAngular),(0,me.Q)(Xt.insideAngular)),this.idToken=this.user.pipe((0,Ve.w)(tr=>tr?(0,$e.D)(tr.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,Ve.w)(tr=>tr?(0,$e.D)(tr.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,xe.T)(En,zn,this.authState.pipe((0,Se.h)(tr=>!tr))).pipe((0,Fe.U)(tr=>null!=tr&&tr.user?tr:null),(0,Re.R)(Xt.outsideAngular),(0,me.Q)(Xt.insideAngular))}return(0,gt.pX)(this,wn,vt,{spy:{apply:(nn,En,hr)=>{(nn.startsWith("signIn")||nn.startsWith("createUser"))&&hr.then(Cr=>zn.next(Cr))}}})}}return pt.\u0275fac=function(Le){return new(Le||pt)(_.LFG(gt.Dh),_.LFG(gt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ue.HU),_.LFG(Be,8),_.LFG(Oe,8),_.LFG(Pe,8),_.LFG(Ce,8),_.LFG(Ue,8),_.LFG(ht,8),_.LFG(et.nm,8))},pt.\u0275prov=_.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"any"}),pt})(),wt=(()=>{class pt{constructor(){Ze.Z.registerVersion("angularfire",ue.q4.full,"auth-compat")}}return pt.\u0275fac=function(Le){return new(Le||pt)},pt.\u0275mod=_.oAB({type:pt}),pt.\u0275inj=_.cJS({providers:[ct]}),pt})()},1762:(gn,mt,H)=>{"use strict";H.d(mt,{ST:()=>wp,yb:()=>d_});var _=H(4650),y=H(4986),ee=H(9751),de=H(8996),$e=H(9646),xe=H(4976),me=H(8675),Ve=H(4482),Fe=H(5403);function we(){return(0,Ve.e)((r,e)=>{let t,s=!1;r.subscribe((0,Fe.x)(e,c=>{const f=t;t=c,s&&e.next([f,c]),s=!0}))})}var Oe,ge=H(4004),ye=H(5026),ze=H(1884),He=H(9300),rt=H(2011),Ct=H(6895),Se=(H(3042),H(3942)),ue=H(5861),gt=H(6881),Y=H(4859),et=H(1877),Ze=H(2090),xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={},Pe=Pe||{},Ce=xt||self;function Ue(){}function ht(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function _t(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function ke(r,e,t){return r.call.apply(r.bind,arguments)}function Le(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Ne(r,e,t){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ke:Le).apply(null,arguments)}function lt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function vt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,c,f){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return e.prototype[c].apply(s,E)}}function Xt(){this.s=this.s,this.o=this.o}Xt.prototype.s=!1,Xt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ct(r){Object.prototype.hasOwnProperty.call(r,wt)&&r[wt]||(r[wt]=++pt)}(this)},Xt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Tt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Te(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ht(s)){const c=r.length||0,f=s.length||0;r.length=c+f;for(let E=0;E<f;E++)r[c+E]=s[E]}else r.push(s)}}function St(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var cn=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ce.addEventListener("test",Ue,e),Ce.removeEventListener("test",Ue,e)}catch{}return r}();function Sn(r){return/^[\s\xa0]*$/.test(r)}var zn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function wn(r,e){return r<e?-1:r>e?1:0}function nn(){var r=Ce.navigator;return r&&(r=r.userAgent)?r:""}function En(r){return-1!=nn().indexOf(r)}function hr(r){return hr[" "](r),r}function Cr(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}hr[" "]=Ue;var Hn,r,tr=En("Opera"),vn=En("Trident")||En("MSIE"),jn=En("Edge"),bi=jn||vn,br=En("Gecko")&&!(-1!=nn().toLowerCase().indexOf("webkit")&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),mi=-1!=nn().toLowerCase().indexOf("webkit")&&!En("Edge");function xi(){var r=Ce.document;return r?r.documentMode:void 0}e:{var Gn="",en=(r=nn(),br?/rv:([^\);]+)(\)|;)/.exec(r):jn?/Edge\/([\d\.]+)/.exec(r):vn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):mi?/WebKit\/(\S+)/.exec(r):tr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(en&&(Gn=en?en[1]:""),vn){var pn=xi();if(null!=pn&&pn>parseFloat(Gn)){Hn=String(pn);break e}}Hn=Gn}var sn={},oi=Ce.document&&vn&&(xi()||parseInt(Hn,10))||void 0;function yi(r,e){if(St.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(br){e:{try{hr(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ur[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&yi.$.h.call(this)}}vt(yi,St);var Ur={2:"touch",3:"pen",4:"mouse"};yi.prototype.h=function(){yi.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var vi="closure_listenable_"+(1e6*Math.random()|0),lr=0;function sr(r,e,t,s,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=c,this.key=++lr,this.fa=this.ia=!1}function Ir(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Mi(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function yr(r){const e={};for(const t in r)e[t]=r[t];return e}const jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(r,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)r[t]=s[t];for(let f=0;f<jt.length;f++)t=jt[f],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Qe(r){this.src=r,this.g={},this.h=0}function Yt(r,e){var t=e.type;if(t in r.g){var f,s=r.g[t],c=yn(s,e);(f=0<=c)&&Array.prototype.splice.call(s,c,1),f&&(Ir(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function zt(r,e,t,s){for(var c=0;c<r.length;++c){var f=r[c];if(!f.fa&&f.listener==e&&f.capture==!!t&&f.la==s)return c}return-1}Qe.prototype.add=function(r,e,t,s,c){var f=r.toString();(r=this.g[f])||(r=this.g[f]=[],this.h++);var E=zt(r,e,s,c);return-1<E?(e=r[E],t||(e.ia=!1)):((e=new sr(e,this.src,f,!!s,c)).ia=t,r.push(e)),e};var Ie="closure_lm_"+(1e6*Math.random()|0),_e={};function We(r,e,t,s,c){if(s&&s.once)return on(r,e,t,s,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)We(r,e[f],t,s,c);return null}return t=Tn(t),r&&r[vi]?r.O(e,t,_t(s)?!!s.capture:!!s,c):Dt(r,e,t,!1,s,c)}function Dt(r,e,t,s,c,f){if(!e)throw Error("Invalid event type");var E=_t(c)?!!c.capture:!!c,k=Rt(r);if(k||(r[Ie]=k=new Qe(r)),(t=k.add(e,t,s,E,f)).proxy)return t;if(s=function st(){const e=ut;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)cn||(c=E),void 0===c&&(c=!1),r.addEventListener(e.toString(),s,c);else if(r.attachEvent)r.attachEvent(ve(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function on(r,e,t,s,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)on(r,e[f],t,s,c);return null}return t=Tn(t),r&&r[vi]?r.P(e,t,_t(s)?!!s.capture:!!s,c):Dt(r,e,t,!0,s,c)}function ot(r,e,t,s,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)ot(r,e[f],t,s,c);else s=_t(s)?!!s.capture:!!s,t=Tn(t),r&&r[vi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=zt(f=r.g[e],t,s,c))&&(Ir(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete r.g[e],r.h--))):r&&(r=Rt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=zt(e,t,s,c)),(t=-1<r?e[r]:null)&&je(t))}function je(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[vi])Yt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ve(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Rt(e))?(Yt(t,r),0==t.h&&(t.src=null,e[Ie]=null)):Ir(r)}}}function ve(r){return r in _e?_e[r]:_e[r]="on"+r}function ut(r,e){if(r.fa)r=!0;else{e=new yi(e,this);var t=r.listener,s=r.la||r.src;r.ia&&je(r),r=t.call(s,e)}return r}function Rt(r){return(r=r[Ie])instanceof Qe?r:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(r){return"function"==typeof r?r:(r[ln]||(r[ln]=function(e){return r.handleEvent(e)}),r[ln])}function qn(){Xt.call(this),this.i=new Qe(this),this.S=this,this.J=null}function fr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new St(e,r);else if(e instanceof St)e.target=e.target||r;else{var c=e;Ke(e=new St(s,r),c)}if(c=!0,t)for(var f=t.length-1;0<=f;f--){var E=e.g=t[f];c=zr(E,s,!0,e)&&c}if(c=zr(E=e.g=r,s,!0,e)&&c,c=zr(E,s,!1,e)&&c,t)for(f=0;f<t.length;f++)c=zr(E=e.g=t[f],s,!1,e)&&c}function zr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var E=e[f];if(E&&!E.fa&&E.capture==t){var k=E.listener,G=E.la||E.src;E.ia&&Yt(r.i,E),c=!1!==k.call(G,s)&&c}}return c&&!s.defaultPrevented}vt(qn,Xt),qn.prototype[vi]=!0,qn.prototype.removeEventListener=function(r,e,t,s){ot(this,r,e,t,s)},qn.prototype.N=function(){if(qn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Ir(t[s]);delete r.g[e],r.h--}}this.J=null},qn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},qn.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var $t=Ce.JSON.stringify;function bt(){var r=Xn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var or,On=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Vn,r=>r.reset());class Vn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vr(r){Ce.setTimeout(()=>{throw r},0)}function Nn(r,e){or||function rr(){var r=Ce.Promise.resolve(void 0);or=function(){r.then(Ds)}}(),ir||(or(),ir=!0),Xn.add(r,e)}var ir=!1,Xn=new class Jt{constructor(){this.h=this.g=null}add(e,t){const s=On.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ds(){for(var r;r=bt();){try{r.h.call(r.g)}catch(t){vr(t)}var e=On;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ir=!1}function Fi(r,e){qn.call(this),this.h=r||1,this.g=e||Ce,this.j=Ne(this.qb,this),this.l=Date.now()}function Vi(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ji(r,e,t){if("function"==typeof r)t&&(r=Ne(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ne(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ce.setTimeout(r,e||0)}function In(r){r.g=ji(()=>{r.g=null,r.i&&(r.i=!1,In(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}vt(Fi,qn),(Oe=Fi.prototype).ga=!1,Oe.T=null,Oe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fr(this,"tick"),this.ga&&(Vi(this),this.start()))}},Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.N=function(){Fi.$.N.call(this),Vi(this),delete this.g};class nr extends Xt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:In(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(r){Xt.call(this),this.h=r,this.g={}}vt(ei,Xt);var qi=[];function Pr(r,e,t,s){Array.isArray(t)||(t&&(qi[0]=t.toString()),t=qi);for(var c=0;c<t.length;c++){var f=We(e,t[c],s||r.handleEvent,!1,r.h||r);if(!f)break;r.g[f.key]=f}}function _i(r){Mi(r.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},r),r.g={}}function Li(){this.g=!0}function Ee(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pe(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var E=1;E<c.length;E++)c[E]=""}}}return $t(t)}catch{return e}}(r,t)+(s?" "+s:"")})}ei.prototype.N=function(){ei.$.N.call(this),_i(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Ea=function(){this.g=!1},Li.prototype.info=function(){};var Ye={},qe=null;function Nt(){return qe=qe||new qn}function At(r){St.call(this,Ye.Ta,r)}function Ht(r){const e=Nt();fr(e,new At(e))}function Qt(r,e){St.call(this,Ye.STAT_EVENT,r),this.stat=e}function dn(r){const e=Nt();fr(e,new Qt(e,r))}function Yn(r,e){St.call(this,Ye.Ua,r),this.size=e}function Wn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){r()},e)}Ye.Ta="serverreachability",vt(At,St),Ye.STAT_EVENT="statevent",vt(Qt,St),Ye.Ua="timingevent",vt(Yn,St);var pr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bi(){}function tt(){}Bi.prototype.h=null;var cr,Et={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qt(){St.call(this,"d")}function tn(){St.call(this,"c")}function gr(){}function mr(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new ei(this),this.P=ys,this.V=new Fi(r=bi?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}vt(qt,St),vt(tn,St),vt(gr,Bi),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},cr=new gr;var ys=45e3,Oo={},fi={};function Ts(r,e,t){r.L=1,r.v=ks(is(e)),r.s=t,r.S=!0,Hi(r,null)}function Hi(r,e){r.G=Date.now(),oo(r),r.A=is(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ri(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Xr,r.g=xa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new nr(Ne(r.Pa,r,r.g),r.O)),Pr(r.U,r.g,"readystatechange",r.nb),e=r.I?yr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ht(),function Lr(r,e,t,s,c,f){r.info(function(){if(r.g)if(f)for(var E="",k=f.split("&"),G=0;G<k.length;G++){var J=k[G].split("=");if(1<J.length){var le=J[0];J=J[1];var Xe=le.split("_");E=2<=Xe.length&&"type"==Xe[1]?E+(le+"=")+J+"&":E+(le+"=redacted&")}}else E=null;else E=f;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+E})}(r.j,r.u,r.A,r.m,r.W,r.s)}function jo(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ua(r,e,t){let c,s=!0;for(;!r.J&&r.C<t.length;){if(c=Yi(r,t),c==fi){4==e&&(r.o=4,dn(14),s=!1),Ee(r.j,r.m,null,"[Incomplete Response]");break}if(c==Oo){r.o=4,dn(15),Ee(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ee(r.j,r.m,c,null),ao(r,c)}jo(r)&&c!=fi&&c!=Oo&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,dn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fo(e),e.L=!0,dn(11))):(Ee(r.j,r.m,t,"[Invalid Chunked Response]"),Ss(r),ko(r))}function Yi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?fi:(t=Number(e.substring(t,s)),isNaN(t)?Oo:(s+=1)+t>e.length?fi:(e=e.substr(s,t),r.C=s+t,e))}function oo(r){r.Y=Date.now()+r.P,Os(r,r.P)}function Os(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Wn(Ne(r.lb,r),e)}function Ta(r){r.B&&(Ce.clearTimeout(r.B),r.B=null)}function ko(r){0==r.l.H||r.J||os(r.l,r)}function Ss(r){Ta(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Vi(r.V),_i(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function ao(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Do(t.h,r)))if(!r.K&&Do(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ga(t),yl(t)}zo(t),dn(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.M&&0==t.A&&!t.v&&(t.v=Wn(Ne(t.ib,t),6e3));if(1>=Xi(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Go(t,11)}else if((r.K||t.g==r)&&ga(t),!Sn(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let J=c[e];if(t.V=J[0],J=J[1],2==t.H)if("c"==J[0]){t.J=J[1],t.oa=J[2];const le=J[3];null!=le&&(t.qa=le,t.j.info("VER="+t.qa));const Xe=J[4];null!=Xe&&(t.Ga=Xe,t.j.info("SVER="+t.Ga));const Ot=J[5];null!=Ot&&"number"==typeof Ot&&0<Ot&&(t.K=s=1.5*Ot,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const an=r.g;if(an){const bn=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bn){var f=s.h;f.g||-1==bn.indexOf("spdy")&&-1==bn.indexOf("quic")&&-1==bn.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Gi(f,f.h),f.h=null))}if(s.F){const xn=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(s.Da=xn,Qr(s.G,s.F,xn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var E=r;if((s=t).wa=hs(s,s.I?s.oa:null,s.Y),E.K){Va(s.h,E);var k=E,G=s.K;G&&k.setTimeout(G),k.B&&(Ta(k),oo(k)),s.g=E}else Aa(s);0<t.i.length&&Sa(t)}else"stop"!=J[0]&&"close"!=J[0]||Go(t,7);else 3==t.H&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?Go(t,7):Ys(t):"noop"!=J[0]&&t.l&&t.l.Aa(J),t.A=0)}Ht()}catch{}}function lo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ht(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ja(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ht(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function da(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ht(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),c=s.length,f=0;f<c;f++)e.call(void 0,s[f],t&&t[f],r)}(Oe=mr.prototype).setTimeout=function(r){this.P=r},Oe.nb=function(r){r=r.target;const e=this.M;e&&3==Si(r)?e.l():this.Pa(r)},Oe.Pa=function(r){try{if(r==this.g)e:{const le=Si(this.g);var e=this.g.Ia();if(this.g.da(),!(3>le)&&(3!=le||bi||this.g&&(this.h.h||this.g.ja()||ja(this.g)))){this.J||4!=le||7==e||Ht(),Ta(this);var t=this.g.da();this.aa=t;t:if(jo(this)){var s=ja(this.g);r="";var c=s.length,f=4==Si(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),ko(this);var E="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:f&&e==c-1});s.splice(0,c),this.h.g+=r,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function se(r,e,t,s,c,f,E){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+f+" "+E})}(this.j,this.u,this.A,this.m,this.W,le,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sn(k)){var J=k;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,dn(12),Ss(this),ko(this);break e}Ee(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ao(this,t)}this.S?(ua(this,le,E),bi&&this.i&&3==le&&(Pr(this.U,this.V,"tick",this.mb),this.V.start())):(Ee(this.j,this.m,E,null),ao(this,E)),4==le&&Ss(this),this.i&&!this.J&&(4==le?os(this.l,this):(this.i=!1,oo(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),Ss(this),ko(this)}}}catch{}},Oe.mb=function(){if(this.g){var r=Si(this.g),e=this.g.ja();this.C<e.length&&(Ta(this),ua(this,r,e),this.i&&4!=r&&oo(this))}},Oe.cancel=function(){this.J=!0,Ss(this)},Oe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ge(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ht(),dn(17)),Ss(this),this.o=2,ko(this)):Os(this,this.Y-r)};var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ws){this.h=void 0!==e?e:r.h,Ua(this,r.j),this.s=r.s,this.g=r.g,Ho(this,r.m),this.l=r.l,e=r.i;var t=new As;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),co(this,t),this.o=r.o}else r&&(t=String(r).match(us))?(this.h=!!e,Ua(this,t[1]||"",!0),this.s=uo(t[2]||""),this.g=uo(t[3]||"",!0),Ho(this,t[4]),this.l=uo(t[5]||"",!0),co(this,t[6]||"",!0),this.o=uo(t[7]||"")):(this.h=!!e,this.i=new As(null,this.h))}function is(r){return new Ws(r)}function Ua(r,e,t){r.j=t?uo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ho(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function co(r,e,t){e instanceof As?(r.i=e,function go(r,e){e&&!r.j&&(zi(r),r.i=null,r.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(Zi(this,s),Ri(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ho(e,No)),r.i=new As(e,r.h))}function Qr(r,e,t){r.i.set(e,t)}function ks(r){return Qr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function uo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ho(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,fa),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function fa(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ws.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ho(e,fo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ho(e,fo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ho(t,"/"==t.charAt(0)?ta:vs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ho(t,na)),r.join("")};var fo=/[#\/\?@]/g,vs=/[#\?:]/g,ta=/[#\?]/g,No=/[#\?@]/g,na=/#/g;function As(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function zi(r){r.g||(r.g=new Map,r.h=0,r.i&&function ha(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),c=null;if(0<=s){var f=r[t].substring(0,s);c=r[t].substring(s+1)}else f=r[t];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zi(r,e){zi(r),e=po(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function bo(r,e){return zi(r),e=po(r,e),r.g.has(e)}function Ri(r,e,t){Zi(r,e),0<t.length&&(r.i=null,r.g.set(po(r,e),Tt(t)),r.h+=t.length)}function po(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ra(r){this.l=r||el,r=Ce.PerformanceNavigationTiming?0<(r=Ce.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Oe=As.prototype).add=function(r,e){zi(this),this.i=null,r=po(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Oe.forEach=function(r,e){zi(this),this.g.forEach(function(t,s){t.forEach(function(c){r.call(e,c,s,this)},this)},this)},Oe.sa=function(){zi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=r[s];for(let f=0;f<c.length;f++)t.push(e[s])}return t},Oe.Z=function(r){zi(this);let e=[];if("string"==typeof r)bo(this,r)&&(e=e.concat(this.g.get(po(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Oe.set=function(r,e){return zi(this),this.i=null,bo(this,r=po(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Oe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const f=encodeURIComponent(String(s)),E=this.Z(s);for(s=0;s<E.length;s++){var c=f;""!==E[s]&&(c+="="+encodeURIComponent(String(E[s]))),r.push(c)}}return this.i=r.join("&")};var el=10;function ss(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Xi(r){return r.h?1:r.g?r.g.size:0}function Do(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Gi(r,e){r.g?r.g.add(e):r.h=e}function Va(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ns(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Tt(r.i)}function To(){}function ia(){this.g=new To}function wr(r,e,t){const s=t||"";try{lo(r,function(c,f){let E=c;_t(c)&&(E=$t(c)),e.push(s+f+"="+encodeURIComponent(E))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function pa(r,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function sa(r){this.l=r.fc||null,this.j=r.ob||!1}function b(r,e){qn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=q,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ra.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},To.prototype.stringify=function(r){return Ce.JSON.stringify(r,void 0)},To.prototype.parse=function(r){return Ce.JSON.parse(r,void 0)},vt(sa,Bi),sa.prototype.g=function(){return new b(this.l,this.j)},sa.prototype.i=function(r){return function(){return r}}({}),vt(b,qn);var q=0;function T(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function W(r){r.readyState=4,r.l=null,r.j=null,r.A=null,fe(r)}function fe(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Oe=b.prototype).open=function(r,e){if(this.readyState!=q)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,fe(this)},Oe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,W(this)),this.readyState=q},Oe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,fe(this)),this.g&&(this.readyState=3,fe(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Oe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?W(this):fe(this),3==this.readyState&&T(this)}},Oe.Za=function(r){this.g&&(this.response=this.responseText=r,W(this))},Oe.Ya=function(r){this.g&&(this.response=r,W(this))},Oe.ka=function(){this.g&&W(this)},Oe.setRequestHeader=function(r,e){this.v.append(r,e)},Oe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(b.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var M=Ce.JSON.parse;function F(r){qn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=L,this.L=this.M=!1}vt(F,qn);var L="",ne=/^https?$/i,ft=["POST","PUT"];function Nr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ti(r),ds(r)}function ti(r){r.F||(r.F=!0,fr(r,"complete"),fr(r,"error"))}function Qi(r){if(r.h&&typeof Pe<"u"&&(!r.C[1]||4!=Si(r)||2!=r.da()))if(r.v&&4==Si(r))ji(r.La,0,r);else if(fr(r,"readystatechange"),4==Si(r)){r.h=!1;try{const k=r.da();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===k){var c=String(r.I).match(us)[1]||null;if(!c&&Ce.self&&Ce.self.location){var f=Ce.self.location.protocol;c=f.substr(0,f.length-1)}s=!ne.test(c?c.toLowerCase():"")}t=s}if(t)fr(r,"complete"),fr(r,"success");else{r.m=6;try{var E=2<Si(r)?r.g.statusText:""}catch{E=""}r.j=E+" ["+r.da()+"]",ti(r)}}finally{ds(r)}}}function ds(r,e){if(r.g){Ao(r);const t=r.g,s=r.C[0]?Ue:null;r.g=null,r.C=null,e||fr(r,"ready");try{t.onreadystatechange=s}catch{}}}function Ao(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ce.clearTimeout(r.A),r.A=null)}function Si(r){return r.g?r.g.readyState:0}function ja(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case L:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(r){let e="";return Mi(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ks(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ts(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Qr(r,e,t))}function qs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function oa(r){this.Ga=0,this.i=[],this.j=new Li,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qs("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qs("baseRetryDelayMs",5e3,r),this.hb=qs("retryDelaySeedMs",1e4,r),this.eb=qs("forwardChannelMaxRetries",2,r),this.xa=qs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new ra(r&&r.concurrentRequestLimit),this.Ja=new ia,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Ys(r){if(tl(r),3==r.H){var e=r.W++,t=is(r.G);Qr(t,"SID",r.J),Qr(t,"RID",e),Qr(t,"TYPE","terminate"),xs(r,t),(e=new mr(r,r.j,e,void 0)).L=2,e.v=ks(is(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(t=Ce.navigator.sendBeacon(e.v.toString(),"")),!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=xa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oo(e)}Zs(r)}function yl(r){r.g&&(Fo(r),r.g.cancel(),r.g=null)}function tl(r){yl(r),r.u&&(Ce.clearTimeout(r.u),r.u=null),ga(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ce.clearTimeout(r.m),r.m=null)}function Sa(r){ss(r.h)||r.m||(r.m=!0,Nn(r.Na,r),r.C=0)}function ns(r,e){var t;t=e?e.m:r.W++;const s=is(r.G);Qr(s,"SID",r.J),Qr(s,"RID",t),Qr(s,"AID",r.V),xs(r,s),r.o&&r.s&&Ks(s,r.o,r.s),t=new mr(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=nl(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Gi(r.h,t),Ts(t,s,e)}function xs(r,e){r.ma&&Mi(r.ma,function(t,s){Qr(e,s,t)}),r.l&&lo({},function(t,s){Qr(e,s,t)})}function nl(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Ne(r.l.Va,r.l,r):null;e:{var c=r.i;let f=-1;for(;;){const E=["count="+t];-1==f?0<t?(f=c[0].h,E.push("ofs="+f)):f=0:E.push("ofs="+f);let k=!0;for(let G=0;G<t;G++){let J=c[G].h;const le=c[G].g;if(J-=f,0>J)f=Math.max(0,c[G].h-100),k=!1;else try{wr(le,E,"req"+J+"_")}catch{s&&s(le)}}if(k){s=E.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Aa(r){r.g||r.u||(r.ba=1,Nn(r.Ma,r),r.A=0)}function zo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Wn(Ne(r.Ma,r),xo(r,r.A)),r.A++,0))}function Fo(r){null!=r.B&&(Ce.clearTimeout(r.B),r.B=null)}function rl(r){r.g=new mr(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=is(r.wa);Qr(e,"RID","rpc"),Qr(e,"SID",r.J),Qr(e,"CI",r.M?"0":"1"),Qr(e,"AID",r.V),Qr(e,"TYPE","xmlhttp"),xs(r,e),r.o&&r.s&&Ks(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ks(is(e)),t.s=null,t.S=!0,Hi(t,r)}function ga(r){null!=r.v&&(Ce.clearTimeout(r.v),r.v=null)}function os(r,e){var t=null;if(r.g==e){ga(r),Fo(r),r.g=null;var s=2}else{if(!Do(r.h,e))return;t=e.F,Va(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=r.C;fr(s=Nt(),new Yn(s,t)),Sa(r)}else Aa(r);else if(3==(c=e.o)||0==c&&0<r.ta||!(1==s&&function Ha(r,e){return!(Xi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Wn(Ne(r.Na,r,e),xo(r,r.C)),r.C++,0)))}(r,e)||2==s&&zo(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:Go(r,5);break;case 4:Go(r,10);break;case 3:Go(r,6);break;default:Go(r,2)}}function xo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Go(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Ne(r.pb,r);t||(t=new Ws("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Ua(t,"https"),ks(t)),function So(r,e){const t=new Li;if(Ce.Image){const s=new Image;s.onload=lt(pa,t,s,"TestLoadImage: loaded",!0,e),s.onerror=lt(pa,t,s,"TestLoadImage: error",!1,e),s.onabort=lt(pa,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=lt(pa,t,s,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else dn(2);r.H=0,r.l&&r.l.za(e),Zs(r),tl(r)}function Zs(r){if(r.H=0,r.pa=[],r.l){const e=Ns(r.h);(0!=e.length||0!=r.i.length)&&(Te(r.pa,e),Te(r.pa,r.i),r.h.i.length=0,Tt(r.i),r.i.length=0),r.l.ya()}}function hs(r,e,t){var s=t instanceof Ws?is(t):new Ws(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ho(s,s.m);else{var c=Ce.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var f=new Ws(null,void 0);s&&Ua(f,s),e&&(f.g=e),c&&Ho(f,c),t&&(f.l=t),s=f}return e=r.Da,(t=r.F)&&e&&Qr(s,t,e),Qr(s,"VER",r.qa),xs(r,s),s}function xa(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new F(t&&r.Ha&&!r.va?new sa({ob:!0}):r.va)).Oa(r.I),e}function as(){}function Fs(){if(vn&&!(10<=Number(oi)))throw Error("Environmental error: no available transport.")}function Br(r,e){qn.call(this),this.g=new oa(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Sn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Lo(this)}function Ro(r){qt.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ra(){tn.call(this),this.status=1}function Lo(r){this.g=r}function mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hl(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)s[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var f=r.g[3],E=(e=r.g[0])+(f^(t=r.g[1])&((c=r.g[2])^f))+s[0]+3614090360&4294967295;E=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=t+(E<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(c^f&(t^c))+s[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^c^f)+s[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(c^(t|~f))+s[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(c^(t|~f))+s[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(c^(t|~f))+s[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((f=(e=t+((E=e+(c^(t|~f))+s[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((c=f+((E=c+(e^(f|~t))+s[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(c+(E<<21&4294967295|E>>>11))&4294967295,r.g[2]=r.g[2]+c&4294967295,r.g[3]=r.g[3]+f&4294967295}function Tr(r,e){this.h=e;for(var t=[],s=!0,c=r.length-1;0<=c;c--){var f=0|r[c];s&&f==e||(t[c]=f,s=!1)}this.g=t}(Oe=F.prototype).Oa=function(r){this.M=r},Oe.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cr.g(),this.C=function dt(r){return r.h||(r.h=r.i())}(this.u?this.u:cr),this.g.onreadystatechange=Ne(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(f){return void Nr(this,f)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const f of s.keys())t.set(f,s.get(f))}s=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),c=Ce.FormData&&r instanceof Ce.FormData,!(0<=yn(ft,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,E]of t)this.g.setRequestHeader(f,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ao(this),0<this.B&&((this.L=function mn(r){return vn&&function ci(){return Cr(sn,9,function(){let r=0;const e=zn(String(Hn)).split("."),t=zn("9").split("."),s=Math.max(e.length,t.length);for(let E=0;0==r&&E<s;E++){var c=e[E]||"",f=t[E]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;r=wn(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||wn(0==c[2].length,0==f[2].length)||wn(c[2],f[2]),c=c[3],f=f[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.ua,this)):this.A=ji(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(f){Nr(this,f)}},Oe.ua=function(){typeof Pe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},Oe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,fr(this,"complete"),fr(this,"abort"),ds(this))},Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ds(this,!0)),F.$.N.call(this)},Oe.La=function(){this.s||(this.G||this.v||this.l?Qi(this):this.kb())},Oe.kb=function(){Qi(this)},Oe.da=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Oe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),M(e)}},Oe.Ia=function(){return this.m},Oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=oa.prototype).qa=8,Oe.H=1,Oe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const c=new mr(this,this.j,r,void 0);let f=this.s;if(this.U&&(f?(f=yr(f),Ke(f,this.U)):f=this.U),null!==this.o||this.O||(c.I=f,f=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nl(this,c,e),Qr(t=is(this.G),"RID",r),Qr(t,"CVER",22),this.F&&Qr(t,"X-HTTP-Session-Id",this.F),xs(this,t),f&&(this.O?e="headers="+encodeURIComponent(String(ts(f)))+"&"+e:this.o&&Ks(t,this.o,f)),Gi(this.h,c),this.bb&&Qr(t,"TYPE","init"),this.P?(Qr(t,"$req",e),Qr(t,"SID","null"),c.ba=!0,Ts(c,t,null)):Ts(c,t,e),this.H=2}}else 3==this.H&&(r?ns(this,r):0==this.i.length||ss(this.h)||ns(this))},Oe.Ma=function(){if(this.u=null,rl(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=Wn(Ne(this.jb,this),r)}},Oe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,dn(10),yl(this),rl(this))},Oe.ib=function(){null!=this.v&&(this.v=null,yl(this),zo(this),dn(19))},Oe.pb=function(r){r?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))},(Oe=as.prototype).Ba=function(){},Oe.Aa=function(){},Oe.za=function(){},Oe.ya=function(){},Oe.Va=function(){},Fs.prototype.g=function(r,e){return new Br(r,e)},vt(Br,qn),Br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;dn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=hs(r,null,r.Y),Sa(r)},Br.prototype.close=function(){Ys(this.g)},Br.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=$t(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Sa(e)},Br.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Br.$.N.call(this)},vt(Ro,qt),vt(Ra,tn),vt(Lo,as),Lo.prototype.Ba=function(){fr(this.g,"a")},Lo.prototype.Aa=function(r){fr(this.g,new Ro(r))},Lo.prototype.za=function(r){fr(this.g,new Ra)},Lo.prototype.ya=function(){fr(this.g,"b")},vt(mo,function vl(){this.blockSize=-1}),mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,c=this.h,f=0;f<e;){if(0==c)for(;f<=t;)Hl(this,r,f),f+=this.blockSize;if("string"==typeof r){for(;f<e;)if(s[c++]=r.charCodeAt(f++),c==this.blockSize){Hl(this,s),c=0;break}}else for(;f<e;)if(s[c++]=r[f++],c==this.blockSize){Hl(this,s),c=0;break}}this.h=c,this.i+=e},mo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var zl={};function _l(r){return-128<=r&&128>r?Cr(zl,r,function(e){return new Tr([0|e],0>e?-1:0)}):new Tr([0|r],0>r?-1:0)}function B(r){if(isNaN(r)||!isFinite(r))return ie;if(0>r)return Sr(B(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=j;return new Tr(e,0)}var j=4294967296,ie=_l(0),Me=_l(1),Vt=_l(16777216);function Wt(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Fn(r){return-1==r.h}function Sr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Tr(t,~r.h).add(Me)}function Wr(r,e){return r.add(Sr(e))}function Fr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function _r(r,e){this.g=r,this.h=e}function Ai(r,e){if(Wt(e))throw Error("division by zero");if(Wt(r))return new _r(ie,ie);if(Fn(r))return e=Ai(Sr(r),e),new _r(Sr(e.g),Sr(e.h));if(Fn(e))return e=Ai(r,Sr(e)),new _r(Sr(e.g),e.h);if(30<r.g.length){if(Fn(r)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Me,s=e;0>=s.X(r);)t=Ei(t),s=Ei(s);var c=$i(t,1),f=$i(s,1);for(s=$i(s,2),t=$i(t,2);!Wt(s);){var E=f.add(s);0>=E.X(r)&&(c=c.add(t),f=E),s=$i(s,1),t=$i(t,1)}return e=Wr(r,c.R(e)),new _r(c,e)}for(c=ie;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),E=(f=B(t)).R(e);Fn(E)||0<E.X(r);)E=(f=B(t-=s)).R(e);Wt(f)&&(f=Me),c=c.add(f),r=Wr(r,E)}return new _r(c,r)}function Ei(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Tr(t,r.h)}function $i(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,c=[],f=0;f<s;f++)c[f]=0<e?r.D(f+t)>>>e|r.D(f+t+1)<<32-e:r.D(f+t);return new Tr(c,r.h)}(Oe=Tr.prototype).ea=function(){if(Fn(this))return-Sr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:j+s)*e,e*=j}return r},Oe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Wt(this))return"0";if(Fn(this))return"-"+Sr(this).toString(r);for(var e=B(Math.pow(r,6)),t=this,s="";;){var c=Ai(t,e).g,f=((0<(t=Wr(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Wt(t=c))return f+s;for(;6>f.length;)f="0"+f;s=f+s}},Oe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Oe.X=function(r){return Fn(r=Wr(this,r))?-1:Wt(r)?0:1},Oe.abs=function(){return Fn(this)?Sr(this):this},Oe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,c=0;c<=e;c++){var f=s+(65535&this.D(c))+(65535&r.D(c)),E=(f>>>16)+(this.D(c)>>>16)+(r.D(c)>>>16);s=E>>>16,t[c]=(E&=65535)<<16|(f&=65535)}return new Tr(t,-2147483648&t[t.length-1]?-1:0)},Oe.R=function(r){if(Wt(this)||Wt(r))return ie;if(Fn(this))return Fn(r)?Sr(this).R(Sr(r)):Sr(Sr(this).R(r));if(Fn(r))return Sr(this.R(Sr(r)));if(0>this.X(Vt)&&0>r.X(Vt))return B(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<r.g.length;c++){var f=this.D(s)>>>16,E=65535&this.D(s),k=r.D(c)>>>16,G=65535&r.D(c);t[2*s+2*c]+=E*G,Fr(t,2*s+2*c),t[2*s+2*c+1]+=f*G,Fr(t,2*s+2*c+1),t[2*s+2*c+1]+=E*k,Fr(t,2*s+2*c+1),t[2*s+2*c+2]+=f*k,Fr(t,2*s+2*c+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Tr(t,0)},Oe.gb=function(r){return Ai(this,r).h},Oe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Tr(t,this.h&r.h)},Oe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Tr(t,this.h|r.h)},Oe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Tr(t,this.h^r.h)},Fs.prototype.createWebChannel=Fs.prototype.g,Br.prototype.send=Br.prototype.u,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Gr.COMPLETE="complete",tt.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",qn.prototype.listen=qn.prototype.O,F.prototype.listenOnce=F.prototype.P,F.prototype.getLastError=F.prototype.Sa,F.prototype.getLastErrorCode=F.prototype.Ia,F.prototype.getStatus=F.prototype.da,F.prototype.getResponseJson=F.prototype.Wa,F.prototype.getResponseText=F.prototype.ja,F.prototype.send=F.prototype.ha,F.prototype.setWithCredentials=F.prototype.Oa,mo.prototype.digest=mo.prototype.l,mo.prototype.reset=mo.prototype.reset,mo.prototype.update=mo.prototype.j,Tr.prototype.add=Tr.prototype.add,Tr.prototype.multiply=Tr.prototype.R,Tr.prototype.modulo=Tr.prototype.gb,Tr.prototype.compare=Tr.prototype.X,Tr.prototype.toNumber=Tr.prototype.ea,Tr.prototype.toString=Tr.prototype.toString,Tr.prototype.getBits=Tr.prototype.D,Tr.fromNumber=B,Tr.fromString=function Q(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Sr(Q(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=B(Math.pow(e,8)),s=ie,c=0;c<r.length;c+=8){var f=Math.min(8,r.length-c),E=parseInt(r.substring(c,c+f),e);8>f?(f=B(Math.pow(e,f)),s=s.R(f).add(B(E))):s=(s=s.R(t)).add(B(E))}return s};var Wo=Be.createWebChannelTransport=function(){return new Fs},yo=Be.getStatEventTarget=function(){return Nt()},Ko=Be.ErrorCode=pr,_s=Be.EventType=Gr,Xs=Be.Event=Ye,Ls=Be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qs=Be.FetchXmlHttpFactory=sa,il=Be.WebChannel=tt,El=Be.XhrIo=F,xc=Be.Md5=mo,qo=Be.Integer=Tr;const Kc="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let vo="9.21.0";const Js=new et.Yd("@firebase/firestore");function oc(){return Js.logLevel}function hn(r,...e){if(Js.logLevel<=et.in.DEBUG){const t=e.map(qc);Js.debug(`Firestore (${vo}): ${r}`,...t)}}function Ji(r,...e){if(Js.logLevel<=et.in.ERROR){const t=e.map(qc);Js.error(`Firestore (${vo}): ${r}`,...t)}}function hi(r,...e){if(Js.logLevel<=et.in.WARN){const t=e.map(qc);Js.warn(`Firestore (${vo}): ${r}`,...t)}}function qc(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function $n(r="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+r;throw Ji(e),new Error(e)}function ar(r,e){r||$n()}function Ln(r,e){return r}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends Ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class Il{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ma{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const f=J=>this.i!==c?(c=this.i,t(J)):Promise.resolve();let E=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ni,e.enqueueRetryable(()=>f(this.currentUser))};const k=()=>{const J=E;e.enqueueRetryable((0,ue.Z)(function*(){yield J.promise,yield f(s.currentUser)}))},G=J=>{hn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(J=>G(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?G(J):(hn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ni)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(hn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ar("string"==typeof s.accessToken),new sl(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ar(null===e||"string"==typeof e),new Wi(e)}}class Fd{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yc{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Fd(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=f=>{null!=f.error&&hn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const E=f.token!==this.T;return this.T=f.token,hn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const c=f=>{hn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.I.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.I.getImmediate({optional:!0});f?c(f):hn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ar("string"==typeof t.token),this.T=t.token,new Bo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ma{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=eo(40);for(let f=0;f<c.length;++f)s.length<20&&c[f]<t&&(s+=e.charAt(c[f]%e.length))}return s}}function ur(r,e){return r<e?-1:r>e?1:0}function aa(r,e,t){return r.length===e.length&&r.every((s,c)=>t(s,e[c]))}function Zc(r){return r+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rn(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rn(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rn(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rn(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ai(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qn(e)}static min(){return new Qn(new ai(0,0))}static max(){return new Qn(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mc{constructor(e,t,s){void 0===t?t=0:t>e.length&&$n(),void 0===s?s=e.length-t:s>e.length-t&&$n(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Mc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mc?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const f=e.get(c),E=t.get(c);if(f<E)return-1;if(f>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pi extends Mc{construct(e,t,s){return new pi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new rn(Lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new pi(t)}static emptyPath(){return new pi([])}}const ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends Mc{construct(e,t,s){return new fs(e,t,s)}static isValidIdentifier(e){return ki.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fs(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const f=()=>{if(0===s.length)throw new rn(Lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let E=!1;for(;c<e.length;){const k=e[c];if("\\"===k){if(c+1===e.length)throw new rn(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[c+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new rn(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,c+=2}else"`"===k?(E=!E,c++):"."!==k||E?(s+=k,c++):(f(),c++)}if(f(),E)throw new rn(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fs(t)}static emptyPath(){return new fs([])}}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(pi.fromString(e))}static fromName(e){return new Rn(pi.fromString(e).popFirst(5))}static empty(){return new Rn(pi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new pi(e.slice()))}}class Gl{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function uc(r){return r.fields.find(e=>2===e.kind)}function Cl(r){return r.fields.filter(e=>2!==e.kind)}Gl.UNKNOWN_ID=-1;class dc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pc(0,es.min())}}function Qc(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,c=Qn.fromTimestamp(1e9===s?new ai(t+1,0):new ai(t,s));return new es(c,Rn.empty(),e)}function Cs(r){return new es(r.readTime,r.key,-1)}class es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new es(Qn.min(),Rn.empty(),-1)}static max(){return new es(Qn.max(),Rn.empty(),-1)}}function Dl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rn.comparator(r.documentKey,e.documentKey),0!==t?t:ur(r.largestBatchId,e.largestBatchId))}const Wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xr(r){return qr.apply(this,arguments)}function qr(){return qr=(0,ue.Z)(function*(r){if(r.code!==Lt.FAILED_PRECONDITION||r.message!==Wl)throw r;hn("LocalStore","Unexpectedly lost primary lease")}),qr.apply(this,arguments)}class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pt((s,c)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,c)},this.catchCallback=f=>{this.wrapFailure(t,f).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pt?t:Pt.resolve(t)}catch(t){return Pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.reject(t)}static resolve(e){return new Pt((t,s)=>{t(e)})}static reject(e){return new Pt((t,s)=>{s(e)})}static waitFor(e){return new Pt((t,s)=>{let c=0,f=0,E=!1;e.forEach(k=>{++c,k.next(()=>{++f,E&&f===c&&t()},G=>s(G))}),E=!0,f===c&&t()})}static or(e){let t=Pt.resolve(!1);for(const s of e)t=t.next(c=>c?Pt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,f)=>{s.push(t.call(this,c,f))}),this.waitFor(s)}static mapArray(e,t){return new Pt((s,c)=>{const f=e.length,E=new Array(f);let k=0;for(let G=0;G<f;G++){const J=G;t(e[J]).next(le=>{E[J]=le,++k,k===f&&s(E)},le=>c(le))}})}static doWhile(e,t){return new Pt((s,c)=>{const f=()=>{!0===e()?t().next(()=>{f()},c):s()};f()})}}class Ii{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ni,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new la(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const c=x(s.target.error);this.R.reject(new la(e,c))}}static open(e,t,s,c){try{return new Ii(t,e.transaction(c,s))}catch(f){throw new la(t,f)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(hn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new li(t)}}class to{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===to.S((0,Ze.z$)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return hn("SimpleDb","Removing database:",e),Rr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ze.hl)())return!1;if(to.C())return!0;const e=(0,Ze.z$)(),t=to.S(e),s=0<t&&t<10,c=to.N(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,ue.Z)(function*(){return t.db||(hn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=E=>{s(E.target.result)},f.onblocked=()=>{c(new la(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const k=E.target.error;c("VersionError"===k.name?new rn(Lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new rn(Lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new la(e,k))},f.onupgradeneeded=E=>{hn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.$(E.target.result,f.transaction,E.oldVersion,t.version).next(()=>{hn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var f=this;return(0,ue.Z)(function*(){const E="readonly"===t;let k=0;for(;;){++k;try{f.db=yield f.O(e);const G=Ii.open(f.db,e,E?"readonly":"readwrite",s),J=c(G).next(le=>(G.P(),le)).catch(le=>(G.abort(le),Pt.reject(le))).toPromise();return J.catch(()=>{}),yield G.v,J}catch(G){const J=G,le="FirebaseError"!==J.name&&k<3;if(hn("SimpleDb","Transaction failed with error:",J.message,"Retrying:",le),f.close(),!le)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _u{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rr(this.L.delete())}}class la extends rn{constructor(e,t){super(Lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Yo(r){return"IndexedDbTransactionError"===r.name}class li{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(hn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(hn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Rr(s)}add(e){return hn("SimpleDb","ADD",this.store.name,e,e),Rr(this.store.add(e))}get(e){return Rr(this.store.get(e)).next(t=>(void 0===t&&(t=null),hn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return hn("SimpleDb","DELETE",this.store.name,e),Rr(this.store.delete(e))}count(){return hn("SimpleDb","COUNT",this.store.name),Rr(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),f=[];return this.W(c,(E,k)=>{f.push(k)}).next(()=>f)}{const c=this.store.getAll(s.range);return new Pt((f,E)=>{c.onerror=k=>{E(k.target.error)},c.onsuccess=k=>{f(k.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Pt((c,f)=>{s.onerror=E=>{f(E.target.error)},s.onsuccess=E=>{c(E.target.result)}})}J(e,t){hn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const c=this.cursor(s);return this.W(c,(f,E,k)=>k.delete())}X(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.W(c,t)}Z(e){const t=this.cursor({});return new Pt((s,c)=>{t.onerror=f=>{const E=x(f.target.error);c(E)},t.onsuccess=f=>{const E=f.target.result;E?e(E.primaryKey,E.value).next(k=>{k?E.continue():s()}):s()}})}W(e,t){const s=[];return new Pt((c,f)=>{e.onerror=E=>{f(E.target.error)},e.onsuccess=E=>{const k=E.target.result;if(!k)return void c();const G=new _u(k),J=t(k.primaryKey,k.value,G);if(J instanceof Pt){const le=J.catch(Xe=>(G.done(),Pt.reject(Xe)));s.push(le)}G.isDone?c():null===G.K?k.continue():k.continue(G.K)}}).next(()=>Pt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rr(r){return new Pt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const c=x(s.target.error);t(c)}})}let S=!1;function x(r){const e=to.S((0,Ze.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new rn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return S||(S=!0,setTimeout(()=>{throw s},0)),s}}return r}class w{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;hn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ue.Z)(function*(){t.task=null;try{hn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Yo(s)?hn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield xr(s)}yield t.et(6e4)}))}}class O{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ue.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let c=t,f=!0;return Pt.doWhile(()=>!0===f&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!s.has(E))return hn("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,c).next(k=>{c-=k,s.add(E)});f=!1})).next(()=>t-c)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(f=>{const E=f.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(c,f)).next(k=>(hn("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>E.size)}))}rt(e,t){let s=e;return t.changes.forEach((c,f)=>{const E=Cs(f);Dl(E,s)>0&&(s=E)}),new es(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let z=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>s.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function re(r){return null==r}function ae(r){return 0===r&&1/r==-1/0}function nt(r){return"number"==typeof r&&Number.isInteger(r)&&!ae(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function kt(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Bn(e)),e=fn(r.get(t),e);return Bn(e)}function fn(r,e){let t=e;const s=r.length;for(let c=0;c<s;c++){const f=r.charAt(c);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Bn(r){return r+"\x01\x01"}function Mn(r){const e=r.length;if(ar(e>=2),2===e)return ar("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),pi.emptyPath();const t=e-2,s=[];let c="";for(let f=0;f<e;){const E=r.indexOf("\x01",f);switch((E<0||E>t)&&$n(),r.charAt(E+1)){case"\x01":const k=r.substring(f,E);let G;0===c.length?G=k:(c+=k,G=c,c=""),s.push(G);break;case"\x10":c+=r.substring(f,E),c+="\0";break;case"\x11":c+=r.substring(f,E+1);break;default:$n()}f=E+2}return new pi(s)}const gi=["userId","batchId"];function rs(r,e){return[r,kt(e)]}function Bs(r,e,t){return[r,kt(e),t]}const ya={},Mo=["prefixPath","collectionGroup","readTime","documentId"],Es=["prefixPath","collectionGroup","documentId"],Mr=["collectionGroup","readTime","prefixPath","documentId"],hc=["canonicalId","targetId"],_o=["targetId","path"],Jc=["path","targetId"],$o=["collectionId","parent"],Tl=["indexId","uid"],ol=["uid","sequenceNumber"],Ld=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zo=["indexId","uid","orderedDocumentKey"],td=["userId","collectionPath","documentId"],nd=["userId","collectionPath","largestBatchId"],rd=["userId","collectionGroup","largestBatchId"],Eu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bd=[...Eu,"documentOverlays"],Oc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kc=Oc,Nc=[...kc,"indexConfiguration","indexState","indexEntries"];class Iu extends Kr{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function $s(r,e){const t=Ln(r);return to.M(t.at,e)}function id(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function al(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function eu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ar{constructor(e,t){this.comparator=e,this.root=t||Us.EMPTY}insert(e,t){return new Ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(e){return new Ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}}class Sl{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?s(e.key,t):1,t&&c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Us{constructor(e,t,s,c,f){this.key=e,this.value=t,this.color=null!=s?s:Us.RED,this.left=null!=c?c:Us.EMPTY,this.right=null!=f?f:Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,f){return new Us(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const f=s(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===f?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Us.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $n();const e=this.left.check();if(e!==this.right.check())throw $n();return e+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new class{constructor(){this.size=0}get key(){throw $n()}get value(){throw $n()}get color(){throw $n()}get left(){throw $n()}get right(){throw $n()}copy(r,e,t,s,c){return this}insert(r,e,t){return new Us(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Al(this.data.getIterator())}getIteratorFrom(e){return new Al(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=s.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class Al{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function va(r){return r.hasNext()?r.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(fs.comparator)}static empty(){return new ps([])}unionWith(e){let t=new Ui(fs.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class fc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class no{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fc("Invalid base64 string: "+c):c}}(e);return new no(t)}static fromUint8Array(e){const t=function(s){let c="";for(let f=0;f<s.length;++f)c+=String.fromCharCode(s[f]);return c}(e);return new no(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}no.EMPTY_BYTE_STRING=new no("");const wu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(r){if(ar(!!r),"string"==typeof r){let e=0;const t=wu.exec(r);if(ar(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vr(r.seconds),nanos:Vr(r.nanos)}}function Vr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ro(r){return"string"==typeof r?no.fromBase64String(r):no.fromUint8Array(r)}function Fc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function pc(r){const e=r.mapValue.fields.__previous_value__;return Fc(e)?pc(e):e}function Uo(r){const e=xl(r.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class Pa{constructor(e,t,s,c,f,E,k,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.useFetchStreams=G}}class Xo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tu={nullValue:"NULL_VALUE"};function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fc(r)?4:$r(r)?9007199254740991:10:$n()}function Qo(r,e){if(r===e)return!0;const t=za(r);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Uo(r).isEqual(Uo(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const f=xl(s.timestampValue),E=xl(c.timestampValue);return f.seconds===E.seconds&&f.nanos===E.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,ro(r.bytesValue).isEqual(ro(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,c){return Vr(s.geoPointValue.latitude)===Vr(c.geoPointValue.latitude)&&Vr(s.geoPointValue.longitude)===Vr(c.geoPointValue.longitude)}(r,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Vr(s.integerValue)===Vr(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const f=Vr(s.doubleValue),E=Vr(c.doubleValue);return f===E?ae(f)===ae(E):isNaN(f)&&isNaN(E)}return!1}(r,e);case 9:return aa(r.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:return function(s,c){const f=s.mapValue.fields||{},E=c.mapValue.fields||{};if(id(f)!==id(E))return!1;for(const k in f)if(f.hasOwnProperty(k)&&(void 0===E[k]||!Qo(f[k],E[k])))return!1;return!0}(r,e);default:return $n()}var c}function nu(r,e){return void 0!==(r.values||[]).find(t=>Qo(t,e))}function Ga(r,e){if(r===e)return 0;const t=za(r),s=za(e);if(t!==s)return ur(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ur(r.booleanValue,e.booleanValue);case 2:return function(c,f){const E=Vr(c.integerValue||c.doubleValue),k=Vr(f.integerValue||f.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(r,e);case 3:return $d(r.timestampValue,e.timestampValue);case 4:return $d(Uo(r),Uo(e));case 5:return ur(r.stringValue,e.stringValue);case 6:return function(c,f){const E=ro(c),k=ro(f);return E.compareTo(k)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const E=c.split("/"),k=f.split("/");for(let G=0;G<E.length&&G<k.length;G++){const J=ur(E[G],k[G]);if(0!==J)return J}return ur(E.length,k.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const E=ur(Vr(c.latitude),Vr(f.latitude));return 0!==E?E:ur(Vr(c.longitude),Vr(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,f){const E=c.values||[],k=f.values||[];for(let G=0;G<E.length&&G<k.length;++G){const J=Ga(E[G],k[G]);if(J)return J}return ur(E.length,k.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Eo.mapValue&&f===Eo.mapValue)return 0;if(c===Eo.mapValue)return 1;if(f===Eo.mapValue)return-1;const E=c.fields||{},k=Object.keys(E),G=f.fields||{},J=Object.keys(G);k.sort(),J.sort();for(let le=0;le<k.length&&le<J.length;++le){const Xe=ur(k[le],J[le]);if(0!==Xe)return Xe;const Ot=Ga(E[k[le]],G[J[le]]);if(0!==Ot)return Ot}return ur(k.length,J.length)}(r.mapValue,e.mapValue);default:throw $n()}}function $d(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ur(r,e);const t=xl(r),s=xl(e),c=ur(t.seconds,s.seconds);return 0!==c?c:ur(t.nanos,s.nanos)}function P(r){return $(r)}function $(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const c=xl(s);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ro(r.bytesValue).toBase64():"referenceValue"in r?Rn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let c="[",f=!0;for(const E of s.values||[])f?f=!1:c+=",",c+=$(E);return c+"]"}(r.arrayValue):"mapValue"in r?function(s){const c=Object.keys(s.fields||{}).sort();let f="{",E=!0;for(const k of c)E?E=!1:f+=",",f+=`${k}:${$(s.fields[k])}`;return f+"}"}(r.mapValue):$n();var e}function be(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function it(r){return!!r&&"integerValue"in r}function It(r){return!!r&&"arrayValue"in r}function Ut(r){return!!r&&"nullValue"in r}function kn(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function An(r){return!!r&&"mapValue"in r}function Zn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return al(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zn(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $r(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Or(r){return"nullValue"in r?tu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?be(Xo.empty(),Rn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:$n()}function Po(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?be(Xo.empty(),Rn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Eo:$n()}function Is(r,e){const t=Ga(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Rl(r,e){const t=Ga(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Vs{constructor(e){this.value=e}static empty(){return new Vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!An(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zn(t)}setAll(e){let t=fs.emptyPath(),s={},c=[];e.forEach((E,k)=>{if(!t.isImmediateParentOf(k)){const G=this.getFieldsMap(t);this.applyChanges(G,s,c),s={},c=[],t=k.popLast()}E?s[k.lastSegment()]=Zn(E):c.push(k.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,s,c)}delete(e){const t=this.field(e.popLast());An(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];An(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){al(t,(c,f)=>e[c]=f);for(const c of s)delete e[c]}clone(){return new Vs(Zn(this.value))}}function Kl(r){const e=[];return al(r.fields,(t,s)=>{const c=new fs([t]);if(An(s)){const f=Kl(s.mapValue).fields;if(0===f.length)e.push(c);else for(const E of f)e.push(c.child(E))}else e.push(c)}),new ps(e)}class wi{constructor(e,t,s,c,f,E,k){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=f,this.data=E,this.documentState=k}static newInvalidDocument(e){return new wi(e,0,Qn.min(),Qn.min(),Qn.min(),Vs.empty(),0)}static newFoundDocument(e,t,s,c){return new wi(e,1,t,Qn.min(),s,c,0)}static newNoDocument(e,t){return new wi(e,2,t,Qn.min(),Qn.min(),Vs.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,Qn.min(),Qn.min(),Vs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Io{constructor(e,t){this.position=e,this.inclusive=t}}function ru(r,e,t){let s=0;for(let c=0;c<r.position.length;c++){const f=e[c],E=r.position[c];if(s=f.field.isKeyField()?Rn.comparator(Rn.fromName(E.referenceValue),t.key):Ga(E,t.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Ud(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Qo(r.position[t],e.position[t]))return!1;return!0}class io{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rf(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Cu{}class ui extends Cu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new bp(e,t,s):"array-contains"===t?new sd(e,s):"in"===t?new cl(e,s):"not-in"===t?new jd(e,s):"array-contains-any"===t?new od(e,s):new ui(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Mh(e,s):new Ml(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ga(t,this.value)):null!==t&&za(this.value)===za(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $n()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends Cu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Di(e,t)}matches(e){return ll(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ll(r){return"and"===r.op}function _a(r){return"or"===r.op}function ql(r){return Yl(r)&&ll(r)}function Yl(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function xh(r){if(r instanceof ui)return r.field.canonicalString()+r.op.toString()+P(r.value);if(ql(r))return r.filters.map(e=>xh(e)).join(",");{const e=r.filters.map(t=>xh(t)).join(",");return`${r.op}(${e})`}}function Vd(r,e){return r instanceof ui?(t=r,(s=e)instanceof ui&&t.op===s.op&&t.field.isEqual(s.field)&&Qo(t.value,s.value)):r instanceof Di?function(t,s){return s instanceof Di&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,f,E)=>c&&Vd(f,s.filters[E]),!0)}(r,e):void $n();var t,s}function bu(r,e){const t=r.filters.concat(e);return Di.create(t,r.op)}function Rh(r){return r instanceof ui?`${(e=r).field.canonicalString()} ${e.op} ${P(e.value)}`:r instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(Rh).join(" ,")+"}"}(r):"Filter";var e}class bp extends ui{constructor(e,t,s){super(e,t,s),this.key=Rn.fromName(s.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mh extends ui{constructor(e,t){super(e,"in",t),this.keys=Ph(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ml extends ui{constructor(e,t){super(e,"not-in",t),this.keys=Ph(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ph(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Rn.fromName(s.referenceValue))}class sd extends ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return It(t)&&nu(t.arrayValue,this.value)}}class cl extends ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nu(this.value.arrayValue,t)}}class jd extends ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nu(this.value.arrayValue,t)}}class od extends ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!It(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}class gs{constructor(e,t=null,s=[],c=[],f=null,E=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=E,this.endAt=k,this.ft=null}}function Wa(r,e=null,t=[],s=[],c=null,f=null,E=null){return new gs(r,e,t,s,c,f,E)}function Oa(r){const e=Ln(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>xh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),re(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>P(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>P(s)).join(",")),e.ft=t}return e.ft}function Lc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Rf(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ud(r.startAt,e.startAt)&&Ud(r.endAt,e.endAt)}function Pl(r){return Rn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function gc(r,e){return r.filters.filter(t=>t instanceof ui&&t.field.isEqual(e))}function mc(r,e,t){let s=tu,c=!0;for(const f of gc(r,e)){let E=tu,k=!0;switch(f.op){case"<":case"<=":E=Or(f.value);break;case"==":case"in":case">=":E=f.value;break;case">":E=f.value,k=!1;break;case"!=":case"not-in":E=tu}Is({value:s,inclusive:c},{value:E,inclusive:k})<0&&(s=E,c=k)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const E=t.position[f];Is({value:s,inclusive:c},{value:E,inclusive:t.inclusive})<0&&(s=E,c=t.inclusive);break}return{value:s,inclusive:c}}function Oh(r,e,t){let s=Eo,c=!0;for(const f of gc(r,e)){let E=Eo,k=!0;switch(f.op){case">=":case">":E=Po(f.value),k=!1;break;case"==":case"in":case"<=":E=f.value;break;case"<":E=f.value,k=!1;break;case"!=":case"not-in":E=Eo}Rl({value:s,inclusive:c},{value:E,inclusive:k})>0&&(s=E,c=k)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const E=t.position[f];Rl({value:s,inclusive:c},{value:E,inclusive:t.inclusive})>0&&(s=E,c=t.inclusive);break}return{value:s,inclusive:c}}class Ea{constructor(e,t=null,s=[],c=[],f=null,E="F",k=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=f,this.limitType=E,this.startAt=k,this.endAt=G,this.dt=null,this._t=null}}function iu(r,e,t,s,c,f,E,k){return new Ea(r,e,t,s,c,f,E,k)}function Ol(r){return new Ea(r)}function ad(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function yc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function ld(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function cd(r){return null!==r.collectionGroup}function Zl(r){const e=Ln(r);if(null===e.dt){e.dt=[];const t=ld(e),s=yc(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new io(t)),e.dt.push(new io(fs.keyField(),"asc"));else{let c=!1;for(const f of e.explicitOrderBy)e.dt.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new io(fs.keyField(),f))}}}return e.dt}function wo(r){const e=Ln(r);if(!e._t)if("F"===e.limitType)e._t=Wa(e.path,e.collectionGroup,Zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Zl(e))t.push(new io(f.field,"desc"===f.dir?"asc":"desc"));const s=e.endAt?new Io(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Io(e.startAt.position,e.startAt.inclusive):null;e._t=Wa(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function Du(r,e){e.getFirstInequalityField(),ld(r);const t=r.filters.concat([e]);return new Ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ud(r,e,t){return new Ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Xl(r,e){return Lc(wo(r),wo(e))&&r.limitType===e.limitType}function dd(r){return`${Oa(wo(r))}|lt:${r.limitType}`}function Tu(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Rh(s)).join(", ")}]`),re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>P(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>P(s)).join(",")),`Target(${t})`}(wo(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Rn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,s){for(const c of Zl(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(r,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(c,f,E){const k=ru(c,f,E);return c.inclusive?k<=0:k<0}(t.startAt,Zl(t),s)||t.endAt&&!function(c,f,E){const k=ru(c,f,E);return c.inclusive?k>=0:k>0}(t.endAt,Zl(t),s)));var t,s}function kh(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Nh(r){return(e,t)=>{let s=!1;for(const c of Zl(r)){const f=Dp(c,e,t);if(0!==f)return f;s=s||c.field.isKeyField()}return 0}}function Dp(r,e,t){const s=r.field.isKeyField()?Rn.comparator(e.key,t.key):function(c,f,E){const k=f.data.field(c),G=E.data.field(c);return null!==k&&null!==G?Ga(k,G):$n()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return $n()}}class _c{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,f]of s)if(this.equalsFn(c,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(t,s)=>{for(const[c,f]of s)e(c,f)})}isEmpty(){return eu(this.inner)}size(){return this.innerSize}}const Tp=new Ar(Rn.comparator);function js(){return Tp}const hd=new Ar(Rn.comparator);function Ql(...r){let e=hd;for(const t of r)e=e.insert(t.key,t);return e}function su(r){let e=hd;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ia(){return Su()}function Hd(){return Su()}function Su(){return new _c(r=>r.toString(),(r,e)=>r.isEqual(e))}const Mf=new Ar(Rn.comparator),Fh=new Ui(Rn.comparator);function Yr(...r){let e=Fh;for(const t of r)e=e.add(t);return e}const Lh=new Ui(ur);function Au(){return Lh}function ou(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ae(e)?"-0":e}}function zd(r){return{integerValue:""+r}}function wa(r,e){return nt(e)?zd(e):ou(r,e)}class Ec{constructor(){this._=void 0}}function Gd(r,e,t){return r instanceof Ic?function(s,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&Fc(c)&&(c=pc(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(t,e):r instanceof au?Wd(r,e):r instanceof wc?ca(r,e):function(s,c){const f=xu(s,c),E=Pf(f)+Pf(s.wt);return it(f)&&it(s.wt)?zd(E):ou(s.serializer,E)}(r,e)}function fd(r,e,t){return r instanceof au?Wd(r,e):r instanceof wc?ca(r,e):t}function xu(r,e){return r instanceof kl?it(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ic extends Ec{}class au extends Ec{constructor(e){super(),this.elements=e}}function Wd(r,e){const t=Sp(e);for(const s of r.elements)t.some(c=>Qo(c,s))||t.push(s);return{arrayValue:{values:t}}}class wc extends Ec{constructor(e){super(),this.elements=e}}function ca(r,e){let t=Sp(e);for(const s of r.elements)t=t.filter(c=>!Qo(c,s));return{arrayValue:{values:t}}}class kl extends Ec{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Pf(r){return Vr(r.integerValue||r.doubleValue)}function Sp(r){return It(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Kd{constructor(e,t){this.field=e,this.transform=t}}class Ka{constructor(e,t){this.version=e,this.transformResults=t}}class ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class pd{}function Nl(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new C(r.key,ms.none()):new ul(r.key,r.data,ms.none());{const t=r.data,s=Vs.empty();let c=new Ui(fs.comparator);for(let f of e.fields)if(!c.has(f)){let E=t.field(f);null===E&&f.length>1&&(f=f.popLast(),E=t.field(f)),null===E?s.delete(f):s.set(f,E),c=c.add(f)}return new Jl(r.key,s,new ps(c.toArray()),ms.none())}}function gd(r,e,t){r instanceof ul?function(s,c,f){const E=s.value.clone(),k=md(s.fieldTransforms,c,f.transformResults);E.setAll(k),c.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(r,e,t):r instanceof Jl?function(s,c,f){if(!lu(s.precondition,c))return void c.convertToUnknownDocument(f.version);const E=md(s.fieldTransforms,c,f.transformResults),k=c.data;k.setAll(Bh(s)),k.setAll(E),c.convertToFoundDocument(f.version,k).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cu(r,e,t,s){return r instanceof ul?function(c,f,E,k){if(!lu(c.precondition,f))return E;const G=c.value.clone(),J=Of(c.fieldTransforms,k,f);return G.setAll(J),f.convertToFoundDocument(f.version,G).setHasLocalMutations(),null}(r,e,t,s):r instanceof Jl?function(c,f,E,k){if(!lu(c.precondition,f))return E;const G=Of(c.fieldTransforms,k,f),J=f.data;return J.setAll(Bh(c)),J.setAll(G),f.convertToFoundDocument(f.version,J).setHasLocalMutations(),null===E?null:E.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(le=>le.field))}(r,e,t,s):(E=t,lu(r.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):E);var f,E}function uu(r,e){let t=null;for(const s of r.fieldTransforms){const c=e.data.field(s.field),f=xu(s.transform,c||null);null!=f&&(null===t&&(t=Vs.empty()),t.set(s.field,f))}return t||null}function Fl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&aa(t,s,(c,f)=>function Ap(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof au&&s instanceof au||t instanceof wc&&s instanceof wc?aa(t.elements,s.elements,Qo):t instanceof kl&&s instanceof kl?Qo(t.wt,s.wt):t instanceof Ic&&s instanceof Ic);var t,s}(c,f))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class ul extends pd{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Jl extends pd{constructor(e,t,s,c,f=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Bh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function md(r,e,t){const s=new Map;ar(r.length===t.length);for(let c=0;c<t.length;c++){const f=r[c],E=f.transform,k=e.data.field(f.field);s.set(f.field,fd(E,k,t[c]))}return s}function Of(r,e,t){const s=new Map;for(const c of r){const f=c.transform,E=t.data.field(c.field);s.set(c.field,Gd(f,E,e))}return s}class C extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(e.key)&&gd(f,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Hd();return this.mutations.forEach(c=>{const f=e.get(c.key),E=f.overlayedDocument;let k=this.applyToLocalView(E,f.mutatedFields);k=t.has(c.key)?null:k;const G=Nl(E,k);null!==G&&s.set(c.key,G),E.isValidDocument()||E.convertToNoDocument(Qn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yr())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,s)=>Fl(t,s))&&aa(this.baseMutations,e.baseMutations,(t,s)=>Fl(t,s))}}class A{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){ar(e.mutations.length===s.length);let c=Mf;const f=e.mutations;for(let E=0;E<f.length;E++)c=c.insert(f[E].key,s[E].version);return new A(e,t,s,c)}}class K{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Je{constructor(e,t){this.count=e,this.unchangedNames=t}}var yt,Zt;function Pn(r){switch(r){default:return $n();case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0}}function Jn(r){if(void 0===r)return Ji("GRPC error has no .code"),Lt.UNKNOWN;switch(r){case yt.OK:return Lt.OK;case yt.CANCELLED:return Lt.CANCELLED;case yt.UNKNOWN:return Lt.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Lt.INTERNAL;case yt.UNAVAILABLE:return Lt.UNAVAILABLE;case yt.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case yt.NOT_FOUND:return Lt.NOT_FOUND;case yt.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case yt.ABORTED:return Lt.ABORTED;case yt.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case yt.DATA_LOSS:return Lt.DATA_LOSS;default:return $n()}}(Zt=yt||(yt={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class er{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ki}static getOrCreateInstance(){return null===Ki&&(Ki=new er),Ki}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ki=null;function ka(){return new TextEncoder}const Ru=new qo([4294967295,4294967295],0);function ec(r){const e=ka().encode(r),t=new xc;return t.update(e),new Uint8Array(t.digest())}function ls(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new qo([t,s],0),new qo([c,f],0)]}class qd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Mu(`Invalid padding: ${t}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Mu(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Mu(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=qo.fromNumber(this.yt)}Tt(e,t,s){let c=e.add(t.multiply(qo.fromNumber(s)));return 1===c.compare(Ru)&&(c=new qo([c.getBits(0),c.getBits(1)],0)),c.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=ec(e),[s,c]=ls(t);for(let f=0;f<this.hashCount;f++){const E=this.Tt(s,c,f);if(!this.Et(E))return!1}return!0}static create(e,t,s){const c=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),E=new qd(f,c,t);return s.forEach(k=>E.insert(k)),E}insert(e){if(0===this.yt)return;const t=ec(e),[s,c]=ls(t);for(let f=0;f<this.hashCount;f++){const E=this.Tt(s,c,f);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bc{constructor(e,t,s,c,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Bc(Qn.min(),c,new Ar(ur),js(),Yr())}}class tc{constructor(e,t,s,c,f){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new tc(s,t,Yr(),Yr(),Yr())}}class Pu{constructor(e,t,s,c){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=c}}class Yd{constructor(e,t){this.targetId=e,this.bt=t}}class yd{constructor(e,t,s=no.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class vd{constructor(){this.Vt=0,this.St=Cg(),this.Dt=no.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Yr(),t=Yr(),s=Yr();return this.St.forEach((c,f)=>{switch(f){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:$n()}}),new tc(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Cg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Zd{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=js(),this.jt=Ou(),this.zt=new Ar(ur)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:$n()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,c)=>{this.Zt(c)&&t(c)})}ee(e){var t;const s=e.targetId,c=e.bt.count,f=this.ne(s);if(f){const E=f.target;if(Pl(E))if(0===c){const k=new Rn(E.path);this.Jt(s,k,wi.newNoDocument(k,Qn.min()))}else ar(1===c);else{const k=this.se(s);if(k!==c){const G=this.ie(e,k);0!==G&&(this.te(s),this.zt=this.zt.insert(s,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=er.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(J,le,Xe){var Ot,an,bn,xn,dr,ri;const Oi={localCacheCount:le,existenceFilterCount:Xe.count},ii=Xe.unchangedNames;return ii&&(Oi.bloomFilter={applied:0===J,hashCount:null!==(Ot=null==ii?void 0:ii.hashCount)&&void 0!==Ot?Ot:0,bitmapLength:null!==(xn=null===(bn=null===(an=null==ii?void 0:ii.bits)||void 0===an?void 0:an.bitmap)||void 0===bn?void 0:bn.length)&&void 0!==xn?xn:0,padding:null!==(ri=null===(dr=null==ii?void 0:ii.bits)||void 0===dr?void 0:dr.padding)&&void 0!==ri?ri:0}),Oi}(G,k,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:c}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:f="",padding:E=0},hashCount:k=0}=s;let G,J;try{G=ro(f).toUint8Array()}catch(le){if(le instanceof fc)return hi("Decoding the base64 bloom filter in existence filter failed ("+le.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw le}try{J=new qd(G,E,k)}catch(le){return hi(le instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",le),1}return 0===J.yt?1:c!==t-this.re(e.targetId,J)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let c=0;return s.forEach(f=>{const E=this.Kt.oe(),k=`projects/${E.projectId}/databases/${E.database}/documents/${f.path.canonicalString()}`;t.At(k)||(this.Jt(e,f,null),c++)}),c}ue(e){const t=new Map;this.Gt.forEach((f,E)=>{const k=this.ne(E);if(k){if(f.current&&Pl(k.target)){const G=new Rn(k.target.path);null!==this.Qt.get(G)||this.ce(E,G)||this.Jt(E,G,wi.newNoDocument(G,e))}f.kt&&(t.set(E,f.Ot()),f.$t())}});let s=Yr();this.jt.forEach((f,E)=>{let k=!0;E.forEachWhile(G=>{const J=this.ne(G);return!J||"TargetPurposeLimboResolution"===J.purpose||(k=!1,!1)}),k&&(s=s.add(f))}),this.Qt.forEach((f,E)=>E.setReadTime(e));const c=new Bc(e,t,this.zt,this.Qt,s);return this.Qt=js(),this.jt=Ou(),this.zt=new Ar(ur),c}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const c=this.Xt(e);this.ce(e,t)?c.Ft(t,1):c.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new vd,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Ui(ur),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||hn("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new vd),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Ou(){return new Ar(Rn.comparator)}function Cg(){return new Ar(Rn.comparator)}const Xd={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd={and:"AND",or:"OR"};class $h{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jd(r,e){return r.useProto3Json||re(e)?e:{value:e}}function ku(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bg(r,e){return ku(r,e.toTimestamp())}function bs(r){return ar(!!r),Qn.fromTimestamp(function(e){const t=xl(e);return new ai(t.seconds,t.nanos)}(r))}function Vh(r,e){return(t=r,new pi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zm(r){const e=pi.fromString(r);return ar(Gh(e)),e}function _d(r,e){return Vh(r.databaseId,e.path)}function nc(r,e){const t=Zm(e);if(t.get(1)!==r.databaseId.projectId)throw new rn(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new rn(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Rn(Nu(t))}function Ed(r,e){return Vh(r.databaseId,e)}function xp(r){const e=Zm(r);return 4===e.length?pi.emptyPath():Nu(e)}function Id(r){return new pi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Nu(r){return ar(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Dg(r,e,t){return{name:_d(r,e),fields:t.value.mapValue.fields}}function jh(r,e,t){const s=nc(r,e.name),c=bs(e.updateTime),f=e.createTime?bs(e.createTime):Qn.min(),E=new Vs({mapValue:{fields:e.fields}}),k=wi.newFoundDocument(s,c,f,E);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function du(r,e){let t;if(e instanceof ul)t={update:Dg(r,e.key,e.value)};else if(e instanceof C)t={delete:_d(r,e.key)};else if(e instanceof Jl)t={update:Dg(r,e.key,e.data),updateMask:Lf(e.fieldMask)};else{if(!(e instanceof g))return $n();t={verify:_d(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const E=f.transform;if(E instanceof Ic)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof wc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof kl)return{fieldPath:f.field.canonicalString(),increment:E.wt};throw $n()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:bg(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:$n()),t;var c}function hu(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ms.updateTime(bs(c.updateTime)):void 0!==c.exists?ms.exists(c.exists):ms.none():ms.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(f,E){let k=null;"setToServerValue"in E?(ar("REQUEST_TIME"===E.setToServerValue),k=new Ic):"appendMissingElements"in E?k=new au(E.appendMissingElements.values||[]):"removeAllFromArray"in E?k=new wc(E.removeAllFromArray.values||[]):"increment"in E?k=new kl(f,E.increment):$n();const G=fs.fromServerFormat(E.fieldPath);return new Kd(G,k)}(r,c)):[];var c;if(e.update){const c=nc(r,e.update.name),f=new Vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new ps((e.updateMask.fieldPaths||[]).map(J=>fs.fromServerFormat(J)));return new Jl(c,f,E,t,s)}return new ul(c,f,t,s)}if(e.delete){const c=nc(r,e.delete);return new C(c,t)}if(e.verify){const c=nc(r,e.verify);return new g(c,t)}return $n()}function Hh(r,e){return{documents:[Ed(r,e.path)]}}function th(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ed(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ed(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(G){if(0!==G.length)return Sg(Di.create(G,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const f=function(G){if(0!==G.length)return G.map(J=>{return{field:Fu((le=J).field),direction:nh(le.dir)};var le})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const E=Jd(r,e.limit);var k,G;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function Tg(r){let e=xp(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){ar(1===s);const le=t.from[0];le.allDescendants?c=le.collectionId:e=e.child(le.collectionId)}let f=[];t.where&&(f=function(le){const Xe=Ff(le);return Xe instanceof Di&&ql(Xe)?Xe.getFilters():[Xe]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(le=>{return new io(Lu((Xe=le).field),function(Ot){switch(Ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xe.direction));var Xe}));let k=null;t.limit&&(k=function(le){let Xe;return Xe="object"==typeof le?le.value:le,re(Xe)?null:Xe}(t.limit));let G=null;var le;t.startAt&&(G=new Io((le=t.startAt).values||[],!!le.before));let J=null;return t.endAt&&(J=function(le){return new Io(le.values||[],!le.before)}(t.endAt)),iu(e,c,E,f,k,"F",G,J)}function Ff(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lu(e.unaryFilter.field);return ui.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Lu(e.unaryFilter.field);return ui.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Lu(e.unaryFilter.field);return ui.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Lu(e.unaryFilter.field);return ui.create(f,"!=",{nullValue:"NULL_VALUE"});default:return $n()}}(r):void 0!==r.fieldFilter?ui.create(Lu((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $n()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Di.create(e.compositeFilter.filters.map(t=>Ff(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $n()}}(e.compositeFilter.op))}(r):$n();var e}function nh(r){return Xd[r]}function zh(r){return kf[r]}function Mp(r){return Qd[r]}function Fu(r){return{fieldPath:r.canonicalString()}}function Lu(r){return fs.fromServerFormat(r.fieldPath)}function Sg(r){return r instanceof ui?function(e){if("=="===e.op){if(kn(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(Ut(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kn(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(Ut(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:zh(e.op),value:e.value}}}(r):r instanceof Di?function(e){const t=e.getFilters().map(s=>Sg(s));return 1===t.length?t[0]:{compositeFilter:{op:Mp(e.op),filters:t}}}(r):$n()}function Lf(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Cc{constructor(e,t,s,c,f=Qn.min(),E=Qn.min(),k=no.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k,this.expectedCount=G}withSequenceNumber(e){return new Cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xm{constructor(e){this.le=e}}function qa(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:_d(c=r.le,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:ku(c,f.version.toTimestamp()),createTime:ku(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:rc(e.version)};else{if(!e.isUnknownDocument())return $n();s.unknownDocument={path:t.path.toArray(),version:rc(e.version)}}var c,f;return s}function Bu(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function rc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ic(r){const e=new ai(r.seconds,r.nanoseconds);return Qn.fromTimestamp(e)}function fu(r,e){const t=(e.baseMutations||[]).map(f=>hu(r.le,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>hu(r.le,f)),c=ai.fromMillis(e.localWriteTimeMs);return new m(e.batchId,c,t,s)}function $c(r){const e=ic(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?ic(r.lastLimboFreeSnapshotVersion):Qn.min();let s;var c;return void 0!==r.query.documents?(ar(1===(c=r.query).documents.length),s=wo(Ol(xp(c.documents[0])))):s=wo(Tg(r.query)),new Cc(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,no.fromBase64String(r.resumeToken))}function rh(r,e){const t=rc(e.snapshotVersion),s=rc(e.lastLimboFreeSnapshotVersion);let c;c=Pl(e.target)?Hh(r.le,e.target):th(r.le,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Pp(r){const e=Tg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ud(e,e.limit,"L"):e}function dl(r,e){return new K(e.largestBatchId,hu(r.le,e.overlayMutation))}function Bf(r,e){const t=e.path.lastSegment();return[r,kt(e.path.popLast()),t]}function Op(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:rc(s.readTime),documentKey:kt(s.documentKey.path),largestBatchId:s.largestBatchId}}class ih{getBundleMetadata(e,t){return Kh(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:ic(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Kh(e).put({bundleId:(s=t).id,createTime:rc(bs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return hl(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:Pp(c.bundledQuery),readTime:ic(c.readTime)};var c})}saveNamedQuery(e,t){return hl(e).put({name:(s=t).name,readTime:rc(bs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Kh(r){return $s(r,"bundles")}function hl(r){return $s(r,"namedQueries")}class wd{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new wd(e,t.uid||"")}getOverlay(e,t){return pu(e).get(Bf(this.userId,t)).next(s=>s?dl(this.serializer,s):null)}getOverlays(e,t){const s=Ia();return Pt.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&s.set(c,f)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((f,E)=>{const k=new K(t,E);c.push(this.de(e,k))}),Pt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(E=>c.add(kt(E.getCollectionPath())));const f=[];return c.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,s],[this.userId,E,s+1],!1,!0);f.push(pu(e).J("collectionPathOverlayIndex",k))}),Pt.waitFor(f)}getOverlaysForCollection(e,t,s){const c=Ia(),f=kt(t),E=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return pu(e).j("collectionPathOverlayIndex",E).next(k=>{for(const G of k){const J=dl(this.serializer,G);c.set(J.getKey(),J)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const f=Ia();let E;const k=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pu(e).X({index:"collectionGroupOverlayIndex",range:k},(G,J,le)=>{const Xe=dl(this.serializer,J);f.size()<c||Xe.largestBatchId===E?(f.set(Xe.getKey(),Xe),E=Xe.largestBatchId):le.done()}).next(()=>f)}de(e,t){return pu(e).put(function(s,c,f){const[E,k,G]=Bf(c,f.mutation.key);return{userId:c,collectionPath:k,documentId:G,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:du(s.le,f.mutation)}}(this.serializer,this.userId,t))}}function pu(r){return $s(r,"documentOverlays")}class $u{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Vr(e.integerValue));else if("doubleValue"in e){const s=Vr(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),ae(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ro(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?$r(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):$n()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const c of Object.keys(s))this.Ie(c,t),this.we(s[c],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const c of s)this.we(c,t)}Ae(e,t){this.ge(t,37),Rn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Qm(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Ag(r){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const f=Qm(255&t[c]);if(s+=f,8!==f)break}return s}(r);return Math.ceil(e/8)}$u.be=new $u;class Jm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Se(s.value),s=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.xe(s.value),s=t.next();this.Ne()}ke(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Se(s);else if(s<2048)this.Se(960|s>>>6),this.Se(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Se(480|s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s);else{const c=t.codePointAt(0);this.Se(240|c>>>18),this.Se(128|63&c>>>12),this.Se(128|63&c>>>6),this.Se(128|63&c)}}this.De()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.xe(s);else if(s<2048)this.xe(960|s>>>6),this.xe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.xe(480|s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s);else{const c=t.codePointAt(0);this.xe(240|c>>>18),this.xe(128|63&c>>>12),this.xe(128|63&c>>>6),this.xe(128|63&c)}}this.Ne()}Oe(e){const t=this.$e(e),s=Ag(t);this.Fe(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Be(e){const t=this.$e(e),s=Ag(t);this.Fe(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class xg{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class qh{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class sh{constructor(){this.Qe=new Jm,this.je=new xg(this.Qe),this.ze=new qh(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Bl{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Bl(this.indexId,this.documentKey,this.arrayValue,s)}}function Na(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=$f(r.arrayValue,e.arrayValue),0!==t?t:(t=$f(r.directionalValue,e.directionalValue),0!==t?t:Rn.comparator(r.documentKey,e.documentKey)))}function $f(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Uf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xe=s:this.Ye.push(s)}}Ze(e){ar(e.collectionGroup===this.collectionId);const t=uc(e);if(void 0!==t&&!this.tn(t))return!1;const s=Cl(e);let c=0,f=0;for(;c<s.length&&this.tn(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Xe){const E=s[c];if(!this.en(this.Xe,E)||!this.nn(this.Je[f++],E))return!1;++c}for(;c<s.length;++c)if(f>=this.Je.length||!this.nn(this.Je[f++],s[c]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ey(r){var e,t;if(ar(r instanceof ui||r instanceof Di),r instanceof ui){if(r instanceof cl){const c=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(f=>ui.create(r.field,"==",f)))||[];return Di.create(c,"or")}return r}const s=r.filters.map(c=>ey(c));return Di.create(s,r.op)}function Rg(r){if(0===r.getFilters().length)return[];const e=Yh(ey(r));return ar(kp(e)),Vf(e)||Mg(e)?[e]:e.getFilters()}function Vf(r){return r instanceof ui}function Mg(r){return r instanceof Di&&ql(r)}function kp(r){return Vf(r)||Mg(r)||function(e){if(e instanceof Di&&_a(e)){for(const t of e.getFilters())if(!Vf(t)&&!Mg(t))return!1;return!0}return!1}(r)}function Yh(r){if(ar(r instanceof ui||r instanceof Di),r instanceof ui)return r;if(1===r.filters.length)return Yh(r.filters[0]);const e=r.filters.map(s=>Yh(s));let t=Di.create(e,r.op);return t=jf(t),kp(t)?t:(ar(t instanceof Di),ar(ll(t)),ar(t.filters.length>1),t.filters.reduce((s,c)=>Np(s,c)))}function Np(r,e){let t;return ar(r instanceof ui||r instanceof Di),ar(e instanceof ui||e instanceof Di),t=r instanceof ui?e instanceof ui?Di.create([r,e],"and"):Fp(r,e):e instanceof ui?Fp(e,r):function(s,c){if(ar(s.filters.length>0&&c.filters.length>0),ll(s)&&ll(c))return bu(s,c.getFilters());const f=_a(s)?s:c,E=_a(s)?c:s,k=f.filters.map(G=>Np(G,E));return Di.create(k,"or")}(r,e),jf(t)}function Fp(r,e){if(ll(e))return bu(e,r.getFilters());{const t=e.filters.map(s=>Np(r,s));return Di.create(t,"or")}}function jf(r){if(ar(r instanceof ui||r instanceof Di),r instanceof ui)return r;const e=r.getFilters();if(1===e.length)return jf(e[0]);if(Yl(r))return r;const t=e.map(c=>jf(c)),s=[];return t.forEach(c=>{c instanceof ui?s.push(c):c instanceof Di&&(c.op===r.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:Di.create(s,r.op)}class Lp{constructor(){this.sn=new fl}addToCollectionParentIndex(e,t){return this.sn.add(t),Pt.resolve()}getCollectionParents(e,t){return Pt.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Pt.resolve()}deleteFieldIndex(e,t){return Pt.resolve()}getDocumentsMatchingTarget(e,t){return Pt.resolve(null)}getIndexType(e,t){return Pt.resolve(0)}getFieldIndexes(e,t){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,t){return Pt.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return Pt.resolve(es.min())}updateCollectionGroup(e,t,s){return Pt.resolve()}updateIndexEntries(e,t){return Pt.resolve()}}class fl{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new Ui(pi.comparator),f=!c.has(s);return this.index[t]=c.add(s),f}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Ui(pi.comparator)).toArray()}}const Hf=new Uint8Array(0);class Cd{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new fl,this.on=new _c(s=>Oa(s),(s,c)=>Lc(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const f={collectionId:s,parent:kt(c)};return gu(e).put(f)}return Pt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[Zc(t),""],!1,!0);return gu(e).j(c).next(f=>{for(const E of f){if(E.collectionId!==t)break;s.push(Mn(E.parent))}return s})}addFieldIndex(e,t){const s=oh(e),c={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete c.indexId;const f=s.add(c);if(t.indexState){const E=Uu(e);return f.next(k=>{E.put(Op(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const s=oh(e),c=Uu(e),f=Zh(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Zh(e);let c=!0;const f=new Map;return Pt.forEach(this.un(t),E=>this.cn(e,E).next(k=>{c&&(c=!!k),f.set(E,k)})).next(()=>{if(c){let E=Yr();const k=[];return Pt.forEach(f,(G,J)=>{var le;hn("IndexedDbIndexManager",`Using index ${le=G,`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(ii=>`${ii.fieldPath}:${ii.kind}`).join(",")}`} to execute ${Oa(t)}`);const Xe=function(ii,Ba){const Ps=uc(Ba);if(void 0===Ps)return null;for(const ws of gc(ii,Ps.fieldPath))switch(ws.op){case"array-contains-any":return ws.value.arrayValue.values||[];case"array-contains":return[ws.value]}return null}(J,G),Ot=function(ii,Ba){const Ps=new Map;for(const ws of Cl(Ba))for(const $a of gc(ii,ws.fieldPath))switch($a.op){case"==":case"in":Ps.set(ws.fieldPath.canonicalString(),$a.value);break;case"not-in":case"!=":return Ps.set(ws.fieldPath.canonicalString(),$a.value),Array.from(Ps.values())}return null}(J,G),an=function(ii,Ba){const Ps=[];let ws=!0;for(const $a of Cl(Ba)){const Ah=0===$a.kind?mc(ii,$a.fieldPath,ii.startAt):Oh(ii,$a.fieldPath,ii.startAt);Ps.push(Ah.value),ws&&(ws=Ah.inclusive)}return new Io(Ps,ws)}(J,G),bn=function(ii,Ba){const Ps=[];let ws=!0;for(const $a of Cl(Ba)){const Ah=0===$a.kind?Oh(ii,$a.fieldPath,ii.endAt):mc(ii,$a.fieldPath,ii.endAt);Ps.push(Ah.value),ws&&(ws=Ah.inclusive)}return new Io(Ps,ws)}(J,G),xn=this.an(G,J,an),dr=this.an(G,J,bn),ri=this.hn(G,J,Ot),Oi=this.ln(G.indexId,Xe,xn,an.inclusive,dr,bn.inclusive,ri);return Pt.forEach(Oi,ii=>s.H(ii,t.limit).next(Ba=>{Ba.forEach(Ps=>{const ws=Rn.fromSegments(Ps.documentKey);E.has(ws)||(E=E.add(ws),k.push(ws))})}))}).next(()=>k)}return Pt.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Rg(Di.create(e.filters,"and")).map(s=>Wa(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,s,c,f,E,k){const G=(null!=t?t.length:1)*Math.max(s.length,f.length),J=G/(null!=t?t.length:1),le=[];for(let Xe=0;Xe<G;++Xe){const Ot=t?this.fn(t[Xe/J]):Hf,an=this.dn(e,Ot,s[Xe%J],c),bn=this._n(e,Ot,f[Xe%J],E),xn=k.map(dr=>this.dn(e,Ot,dr,!0));le.push(...this.createRange(an,bn,xn))}return le}dn(e,t,s,c){const f=new Bl(e,Rn.empty(),t,s);return c?f:f.He()}_n(e,t,s,c){const f=new Bl(e,Rn.empty(),t,s);return c?f.He():f}cn(e,t){const s=new Uf(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(f=>{let E=null;for(const k of f)s.Ze(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(e,t){let s=2;const c=this.un(t);return Pt.forEach(c,f=>this.cn(e,f).next(E=>{E?0!==s&&E.fields.length<function(k){let G=new Ui(fs.comparator),J=!1;for(const le of k.filters)for(const Xe of le.getFlattenedFilters())Xe.field.isKeyField()||("array-contains"===Xe.op||"array-contains-any"===Xe.op?J=!0:G=G.add(Xe.field));for(const le of k.orderBy)le.field.isKeyField()||(G=G.add(le.field));return G.size+(J?1:0)}(f)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}wn(e,t){const s=new sh;for(const c of Cl(e)){const f=t.data.field(c.fieldPath);if(null==f)return null;const E=s.We(c.kind);$u.be._e(f,E)}return s.Ge()}fn(e){const t=new sh;return $u.be._e(e,t.We(0)),t.Ge()}mn(e,t){const s=new sh;return $u.be._e(be(this.databaseId,t),s.We(function(c){const f=Cl(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Ge()}hn(e,t,s){if(null===s)return[];let c=[];c.push(new sh);let f=0;for(const E of Cl(e)){const k=s[f++];for(const G of c)if(this.gn(t,E.fieldPath)&&It(k))c=this.yn(c,E,k);else{const J=G.We(E.kind);$u.be._e(k,J)}}return this.pn(c)}an(e,t,s){return this.hn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Ge();return t}yn(e,t,s){const c=[...e],f=[];for(const E of s.arrayValue.values||[])for(const k of c){const G=new sh;G.seed(k.Ge()),$u.be._e(E,G.We(t.kind)),f.push(G)}return f}gn(e,t){return!!e.filters.find(s=>s instanceof ui&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=oh(e),c=Uu(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(f=>{const E=[];return Pt.forEach(f,k=>c.get([k.indexId,this.uid]).next(G=>{E.push(function(J,le){const Xe=le?new Pc(le.sequenceNumber,new es(ic(le.readTime),new Rn(Mn(le.documentKey)),le.largestBatchId)):Pc.empty(),Ot=J.fields.map(([an,bn])=>new dc(fs.fromServerFormat(an),bn));return new Gl(J.indexId,J.collectionGroup,Ot,Xe)}(k,G))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const f=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==f?f:ur(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=oh(e),f=Uu(e);return this.In(e).next(E=>c.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Pt.forEach(k,G=>f.put(Op(G.indexId,this.user,E,s)))))}updateIndexEntries(e,t){const s=new Map;return Pt.forEach(t,(c,f)=>{const E=s.get(c.collectionGroup);return(E?Pt.resolve(E):this.getFieldIndexes(e,c.collectionGroup)).next(k=>(s.set(c.collectionGroup,k),Pt.forEach(k,G=>this.Tn(e,c,G).next(J=>{const le=this.En(f,G);return J.isEqual(le)?Pt.resolve():this.An(e,f,G,J,le)}))))})}Rn(e,t,s,c){return Zh(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,c){return Zh(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}Tn(e,t,s){const c=Zh(e);let f=new Ui(Na);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(E,k)=>{f=f.add(new Bl(s.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>f)}En(e,t){let s=new Ui(Na);const c=this.wn(t,e);if(null==c)return s;const f=uc(t);if(null!=f){const E=e.data.field(f.fieldPath);if(It(E))for(const k of E.arrayValue.values||[])s=s.add(new Bl(t.indexId,e.key,this.fn(k),c))}else s=s.add(new Bl(t.indexId,e.key,Hf,c));return s}An(e,t,s,c,f){hn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(k,G,J,le,Xe){const Ot=k.getIterator(),an=G.getIterator();let bn=va(Ot),xn=va(an);for(;bn||xn;){let dr=!1,ri=!1;if(bn&&xn){const Oi=J(bn,xn);Oi<0?ri=!0:Oi>0&&(dr=!0)}else null!=bn?ri=!0:dr=!0;dr?(le(xn),xn=va(an)):ri?(Xe(bn),bn=va(Ot)):(bn=va(Ot),xn=va(an))}}(c,f,Na,k=>{E.push(this.Rn(e,t,s,k))},k=>{E.push(this.vn(e,t,s,k))}),Pt.waitFor(E)}In(e){let t=1;return Uu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,f)=>{f.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((E,k)=>Na(E,k)).filter((E,k,G)=>!k||0!==Na(E,G[k-1]));const c=[];c.push(e);for(const E of s){const k=Na(E,e),G=Na(E,t);if(0===k)c[0]=e.He();else if(k>0&&G<0)c.push(E),c.push(E.He());else if(G>0)break}c.push(t);const f=[];for(let E=0;E<c.length;E+=2){if(this.Pn(c[E],c[E+1]))return[];f.push(IDBKeyRange.bound([c[E].indexId,this.uid,c[E].arrayValue,c[E].directionalValue,Hf,[]],[c[E+1].indexId,this.uid,c[E+1].arrayValue,c[E+1].directionalValue,Hf,[]]))}return f}Pn(e,t){return Na(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bp)}getMinOffset(e,t){return Pt.mapArray(this.un(t),s=>this.cn(e,s).next(c=>c||$n())).next(Bp)}}function gu(r){return $s(r,"collectionParents")}function Zh(r){return $s(r,"indexEntries")}function oh(r){return $s(r,"indexConfiguration")}function Uu(r){return $s(r,"indexState")}function Bp(r){ar(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const c=r[s].indexState.offset;Dl(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new es(e.readTime,e.documentKey,t)}const bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Fa(e,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $p(r,e,t){const s=r.store("mutations"),c=r.store("documentMutations"),f=[],E=IDBKeyRange.only(t.batchId);let k=0;const G=s.X({range:E},(le,Xe,Ot)=>(k++,Ot.delete()));f.push(G.next(()=>{ar(1===k)}));const J=[];for(const le of t.mutations){const Xe=Bs(e,le.key.path,t.batchId);f.push(c.delete(Xe)),J.push(le.key)}return Pt.waitFor(f).next(()=>J)}function Zr(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw $n();e=r.noDocument}return JSON.stringify(e).length}Fa.DEFAULT_COLLECTION_PERCENTILE=10,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fa.DEFAULT=new Fa(41943040,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fa.DISABLED=new Fa(-1,0,0);class ah{constructor(e,t,s,c){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=c,this.bn={}}static fe(e,t,s,c){ar(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new ah(f,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).X({index:"userMutationsIndex",range:s},(c,f,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const f=Vu(e),E=bc(e);return E.add({}).next(k=>{ar("number"==typeof k);const G=new m(k,t,s,c),J=function(Ot,an,bn){const xn=bn.baseMutations.map(ri=>du(Ot.le,ri)),dr=bn.mutations.map(ri=>du(Ot.le,ri));return{userId:an,batchId:bn.batchId,localWriteTimeMs:bn.localWriteTime.toMillis(),baseMutations:xn,mutations:dr}}(this.serializer,this.userId,G),le=[];let Xe=new Ui((Ot,an)=>ur(Ot.canonicalString(),an.canonicalString()));for(const Ot of c){const an=Bs(this.userId,Ot.key.path,k);Xe=Xe.add(Ot.key.path.popLast()),le.push(E.put(J)),le.push(f.put(an,ya))}return Xe.forEach(Ot=>{le.push(this.indexManager.addToCollectionParentIndex(e,Ot))}),e.addOnCommittedListener(()=>{this.bn[k]=G.keys()}),Pt.waitFor(le).next(()=>G)})}lookupMutationBatch(e,t){return bc(e).get(t).next(s=>s?(ar(s.userId===this.userId),fu(this.serializer,s)):null)}Vn(e,t){return this.bn[t]?Pt.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.bn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return bc(e).X({index:"userMutationsIndex",range:c},(E,k,G)=>{k.userId===this.userId&&(ar(k.batchId>=s),f=fu(this.serializer,k)),G.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return bc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(c,f,E)=>{s=f.batchId,E.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).j("userMutationsIndex",t).next(s=>s.map(c=>fu(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=rs(this.userId,t.path),c=IDBKeyRange.lowerBound(s),f=[];return Vu(e).X({range:c},(E,k,G)=>{const[J,le,Xe]=E,Ot=Mn(le);if(J===this.userId&&t.path.isEqual(Ot))return bc(e).get(Xe).next(an=>{if(!an)throw $n();ar(an.userId===this.userId),f.push(fu(this.serializer,an))});G.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(ur);const c=[];return t.forEach(f=>{const E=rs(this.userId,f.path),k=IDBKeyRange.lowerBound(E),G=Vu(e).X({range:k},(J,le,Xe)=>{const[Ot,an,bn]=J,xn=Mn(an);Ot===this.userId&&f.path.isEqual(xn)?s=s.add(bn):Xe.done()});c.push(G)}),Pt.waitFor(c).next(()=>this.Sn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,f=rs(this.userId,s),E=IDBKeyRange.lowerBound(f);let k=new Ui(ur);return Vu(e).X({range:E},(G,J,le)=>{const[Xe,Ot,an]=G,bn=Mn(Ot);Xe===this.userId&&s.isPrefixOf(bn)?bn.length===c&&(k=k.add(an)):le.done()}).next(()=>this.Sn(e,k))}Sn(e,t){const s=[],c=[];return t.forEach(f=>{c.push(bc(e).get(f).next(E=>{if(null===E)throw $n();ar(E.userId===this.userId),s.push(fu(this.serializer,E))}))}),Pt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return $p(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Pt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return Vu(e).X({range:s},(f,E,k)=>{if(f[0]===this.userId){const G=Mn(f[1]);c.push(G)}else k.done()}).next(()=>{ar(0===c.length)})})}containsKey(e,t){return lh(e,this.userId,t)}Cn(e){return Pg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lh(r,e,t){const s=rs(e,t.path),c=s[1],f=IDBKeyRange.lowerBound(s);let E=!1;return Vu(r).X({range:f,Y:!0},(k,G,J)=>{const[le,Xe,Ot]=k;le===e&&Xe===c&&(E=!0),J.done()}).next(()=>E)}function bc(r){return $s(r,"mutations")}function Vu(r){return $s(r,"documentMutations")}function Pg(r){return $s(r,"mutationQueues")}class ju{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ju(0)}static kn(){return new ju(-1)}}class Up{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const s=new ju(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Qn.fromTimestamp(new ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Mn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.On(e,c)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(s=>(s.targetCount+=1,this.Fn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dd(e).delete(t.targetId)).next(()=>this.Mn(e)).next(s=>(ar(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let c=0;const f=[];return Dd(e).X((E,k)=>{const G=$c(k);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(c++,f.push(this.removeTargetData(e,G)))}).next(()=>Pt.waitFor(f)).next(()=>c)}forEachTarget(e,t){return Dd(e).X((s,c)=>{const f=$c(c);t(f)})}Mn(e){return Vp(e).get("targetGlobalKey").next(t=>(ar(null!==t),t))}On(e,t){return Vp(e).put("targetGlobalKey",t)}$n(e,t){return Dd(e).put(rh(this.serializer,t))}Fn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Dd(e).X({range:c,index:"queryTargetsIndex"},(E,k,G)=>{const J=$c(k);Lc(t,J.target)&&(f=J,G.done())}).next(()=>f)}addMatchingKeys(e,t,s){const c=[],f=Hu(e);return t.forEach(E=>{const k=kt(E.path);c.push(f.put({targetId:s,path:k})),c.push(this.referenceDelegate.addReference(e,s,E))}),Pt.waitFor(c)}removeMatchingKeys(e,t,s){const c=Hu(e);return Pt.forEach(t,f=>{const E=kt(f.path);return Pt.waitFor([c.delete([s,E]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,t){const s=Hu(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=Hu(e);let f=Yr();return c.X({range:s,Y:!0},(E,k,G)=>{const J=Mn(E[1]),le=new Rn(J);f=f.add(le)}).next(()=>f)}containsKey(e,t){const s=kt(t.path),c=IDBKeyRange.bound([s],[Zc(s)],!1,!0);let f=0;return Hu(e).X({index:"documentTargetsIndex",Y:!0,range:c},([E,k],G,J)=>{0!==E&&(f++,J.done())}).next(()=>f>0)}he(e,t){return Dd(e).get(t).next(s=>s?$c(s):null)}}function Dd(r){return $s(r,"targets")}function Vp(r){return $s(r,"targetGlobal")}function Hu(r){return $s(r,"targetDocuments")}function Og([r,e],[t,s]){const c=ur(r,t);return 0===c?ur(e,s):c}class jp{constructor(e){this.Bn=e,this.buffer=new Ui(Og),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Og(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xh{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;hn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ue.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Yo(s)?hn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield xr(s)}yield t.Gn(3e5)}))}}class zu{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Pt.resolve(z.ct);const s=new jp(t);return this.Qn.forEachTarget(e,c=>s.Un(c.sequenceNumber)).next(()=>this.Qn.zn(e,c=>s.Un(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Qn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(bd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bd):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let s,c,f,E,k,G,J;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Xe=>(Xe>this.params.maximumSequenceNumbersToCollect?(hn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Xe}`),c=this.params.maximumSequenceNumbersToCollect):c=Xe,E=Date.now(),this.nthSequenceNumber(e,c))).next(Xe=>(s=Xe,k=Date.now(),this.removeTargets(e,s,t))).next(Xe=>(f=Xe,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(Xe=>(J=Date.now(),oc()<=et.in.DEBUG&&hn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-le}ms\n\tDetermined least recently used ${c} in `+(k-E)+`ms\n\tRemoved ${f} targets in `+(G-k)+`ms\n\tRemoved ${Xe} documents in `+(J-G)+`ms\nTotal Duration: ${J-le}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:Xe})))}}class ch{constructor(e,t){this.db=e,this.garbageCollector=function Ya(r,e){return new zu(r,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Hn(e){let t=0;return this.zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(s,c)=>t(c))}addReference(e,t,s){return $l(e,s)}removeReference(e,t,s){return $l(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return $l(e,t)}Yn(e,t){return function(s,c){let f=!1;return Pg(s).Z(E=>lh(s,E,c).next(k=>(k&&(f=!0),Pt.resolve(!k)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Jn(e,(E,k)=>{if(k<=t){const G=this.Yn(e,E).next(J=>{if(!J)return f++,s.getEntry(e,E).next(()=>(s.removeEntry(E,Qn.min()),Hu(e).delete([0,kt(E.path)])))});c.push(G)}}).next(()=>Pt.waitFor(c)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return $l(e,t)}Jn(e,t){const s=Hu(e);let c,f=z.ct;return s.X({index:"documentTargetsIndex"},([E,k],{path:G,sequenceNumber:J})=>{0===E?(f!==z.ct&&t(new Rn(Mn(c)),f),f=J,c=G):f=z.ct}).next(()=>{f!==z.ct&&t(new Rn(Mn(c)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $l(r,e){return Hu(r).put((s=r.currentSequenceNumber,{targetId:0,path:kt(e.path),sequenceNumber:s}));var s}class Qh{constructor(){this.changes=new _c(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Pt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return pl(e).put(s)}removeEntry(e,t,s){return pl(e).delete(function(c,f){const E=c.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Bu(f),E[E.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Xn(e,s)))}getEntry(e,t){let s=wi.newInvalidDocument(t);return pl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(c,f)=>{s=this.Zn(t,f)}).next(()=>s)}ts(e,t){let s={size:0,document:wi.newInvalidDocument(t)};return pl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(c,f)=>{s={document:this.Zn(t,f),size:Zr(f)}}).next(()=>s)}getEntries(e,t){let s=js();return this.es(e,t,(c,f)=>{const E=this.Zn(c,f);s=s.insert(c,E)}).next(()=>s)}ns(e,t){let s=js(),c=new Ar(Rn.comparator);return this.es(e,t,(f,E)=>{const k=this.Zn(f,E);s=s.insert(f,k),c=c.insert(f,Zr(E))}).next(()=>({documents:s,ss:c}))}es(e,t,s){if(t.isEmpty())return Pt.resolve();let c=new Ui(Sd);t.forEach(G=>c=c.add(G));const f=IDBKeyRange.bound(zp(c.first()),zp(c.last())),E=c.getIterator();let k=E.getNext();return pl(e).X({index:"documentKeyIndex",range:f},(G,J,le)=>{const Xe=Rn.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;k&&Sd(k,Xe)<0;)s(k,null),k=E.getNext();k&&k.isEqual(Xe)&&(s(k,J),k=E.hasNext()?E.getNext():null),k?le.G(zp(k)):le.done()}).next(()=>{for(;k;)s(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const f=t.path,E=[f.popLast().toArray(),f.lastSegment(),Bu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],k=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).j(IDBKeyRange.bound(E,k,!0)).next(G=>{let J=js();for(const le of G){const Xe=this.Zn(Rn.fromSegments(le.prefixPath.concat(le.collectionGroup,le.documentId)),le);Xe.isFoundDocument()&&(vc(t,Xe)||c.has(Xe.key))&&(J=J.insert(Xe.key,Xe))}return J})}getAllFromCollectionGroup(e,t,s,c){let f=js();const E=kg(t,s),k=kg(t,es.max());return pl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(G,J,le)=>{const Xe=this.Zn(Rn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);f=f.insert(Xe.key,Xe),f.size===c&&le.done()}).next(()=>f)}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hp(e).get("remoteDocumentGlobalKey").next(t=>(ar(!!t),t))}Xn(e,t){return Hp(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const s=function Wh(r,e){let t;if(e.document)t=jh(r.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Rn.fromSegments(e.noDocument.path),c=ic(e.noDocument.readTime);t=wi.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return $n();{const s=Rn.fromSegments(e.unknownDocument.path),c=ic(e.unknownDocument.version);t=wi.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new ai(s[0],s[1]);return Qn.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Qn.min()))return s}return wi.newInvalidDocument(e)}}function Td(r){return new Dc(r)}class ty extends Qh{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new _c(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new Ui((f,E)=>ur(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const k=this.os.get(f);if(t.push(this.rs.removeEntry(e,f,k.readTime)),E.isValidDocument()){const G=qa(this.rs.serializer,E);c=c.add(f.path.popLast());const J=Zr(G);s+=J-k.size,t.push(this.rs.addEntry(e,f,G))}else if(s-=k.size,this.trackRemovals){const G=qa(this.rs.serializer,E.convertToNoDocument(Qn.min()));t.push(this.rs.addEntry(e,f,G))}}),c.forEach(f=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.rs.updateMetadata(e,s)),Pt.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(s=>(this.os.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:s,ss:c})=>(c.forEach((f,E)=>{this.os.set(f,{size:E,readTime:s.get(f).readTime})}),s))}}function Hp(r){return $s(r,"remoteDocumentGlobal")}function pl(r){return $s(r,"remoteDocumentsV14")}function zp(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kg(r,e){const t=e.documentKey.path.toArray();return[r,Bu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Sd(r,e){const t=r.path.toArray(),s=e.path.toArray();let c=0;for(let f=0;f<t.length-2&&f<s.length-2;++f)if(c=ur(t[f],s[f]),c)return c;return c=ur(t.length,s.length),c||(c=ur(t[t.length-2],s[s.length-2]),c||ur(t[t.length-1],s[s.length-1]))}class Gp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wp{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&cu(s.mutation,c,ps.empty(),ai.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Yr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Yr()){const c=Ia();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(f=>{let E=Ql();return f.forEach((k,G)=>{E=E.insert(k,G.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const s=Ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Yr()))}populateOverlays(e,t,s){const c=[];return s.forEach(f=>{t.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(e,c).next(f=>{f.forEach((E,k)=>{t.set(E,k)})})}computeViews(e,t,s,c){let f=js();const E=Su(),k=Su();return t.forEach((G,J)=>{const le=s.get(J.key);c.has(J.key)&&(void 0===le||le.mutation instanceof Jl)?f=f.insert(J.key,J):void 0!==le?(E.set(J.key,le.mutation.getFieldMask()),cu(le.mutation,J,le.mutation.getFieldMask(),ai.now())):E.set(J.key,ps.empty())}),this.recalculateAndSaveOverlays(e,f).next(G=>(G.forEach((J,le)=>E.set(J,le)),t.forEach((J,le)=>{var Xe;return k.set(J,new Gp(le,null!==(Xe=E.get(J))&&void 0!==Xe?Xe:null))}),k))}recalculateAndSaveOverlays(e,t){const s=Su();let c=new Ar((E,k)=>E-k),f=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const k of E)k.keys().forEach(G=>{const J=t.get(G);if(null===J)return;let le=s.get(G)||ps.empty();le=k.applyToLocalView(J,le),s.set(G,le);const Xe=(c.get(k.batchId)||Yr()).add(G);c=c.insert(k.batchId,Xe)})}).next(()=>{const E=[],k=c.getReverseIterator();for(;k.hasNext();){const G=k.getNext(),J=G.key,le=G.value,Xe=Hd();le.forEach(Ot=>{if(!f.has(Ot)){const an=Nl(t.get(Ot),s.get(Ot));null!==an&&Xe.set(Ot,an),f=f.add(Ot)}}),E.push(this.documentOverlayCache.saveOverlays(e,J,Xe))}return Pt.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Rn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(f=>{const E=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-f.size):Pt.resolve(Ia());let k=-1,G=f;return E.next(J=>Pt.forEach(J,(le,Xe)=>(k<Xe.largestBatchId&&(k=Xe.largestBatchId),f.get(le)?Pt.resolve():this.remoteDocumentCache.getEntry(e,le).next(Ot=>{G=G.insert(le,Ot)}))).next(()=>this.populateOverlays(e,J,f)).next(()=>this.computeViews(e,G,J,Yr())).next(le=>({batchId:k,changes:su(le)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rn(t)).next(s=>{let c=Ql();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,c).next(E=>Pt.forEach(E,k=>{const G=(J=t,le=k.child(c),new Ea(le,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,le;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(J=>{J.forEach((le,Xe)=>{f=f.insert(le,Xe)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(f=>{c.forEach((k,G)=>{const J=G.getKey();null===f.get(J)&&(f=f.insert(J,wi.newInvalidDocument(J)))});let E=Ql();return f.forEach((k,G)=>{const J=c.get(k);void 0!==J&&cu(J.mutation,G,ps.empty(),ai.now()),vc(t,G)&&(E=E.insert(k,G))}),E})}}class zf{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Pt.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:bs(s.createTime)}),Pt.resolve()}getNamedQuery(e,t){return Pt.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Pp(s.bundledQuery),readTime:bs(s.readTime)}),Pt.resolve();var s}}class ny{constructor(){this.overlays=new Ar(Rn.comparator),this.hs=new Map}getOverlay(e,t){return Pt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ia();return Pt.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&s.set(c,f)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,f)=>{this.de(e,t,f)}),Pt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.hs.get(s);return void 0!==c&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.hs.delete(s)),Pt.resolve()}getOverlaysForCollection(e,t,s){const c=Ia(),f=t.length+1,E=new Rn(t.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const G=k.getNext().value,J=G.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===f&&G.largestBatchId>s&&c.set(G.getKey(),G)}return Pt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let f=new Ar((J,le)=>J-le);const E=this.overlays.getIterator();for(;E.hasNext();){const J=E.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>s){let le=f.get(J.largestBatchId);null===le&&(le=Ia(),f=f.insert(J.largestBatchId,le)),le.set(J.getKey(),J)}}const k=Ia(),G=f.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((J,le)=>k.set(J,le)),!(k.size()>=c)););return Pt.resolve(k)}de(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const E=this.hs.get(c.largestBatchId).delete(s.key);this.hs.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new K(t,s));let f=this.hs.get(t);void 0===f&&(f=Yr(),this.hs.set(t,f)),this.hs.set(t,f.add(s.key))}}class Gf{constructor(){this.ls=new Ui(Co.fs),this.ds=new Ui(Co._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Co(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Co(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new Rn(new pi([])),s=new Co(t,e),c=new Co(t,e+1),f=[];return this.ds.forEachInRange([s,c],E=>{this.gs(E),f.push(E.key)}),f}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Rn(new pi([])),s=new Co(t,e),c=new Co(t,e+1);let f=Yr();return this.ds.forEachInRange([s,c],E=>{f=f.add(E.key)}),f}containsKey(e){const t=new Co(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Co{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Rn.comparator(e.key,t.key)||ur(e.Es,t.Es)}static _s(e,t){return ur(e.Es,t.Es)||Rn.comparator(e.key,t.key)}}class Wf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Ui(Co.fs)}checkEmpty(e){return Pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const f=this.As;this.As++;const E=new m(f,t,s,c);this.mutationQueue.push(E);for(const k of c)this.Rs=this.Rs.add(new Co(k.key,f)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Pt.resolve(E)}lookupMutationBatch(e,t){return Pt.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.Ps(t+1),f=c<0?0:c;return Pt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Co(t,0),c=new Co(t,Number.POSITIVE_INFINITY),f=[];return this.Rs.forEachInRange([s,c],E=>{const k=this.vs(E.Es);f.push(k)}),Pt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(ur);return t.forEach(c=>{const f=new Co(c,0),E=new Co(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([f,E],k=>{s=s.add(k.Es)})}),Pt.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let f=s;Rn.isDocumentKey(f)||(f=f.child(""));const E=new Co(new Rn(f),0);let k=new Ui(ur);return this.Rs.forEachWhile(G=>{const J=G.key.path;return!!s.isPrefixOf(J)&&(J.length===c&&(k=k.add(G.Es)),!0)},E),Pt.resolve(this.bs(k))}bs(e){const t=[];return e.forEach(s=>{const c=this.vs(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){ar(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Pt.forEach(t.mutations,c=>{const f=new Co(c.key,t.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Co(t,0),c=this.Rs.firstAfterOrEqual(s);return Pt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Pt.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jh{constructor(e){this.Ss=e,this.docs=new Ar(Rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),f=c?c.size:0,E=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:E}),this.size+=E-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Pt.resolve(s?s.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let s=js();return t.forEach(c=>{const f=this.docs.get(c);s=s.insert(c,f?f.document.mutableCopy():wi.newInvalidDocument(c))}),Pt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let f=js();const E=t.path,k=new Rn(E.child("")),G=this.docs.getIteratorFrom(k);for(;G.hasNext();){const{key:J,value:{document:le}}=G.getNext();if(!E.isPrefixOf(J.path))break;J.path.length>E.length+1||Dl(Cs(le),s)<=0||(c.has(le.key)||vc(t,le))&&(f=f.insert(le.key,le.mutableCopy()))}return Pt.resolve(f)}getAllFromCollectionGroup(e,t,s,c){$n()}Ds(e,t){return Pt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Kp(this)}getSize(e){return Pt.resolve(this.size)}}class Kp extends Qh{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.rs.addEntry(e,c)):this.rs.removeEntry(s)}),Pt.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Ng{constructor(e){this.persistence=e,this.Cs=new _c(t=>Oa(t),Lc),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Gf,this.targetCount=0,this.ks=ju.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,c)=>t(c)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Pt.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ju(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Pt.resolve()}updateTargetData(e,t){return this.$n(t),Pt.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,t,s){let c=0;const f=[];return this.Cs.forEach((E,k)=>{k.sequenceNumber<=t&&null===s.get(k.targetId)&&(this.Cs.delete(E),f.push(this.removeMatchingKeysForTargetId(e,k.targetId)),c++)}),Pt.waitFor(f).next(()=>c)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Pt.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Pt.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const c=this.persistence.referenceDelegate,f=[];return c&&t.forEach(E=>{f.push(c.markPotentiallyOrphaned(e,E))}),Pt.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Pt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Pt.resolve(s)}containsKey(e,t){return Pt.resolve(this.Ns.containsKey(t))}}class ef{constructor(e,t){this.Ms={},this.overlays={},this.Os=new z(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Ng(this),this.indexManager=new Lp,this.remoteDocumentCache=new Jh(s=>this.referenceDelegate.Bs(s)),this.serializer=new Xm(t),this.Ls=new zf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ny,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new Wf(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){hn("MemoryPersistence","Starting transaction:",e);const c=new Fg(this.Os.next());return this.referenceDelegate.qs(),s(c).next(f=>this.referenceDelegate.Us(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ks(e,t){return Pt.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class Fg extends Kr{constructor(e){super(),this.currentSequenceNumber=e}}class uh{constructor(e){this.persistence=e,this.Gs=new Gf,this.Qs=null}static js(e){return new uh(e)}get zs(){if(this.Qs)return this.Qs;throw $n()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Pt.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Pt.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Pt.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(c=>this.zs.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(f=>this.zs.add(f.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.zs,s=>{const c=Rn.fromPath(s);return this.Ws(e,c).next(f=>{f||t.removeEntry(c,Qn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Pt.or([()=>Pt.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Ul{constructor(e){this.serializer=e}$(e,t,s,c){const f=new Ii("createOrUpgrade",t);var k;s<1&&c>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gi,{unique:!0}),k.createObjectStore("documentMutations"),Lg(e),function(k){k.createObjectStore("remoteDocuments")}(e));let E=Pt.resolve();return s<3&&c>=3&&(0!==s&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),Lg(e)),E=E.next(()=>function(k){const G=k.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",J)}(f))),s<4&&c>=4&&(0!==s&&(E=E.next(()=>function(k,G){return G.store("mutations").j().next(J=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gi,{unique:!0});const le=G.store("mutations"),Xe=J.map(Ot=>le.put(Ot));return Pt.waitFor(Xe)})}(e,f))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(E=E.next(()=>this.Js(f))),s<6&&c>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(f)))),s<7&&c>=7&&(E=E.next(()=>this.Xs(f))),s<8&&c>=8&&(E=E.next(()=>this.Zs(e,f))),s<9&&c>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(E=E.next(()=>this.ti(f))),s<11&&c>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(E=E.next(()=>{!function(k){const G=k.createObjectStore("documentOverlays",{keyPath:td});G.createIndex("collectionPathOverlayIndex",nd,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",rd,{unique:!1})}(e)})),s<13&&c>=13&&(E=E.next(()=>function(k){const G=k.createObjectStore("remoteDocumentsV14",{keyPath:Mo});G.createIndex("documentKeyIndex",Es),G.createIndex("collectionGroupIndex",Mr)}(e)).next(()=>this.ei(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(E=E.next(()=>this.ni(e,f))),s<15&&c>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Tl}).createIndex("sequenceNumberIndex",ol,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Ld}).createIndex("documentKeyIndex",Zo,{unique:!1})}(e))),E}Ys(e){let t=0;return e.store("remoteDocuments").X((s,c)=>{t+=Zr(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Js(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(c=>Pt.forEach(c,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",E).next(k=>Pt.forEach(k,G=>{ar(G.userId===f.userId);const J=fu(this.serializer,G);return $p(e,f.userId,J).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const f=[];return s.X((E,k)=>{const G=new pi(E),J=[0,kt(G)];f.push(t.get(J).next(le=>le?Pt.resolve():t.put({targetId:0,path:kt(G),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Pt.waitFor(f))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:$o});const s=t.store("collectionParents"),c=new fl,f=E=>{if(c.add(E)){const k=E.lastSegment(),G=E.popLast();return s.put({collectionId:k,parent:kt(G)})}};return t.store("remoteDocuments").X({Y:!0},(E,k)=>{const G=new pi(E);return f(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,k,G],J)=>{const le=Mn(k);return f(le.popLast())}))}ti(e){const t=e.store("targets");return t.X((s,c)=>{const f=$c(c),E=rh(this.serializer,f);return t.put(E)})}ei(e,t){const s=t.store("remoteDocuments"),c=[];return s.X((f,E)=>{const k=t.store("remoteDocumentsV14"),G=(J=E,J.document?new Rn(pi.fromString(J.document.name).popFirst(5)):J.noDocument?Rn.fromSegments(J.noDocument.path):J.unknownDocument?Rn.fromSegments(J.unknownDocument.path):$n()).path.toArray();var J;const le={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};c.push(k.put(le))}).next(()=>Pt.waitFor(c))}ni(e,t){const s=t.store("mutations"),c=Td(this.serializer),f=new ef(uh.js,this.serializer.le);return s.j().next(E=>{const k=new Map;return E.forEach(G=>{var J;let le=null!==(J=k.get(G.userId))&&void 0!==J?J:Yr();fu(this.serializer,G).keys().forEach(Xe=>le=le.add(Xe)),k.set(G.userId,le)}),Pt.forEach(k,(G,J)=>{const le=new Wi(J),Xe=wd.fe(this.serializer,le),Ot=f.getIndexManager(le),an=ah.fe(le,this.serializer,Ot,f.referenceDelegate);return new Wp(c,an,Xe,Ot).recalculateAndSaveOverlaysForDocumentKeys(new Iu(t,z.ct),G).next()})})}}function Lg(r){r.createObjectStore("targetDocuments",{keyPath:_o}).createIndex("documentTargetsIndex",Jc,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hc,{unique:!0}),r.createObjectStore("targetGlobal")}const tf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qp{constructor(e,t,s,c,f,E,k,G,J,le,Xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.si=f,this.window=E,this.document=k,this.ii=J,this.ri=le,this.oi=Xe,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=Ot=>Promise.resolve(),!qp.D())throw new rn(Lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ch(this,c),this.fi=t+"main",this.serializer=new Xm(G),this.di=new to(this.fi,this.oi,new Ul(this.serializer)),this.Fs=new Up(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Td(this.serializer),this.Ls=new ih,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===le&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rn(Lt.FAILED_PRECONDITION,tf);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new z(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var s=(0,ue.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,ue.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ue.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Yo(e))return hn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return hn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Kf(e).get("owner").next(t=>Pt.resolve(this.Ri(t)))}vi(e){return Uc(e).delete(this.clientId)}Pi(){var e=this;return(0,ue.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=$s(s,"clientMetadata");return c.j().next(f=>{const E=e.Vi(f,18e5),k=f.filter(G=>-1===E.indexOf(G));return Pt.forEach(k,G=>c.delete(G.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Si(s.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Pt.resolve(!0):Kf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new rn(Lt.FAILED_PRECONDITION,tf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(e).j().next(s=>void 0===this.Vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&hn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Iu(t,z.ct);return e.Ei(s).next(()=>e.vi(s))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(s=>this.bi(s.updateTimeMs,t)&&!this.Di(s.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>Uc(e).j().next(t=>this.Vi(t,18e5).map(s=>s.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return ah.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cd(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return wd.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,s){hn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",f=15===(E=this.oi)?Nc:14===E?kc:13===E?Oc:12===E?Bd:11===E?Eu:void $n();var E;let k;return this.di.runTransaction(e,c,f,G=>(k=new Iu(G,this.Os?this.Os.next():z.ct),"readwrite-primary"===t?this.Ii(k).next(J=>!!J||this.Ti(k)).next(J=>{if(!J)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new rn(Lt.FAILED_PRECONDITION,Wl);return s(k)}).next(J=>this.Ai(k).next(()=>J)):this.Oi(k).next(()=>s(k)))).then(G=>(k.raiseOnCommittedEvent(),G))}Oi(e){return Kf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new rn(Lt.FAILED_PRECONDITION,tf)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kf(e).put("owner",t)}static D(){return to.D()}Ei(e){const t=Kf(e);return t.get("owner").next(s=>this.Ri(s)?(hn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Pt.resolve())}bi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ji(`Detected an update time that is in the future: ${e} > ${s}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Ze.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return hn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ji("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kf(r){return $s(r,"owner")}function Uc(r){return $s(r,"clientMetadata")}function qf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Yp{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=c}static Bi(e,t){let s=Yr(),c=Yr();for(const f of t.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Yp(e,t.fromCache,s,c)}}class Zp{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,c){return this.Ui(e,t).next(f=>f||this.Ki(e,t,c,s)).next(f=>f||this.Gi(e,t))}Ui(e,t){if(ad(t))return Pt.resolve(null);let s=wo(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=ud(t,null,"F"),s=wo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const E=Yr(...f);return this.qi.getDocuments(e,E).next(k=>this.indexManager.getMinOffset(e,s).next(G=>{const J=this.Qi(t,k);return this.ji(t,J,E,G.readTime)?this.Ui(e,ud(t,null,"F")):this.zi(e,J,t,G)}))})))}Ki(e,t,s,c){return ad(t)||c.isEqual(Qn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(f=>{const E=this.Qi(t,f);return this.ji(t,E,s,c)?this.Gi(e,t):(oc()<=et.in.DEBUG&&hn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Tu(t)),this.zi(e,E,t,Qc(c,-1)))})}Qi(e,t){let s=new Ui(Nh(e));return t.forEach((c,f)=>{vc(e,f)&&(s=s.add(f))}),s}ji(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Gi(e,t){return oc()<=et.in.DEBUG&&hn("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.qi.getDocumentsMatchingQuery(e,t,es.min())}zi(e,t,s,c){return this.qi.getDocumentsMatchingQuery(e,s,c).next(f=>(t.forEach(E=>{f=f.insert(E.key,E)}),f))}}class ry{constructor(e,t,s,c){this.persistence=e,this.Wi=t,this.serializer=c,this.Hi=new Ar(ur),this.Ji=new _c(f=>Oa(f),Lc),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function Bg(r,e,t,s){return new ry(r,e,t,s)}function nf(r,e){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,ue.Z)(function*(r,e){const t=Ln(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(f=>(c=f,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(f=>{const E=[],k=[];let G=Yr();for(const J of c){E.push(J.batchId);for(const le of J.mutations)G=G.add(le.key)}for(const J of f){k.push(J.batchId);for(const le of J.mutations)G=G.add(le.key)}return t.localDocuments.getDocuments(s,G).next(J=>({tr:J,removedBatchIds:E,addedBatchIds:k}))})})}),Gu.apply(this,arguments)}function hh(r){const e=Ln(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function rf(r,e,t){let s=Yr(),c=Yr();return t.forEach(f=>s=s.add(f)),e.getEntries(r,s).next(f=>{let E=js();return t.forEach((k,G)=>{const J=f.get(k);G.isFoundDocument()!==J.isFoundDocument()&&(c=c.add(k)),G.isNoDocument()&&G.version.isEqual(Qn.min())?(e.removeEntry(k,G.readTime),E=E.insert(k,G)):!J.isValidDocument()||G.version.compareTo(J.version)>0||0===G.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(G),E=E.insert(k,G)):hn("LocalStore","Ignoring outdated watch update for ",k,". Current version:",J.version," Watch version:",G.version)}),{er:E,nr:c}})}function $g(r,e){const t=Ln(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Wu(r,e){const t=Ln(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Fs.getTargetData(s,e).next(f=>f?(c=f,Pt.resolve(c)):t.Fs.allocateTargetId(s).next(E=>(c=new Cc(e,E,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Hi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}function Ku(r,e,t){return sf.apply(this,arguments)}function sf(){return sf=(0,ue.Z)(function*(r,e,t){const s=Ln(r),c=s.Hi.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",f,E=>s.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!Yo(E))throw E;hn("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(c.target)}),sf.apply(this,arguments)}function af(r,e,t){const s=Ln(r);let c=Qn.min(),f=Yr();return s.persistence.runTransaction("Execute query","readonly",E=>function(k,G,J){const le=Ln(k),Xe=le.Ji.get(J);return void 0!==Xe?Pt.resolve(le.Hi.get(Xe)):le.Fs.getTargetData(G,J)}(s,E,wo(e)).next(k=>{if(k)return c=k.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(E,k.targetId).next(G=>{f=G})}).next(()=>s.Wi.getDocumentsMatchingQuery(E,e,t?c:Qn.min(),t?f:Yr())).next(k=>(Ug(s,kh(e),k),{documents:k,sr:f})))}function Yf(r,e){const t=Ln(r),s=Ln(t.Fs),c=t.Hi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",f=>s.he(f,e).next(E=>E?E.target:null))}function sc(r,e){const t=Ln(r),s=t.Yi.get(e)||Qn.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Xi.getAllFromCollectionGroup(c,e,Qc(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Ug(t,e,c),c))}function Ug(r,e,t){let s=r.Yi.get(e)||Qn.min();t.forEach((c,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),r.Yi.set(e,s)}function Xf(){return Xf=(0,ue.Z)(function*(r,e,t,s){const c=Ln(r);let f=Yr(),E=js();for(const J of t){const le=e.ir(J.metadata.name);J.document&&(f=f.add(le));const Xe=e.rr(J);Xe.setReadTime(e.ur(J.metadata.readTime)),E=E.insert(le,Xe)}const k=c.Xi.newChangeBuffer({trackRemovals:!0}),G=yield Wu(c,(J=s,wo(Ol(pi.fromString(`__bundle__/docs/${J}`)))));var J;return c.persistence.runTransaction("Apply bundle documents","readwrite",J=>rf(J,k,E).next(le=>(k.apply(J),le)).next(le=>c.Fs.removeMatchingKeysForTargetId(J,G.targetId).next(()=>c.Fs.addMatchingKeys(J,f,G.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(J,le.er,le.nr)).next(()=>le.er)))}),Xf.apply(this,arguments)}function Vg(r,e){return lf.apply(this,arguments)}function lf(){return lf=(0,ue.Z)(function*(r,e,t=Yr()){const s=yield Wu(r,wo(Pp(e.bundledQuery))),c=Ln(r);return c.persistence.runTransaction("Save named query","readwrite",f=>{const E=bs(e.readTime);if(s.snapshotVersion.compareTo(E)>=0)return c.Ls.saveNamedQuery(f,e);const k=s.withResumeToken(no.EMPTY_BYTE_STRING,E);return c.Hi=c.Hi.insert(k.targetId,k),c.Fs.updateTargetData(f,k).next(()=>c.Fs.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>c.Fs.addMatchingKeys(f,t,s.targetId)).next(()=>c.Ls.saveNamedQuery(f,e))})}),lf.apply(this,arguments)}function jg(r,e){return`firestore_clients_${r}_${e}`}function Hg(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Za(r,e){return`firestore_targets_${r}_${e}`}class Qf{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static cr(e,t,s){const c=JSON.parse(s);let f,E="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(f=new rn(c.error.code,c.error.message))),E?new Qf(e,t,c.state,f):(Ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static cr(e,t){const s=JSON.parse(t);let c,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(c=new rn(s.error.code,s.error.message))),f?new fh(e,s.state,c):(Ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,f=Au();for(let E=0;c&&E<s.activeTargetIds.length;++E)c=nt(s.activeTargetIds[E]),f=f.add(s.activeTargetIds[E]);return c?new Jp(e,f):(Ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cf{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cf(t.clientId,t.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class eg{constructor(){this.activeTargetIds=Au()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jf{constructor(e,t,s,c,f){this.window=e,this.si=t,this.persistenceKey=s,this.dr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Ar(ur),this.started=!1,this.gr=[];const E=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.yr=jg(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new eg),this.Ir=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.Z)(function*(){const t=yield e.syncEngine.Mi();for(const c of t){if(c===e.dr)continue;const f=e.getItem(jg(e.persistenceKey,c));if(f){const E=Jp.cr(c,f);E&&(e.mr=e.mr.insert(E.clientId,E))}}e.vr();const s=e.storage.getItem(e.Ar);if(s){const c=e.Pr(s);c&&e.br(c)}for(const c of e.gr)e.wr(c);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,s){this.Sr(e,t,s),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Za(this.persistenceKey,e));if(s){const c=fh.cr(e,s);c&&(t=c.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Za(this.persistenceKey,e))}updateQueryState(e,t,s){this.Nr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Dr(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return hn("SharedClientState","READ",e,t),t}setItem(e,t){hn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){hn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(hn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.yr)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ue.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ir.test(s.key)){if(null==s.newValue){const c=t.Or(s.key);return t.$r(c,null)}{const c=t.Fr(s.key,s.newValue);if(c)return t.$r(c.clientId,c)}}else if(t.Tr.test(s.key)){if(null!==s.newValue){const c=t.Br(s.key,s.newValue);if(c)return t.Lr(c)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const c=t.qr(s.key,s.newValue);if(c)return t.Ur(c)}}else if(s.key===t.Ar){if(null!==s.newValue){const c=t.Pr(s.newValue);if(c)return t.br(c)}}else if(s.key===t.pr){const c=function(f){let E=z.ct;if(null!=f)try{const k=JSON.parse(f);ar("number"==typeof k),E=k}catch(k){Ji("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(s.newValue);c!==z.ct&&t.sequenceNumberHandler(c)}else if(s.key===t.Rr){const c=t.Kr(s.newValue);yield Promise.all(c.map(f=>t.syncEngine.Gr(f)))}}else t.gr.push(s)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,s){const c=new Qf(this.currentUser,e,t,s),f=Hg(this.persistenceKey,this.currentUser,e);this.setItem(f,c.ar())}Dr(e){const t=Hg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,s){const c=Za(this.persistenceKey,e),f=new fh(e,t,s);this.setItem(c,f.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const s=this.Or(e);return Jp.cr(s,t)}Br(e,t){const s=this.Tr.exec(e),c=Number(s[1]);return Qf.cr(new Wi(void 0!==s[2]?s[2]:null),c,t)}qr(e,t){const s=this.Er.exec(e),c=Number(s[1]);return fh.cr(c,t)}Pr(e){return cf.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);hn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const s=t?this.mr.insert(e,t):this.mr.remove(e),c=this.Vr(this.mr),f=this.Vr(s),E=[],k=[];return f.forEach(G=>{c.has(G)||E.push(G)}),c.forEach(G=>{f.has(G)||k.push(G)}),this.syncEngine.zr(E,k).then(()=>{this.mr=s})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=Au();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class zg{constructor(){this.Wr=new eg,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new eg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iy{Jr(e){}shutdown(){}}class tg{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){hn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){hn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ep=null;function ng(){return null===ep?ep=268435456+Math.round(2147483648*Math.random()):ep++,"0x"+ep.toString(16)}const rg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sy{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const La="WebChannelConnection";class oy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,c,f){const E=ng(),k=this.Io(e,t);hn("RestConnection",`Sending RPC '${e}' ${E}:`,k,s);const G={};return this.To(G,c,f),this.Eo(e,k,G,s).then(J=>(hn("RestConnection",`Received RPC '${e}' ${E}: `,J),J),J=>{throw hi("RestConnection",`RPC '${e}' ${E} failed with error: `,J,"url: ",k,"request:",s),J})}Ao(e,t,s,c,f,E){return this.po(e,t,s,c,f)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,f)=>e[f]=c),s&&s.headers.forEach((c,f)=>e[f]=c)}Io(e,t){return`${this.wo}/v1/${t}:${rg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,c){const f=ng();return new Promise((E,k)=>{const G=new El;G.setWithCredentials(!0),G.listenOnce(_s.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Ko.NO_ERROR:const le=G.getResponseJson();hn(La,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(le)),E(le);break;case Ko.TIMEOUT:hn(La,`RPC '${e}' ${f} timed out`),k(new rn(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const Xe=G.getStatus();if(hn(La,`RPC '${e}' ${f} failed with status:`,Xe,"response text:",G.getResponseText()),Xe>0){let Ot=G.getResponseJson();Array.isArray(Ot)&&(Ot=Ot[0]);const an=null==Ot?void 0:Ot.error;if(an&&an.status&&an.message){const bn=function(xn){const dr=xn.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(dr)>=0?dr:Lt.UNKNOWN}(an.status);k(new rn(bn,an.message))}else k(new rn(Lt.UNKNOWN,"Server responded with status "+G.getStatus()))}else k(new rn(Lt.UNAVAILABLE,"Connection failed."));break;default:$n()}}finally{hn(La,`RPC '${e}' ${f} completed.`)}});const J=JSON.stringify(c);hn(La,`RPC '${e}' ${f} sending request:`,c),G.send(t,"POST",J,s,15)})}Ro(e,t,s){const c=ng(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=Wo(),k=yo(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new Qs({})),this.To(G.initMessageHeaders,t,s),G.encodeInitMessageHeaders=!0;const J=f.join("");hn(La,`Creating RPC '${e}' stream ${c}: ${J}`,G);const le=E.createWebChannel(J,G);let Xe=!1,Ot=!1;const an=new sy({io:xn=>{Ot?hn(La,`Not sending because RPC '${e}' stream ${c} is closed:`,xn):(Xe||(hn(La,`Opening RPC '${e}' stream ${c} transport.`),le.open(),Xe=!0),hn(La,`RPC '${e}' stream ${c} sending:`,xn),le.send(xn))},ro:()=>le.close()}),bn=(xn,dr,ri)=>{xn.listen(dr,Oi=>{try{ri(Oi)}catch(ii){setTimeout(()=>{throw ii},0)}})};return bn(le,il.EventType.OPEN,()=>{Ot||hn(La,`RPC '${e}' stream ${c} transport opened.`)}),bn(le,il.EventType.CLOSE,()=>{Ot||(Ot=!0,hn(La,`RPC '${e}' stream ${c} transport closed`),an.fo())}),bn(le,il.EventType.ERROR,xn=>{Ot||(Ot=!0,hi(La,`RPC '${e}' stream ${c} transport errored:`,xn),an.fo(new rn(Lt.UNAVAILABLE,"The operation could not be completed")))}),bn(le,il.EventType.MESSAGE,xn=>{var dr;if(!Ot){const ri=xn.data[0];ar(!!ri);const ii=ri.error||(null===(dr=ri[0])||void 0===dr?void 0:dr.error);if(ii){hn(La,`RPC '${e}' stream ${c} received error:`,ii);const Ba=ii.status;let Ps=function($a){const Ah=yt[$a];if(void 0!==Ah)return Jn(Ah)}(Ba),ws=ii.message;void 0===Ps&&(Ps=Lt.INTERNAL,ws="Unknown error status: "+Ba+" with message "+ii.message),Ot=!0,an.fo(new rn(Ps,ws)),le.close()}else hn(La,`RPC '${e}' stream ${c} received:`,ri),an._o(ri)}}),bn(k,Xs.STAT_EVENT,xn=>{xn.stat===Ls.PROXY?hn(La,`RPC '${e}' stream ${c} detected buffering proxy`):xn.stat===Ls.NOPROXY&&hn(La,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{an.lo()},0),an}}function ay(){return typeof window<"u"?window:null}function ig(){return typeof document<"u"?document:null}function gl(r){return new $h(r,!0)}class uf{constructor(e,t,s=1e3,c=1.5,f=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=c,this.bo=f,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),c=Math.max(0,t-s);c>0&&hn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,c,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class Gg{constructor(e,t,s,c,f,E,k,G){this.si=e,this.Mo=s,this.Oo=c,this.connection=f,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=G,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new uf(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,ue.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,ue.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,ue.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===Lt.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===Lt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.$o===t&&this.Xo(s,c)},s=>{e(()=>{const c=new rn(Lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(c)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(c=>{s(()=>this.Zo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,ue.Z)(function*(){e.state=0,e.start()}))}Zo(e){return hn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(hn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wg extends Gg{constructor(e,t,s,c,f,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,E),this.serializer=f}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Rp(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:$n(),c=e.targetChange.targetIds||[],f=function(G,J){return G.useProto3Json?(ar(void 0===J||"string"==typeof J),no.fromBase64String(J||"")):(ar(void 0===J||J instanceof Uint8Array),no.fromUint8Array(J||new Uint8Array))}(r,e.targetChange.resumeToken),E=e.targetChange.cause,k=E&&function(G){const J=void 0===G.code?Lt.UNKNOWN:Jn(G.code);return new rn(J,G.message||"")}(E);t=new yd(s,c,f,k||null)}else if("documentChange"in e){const s=e.documentChange,c=nc(r,s.document.name),f=bs(s.document.updateTime),E=s.document.createTime?bs(s.document.createTime):Qn.min(),k=new Vs({mapValue:{fields:s.document.fields}}),G=wi.newFoundDocument(c,f,E,k);t=new Pu(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,c=nc(r,s.document),f=s.readTime?bs(s.readTime):Qn.min(),E=wi.newNoDocument(c,f);t=new Pu([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const s=e.documentRemove,c=nc(r,s.document);t=new Pu([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return $n();{const s=e.filter,{count:c=0,unchangedNames:f}=s,E=new Je(c,f);t=new Yd(s.targetId,E)}}var G;return t}(this.serializer,e),s=function(c){if(!("targetChange"in c))return Qn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Qn.min():f.readTime?bs(f.readTime):Qn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=Id(this.serializer),t.addTarget=function(c,f){let E;const k=f.target;if(E=Pl(k)?{documents:Hh(c,k)}:{query:th(c,k)},E.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){E.resumeToken=Uh(c,f.resumeToken);const G=Jd(c,f.expectedCount);null!==G&&(E.expectedCount=G)}else if(f.snapshotVersion.compareTo(Qn.min())>0){E.readTime=ku(c,f.snapshotVersion.toTimestamp());const G=Jd(c,f.expectedCount);null!==G&&(E.expectedCount=G)}return E}(this.serializer,e);const s=function Nf(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $n()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=Id(this.serializer),t.removeTarget=e,this.zo(t)}}class Kg extends Gg{constructor(e,t,s,c,f,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,E),this.serializer=f,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Ll(r,e){return r&&r.length>0?(ar(void 0!==e),r.map(t=>function(s,c){let f=bs(s.updateTime?s.updateTime:c);return f.isEqual(Qn.min())&&(f=bs(c)),new Ka(f,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=bs(e.commitTime);return this.listener.uu(s,t)}return ar(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Id(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>du(this.serializer,s))};this.zo(t)}}class ly extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=c,this.hu=!1}lu(){if(this.hu)throw new rn(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.po(e,t,s,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rn(Lt.UNKNOWN,c.toString())})}Ao(e,t,s,c){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,E])=>this.connection.Ao(e,t,s,f,E,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rn(Lt.UNKNOWN,f.toString())})}terminate(){this.hu=!0}}class Vc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Ji(t),this.wu=!1):hn("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ca{constructor(e,t,s,c,f){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=f,this.vu.Jr(k=>{s.enqueueAndForget((0,ue.Z)(function*(){var G;Hc(E)&&(hn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ue.Z)(function*(J){const le=Ln(J);le.Au.add(4),yield mu(le),le.Pu.set("Unknown"),le.Au.delete(4),yield ba(le)}),function(J){return G.apply(this,arguments)})(E))}))}),this.Pu=new Vc(s,c)}}function ba(r){return jc.apply(this,arguments)}function jc(){return jc=(0,ue.Z)(function*(r){if(Hc(r))for(const e of r.Ru)yield e(!0)}),jc.apply(this,arguments)}function mu(r){return ph.apply(this,arguments)}function ph(){return ph=(0,ue.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),ph.apply(this,arguments)}function og(r,e){const t=Ln(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),hf(t)?df(t):p(t).Uo()&&qg(t,e))}function Ad(r,e){const t=Ln(r),s=p(t);t.Eu.delete(e),s.Uo()&&ag(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Hc(t)&&t.Pu.set("Unknown"))}function qg(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}p(r).nu(e)}function ag(r,e){r.bu.Lt(e),p(r).su(e)}function df(r){r.bu=new Zd({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),p(r).start(),r.Pu.mu()}function hf(r){return Hc(r)&&!p(r).qo()&&r.Eu.size>0}function Hc(r){return 0===Ln(r).Au.size}function ff(r){r.bu=void 0}function Vl(r){return gh.apply(this,arguments)}function gh(){return gh=(0,ue.Z)(function*(r){r.Eu.forEach((e,t)=>{qg(r,e)})}),gh.apply(this,arguments)}function pf(r,e){return xd.apply(this,arguments)}function xd(){return xd=(0,ue.Z)(function*(r,e){ff(r),hf(r)?(r.Pu.pu(e),df(r)):r.Pu.set("Unknown")}),xd.apply(this,arguments)}function uy(r,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,ue.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof yd&&2===e.state&&e.cause)try{yield(s=(0,ue.Z)(function*(c,f){const E=f.cause;for(const k of f.targetIds)c.Eu.has(k)&&(yield c.remoteSyncer.rejectListen(k,E),c.Eu.delete(k),c.bu.removeTarget(k))}),function(c,f){return s.apply(this,arguments)})(r,e)}catch(s){hn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield mh(r,s)}else if(e instanceof Pu?r.bu.Wt(e):e instanceof Yd?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(Qn.min()))try{const s=yield hh(r.localStore);t.compareTo(s)>=0&&(yield function(c,f){const E=c.bu.ue(f);return E.targetChanges.forEach((k,G)=>{if(k.resumeToken.approximateByteSize()>0){const J=c.Eu.get(G);J&&c.Eu.set(G,J.withResumeToken(k.resumeToken,f))}}),E.targetMismatches.forEach((k,G)=>{const J=c.Eu.get(k);if(!J)return;c.Eu.set(k,J.withResumeToken(no.EMPTY_BYTE_STRING,J.snapshotVersion)),ag(c,k);const le=new Cc(J.target,k,G,J.sequenceNumber);qg(c,le)}),c.remoteSyncer.applyRemoteEvent(E)}(r,t))}catch(s){hn("RemoteStore","Failed to raise snapshot:",s),yield mh(r,s)}var s}),gf.apply(this,arguments)}function mh(r,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,ue.Z)(function*(r,e,t){if(!Yo(e))throw e;r.Au.add(1),yield mu(r),r.Pu.set("Offline"),t||(t=()=>hh(r.localStore)),r.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){hn("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield ba(r)}))}),tp.apply(this,arguments)}function Yg(r,e){return e().catch(t=>mh(r,t,e))}function zc(r){return lg.apply(this,arguments)}function lg(){return lg=(0,ue.Z)(function*(r){const e=Ln(r),t=I(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;dy(e);)try{const c=yield $g(e.localStore,s);if(null===c){0===e.Tu.length&&t.Qo();break}s=c.batchId,hy(e,c)}catch(c){yield mh(e,c)}Zg(e)&&cg(e)}),lg.apply(this,arguments)}function dy(r){return Hc(r)&&r.Tu.length<10}function hy(r,e){r.Tu.push(e);const t=I(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function Zg(r){return Hc(r)&&!I(r).qo()&&r.Tu.length>0}function cg(r){I(r).start()}function fy(r){return ug.apply(this,arguments)}function ug(){return ug=(0,ue.Z)(function*(r){I(r).au()}),ug.apply(this,arguments)}function py(r){return dg.apply(this,arguments)}function dg(){return dg=(0,ue.Z)(function*(r){const e=I(r);for(const t of r.Tu)e.ou(t.mutations)}),dg.apply(this,arguments)}function Xg(r,e,t){return mf.apply(this,arguments)}function mf(){return mf=(0,ue.Z)(function*(r,e,t){const s=r.Tu.shift(),c=A.from(s,e,t);yield Yg(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield zc(r)}),mf.apply(this,arguments)}function gy(r,e){return yh.apply(this,arguments)}function yh(){return yh=(0,ue.Z)(function*(r,e){var t;e&&I(r).ru&&(yield(t=(0,ue.Z)(function*(s,c){if(Pn(f=c.code)&&f!==Lt.ABORTED){const E=s.Tu.shift();I(s).Go(),yield Yg(s,()=>s.remoteSyncer.rejectFailedWrite(E.batchId,c)),yield zc(s)}var f}),function(s,c){return t.apply(this,arguments)})(r,e)),Zg(r)&&cg(r)}),yh.apply(this,arguments)}function Qg(r,e){return u.apply(this,arguments)}function u(){return u=(0,ue.Z)(function*(r,e){const t=Ln(r);t.asyncQueue.verifyOperationInProgress(),hn("RemoteStore","RemoteStore received new credentials");const s=Hc(t);t.Au.add(3),yield mu(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield ba(t)}),u.apply(this,arguments)}function a(r,e){return l.apply(this,arguments)}function l(){return l=(0,ue.Z)(function*(r,e){const t=Ln(r);e?(t.Au.delete(2),yield ba(t)):e||(t.Au.add(2),yield mu(t),t.Pu.set("Unknown"))}),l.apply(this,arguments)}function p(r){return r.Vu||(r.Vu=function(e,t,s){const c=Ln(e);return c.lu(),new Wg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(r.datastore,r.asyncQueue,{oo:Vl.bind(null,r),co:pf.bind(null,r),eu:uy.bind(null,r)}),r.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(r.Vu.Go(),hf(r)?df(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),ff(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function I(r){return r.Su||(r.Su=function(e,t,s){const c=Ln(e);return c.lu(),new Kg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(r.datastore,r.asyncQueue,{oo:fy.bind(null,r),co:gy.bind(null,r),cu:py.bind(null,r),uu:Xg.bind(null,r)}),r.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(r.Su.Go(),yield zc(r)):(yield r.Su.stop(),r.Tu.length>0&&(hn("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class R{constructor(e,t,s,c,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=f,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,s,c,f){const E=Date.now()+s,k=new R(e,t,E,c,f);return k.start(s),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn(Lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),Yo(r))return new rn(Lt.UNAVAILABLE,`${e}: ${r}`);throw r}class te{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Rn.comparator(t.key,s.key):(t,s)=>Rn.comparator(t.key,s.key),this.keyedMap=Ql(),this.sortedSet=new Ar(this.comparator)}static emptySet(e){return new te(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof te)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=s.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new te;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class he{constructor(){this.Du=new Ar(Rn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):$n():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class De{constructor(e,t,s,c,f,E,k,G,J){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=G,this.hasCachedResults=J}static fromInitialDocuments(e,t,s,c,f){const E=[];return t.forEach(k=>{E.push({type:0,doc:k})}),new De(e,t,te.emptySet(t),E,s,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class Mt{constructor(){this.xu=void 0,this.listeners=[]}}class Gt{constructor(){this.queries=new _c(e=>dd(e),Xl),this.onlineState="Unknown",this.Nu=new Set}}function Kt(r,e){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,ue.Z)(function*(r,e){const t=Ln(r),s=e.query;let c=!1,f=t.queries.get(s);if(f||(c=!0,f=new Mt),c)try{f.xu=yield t.onListen(s)}catch(E){const k=U(E,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(k)}t.queries.set(s,f),f.listeners.push(e),e.ku(t.onlineState),f.xu&&e.Mu(f.xu)&&Rs(t)}),Cn.apply(this,arguments)}function Un(r,e){return jr.apply(this,arguments)}function jr(){return jr=(0,ue.Z)(function*(r,e){const t=Ln(r),s=e.query;let c=!1;const f=t.queries.get(s);if(f){const E=f.listeners.indexOf(e);E>=0&&(f.listeners.splice(E,1),c=0===f.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),jr.apply(this,arguments)}function Ti(r,e){const t=Ln(r);let s=!1;for(const c of e){const E=t.queries.get(c.query);if(E){for(const k of E.listeners)k.Mu(c)&&(s=!0);E.xu=c}}s&&Rs(t)}function cs(r,e,t){const s=Ln(r),c=s.queries.get(e);if(c)for(const f of c.listeners)f.onError(t);s.queries.delete(e)}function Rs(r){r.Nu.forEach(e=>{e.next()})}class Ci{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new De(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=De.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Ms{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class Gc{constructor(e){this.serializer=e}ir(e){return nc(this.serializer,e)}rr(e){return e.metadata.exists?jh(this.serializer,e.document,!1):wi.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return bs(e)}}class Da{constructor(e,t,s){this.Qu=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vh(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const s=pi.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,s=new Gc(this.serializer);for(const c of e)if(c.metadata.queries){const f=s.ir(c.metadata.name);for(const E of c.metadata.queries){const k=(t.get(E)||Yr()).add(f);t.set(E,k)}}return t}complete(){var e=this;return(0,ue.Z)(function*(){const t=yield function Zf(r,e,t,s){return Xf.apply(this,arguments)}(e.localStore,new Gc(e.serializer),e.documents,e.Qu.id),s=e.zu(e.documents);for(const c of e.queries)yield Vg(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function vh(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Tc{constructor(e){this.key=e}}class yu{constructor(e){this.key=e}}class yf{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Yr(),this.mutatedKeys=Yr(),this.Zu=Nh(e),this.tc=new te(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new he,c=t?t.tc:this.tc;let f=t?t.mutatedKeys:this.mutatedKeys,E=c,k=!1;const G="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,J="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((le,Xe)=>{const Ot=c.get(le),an=vc(this.query,Xe)?Xe:null,bn=!!Ot&&this.mutatedKeys.has(Ot.key),xn=!!an&&(an.hasLocalMutations||this.mutatedKeys.has(an.key)&&an.hasCommittedMutations);let dr=!1;Ot&&an?Ot.data.isEqual(an.data)?bn!==xn&&(s.track({type:3,doc:an}),dr=!0):this.ic(Ot,an)||(s.track({type:2,doc:an}),dr=!0,(G&&this.Zu(an,G)>0||J&&this.Zu(an,J)<0)&&(k=!0)):!Ot&&an?(s.track({type:0,doc:an}),dr=!0):Ot&&!an&&(s.track({type:1,doc:Ot}),dr=!0,(G||J)&&(k=!0)),dr&&(an?(E=E.add(an),f=xn?f.add(le):f.delete(le)):(E=E.delete(le),f=f.delete(le)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const le="F"===this.query.limitType?E.last():E.first();E=E.delete(le.key),f=f.delete(le.key),s.track({type:1,doc:le})}return{tc:E,sc:s,ji:k,mutatedKeys:f}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const f=e.sc.Cu();f.sort((J,le)=>function(Xe,Ot){const an=bn=>{switch(bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $n()}};return an(Xe)-an(Ot)}(J.type,le.type)||this.Zu(J.doc,le.doc)),this.rc(s);const E=t?this.oc():[],k=0===this.Xu.size&&this.current?1:0,G=k!==this.Yu;return this.Yu=k,0!==f.length||G?{snapshot:new De(this.query,e.tc,c,f,e.mutatedKeys,0===k,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:E}:{uc:E}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new he,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Yr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new yu(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Tc(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Yr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return De.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class np{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rp{constructor(e){this.key=e,this.lc=!1}}class ip{constructor(e,t,s,c,f,E){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.fc={},this.dc=new _c(k=>dd(k),Xl),this._c=new Map,this.wc=new Set,this.mc=new Ar(Rn.comparator),this.gc=new Map,this.yc=new Gf,this.Ic={},this.Tc=new Map,this.Ec=ju.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function sp(r,e){return _h.apply(this,arguments)}function _h(){return _h=(0,ue.Z)(function*(r,e){const t=gm(r);let s,c;const f=t.dc.get(e);if(f)s=f.targetId,t.sharedClientState.addLocalQueryTarget(s),c=f.view.hc();else{const E=yield Wu(t.localStore,wo(e)),k=t.sharedClientState.addLocalQueryTarget(E.targetId);s=E.targetId,c=yield Eh(t,e,s,"current"===k,E.resumeToken),t.isPrimaryClient&&og(t.remoteStore,E)}return c}),_h.apply(this,arguments)}function Eh(r,e,t,s,c){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,ue.Z)(function*(r,e,t,s,c){r.Rc=(Xe,Ot,an)=>{return(bn=(0,ue.Z)(function*(xn,dr,ri,Oi){let ii=dr.view.nc(ri);ii.ji&&(ii=yield af(xn.localStore,dr.query,!1).then(({documents:ws})=>dr.view.nc(ws,ii)));const Ba=Oi&&Oi.targetChanges.get(dr.targetId),Ps=dr.view.applyChanges(ii,xn.isPrimaryClient,Ba);return wy(xn,dr.targetId,Ps.uc),Ps.snapshot}),function(xn,dr,ri,Oi){return bn.apply(this,arguments)})(r,Xe,Ot,an);var bn};const f=yield af(r.localStore,e,!0),E=new yf(e,f.sr),k=E.nc(f.documents),G=tc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,c),J=E.applyChanges(k,r.isPrimaryClient,G);wy(r,t,J.uc);const le=new np(e,t,E);return r.dc.set(e,le),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),J.snapshot}),Jg.apply(this,arguments)}function sv(r,e){return em.apply(this,arguments)}function em(){return em=(0,ue.Z)(function*(r,e){const t=Ln(r),s=t.dc.get(e),c=t._c.get(s.targetId);if(c.length>1)return t._c.set(s.targetId,c.filter(f=>!Xl(f,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ku(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ad(t.remoteStore,s.targetId),Rd(t,s.targetId)}).catch(xr))):(Rd(t,s.targetId),yield Ku(t.localStore,s.targetId,!0))}),em.apply(this,arguments)}function tm(){return tm=(0,ue.Z)(function*(r,e,t){const s=mm(r);try{const c=yield function(f,E){const k=Ln(f),G=ai.now(),J=E.reduce((Ot,an)=>Ot.add(an.key),Yr());let le,Xe;return k.persistence.runTransaction("Locally write mutations","readwrite",Ot=>{let an=js(),bn=Yr();return k.Xi.getEntries(Ot,J).next(xn=>{an=xn,an.forEach((dr,ri)=>{ri.isValidDocument()||(bn=bn.add(dr))})}).next(()=>k.localDocuments.getOverlayedDocuments(Ot,an)).next(xn=>{le=xn;const dr=[];for(const ri of E){const Oi=uu(ri,le.get(ri.key).overlayedDocument);null!=Oi&&dr.push(new Jl(ri.key,Oi,Kl(Oi.value.mapValue),ms.exists(!0)))}return k.mutationQueue.addMutationBatch(Ot,G,dr,E)}).next(xn=>{Xe=xn;const dr=xn.applyToLocalDocumentSet(le,bn);return k.documentOverlayCache.saveOverlays(Ot,xn.batchId,dr)})}).then(()=>({batchId:Xe.batchId,changes:su(le)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(f,E,k){let G=f.Ic[f.currentUser.toKey()];G||(G=new Ar(ur)),G=G.insert(E,k),f.Ic[f.currentUser.toKey()]=G}(s,c.batchId,t),yield vu(s,c.changes),yield zc(s.remoteStore)}catch(c){const f=U(c,"Failed to persist write");t.reject(f)}}),tm.apply(this,arguments)}function my(r,e){return nm.apply(this,arguments)}function nm(){return nm=(0,ue.Z)(function*(r,e){const t=Ln(r);try{const s=yield function Qp(r,e){const t=Ln(r),s=e.snapshotVersion;let c=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=t.Xi.newChangeBuffer({trackRemovals:!0});c=t.Hi;const k=[];e.targetChanges.forEach((le,Xe)=>{const Ot=c.get(Xe);if(!Ot)return;k.push(t.Fs.removeMatchingKeys(f,le.removedDocuments,Xe).next(()=>t.Fs.addMatchingKeys(f,le.addedDocuments,Xe)));let an=Ot.withSequenceNumber(f.currentSequenceNumber);var bn,xn,dr;null!==e.targetMismatches.get(Xe)?an=an.withResumeToken(no.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):le.resumeToken.approximateByteSize()>0&&(an=an.withResumeToken(le.resumeToken,s)),c=c.insert(Xe,an),xn=an,dr=le,(0===(bn=Ot).resumeToken.approximateByteSize()||xn.snapshotVersion.toMicroseconds()-bn.snapshotVersion.toMicroseconds()>=3e8||dr.addedDocuments.size+dr.modifiedDocuments.size+dr.removedDocuments.size>0)&&k.push(t.Fs.updateTargetData(f,an))});let G=js(),J=Yr();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(f,le))}),k.push(rf(f,E,e.documentUpdates).next(le=>{G=le.er,J=le.nr})),!s.isEqual(Qn.min())){const le=t.Fs.getLastRemoteSnapshotVersion(f).next(Xe=>t.Fs.setTargetsMetadata(f,f.currentSequenceNumber,s));k.push(le)}return Pt.waitFor(k).next(()=>E.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,G,J)).next(()=>G)}).then(f=>(t.Hi=c,f))}(t.localStore,e);e.targetChanges.forEach((c,f)=>{const E=t.gc.get(f);E&&(ar(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?E.lc=!0:c.modifiedDocuments.size>0?ar(E.lc):c.removedDocuments.size>0&&(ar(E.lc),E.lc=!1))}),yield vu(t,s,e)}catch(s){yield xr(s)}}),nm.apply(this,arguments)}function yy(r,e,t){const s=Ln(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.dc.forEach((f,E)=>{const k=E.view.ku(e);k.snapshot&&c.push(k.snapshot)}),function(f,E){const k=Ln(f);k.onlineState=E;let G=!1;k.queries.forEach((J,le)=>{for(const Xe of le.listeners)Xe.ku(E)&&(G=!0)}),G&&Rs(k)}(s.eventManager,e),c.length&&s.fc.eu(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function av(r,e,t){return vy.apply(this,arguments)}function vy(){return vy=(0,ue.Z)(function*(r,e,t){const s=Ln(r);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.gc.get(e),f=c&&c.key;if(f){let E=new Ar(Rn.comparator);E=E.insert(f,wi.newNoDocument(f,Qn.min()));const k=Yr().add(f),G=new Bc(Qn.min(),new Map,new Ar(ur),E,k);yield my(s,G),s.mc=s.mc.remove(f),s.gc.delete(e),ap(s)}else yield Ku(s.localStore,e,!1).then(()=>Rd(s,e,t)).catch(xr)}),vy.apply(this,arguments)}function E_(r,e){return rm.apply(this,arguments)}function rm(){return rm=(0,ue.Z)(function*(r,e){const t=Ln(r),s=e.batch.batchId;try{const c=yield function Xp(r,e){const t=Ln(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),f=t.Xi.newChangeBuffer({trackRemovals:!0});return function(E,k,G,J){const le=G.batch,Xe=le.keys();let Ot=Pt.resolve();return Xe.forEach(an=>{Ot=Ot.next(()=>J.getEntry(k,an)).next(bn=>{const xn=G.docVersions.get(an);ar(null!==xn),bn.version.compareTo(xn)<0&&(le.applyToRemoteDocument(bn,G),bn.isValidDocument()&&(bn.setReadTime(G.commitVersion),J.addEntry(bn)))})}),Ot.next(()=>E.mutationQueue.removeMutationBatch(k,le))}(t,s,e,f).next(()=>f.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(E){let k=Yr();for(let G=0;G<E.mutationResults.length;++G)E.mutationResults[G].transformResults.length>0&&(k=k.add(E.batch.mutations[G].key));return k}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}(t.localStore,e);op(t,s,null),Iy(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield vu(t,c)}catch(c){yield xr(c)}}),rm.apply(this,arguments)}function I_(r,e,t){return _y.apply(this,arguments)}function _y(){return _y=(0,ue.Z)(function*(r,e,t){const s=Ln(r);try{const c=yield function(f,E){const k=Ln(f);return k.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let J;return k.mutationQueue.lookupMutationBatch(G,E).next(le=>(ar(null!==le),J=le.keys(),k.mutationQueue.removeMutationBatch(G,le))).next(()=>k.mutationQueue.performConsistencyCheck(G)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(G,J,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,J)).next(()=>k.localDocuments.getDocuments(G,J))})}(s.localStore,e);op(s,e,t),Iy(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield vu(s,c)}catch(c){yield xr(c)}}),_y.apply(this,arguments)}function hg(){return hg=(0,ue.Z)(function*(r,e){const t=Ln(r);Hc(t.remoteStore)||hn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const E=Ln(f);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===s)return void e.resolve();const c=t.Tc.get(s)||[];c.push(e),t.Tc.set(s,c)}catch(s){const c=U(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),hg.apply(this,arguments)}function Iy(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function op(r,e,t){const s=Ln(r);let c=s.Ic[s.currentUser.toKey()];if(c){const f=c.get(e);f&&(t?f.reject(t):f.resolve(),c=c.remove(e)),s.Ic[s.currentUser.toKey()]=c}}function Rd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||im(r,s)})}function im(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(Ad(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),ap(r))}function wy(r,e,t){for(const s of t)s instanceof Tc?(r.yc.addReference(s.key,e),sm(r,s)):s instanceof yu?(hn("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||im(r,s.key)):$n()}function sm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(hn("SyncEngine","New document in limbo: "+t),r.wc.add(s),ap(r))}function ap(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new Rn(pi.fromString(e)),s=r.Ec.next();r.gc.set(s,new rp(t)),r.mc=r.mc.insert(t,s),og(r.remoteStore,new Cc(wo(Ol(t.path)),s,"TargetPurposeLimboResolution",z.ct))}}function vu(r,e,t){return om.apply(this,arguments)}function om(){return om=(0,ue.Z)(function*(r,e,t){const s=Ln(r),c=[],f=[],E=[];var k;s.dc.isEmpty()||(s.dc.forEach((k,G)=>{E.push(s.Rc(G,e,t).then(J=>{if((J||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,null!=J&&J.fromCache?"not-current":"current"),J){c.push(J);const le=Yp.Bi(G.targetId,J);f.push(le)}}))}),yield Promise.all(E),s.fc.eu(c),yield(k=(0,ue.Z)(function*(G,J){const le=Ln(G);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Xe=>Pt.forEach(J,Ot=>Pt.forEach(Ot.$i,an=>le.persistence.referenceDelegate.addReference(Xe,Ot.targetId,an)).next(()=>Pt.forEach(Ot.Fi,an=>le.persistence.referenceDelegate.removeReference(Xe,Ot.targetId,an)))))}catch(Xe){if(!Yo(Xe))throw Xe;hn("LocalStore","Failed to update sequence numbers: "+Xe)}for(const Xe of J){const Ot=Xe.targetId;if(!Xe.fromCache){const an=le.Hi.get(Ot),xn=an.withLastLimboFreeSnapshotVersion(an.snapshotVersion);le.Hi=le.Hi.insert(Ot,xn)}}}),function(G,J){return k.apply(this,arguments)})(s.localStore,f))}),om.apply(this,arguments)}function Cy(r,e){return am.apply(this,arguments)}function am(){return am=(0,ue.Z)(function*(r,e){const t=Ln(r);if(!t.currentUser.isEqual(e)){hn("SyncEngine","User change. New user:",e.toKey());const s=yield nf(t.localStore,e);t.currentUser=e,(c=t).Tc.forEach(E=>{E.forEach(k=>{k.reject(new rn(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield vu(t,s.tr)}var c}),am.apply(this,arguments)}function lv(r,e){const t=Ln(r),s=t.gc.get(e);if(s&&s.lc)return Yr().add(s.key);{let c=Yr();const f=t._c.get(e);if(!f)return c;for(const E of f){const k=t.dc.get(E);c=c.unionWith(k.view.ec)}return c}}function by(r,e){return lm.apply(this,arguments)}function lm(){return lm=(0,ue.Z)(function*(r,e){const t=Ln(r),s=yield af(t.localStore,e.query,!0),c=e.view.ac(s);return t.isPrimaryClient&&wy(t,e.targetId,c.uc),c}),lm.apply(this,arguments)}function w_(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,ue.Z)(function*(r,e){const t=Ln(r);return sc(t.localStore,e).then(s=>vu(t,s))}),cm.apply(this,arguments)}function cv(r,e,t,s){return um.apply(this,arguments)}function um(){return um=(0,ue.Z)(function*(r,e,t,s){const c=Ln(r),f=yield function(E,k){const G=Ln(E),J=Ln(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",le=>J.Vn(le,k).next(Xe=>Xe?G.localDocuments.getDocuments(le,Xe):Pt.resolve(null)))}(c.localStore,e);var k;null!==f?("pending"===t?yield zc(c.remoteStore):"acknowledged"===t||"rejected"===t?(op(c,e,s||null),Iy(c,e),k=e,Ln(Ln(c.localStore).mutationQueue).Dn(k)):$n(),yield vu(c,f)):hn("SyncEngine","Cannot apply mutation batch with id: "+e)}),um.apply(this,arguments)}function Dy(){return Dy=(0,ue.Z)(function*(r,e){const t=Ln(r);if(gm(t),mm(t),!0===e&&!0!==t.Ac){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield Ty(t,s.toArray());t.Ac=!0,yield a(t.remoteStore,!0);for(const f of c)og(t.remoteStore,f)}else if(!1===e&&!1!==t.Ac){const s=[];let c=Promise.resolve();t._c.forEach((f,E)=>{t.sharedClientState.isLocalQueryTarget(E)?s.push(E):c=c.then(()=>(Rd(t,E),Ku(t.localStore,E,!0))),Ad(t.remoteStore,E)}),yield c,yield Ty(t,s),function(f){const E=Ln(f);E.gc.forEach((k,G)=>{Ad(E.remoteStore,G)}),E.yc.Is(),E.gc=new Map,E.mc=new Ar(Rn.comparator)}(t),t.Ac=!1,yield a(t.remoteStore,!1)}}),Dy.apply(this,arguments)}function Ty(r,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,ue.Z)(function*(r,e,t){const s=Ln(r),c=[],f=[];for(const E of e){let k;const G=s._c.get(E);if(G&&0!==G.length){k=yield Wu(s.localStore,wo(G[0]));for(const J of G){const le=s.dc.get(J),Xe=yield by(s,le);Xe.snapshot&&f.push(Xe.snapshot)}}else{const J=yield Yf(s.localStore,E);k=yield Wu(s.localStore,J),yield Eh(s,hm(J),E,!1,k.resumeToken)}c.push(k)}return s.fc.eu(f),c}),dm.apply(this,arguments)}function hm(r){return iu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Sy(r){const e=Ln(r);return Ln(Ln(e.localStore).persistence).Mi()}function dv(r,e,t,s){return fm.apply(this,arguments)}function fm(){return fm=(0,ue.Z)(function*(r,e,t,s){const c=Ln(r);if(c.Ac)return void hn("SyncEngine","Ignoring unexpected query state notification.");const f=c._c.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const E=yield sc(c.localStore,kh(f[0])),k=Bc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,no.EMPTY_BYTE_STRING);yield vu(c,E,k);break}case"rejected":yield Ku(c.localStore,e,!0),Rd(c,e,s);break;default:$n()}}),fm.apply(this,arguments)}function hv(r,e,t){return pm.apply(this,arguments)}function pm(){return pm=(0,ue.Z)(function*(r,e,t){const s=gm(r);if(s.Ac){for(const c of e){if(s._c.has(c)){hn("SyncEngine","Adding an already active target "+c);continue}const f=yield Yf(s.localStore,c),E=yield Wu(s.localStore,f);yield Eh(s,hm(f),E.targetId,!1,E.resumeToken),og(s.remoteStore,E)}for(const c of t)s._c.has(c)&&(yield Ku(s.localStore,c,!1).then(()=>{Ad(s.remoteStore,c),Rd(s,c)}).catch(xr))}}),pm.apply(this,arguments)}function gm(r){const e=Ln(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=my.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=av.bind(null,e),e.fc.eu=Ti.bind(null,e.eventManager),e.fc.vc=cs.bind(null,e.eventManager),e}function mm(r){const e=Ln(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I_.bind(null,e),e}class lp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=gl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Bg(this.persistence,new Zp,e.initialUser,this.serializer)}createPersistence(e){return new ef(uh.js,this.serializer)}createSharedClientState(e){return new zg}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qu extends lp{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ue.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield mm(s.bc.syncEngine),yield zc(s.bc.remoteStore),yield s.persistence.pi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bg(this.persistence,new Zp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Xh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new O(t,this.persistence);return new w(e.asyncQueue,s)}createPersistence(e){const t=qf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Fa.withCacheSize(this.cacheSizeBytes):Fa.DEFAULT;return new qp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,ay(),ig(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new zg}}class pv extends qu{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ue.Z)(function*(){yield t().call(s,e);const c=s.bc.syncEngine;s.sharedClientState instanceof Jf&&(s.sharedClientState.syncEngine={Qr:cv.bind(null,c),jr:dv.bind(null,c),zr:hv.bind(null,c),Mi:Sy.bind(null,c),Gr:w_.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.pi(function(){var f=(0,ue.Z)(function*(E){yield function uv(r,e){return Dy.apply(this,arguments)}(s.bc.syncEngine,E),s.gcScheduler&&(E&&!s.gcScheduler.started?s.gcScheduler.start():E||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(E&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():E||s.indexBackfillerScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ay();if(!Jf.D(t))throw new rn(Lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=qf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class cp{initialize(e,t){var s=this;return(0,ue.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>yy(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Cy.bind(null,s.syncEngine),yield a(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gt}createDatastore(e){const t=gl(e.databaseInfo.databaseId),s=new oy(e.databaseInfo);return new ly(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,f=k=>yy(this.syncEngine,k,0),E=tg.D()?new tg:new iy,new Ca(t,s,c,f,E);var t,s,c,f,E}createSyncEngine(e,t){return function(s,c,f,E,k,G,J){const le=new ip(s,c,f,E,k,G);return J&&(le.Ac=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const s=Ln(t);hn("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield mu(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vm(r,e=10240){let t=0;return{read:()=>(0,ue.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ay{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ni,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(s=>{s&&s.Gu()?this.metadata.resolve(s.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Ku)}`))},s=>this.metadata.reject(s))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,ue.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,ue.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const s=e.Cc.decode(t),c=Number(s);isNaN(c)&&e.kc(`length string (${s}) is not valid number`);const f=yield e.Mc(c);return new Ms(JSON.parse(f),t.length+c)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,ue.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Mc(e){var t=this;return(0,ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const s=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class C_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new rn(Lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,ue.Z)(function*(f,E){const k=Ln(f),G=Id(k.serializer)+"/documents",J={documents:E.map(an=>_d(k.serializer,an))},le=yield k.Ao("BatchGetDocuments",G,J,E.length),Xe=new Map;le.forEach(an=>{const bn=function eh(r,e){return"found"in e?function(t,s){ar(!!s.found);const c=nc(t,s.found.name),f=bs(s.found.updateTime),E=s.found.createTime?bs(s.found.createTime):Qn.min(),k=new Vs({mapValue:{fields:s.found.fields}});return wi.newFoundDocument(c,f,E,k)}(r,e):"missing"in e?function(t,s){ar(!!s.missing),ar(!!s.readTime);const c=nc(t,s.missing),f=bs(s.readTime);return wi.newNoDocument(c,f)}(r,e):$n()}(k.serializer,an);Xe.set(bn.key.toString(),bn)});const Ot=[];return E.forEach(an=>{const bn=Xe.get(an.toString());ar(!!bn),Ot.push(bn)}),Ot}),function(f,E){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new C(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const f=Rn.fromPath(c);e.mutations.push(new g(f,e.precondition(f)))}),yield(s=(0,ue.Z)(function*(c,f){const E=Ln(c),k=Id(E.serializer)+"/documents",G={writes:f.map(J=>du(E.serializer,J))};yield E.po("Commit",k,G)}),function(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $n();t=Qn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new rn(Lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qn.min())?ms.exists(!1):ms.updateTime(t):ms.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qn.min()))throw new rn(Lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(t)}return ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xy{constructor(e,t,s,c,f){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=f,this.Fc=s.maxAttempts,this.Lo=new uf(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,ue.Z)(function*(){const t=new C_(e.datastore),s=e.Lc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(f=>{e.qc(f)}))}).catch(c=>{e.qc(c)})}))}Lc(e){try{const t=this.updateFunction(e);return!re(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pn(t)}return!1}}class Q0{constructor(e,t,s,c){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=Wi.UNAUTHENTICATED,this.clientId=ma.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var E=(0,ue.Z)(function*(k){hn("FirestoreClient","Received user=",k.uid),yield f.authCredentialListener(k),f.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(hn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=U(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Ry(r,e){return My.apply(this,arguments)}function My(){return My=(0,ue.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),hn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,ue.Z)(function*(f){s.isEqual(f)||(yield nf(e.localStore,f),s=f)});return function(f){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),My.apply(this,arguments)}function Py(r,e){return _m.apply(this,arguments)}function _m(){return _m=(0,ue.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Jo(r);hn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(c=>Qg(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,f)=>Qg(e.remoteStore,f)),r._onlineComponents=e}),_m.apply(this,arguments)}function gv(r){return"FirebaseError"===r.name?r.code===Lt.FAILED_PRECONDITION||r.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Jo(r){return Em.apply(this,arguments)}function Em(){return Em=(0,ue.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){hn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ry(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!gv(t))throw t;hi("Error using user provided cache. Falling back to memory cache: "+t),yield Ry(r,new lp)}}else hn("FirestoreClient","Using default OfflineComponentProvider"),yield Ry(r,new lp);return r._offlineComponents}),Em.apply(this,arguments)}function Im(r){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,ue.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(hn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Py(r,r._uninitializedComponentsProvider._online)):(hn("FirestoreClient","Using default OnlineComponentProvider"),yield Py(r,new cp))),r._onlineComponents}),Oy.apply(this,arguments)}function ky(r){return Jo(r).then(e=>e.persistence)}function wm(r){return Jo(r).then(e=>e.localStore)}function Ny(r){return Im(r).then(e=>e.remoteStore)}function Cm(r){return Im(r).then(e=>e.syncEngine)}function up(r){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,ue.Z)(function*(r){const e=yield Im(r),t=e.eventManager;return t.onListen=sp.bind(null,e.syncEngine),t.onUnlisten=sv.bind(null,e.syncEngine),t}),Fy.apply(this,arguments)}function D_(r,e,t={}){const s=new ni;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,f,E,k,G){const J=new Yu({next:Xe=>{f.enqueueAndForget(()=>Un(c,le));const Ot=Xe.docs.has(E);!Ot&&Xe.fromCache?G.reject(new rn(Lt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ot&&Xe.fromCache&&k&&"server"===k.source?G.reject(new rn(Lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),le=new Ci(Ol(E.path),J,{includeMetadataChanges:!0,Uu:!0});return Kt(c,le)}(yield up(r),r.asyncQueue,e,t,s)})),s.promise}function bm(r,e,t={}){const s=new ni;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,f,E,k,G){const J=new Yu({next:Xe=>{f.enqueueAndForget(()=>Un(c,le)),Xe.fromCache&&"server"===k.source?G.reject(new rn(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),le=new Ci(E,J,{includeMetadataChanges:!0,Uu:!0});return Kt(c,le)}(yield up(r),r.asyncQueue,e,t,s)})),s.promise}const Wc=new Map;function Sc(r,e,t){if(!t)throw new rn(Lt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ly(r,e,t,s){if(!0===e&&!0===s)throw new rn(Lt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function By(r){if(!Rn.isDocumentKey(r))throw new rn(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _v(r){if(Rn.isDocumentKey(r))throw new rn(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":$n()}function Ni(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rn(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dm(r);throw new rn(Lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Ev(r,e){if(e<=0)throw new rn(Lt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Tm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new rn(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rn(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ly("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rn(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rn(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cc;switch(t.type){case"firstParty":return new Yc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new rn(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wc.get(e);t&&(hn("ComponentProvider","Removing Datastore"),Wc.delete(e),t.terminate())}(this),Promise.resolve()}}class Hs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hs(this.firestore,e,this._key)}}class Xa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Qu extends Xa{constructor(e,t,s){super(e,t,Ol(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hs(this.firestore,null,new Rn(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function $y(r,e,...t){if(r=(0,Ze.m9)(r),Sc("collection","path",e),r instanceof Md){const s=pi.fromString(e,...t);return _v(s),new Qu(r,null,s)}{if(!(r instanceof Hs||r instanceof Qu))throw new rn(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pi.fromString(e,...t));return _v(s),new Qu(r.firestore,null,s)}}function _f(r,e,...t){if(r=(0,Ze.m9)(r),1===arguments.length&&(e=ma.A()),Sc("doc","path",e),r instanceof Md){const s=pi.fromString(e,...t);return By(s),new Hs(r,null,new Rn(s))}{if(!(r instanceof Hs||r instanceof Qu))throw new rn(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pi.fromString(e,...t));return By(s),new Hs(r.firestore,r instanceof Qu?r.converter:null,new Rn(s))}}function Cv(r,e){return r=(0,Ze.m9)(r),e=(0,Ze.m9)(e),(r instanceof Hs||r instanceof Qu)&&(e instanceof Hs||e instanceof Qu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Sm(r,e){return r=(0,Ze.m9)(r),e=(0,Ze.m9)(e),r instanceof Xa&&e instanceof Xa&&r.firestore===e.firestore&&Xl(r._query,e._query)&&r.converter===e.converter}class bv{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new uf(this,"async_queue_retry"),this.Yc=()=>{const t=ig();t&&hn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=ig();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=ig();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ni;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Yo(t))throw t;hn("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(f){let E=f.message||"";return f.stack&&(E=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),E}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const c=R.createAndSchedule(this,e,t,s,f=>this.ea(f));return this.jc.push(c),c}Xc(){this.zc&&$n()}verifyOperationInProgress(){}na(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function fg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(r)}class Am{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zs extends Md{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new bv,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uy(this),this._firestoreClient.terminate()}}function Vo(r){return r._firestoreClient||Uy(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Uy(r){var e,t,s;const c=r._freezeSettings(),f=(k=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Pa(r._databaseId,k,r._persistenceKey,(J=c).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,J.useFetchStreams));var k,J;r._firestoreClient=new Q0(r._authCredentials,r._appCheckCredentials,r._queue,f),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=c.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}function Av(r,e,t){const s=new ni;return r.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield Ry(r,t),yield Py(r,e),s.resolve()}catch(c){const f=c;if(!gv(f))throw f;hi("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function xv(r){if(r._initialized||r._terminated)throw new rn(Lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ju(no.fromBase64String(e))}catch(t){throw new rn(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ju(no.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rn(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ef{constructor(e){this._methodName=e}}class xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rn(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rn(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}}const L_=/^__.*__$/;class B_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ul(e,this.data,t,this.fieldTransforms)}}class Vy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $n()}}class gg{constructor(e,t,s,c,f,E){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===f&&this.oa(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ca({path:s,ha:!1});return c.la(e),c}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ca({path:s,ha:!1});return c.oa(),c}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Om(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jy(this.ua)&&L_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Rv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gl(e)}ga(e,t,s,c=!1){return new gg({ua:e,methodName:t,ma:s,path:fs.emptyPath(),ha:!1,wa:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(r){const e=r._freezeSettings(),t=gl(r._databaseId);return new Rv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mg(r,e,t,s,c,f={}){const E=r.ga(f.merge||f.mergeFields?2:0,e,t,c);Pm("Data must be an object, but it was:",E,s);const k=Mm(s,E);let G,J;if(f.merge)G=new ps(E.fieldMask),J=E.fieldTransforms;else if(f.mergeFields){const le=[];for(const Xe of f.mergeFields){const Ot=fp(e,Xe,t);if(!E.contains(Ot))throw new rn(Lt.INVALID_ARGUMENT,`Field '${Ot}' is specified in your field mask but missing from your input data.`);Ov(le,Ot)||le.push(Ot)}G=new ps(le),J=E.fieldTransforms.filter(Xe=>G.covers(Xe.field))}else G=null,J=E.fieldTransforms;return new B_(new Vs(k),G,J)}class dp extends Ef{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dp}}function Hy(r,e,t){return new gg({ua:3,ma:e.settings.ma,methodName:r._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rm extends Ef{_toFieldTransform(e){return new Kd(e.path,new Ic)}isEqual(e){return e instanceof Rm}}class Mv extends Ef{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=Hy(this,e,!0),s=this.ya.map(f=>hp(f,t)),c=new au(s);return new Kd(e.path,c)}isEqual(e){return this===e}}class Pv extends Ef{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=Hy(this,e,!0),s=this.ya.map(f=>hp(f,t)),c=new wc(s);return new Kd(e.path,c)}isEqual(e){return this===e}}class If extends Ef{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new kl(e.serializer,wa(e.serializer,this.pa));return new Kd(e.path,t)}isEqual(e){return this===e}}function zy(r,e,t,s){const c=r.ga(1,e,t);Pm("Data must be an object, but it was:",c,s);const f=[],E=Vs.empty();al(s,(G,J)=>{const le=kr(e,G,t);J=(0,Ze.m9)(J);const Xe=c.fa(le);if(J instanceof dp)f.push(le);else{const Ot=hp(J,Xe);null!=Ot&&(f.push(le),E.set(le,Ot))}});const k=new ps(f);return new Vy(E,k,c.fieldTransforms)}function Gy(r,e,t,s,c,f){const E=r.ga(1,e,t),k=[fp(e,s,t)],G=[c];if(f.length%2!=0)throw new rn(Lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ot=0;Ot<f.length;Ot+=2)k.push(fp(e,f[Ot])),G.push(f[Ot+1]);const J=[],le=Vs.empty();for(let Ot=k.length-1;Ot>=0;--Ot)if(!Ov(J,k[Ot])){const an=k[Ot];let bn=G[Ot];bn=(0,Ze.m9)(bn);const xn=E.fa(an);if(bn instanceof dp)J.push(an);else{const dr=hp(bn,xn);null!=dr&&(J.push(an),le.set(an,dr))}}const Xe=new ps(J);return new Vy(le,Xe,E.fieldTransforms)}function wf(r,e,t,s=!1){return hp(t,r.ga(s?4:3,e))}function hp(r,e){if($_(r=(0,Ze.m9)(r)))return Pm("Unsupported field value:",e,r),Mm(r,e);if(r instanceof Ef)return function(t,s){if(!jy(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const c=[];let f=0;for(const E of t){let k=hp(E,s.da(f));null==k&&(k={nullValue:"NULL_VALUE"}),c.push(k),f++}return{arrayValue:{values:c}}}(r,e)}return function(t,s){if(null===(t=(0,Ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wa(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=ai.fromDate(t);return{timestampValue:ku(s.serializer,c)}}if(t instanceof ai){const c=new ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ku(s.serializer,c)}}if(t instanceof xm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ju)return{bytesValue:Uh(s.serializer,t._byteString)};if(t instanceof Hs){const c=s.databaseId,f=t.firestore._databaseId;if(!f.isEqual(c))throw s._a(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Dm(t)}`)}(r,e)}function Mm(r,e){const t={};return eu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(r,(s,c)=>{const f=hp(c,e.aa(s));null!=f&&(t[s]=f)}),{mapValue:{fields:t}}}function $_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ai||r instanceof xm||r instanceof Ju||r instanceof Hs||r instanceof Ef)}function Pm(r,e,t){if(!$_(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Dm(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function fp(r,e,t){if((e=(0,Ze.m9)(e))instanceof Pd)return e._internalPath;if("string"==typeof e)return kr(r,e);throw Om("Field path arguments must be of type string or ",r,!1,void 0,t)}const tE=new RegExp("[~\\*/\\[\\]]");function kr(r,e,t){if(e.search(tE)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Om(r,e,t,s,c){const f=s&&!s.isEmpty(),E=void 0!==c;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let G="";return(f||E)&&(G+=" (found",f&&(G+=` in field ${s}`),E&&(G+=` in document ${c}`),G+=")"),new rn(Lt.INVALID_ARGUMENT,k+r+G)}function Ov(r,e){return r.some(t=>t.isEqual(e))}class yg{constructor(e,t,s,c,f){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Hs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pp extends yg{data(){return super.data()}}function km(r,e){return"string"==typeof e?kr(r,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function vg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new rn(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class Gs extends gp{}function Cf(r,e,...t){let s=[];e instanceof gp&&s.push(e),s=s.concat(t),function(c){const f=c.filter(k=>k instanceof yp).length,E=c.filter(k=>k instanceof mp).length;if(f>1||f>0&&E>0)throw new rn(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)r=c._apply(r);return r}class mp extends Gs{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new mp(e,t,s)}_apply(e){const t=this._parse(e);return vp(e._query,t),new Xa(e.firestore,e.converter,Du(e._query,t))}_parse(e){const t=Ih(e.firestore);return function(c,f,E,k,G,J,le){let Xe;if(G.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new rn(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Lv(le,J);const Ot=[];for(const an of le)Ot.push(Ky(k,c,an));Xe={arrayValue:{values:Ot}}}else Xe=Ky(k,c,le)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Lv(le,J),Xe=wf(E,"where",le,"in"===J||"not-in"===J);return ui.create(G,J,Xe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class yp extends gp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let f=s;const E=c.getFlattenedFilters();for(const k of E)vp(f,k),f=Du(f,k)}(e._query,t),new Xa(e.firestore,e.converter,Du(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Nm extends Gs{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nm(e,t)}_apply(e){const t=function(s,c,f){if(null!==s.startAt)throw new rn(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new rn(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new io(c,f);return function(k,G){if(null===yc(k)){const J=ld(k);null!==J&&_p(0,J,G.field)}}(s,E),E}(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,function(s,c){const f=s.explicitOrderBy.concat([c]);return new Ea(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Fm extends Gs{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Fm(e,t,s)}_apply(e){return new Xa(e.firestore,e.converter,ud(e._query,this._limit,this._limitType))}}class wh extends Gs{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new wh(e,t,s)}_apply(e){const t=Wy(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(c=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class Lm extends Gs{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Lm(e,t,s)}_apply(e){const t=Wy(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(c=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function Wy(r,e,t,s){if(t[0]=(0,Ze.m9)(t[0]),t[0]instanceof yg)return function(c,f,E,k,G){if(!k)throw new rn(Lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const J=[];for(const le of Zl(c))if(le.field.isKeyField())J.push(be(f,k.key));else{const Xe=k.data.field(le.field);if(Fc(Xe))throw new rn(Lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Xe){const Ot=le.field.canonicalString();throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ot}' (used as the orderBy) does not exist.`)}J.push(Xe)}return new Io(J,G)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const c=Ih(r.firestore);return function(f,E,k,G,J,le){const Xe=f.explicitOrderBy;if(J.length>Xe.length)throw new rn(Lt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ot=[];for(let an=0;an<J.length;an++){const bn=J[an];if(Xe[an].field.isKeyField()){if("string"!=typeof bn)throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof bn}`);if(!cd(f)&&-1!==bn.indexOf("/"))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${bn}' contains a slash.`);const xn=f.path.child(pi.fromString(bn));if(!Rn.isDocumentKey(xn))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${xn}' is not because it contains an odd number of segments.`);const dr=new Rn(xn);Ot.push(be(E,dr))}else{const xn=wf(k,G,bn);Ot.push(xn)}}return new Io(Ot,le)}(r._query,r.firestore._databaseId,c,e,t,s)}}function Ky(r,e,t){if("string"==typeof(t=(0,Ze.m9)(t))){if(""===t)throw new rn(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cd(e)&&-1!==t.indexOf("/"))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pi.fromString(t));if(!Rn.isDocumentKey(s))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return be(r,new Rn(s))}if(t instanceof Hs)return be(r,t._key);throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dm(t)}.`)}function Lv(r,e){if(!Array.isArray(r)||0===r.length)throw new rn(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vp(r,e){if(e.isInequality()){const s=ld(r),c=e.field;if(null!==s&&!s.isEqual(c))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const f=yc(r);null!==f&&_p(0,c,f)}const t=function(s,c){for(const f of s)for(const E of f.getFlattenedFilters())if(c.indexOf(E.op)>=0)return E.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new rn(Lt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _p(r,e,t){if(!t.isEqual(e))throw new rn(Lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qy{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $n()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return al(e,(c,f)=>{s[c]=this.convertValue(f,t)}),s}convertGeoPoint(e){return new xm(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const t=xl(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pi.fromString(e);ar(Gh(s));const c=new Xo(s.get(1),s.get(3)),f=new Rn(s.popFirst(5));return c.isEqual(t)||Ji(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function $m(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class $v extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,t)}}class bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ch extends yg{constructor(e,t,s,c,f,E){super(e,t,s,c,E),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Um extends Ch{data(e={}){return super.data(e)}}class Df{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new bf(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Um(this._firestore,this._userDataWriter,s.key,s,new bf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rn(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let f=0;return s._snapshot.docChanges.map(E=>({type:"added",doc:new Um(s._firestore,s._userDataWriter,E.doc.key,E.doc,new bf(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:f++}))}{let f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(E=>c||3!==E.type).map(E=>{const k=new Um(s._firestore,s._userDataWriter,E.doc.key,E.doc,new bf(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,J=-1;return 0!==E.type&&(G=f.indexOf(E.doc.key),f=f.delete(E.doc.key)),1!==E.type&&(f=f.add(E.doc),J=f.indexOf(E.doc.key)),{type:rE(E.type),doc:k,oldIndex:G,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $n()}}function Yy(r,e){return r instanceof Ch&&e instanceof Ch?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Df&&e instanceof Df&&r._firestore===e._firestore&&Sm(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class bh extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,t)}}function Vv(r,e,t){r=Ni(r,Hs);const s=Ni(r.firestore,zs),c=$m(r.converter,e,t);return Ep(s,[mg(Ih(s),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,ms.none())])}function jv(r,e,t,...s){r=Ni(r,Hs);const c=Ni(r.firestore,zs),f=Ih(c);let E;return E="string"==typeof(e=(0,Ze.m9)(e))||e instanceof Pd?Gy(f,"updateDoc",r._key,e,t,s):zy(f,"updateDoc",r._key,e),Ep(c,[E.toMutation(r._key,ms.exists(!0))])}function Zy(r,...e){var t,s,c;r=(0,Ze.m9)(r);let f={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||fg(e[E])||(f=e[E],E++);const k={includeMetadataChanges:f.includeMetadataChanges};if(fg(e[E])){const Xe=e[E];e[E]=null===(t=Xe.next)||void 0===t?void 0:t.bind(Xe),e[E+1]=null===(s=Xe.error)||void 0===s?void 0:s.bind(Xe),e[E+2]=null===(c=Xe.complete)||void 0===c?void 0:c.bind(Xe)}let G,J,le;if(r instanceof Hs)J=Ni(r.firestore,zs),le=Ol(r._key.path),G={next:Xe=>{e[E]&&e[E](Tf(J,r,Xe))},error:e[E+1],complete:e[E+2]};else{const Xe=Ni(r,Xa);J=Ni(Xe.firestore,zs),le=Xe._query;const Ot=new bh(J);G={next:an=>{e[E]&&e[E](new Df(J,Ot,Xe,an))},error:e[E+1],complete:e[E+2]},vg(r._query)}return function(Xe,Ot,an,bn){const xn=new Yu(bn),dr=new Ci(Ot,xn,an);return Xe.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Kt(yield up(Xe),dr)})),()=>{xn.Sc(),Xe.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Un(yield up(Xe),dr)}))}}(Vo(J),le,k,G)}function Ep(r,e){return function(t,s){const c=new ni;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function ov(r,e,t){return tm.apply(this,arguments)}(yield Cm(t),s,c)})),c.promise}(Vo(r),e)}function Tf(r,e,t){const s=t.docs.get(e._key),c=new bh(r);return new Ch(r,c,e._key,s,new bf(t.hasPendingWrites,t.fromCache),e.converter)}const Xy={maxAttempts:5};class qv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ih(e)}set(e,t,s){this._verifyNotCommitted();const c=Od(e,this._firestore),f=$m(c.converter,t,s),E=mg(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,s);return this._mutations.push(E.toMutation(c._key,ms.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const f=Od(e,this._firestore);let E;return E="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Pd?Gy(this._dataReader,"WriteBatch.update",f._key,t,s,c):zy(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(E.toMutation(f._key,ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Od(e,this._firestore);return this._mutations=this._mutations.concat(new C(t._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn(Lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Od(r,e){if((r=(0,Ze.m9)(r)).firestore!==e)throw new rn(Lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class a0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ih(e)}get(e){const t=Od(e,this._firestore),s=new $v(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return $n();const f=c[0];if(f.isFoundDocument())return new yg(this._firestore,s,f.key,f,t.converter);if(f.isNoDocument())return new yg(this._firestore,s,t._key,null,t.converter);throw $n()})}set(e,t,s){const c=Od(e,this._firestore),f=$m(c.converter,t,s),E=mg(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,s);return this._transaction.set(c._key,E),this}update(e,t,s,...c){const f=Od(e,this._firestore);let E;return E="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Pd?Gy(this._dataReader,"Transaction.update",f._key,t,s,c):zy(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,E),this}delete(e){const t=Od(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Od(e,this._firestore),s=new bh(this._firestore);return super.get(e).then(c=>new Ch(this._firestore,s,t._key,c._document,new bf(!1,!1),t.converter))}}!function(r,e=!0){vo=gt.SDK_VERSION,(0,gt._registerComponent)(new Y.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const f=t.getProvider("app").getImmediate(),E=new zs(new Ma(t.getProvider("auth-internal")),new wl(t.getProvider("app-check-internal")),function(k,G){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new rn(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(k.options.projectId,G)}(f,s),f);return c=Object.assign({useFetchStreams:e},c),E._setSettings(c),E},"PUBLIC").setMultipleInstances(!0)),(0,gt.registerVersion)(Kc,"3.11.0",r),(0,gt.registerVersion)(Kc,"3.11.0","esm2017")}();function jm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Yv(){if(typeof Uint8Array>"u")throw new rn("unimplemented","Uint8Arrays are not available in this environment.")}function Zv(){if(!function Jr(){return typeof atob<"u"}())throw new rn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Eg{constructor(e){this._delegate=e}static fromBase64String(e){return Zv(),new Eg(Ju.fromBase64String(e))}static fromUint8Array(e){return Yv(),new Eg(Ju.fromUint8Array(e))}toBase64(){return Zv(),this._delegate.toBase64()}toUint8Array(){return Yv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ig(r){return function Jy(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Xv{enableIndexedDbPersistence(e,t){return function Tv(r,e){xv(r=Ni(r,zs));const t=Vo(r);if(t._uninitializedComponentsProvider)throw new rn(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");hi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),c=new cp;return Av(t,c,new qu(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sv(r){xv(r=Ni(r,zs));const e=Vo(r);if(e._uninitializedComponentsProvider)throw new rn(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");hi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new cp;return Av(e,s,new pv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function R_(r){if(r._initialized&&!r._terminated)throw new rn(Lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(t=(0,ue.Z)(function*(s){if(!to.D())return Promise.resolve();const c=s+"main";yield to.delete(c)}),function(s){return t.apply(this,arguments)})(qf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Hm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Iv(r,e,t,s={}){var c;const f=(r=Ni(r,Md))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&hi("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let E,k;if("string"==typeof s.mockUserToken)E=s.mockUserToken,k=Wi.MOCK_USER;else{E=(0,Ze.Sg)(s.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new rn(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Wi(G)}r._authCredentials=new Il(new sl(E,k))}}(this._delegate,e,t,s)}enableNetwork(){return function P_(r){return function mv(r){return r.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield ky(r),t=yield Ny(r);return e.setNetworkEnabled(!0),function(s){const c=Ln(s);return c.Au.delete(0),ba(c)}(t)}))}(Vo(r=Ni(r,zs)))}(this._delegate)}disableNetwork(){return function O_(r){return function b_(r){return r.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield ky(r),t=yield Ny(r);return e.setNetworkEnabled(!1),(s=(0,ue.Z)(function*(c){const f=Ln(c);f.Au.add(0),yield mu(f),f.Pu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(Vo(r=Ni(r,zs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Ly("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M_(r){return function(e){const t=new ni;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function Ey(r,e){return hg.apply(this,arguments)}(yield Cm(e),t)})),t.promise}(Vo(r=Ni(r,zs)))}(this._delegate)}onSnapshotsInSync(e){return function e0(r,e){return function Zu(r,e){const t=new Yu(e);return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return s=yield up(r),c=t,Ln(s).Nu.add(c),void c.next();var s,c})),()=>{t.Sc(),r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return s=yield up(r),c=t,void Ln(s).Nu.delete(c);var s,c}))}}(Vo(r=Ni(r,zs)),fg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Af(this,$y(this._delegate,e))}catch(t){throw ml(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qa(this,_f(this._delegate,e))}catch(t){throw ml(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jl(this,function wv(r,e){if(r=Ni(r,Md),Sc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rn(Lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xa(r,null,(t=e,new Ea(pi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ml(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function l0(r,e,t){r=Ni(r,zs);const s=Object.assign(Object.assign({},Xy),t);return function(c){if(c.maxAttempts<1)throw new rn(Lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,E){const k=new ni;return c.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const G=yield function vf(r){return Im(r).then(e=>e.datastore)}(c);new xy(c.asyncQueue,G,E,f,k).run()})),k.promise}(Vo(r),c=>e(new a0(r,c)),s)}(this._delegate,t=>e(new Gm(this,t)))}batch(){return Vo(this._delegate),new Qv(new qv(this._delegate,e=>Ep(this._delegate,e)))}loadBundle(e){return function k_(r,e){const t=Vo(r=Ni(r,zs)),s=new Am;return function T_(r,e,t,s){const c=function(f,E){let k;return k="string"==typeof f?ka().encode(f):f,G=function(G,J){if(G instanceof Uint8Array)return vm(G,J);if(G instanceof ArrayBuffer)return vm(new Uint8Array(G),J);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Ay(G,E);var G}(t,gl(e));r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function fv(r,e,t){const s=Ln(r);var c;(c=(0,ue.Z)(function*(f,E,k){try{const G=yield E.getMetadata();if(yield function(Ot,an){const bn=Ln(Ot),xn=bs(an.createTime);return bn.persistence.runTransaction("hasNewerBundle","readonly",dr=>bn.Ls.getBundleMetadata(dr,an.id)).then(dr=>!!dr&&dr.createTime.compareTo(xn)>=0)}(f.localStore,G))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(Ot=G).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);k._updateProgress(vh(G));const J=new Da(G,f.localStore,E.serializer);let le=yield E.Pc();for(;le;){const Ot=yield J.ju(le);Ot&&k._updateProgress(Ot),le=yield E.Pc()}const Xe=yield J.complete();return yield vu(f,Xe.Hu,void 0),yield function(Ot,an){const bn=Ln(Ot);return bn.persistence.runTransaction("Save bundle","readwrite",xn=>bn.Ls.saveBundleMetadata(xn,an))}(f.localStore,G),k._completeWith(Xe.progress),Promise.resolve(Xe.Wu)}catch(G){return hi("SyncEngine",`Loading bundle failed with ${G}`),k._failWith(G),Promise.resolve(new Set)}var Ot}),function(f,E,k){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Cm(r),c,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function N_(r,e){return function S_(r,e){return r.asyncQueue.enqueue((0,ue.Z)(function*(){return function(t,s){const c=Ln(t);return c.persistence.runTransaction("Get named query","readonly",f=>c.Ls.getNamedQuery(f,s))}(yield wm(r),e)}))}(Vo(r=Ni(r,zs)),e).then(t=>t?new Xa(r,null,t.query):null)}(this._delegate,e).then(t=>t?new jl(this,t):null)}}class zm extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eg(new Ju(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qa.forKey(t,this.firestore,null)}}class Gm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}get(e){const t=kd(e);return this._delegate.get(t).then(s=>new Ip(this._firestore,new Ch(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=kd(e);return s?(jm("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const f=kd(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...c),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}}class Qv{constructor(e){this._delegate=e}set(e,t,s){const c=kd(e);return s?(jm("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const f=kd(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...c),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dh{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Um(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sf(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Dh.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let f=c.get(t);return f||(f=new Dh(e,new zm(e),t),c.set(t,f)),f}}Dh.INSTANCES=new WeakMap;class Qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}static forPath(e,t,s){if(e.length%2!=0)throw new rn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qa(t,new Hs(t._delegate,s,new Rn(e)))}static forKey(e,t,s){return new Qa(t,new Hs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Af(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Af(this.firestore,$y(this._delegate,e))}catch(t){throw ml(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ze.m9)(e))instanceof Hs&&Cv(this._delegate,e)}set(e,t){t=jm("DocumentReference.set",t);try{return t?Vv(this._delegate,e,t):Vv(this._delegate,e)}catch(s){throw ml(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?jv(this._delegate,e):jv(this._delegate,e,t,...s)}catch(c){throw ml(c,"updateDoc()","DocumentReference.update()")}}delete(){return function iE(r){return Ep(Ni(r.firestore,zs),[new C(r._key,ms.none())])}(this._delegate)}onSnapshot(...e){const t=Jv(e),s=v0(e,c=>new Ip(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Zy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Z_(r){r=Ni(r,Hs);const e=Ni(r.firestore,zs),t=Vo(e),s=new bh(e);return function yv(r,e){const t=new ni;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(s=(0,ue.Z)(function*(c,f,E){try{const k=yield function(G,J){const le=Ln(G);return le.persistence.runTransaction("read document","readonly",Xe=>le.localDocuments.getDocument(Xe,J))}(c,f);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new rn(Lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const G=U(k,`Failed to get document '${f} from cache`);E.reject(G)}}),function(c,f,E){return s.apply(this,arguments)})(yield wm(r),e,t);var s})),t.promise}(t,r._key).then(c=>new Ch(e,s,r._key,c,new bf(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Uv(r){r=Ni(r,Hs);const e=Ni(r.firestore,zs);return D_(Vo(e),r._key,{source:"server"}).then(t=>Tf(e,r,t))}(this._delegate):function Vm(r){r=Ni(r,Hs);const e=Ni(r.firestore,zs);return D_(Vo(e),r._key).then(t=>Tf(e,r,t))}(this._delegate),t.then(s=>new Ip(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Qa(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}function ml(r,e,t){return r.message=r.message.replace(e,t),r}function Jv(r){for(const e of r)if("object"==typeof e&&!Ig(e))return e;return{}}function v0(r,e){var t,s;let c;return c=Ig(r[0])?r[0]:Ig(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:f=>{c.next&&c.next(e(f))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class Ip{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Yy(this._delegate,e._delegate)}}class Sf extends Ip{data(e){const t=this._delegate.data(e);return function lc(r,e){r||$n()}(void 0!==t),t}}class jl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}where(e,t,s){try{return new jl(this.firestore,Cf(this._delegate,function kv(r,e,t){const s=e,c=km("where",r);return mp._create(c,s,t)}(e,t,s)))}catch(c){throw ml(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jl(this.firestore,Cf(this._delegate,function Nv(r,e="asc"){const t=e,s=km("orderBy",r);return Nm._create(s,t)}(e,t)))}catch(s){throw ml(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jl(this.firestore,Cf(this._delegate,function j_(r){return Ev("limit",r),Fm._create("limit",r,"F")}(e)))}catch(t){throw ml(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jl(this.firestore,Cf(this._delegate,function H_(r){return Ev("limitToLast",r),Fm._create("limitToLast",r,"L")}(e)))}catch(t){throw ml(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jl(this.firestore,Cf(this._delegate,function z_(...r){return wh._create("startAt",r,!0)}(...e)))}catch(t){throw ml(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jl(this.firestore,Cf(this._delegate,function G_(...r){return wh._create("startAfter",r,!1)}(...e)))}catch(t){throw ml(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jl(this.firestore,Cf(this._delegate,function Bm(...r){return Lm._create("endBefore",r,!1)}(...e)))}catch(t){throw ml(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jl(this.firestore,Cf(this._delegate,function Fv(...r){return Lm._create("endAt",r,!0)}(...e)))}catch(t){throw ml(t,"endAt()","Query.endAt()")}}isEqual(e){return Sm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function X_(r){r=Ni(r,Xa);const e=Ni(r.firestore,zs),t=Vo(e),s=new bh(e);return function vv(r,e){const t=new ni;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(s=(0,ue.Z)(function*(c,f,E){try{const k=yield af(c,f,!0),G=new yf(f,k.sr),J=G.nc(k.documents),le=G.applyChanges(J,!1);E.resolve(le.snapshot)}catch(k){const G=U(k,`Failed to execute query '${f} against cache`);E.reject(G)}}),function(c,f,E){return s.apply(this,arguments)})(yield wm(r),e,t);var s})),t.promise}(t,r._query).then(c=>new Df(e,s,r,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function Q_(r){r=Ni(r,Xa);const e=Ni(r.firestore,zs),t=Vo(e),s=new bh(e);return bm(t,r._query,{source:"server"}).then(c=>new Df(e,s,r,c))}(this._delegate):function _g(r){r=Ni(r,Xa);const e=Ni(r.firestore,zs),t=Vo(e),s=new bh(e);return vg(r._query),bm(t,r._query).then(c=>new Df(e,s,r,c))}(this._delegate),t.then(s=>new tv(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Jv(e),s=v0(e,c=>new tv(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Zy(this._delegate,t,s)}withConverter(e){return new jl(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}class ev{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ev(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Sf(this._firestore,s))})}isEqual(e){return Yy(this._delegate,e._delegate)}}class Af extends jl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qa(this.firestore,e):null}doc(e){try{return new Qa(this.firestore,void 0===e?_f(this._delegate):_f(this._delegate,e))}catch(t){throw ml(t,"doc()","CollectionReference.doc()")}}add(e){return function J_(r,e){const t=Ni(r.firestore,zs),s=_f(r),c=$m(r.converter,e);return Ep(t,[mg(Ih(r.firestore),"addDoc",s._key,c,null!==r.converter,{}).toMutation(s._key,ms.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Qa(this.firestore,t))}isEqual(e){return Cv(this._delegate,e._delegate)}withConverter(e){return new Af(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}function kd(r){return Ni(r,Hs)}class Wm{constructor(...e){this._delegate=new Pd(...e)}static documentId(){return new Wm(fs.keyField().canonicalString())}isEqual(e){return(e=(0,Ze.m9)(e))instanceof Pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Th{constructor(e){this._delegate=e}static serverTimestamp(){const e=function u0(){return new Rm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Th(e)}static delete(){const e=function c0(){return new dp("deleteField")}();return e._methodName="FieldValue.delete",new Th(e)}static arrayUnion(...e){const t=function d0(...r){return new Mv("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Th(t)}static arrayRemove(...e){const t=function h0(...r){return new Pv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Th(t)}static increment(e){const t=function f0(r){return new If("increment",r)}(e);return t._methodName="FieldValue.increment",new Th(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e_={Firestore:Hm,GeoPoint:xm,Timestamp:ai,Blob:Eg,Transaction:Gm,WriteBatch:Qv,DocumentReference:Qa,DocumentSnapshot:Ip,Query:jl,QueryDocumentSnapshot:Sf,QuerySnapshot:tv,CollectionReference:Af,FieldPath:Wm,FieldValue:Th,setLogLevel:function y0(r){!function ac(r){Js.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function _0(r){(function t_(r,e){r.INTERNAL.registerComponent(new Y.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},e_)))})(r,(e,t)=>new Hm(e,t,new Xv)),r.registerVersion("@firebase/firestore-compat","0.3.8")}(Se.Z);var Sh=H(1205),E0=H(6217),I0=H(9260);function w0(r,e){return function n_(r,e=y.z){return new ee.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function nv(r,e){return w0(r,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function Km(r,e){return nv(r,e).pipe((0,me.O)(void 0),we(),(0,ge.U)(([t,s])=>{const c=s.payload.docChanges(),f=c.map(E=>({type:E.type,payload:E}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((E,k)=>{const G=c.find(le=>le.doc.ref.isEqual(E.ref)),J=null==t?void 0:t.payload.docs.find(le=>le.ref.isEqual(E.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(E.metadata)||!G&&J&&JSON.stringify(J.metadata)===JSON.stringify(E.metadata)||f.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:E}})}),f}))}function C0(r,e,t){return Km(r,t).pipe((0,ye.R)((s,c)=>function b0(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function i_(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return rv(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rv(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rv(r,e.oldIndex,1)}return r}(r,s))}),r}(s,c.map(f=>f.payload),e),[]),(0,ze.x)(),(0,ge.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function rv(r,e,t,...s){const c=r.slice();return c.splice(e,t,...s),c}function s_(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class o_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Km(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,me.O)(void 0),we(),(0,He.h)(([s,c])=>c.length>0||!s),(0,ge.U)(([s,c])=>c),xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=s_(e);return C0(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),xe.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(xe.iC)}add(e){return this.ref.add(e)}doc(e){return new a_(this.ref.doc(e),this.afs)}}class a_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:f}=u_(s,t);return new o_(c,f,this.afs)}snapshotChanges(){return function r_(r,e){return w0(r,e).pipe((0,me.O)(void 0),we(),(0,ge.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,de.D)(this.ref.get(e)).pipe(xe.iC)}}class D0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Km(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,He.h)(t=>t.length>0),xe.iC):Km(this.query,this.afs.schedulers.outsideAngular).pipe(xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=s_(e);return C0(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),xe.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(xe.iC)}}const l_=new _.OlP("angularfire2.enableFirestorePersistence"),c_=new _.OlP("angularfire2.firestore.persistenceSettings"),T0=new _.OlP("angularfire2.firestore.settings"),S0=new _.OlP("angularfire2.firestore.use-emulator");function u_(r,e=(t=>t)){return{query:e(r),ref:r}}let wp=(()=>{class r{constructor(t,s,c,f,E,k,G,J,le,Xe,Ot,an,bn,xn,dr,ri,Oi){this.schedulers=G;const ii=(0,rt.on)(t,k,s),Ba=le;Xe&&(0,Sh.nw)(ii,k,Ot,bn,xn,dr,an,ri),[this.firestore,this.persistenceEnabled$]=(0,rt.cc)(`${ii.name}.firestore`,"AngularFirestore",ii.name,()=>{const Ps=k.runOutsideAngular(()=>ii.firestore());if(f&&Ps.settings(f),Ba&&Ps.useEmulator(...Ba),c&&!(0,Ct.PM)(E)){const ws=()=>{try{return(0,de.D)(Ps.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch($a){return typeof console<"u"&&console.warn($a),(0,$e.of)(!1)}};return[Ps,k.runOutsideAngular(ws)]}return[Ps,(0,$e.of)(!1)]},[f,Ba,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:E}=u_(c,s),k=this.schedulers.ngZone.run(()=>f);return new o_(k,E,this)}collectionGroup(t,s){const c=s||(E=>E),f=this.firestore.collectionGroup(t);return new D0(c(f),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new a_(c,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(_.LFG(rt.Dh),_.LFG(rt.xv,8),_.LFG(l_,8),_.LFG(T0,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(xe.HU),_.LFG(c_,8),_.LFG(S0,8),_.LFG(Sh.zQ,8),_.LFG(Sh.Qv,8),_.LFG(Sh.L6,8),_.LFG(Sh._Q,8),_.LFG(Sh.rT,8),_.LFG(Sh.lh,8),_.LFG(Sh.f7,8),_.LFG(E0.nm,8))},r.\u0275prov=_.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),d_=(()=>{class r{constructor(){I0.Z.registerVersion("angularfire",xe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:l_,useValue:!0},{provide:c_,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({providers:[wp]}),r})()},2011:(gn,mt,H)=>{"use strict";H.d(mt,{Dh:()=>Ve,GT:()=>xe,cc:()=>He,hO:()=>ze,on:()=>we,pX:()=>$e,xv:()=>Fe});var _=H(4650),y=H(9260),ee=H(4976);gn=H.hmd(gn);const de=["ngOnDestroy"],$e=(Se,ue,gt,Y={})=>new Proxy(Se,{get:(et,Ze)=>gt.runOutsideAngular(()=>{var xt;if(Se[Ze])return!(null===(xt=null==Y?void 0:Y.spy)||void 0===xt)&&xt.get&&Y.spy.get(Ze,Se[Ze]),Se[Ze];if(de.indexOf(Ze)>-1)return()=>{};const Be=ue.toPromise().then(Oe=>{const Pe=Oe&&Oe[Ze];return"function"==typeof Pe?Pe.bind(Oe):Pe&&Pe.then?Pe.then(Ce=>gt.run(()=>Ce)):gt.run(()=>Pe)});return new Proxy(()=>{},{get:(Oe,Pe)=>Be[Pe],apply:(Oe,Pe,Ce)=>Be.then(Ue=>{var ht;const _t=Ue&&Ue(...Ce);return!(null===(ht=null==Y?void 0:Y.spy)||void 0===ht)&&ht.apply&&Y.spy.apply(Ze,Ce,_t),_t})})})}),xe=(Se,ue)=>{ue.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(Y=>{Object.defineProperty(Se.prototype,Y,Object.getOwnPropertyDescriptor(gt.prototype||gt,Y))})})};class me{constructor(ue){return ue}}const Ve=new _.OlP("angularfire2.app.options"),Fe=new _.OlP("angularfire2.app.name");function we(Se,ue,gt){const et="object"==typeof gt&&gt||{};et.name=et.name||"string"==typeof gt&&gt||"[DEFAULT]";const xt=y.Z.apps.filter(Be=>Be&&Be.name===et.name)[0]||ue.runOutsideAngular(()=>y.Z.initializeApp(Se,et));try{JSON.stringify(Se)!==JSON.stringify(xt.options)&&ge("error",`${xt.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(xt)}const ge=(Se,...ue)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Se](...ue)},ye={provide:me,useFactory:we,deps:[Ve,_.R0b,[new _.FiY,Fe]]};let ze=(()=>{class Se{constructor(gt){y.Z.registerVersion("angularfire",ee.q4.full,"core"),y.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),y.Z.registerVersion("angular",_.q4F.full,gt.toString())}static initializeApp(gt,Y){return{ngModule:Se,providers:[{provide:Ve,useValue:gt},{provide:Fe,useValue:Y}]}}}return Se.\u0275fac=function(gt){return new(gt||Se)(_.LFG(_.Lbi))},Se.\u0275mod=_.oAB({type:Se}),Se.\u0275inj=_.cJS({providers:[ye]}),Se})();function He(Se,ue,gt,Y,et){const[,Ze,xt]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Se)||[];if(Ze)return function rt(Se,ue){try{return Se.toString()===ue.toString()}catch{return Se===ue}}(et,xt)||(Re("error",`${ue} was already initialized on the ${gt} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:et,was:xt})),Ze;{const Be=Y();return globalThis.\u0275AngularfireInstanceCache.push([Se,Be,et]),Be}}const Ct=!!gn.hot,Re=(Se,...ue)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Se](...ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(gn,mt,H)=>{"use strict";H.d(mt,{q4:()=>Ar,iC:()=>Qo,fc:()=>tu,HU:()=>Uo,vb:()=>Vr,JM:()=>xl});var _=H(4650),y=H(259),ee=H(5861),de=H(6881),$e=H(2090),xe=H(4859),me=H(1877);const Ve=(P,$)=>$.some(Z=>P instanceof Z);let Fe,we;const ze=new WeakMap,He=new WeakMap,rt=new WeakMap,Ct=new WeakMap,Re=new WeakMap;let gt={get(P,$,Z){if(P instanceof IDBTransaction){if("done"===$)return He.get(P);if("objectStoreNames"===$)return P.objectStoreNames||rt.get(P);if("store"===$)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return xt(P[$])},set:(P,$,Z)=>(P[$]=Z,!0),has:(P,$)=>P instanceof IDBTransaction&&("done"===$||"store"===$)||$ in P};function Ze(P){return"function"==typeof P?function et(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...$){return P.apply(Be(this),$),xt(ze.get(this))}:function(...$){return xt(P.apply(Be(this),$))}:function($,...Z){const be=P.call(Be(this),$,...Z);return rt.set(be,$.sort?$.sort():[$]),xt(be)}}(P):(P instanceof IDBTransaction&&function ue(P){if(He.has(P))return;const $=new Promise((Z,be)=>{const it=()=>{P.removeEventListener("complete",It),P.removeEventListener("error",Ut),P.removeEventListener("abort",Ut)},It=()=>{Z(),it()},Ut=()=>{be(P.error||new DOMException("AbortError","AbortError")),it()};P.addEventListener("complete",It),P.addEventListener("error",Ut),P.addEventListener("abort",Ut)});He.set(P,$)}(P),Ve(P,function ge(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,gt):P)}function xt(P){if(P instanceof IDBRequest)return function Se(P){const $=new Promise((Z,be)=>{const it=()=>{P.removeEventListener("success",It),P.removeEventListener("error",Ut)},It=()=>{Z(xt(P.result)),it()},Ut=()=>{be(P.error),it()};P.addEventListener("success",It),P.addEventListener("error",Ut)});return $.then(Z=>{Z instanceof IDBCursor&&ze.set(Z,P)}).catch(()=>{}),Re.set($,P),$}(P);if(Ct.has(P))return Ct.get(P);const $=Ze(P);return $!==P&&(Ct.set(P,$),Re.set($,P)),$}const Be=P=>Re.get(P),Ce=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ht=new Map;function _t(P,$){if(!(P instanceof IDBDatabase)||$ in P||"string"!=typeof $)return;if(ht.get($))return ht.get($);const Z=$.replace(/FromIndex$/,""),be=$!==Z,it=Ue.includes(Z);if(!(Z in(be?IDBIndex:IDBObjectStore).prototype)||!it&&!Ce.includes(Z))return;const It=function(){var Ut=(0,ee.Z)(function*(kn,...An){const Zn=this.transaction(kn,it?"readwrite":"readonly");let $r=Zn.store;return be&&($r=$r.index(An.shift())),(yield Promise.all([$r[Z](...An),it&&Zn.done]))[0]});return function(An){return Ut.apply(this,arguments)}}();return ht.set($,It),It}!function Y(P){gt=P(gt)}(P=>({...P,get:($,Z,be)=>_t($,Z)||P.get($,Z,be),has:($,Z)=>!!_t($,Z)||P.has($,Z)}));const ct="@firebase/installations",wt="0.6.4",pt=1e4,ke=`w:${wt}`,Le="FIS_v2",Ne="https://firebaseinstallations.googleapis.com/v1",lt=36e5,yn=new $e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(P){return P instanceof $e.ZR&&P.code.includes("request-failed")}function Te({projectId:P}){return`${Ne}/projects/${P}/installations`}function St(P){return{token:P.token,requestStatus:2,expiresIn:hr(P.expiresIn),creationTime:Date.now()}}function cn(P,$){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,ee.Z)(function*(P,$){const be=(yield $.json()).error;return yn.create("request-failed",{requestName:P,serverCode:be.code,serverMessage:be.message,serverStatus:be.status})})).apply(this,arguments)}function zn({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function nn(P){return En.apply(this,arguments)}function En(){return(En=(0,ee.Z)(function*(P){const $=yield P();return $.status>=500&&$.status<600?P():$})).apply(this,arguments)}function hr(P){return Number(P.replace("s","000"))}function vn(){return(vn=(0,ee.Z)(function*({appConfig:P,heartbeatServiceProvider:$},{fid:Z}){const be=Te(P),it=zn(P),It=$.getImmediate({optional:!0});if(It){const Zn=yield It.getHeartbeatsHeader();Zn&&it.append("x-firebase-client",Zn)}const kn={method:"POST",headers:it,body:JSON.stringify({fid:Z,authVersion:Le,appId:P.appId,sdkVersion:ke})},An=yield nn(()=>fetch(be,kn));if(An.ok){const Zn=yield An.json();return{fid:Zn.fid||Z,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:St(Zn.authToken)}}throw yield cn("Create Installation",An)})).apply(this,arguments)}function jn(P){return new Promise($=>{setTimeout($,P)})}const br=/^[cdef][\w-]{21}$/,mi="";function xi(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Z=function Hn(P){return function bi(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return br.test(Z)?Z:mi}catch{return mi}}function Gn(P){return`${P.appName}!${P.appId}`}const en=new Map;function pn(P,$){const Z=Gn(P);Dr(Z,$),function si(P,$){const Z=function yi(){return!oi&&"BroadcastChannel"in self&&(oi=new BroadcastChannel("[Firebase] FID Change"),oi.onmessage=P=>{Dr(P.data.key,P.data.fid)}),oi}();Z&&Z.postMessage({key:P,fid:$}),function Ur(){0===en.size&&oi&&(oi.close(),oi=null)}()}(Z,$)}function Dr(P,$){const Z=en.get(P);if(Z)for(const be of Z)be($)}let oi=null;const vi="firebase-installations-database",lr=1,sr="firebase-installations-store";let Ir=null;function Mi(){return Ir||(Ir=function Oe(P,$,{blocked:Z,upgrade:be,blocking:it,terminated:It}={}){const Ut=indexedDB.open(P,$),kn=xt(Ut);return be&&Ut.addEventListener("upgradeneeded",An=>{be(xt(Ut.result),An.oldVersion,An.newVersion,xt(Ut.transaction))}),Z&&Ut.addEventListener("blocked",()=>Z()),kn.then(An=>{It&&An.addEventListener("close",()=>It()),it&&An.addEventListener("versionchange",()=>it())}).catch(()=>{}),kn}(vi,lr,{upgrade:(P,$)=>{0===$&&P.createObjectStore(sr)}})),Ir}function yr(P,$){return jt.apply(this,arguments)}function jt(){return(jt=(0,ee.Z)(function*(P,$){const Z=Gn(P),it=(yield Mi()).transaction(sr,"readwrite"),It=it.objectStore(sr),Ut=yield It.get(Z);return yield It.put($,Z),yield it.done,(!Ut||Ut.fid!==$.fid)&&pn(P,$.fid),$})).apply(this,arguments)}function Ke(P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,ee.Z)(function*(P){const $=Gn(P),be=(yield Mi()).transaction(sr,"readwrite");yield be.objectStore(sr).delete($),yield be.done})).apply(this,arguments)}function Yt(P,$){return zt.apply(this,arguments)}function zt(){return(zt=(0,ee.Z)(function*(P,$){const Z=Gn(P),it=(yield Mi()).transaction(sr,"readwrite"),It=it.objectStore(sr),Ut=yield It.get(Z),kn=$(Ut);return void 0===kn?yield It.delete(Z):yield It.put(kn,Z),yield it.done,kn&&(!Ut||Ut.fid!==kn.fid)&&pn(P,kn.fid),kn})).apply(this,arguments)}function Ie(P){return _e.apply(this,arguments)}function _e(){return _e=(0,ee.Z)(function*(P){let $;const Z=yield Yt(P.appConfig,be=>{const it=function We(P){return ut(P||{fid:xi(),registrationStatus:0})}(be),It=function Dt(P,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(yn.create("app-offline"))};const Z={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},be=function st(P,$){return on.apply(this,arguments)}(P,Z);return{installationEntry:Z,registrationPromise:be}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:ot(P)}:{installationEntry:$}}(P,it);return $=It.registrationPromise,It.installationEntry});return Z.fid===mi?{installationEntry:yield $}:{installationEntry:Z,registrationPromise:$}}),_e.apply(this,arguments)}function on(){return on=(0,ee.Z)(function*(P,$){try{const Z=yield function tr(P,$){return vn.apply(this,arguments)}(P,$);return yr(P.appConfig,Z)}catch(Z){throw Tt(Z)&&409===Z.customData.serverCode?yield Ke(P.appConfig):yield yr(P.appConfig,{fid:$.fid,registrationStatus:0}),Z}}),on.apply(this,arguments)}function ot(P){return je.apply(this,arguments)}function je(){return(je=(0,ee.Z)(function*(P){let $=yield ve(P.appConfig);for(;1===$.registrationStatus;)yield jn(100),$=yield ve(P.appConfig);if(0===$.registrationStatus){const{installationEntry:Z,registrationPromise:be}=yield Ie(P);return be||Z}return $})).apply(this,arguments)}function ve(P){return Yt(P,$=>{if(!$)throw yn.create("installation-not-found");return ut($)})}function ut(P){return function Rt(P){return 1===P.registrationStatus&&P.registrationTime+pt<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Tn(){return(Tn=(0,ee.Z)(function*({appConfig:P,heartbeatServiceProvider:$},Z){const be=function qn(P,{fid:$}){return`${Te(P)}/${$}/authTokens:generate`}(P,Z),it=function wn(P,{refreshToken:$}){const Z=zn(P);return Z.append("Authorization",function Cr(P){return`${Le} ${P}`}($)),Z}(P,Z),It=$.getImmediate({optional:!0});if(It){const Zn=yield It.getHeartbeatsHeader();Zn&&it.append("x-firebase-client",Zn)}const kn={method:"POST",headers:it,body:JSON.stringify({installation:{sdkVersion:ke,appId:P.appId}})},An=yield nn(()=>fetch(be,kn));if(An.ok)return St(yield An.json());throw yield cn("Generate Auth Token",An)})).apply(this,arguments)}function fr(P){return zr.apply(this,arguments)}function zr(){return zr=(0,ee.Z)(function*(P,$=!1){let Z;const be=yield Yt(P.appConfig,It=>{if(!vr(It))throw yn.create("not-registered");const Ut=It.authToken;if(!$&&function Nn(P){return 2===P.requestStatus&&!function or(P){const $=Date.now();return $<P.creationTime||P.creationTime+P.expiresIn<$+lt}(P)}(Ut))return It;if(1===Ut.requestStatus)return Z=function $t(P,$){return bt.apply(this,arguments)}(P,$),It;{if(!navigator.onLine)throw yn.create("app-offline");const kn=function rr(P){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:$})}(It);return Z=function On(P,$){return Vn.apply(this,arguments)}(P,kn),kn}});return Z?yield Z:be.authToken}),zr.apply(this,arguments)}function bt(){return(bt=(0,ee.Z)(function*(P,$){let Z=yield Jt(P.appConfig);for(;1===Z.authToken.requestStatus;)yield jn(100),Z=yield Jt(P.appConfig);const be=Z.authToken;return 0===be.requestStatus?fr(P,$):be})).apply(this,arguments)}function Jt(P){return Yt(P,$=>{if(!vr($))throw yn.create("not-registered");return function ir(P){return 1===P.requestStatus&&P.requestTime+pt<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function Vn(){return Vn=(0,ee.Z)(function*(P,$){try{const Z=yield function ln(P,$){return Tn.apply(this,arguments)}(P,$),be=Object.assign(Object.assign({},$),{authToken:Z});return yield yr(P.appConfig,be),Z}catch(Z){if(!Tt(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const be=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield yr(P.appConfig,be)}else yield Ke(P.appConfig);throw Z}}),Vn.apply(this,arguments)}function vr(P){return void 0!==P&&2===P.registrationStatus}function Ds(){return(Ds=(0,ee.Z)(function*(P){const $=P,{installationEntry:Z,registrationPromise:be}=yield Ie($);return be?be.catch(console.error):fr($).catch(console.error),Z.fid})).apply(this,arguments)}function Vi(){return Vi=(0,ee.Z)(function*(P,$=!1){const Z=P;return yield function ji(P){return In.apply(this,arguments)}(Z),(yield fr(Z,$)).token}),Vi.apply(this,arguments)}function In(){return(In=(0,ee.Z)(function*(P){const{registrationPromise:$}=yield Ie(P);$&&(yield $)})).apply(this,arguments)}function Ee(P){return yn.create("missing-app-config-values",{valueName:P})}const Ge="installations",Ye=P=>{const $=P.getProvider("app").getImmediate(),Z=function se(P){if(!P||!P.options)throw Ee("App Configuration");if(!P.name)throw Ee("App Name");const $=["projectId","apiKey","appId"];for(const Z of $)if(!P.options[Z])throw Ee(Z);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}($);return{app:$,appConfig:Z,heartbeatServiceProvider:(0,de._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},qe=P=>{const $=P.getProvider("app").getImmediate(),Z=(0,de._getProvider)($,Ge).getImmediate();return{getId:()=>function Xn(P){return Ds.apply(this,arguments)}(Z),getToken:it=>function Fi(P){return Vi.apply(this,arguments)}(Z,it)}};(function Nt(){(0,de._registerComponent)(new xe.wA(Ge,Ye,"PUBLIC")),(0,de._registerComponent)(new xe.wA("installations-internal",qe,"PRIVATE"))})(),(0,de.registerVersion)(ct,wt),(0,de.registerVersion)(ct,wt,"esm2017");const At="@firebase/remote-config",Wn=new $e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yi{constructor($,Z,be,it){this.client=$,this.storage=Z,this.storageCache=be,this.logger=it}isCachedDataFresh($,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const be=Date.now()-Z,it=be<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${be}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${it}.`),it}fetch($){var Z=this;return(0,ee.Z)(function*(){const[be,it]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(it&&Z.isCachedDataFresh($.cacheMaxAgeMillis,be))return it;$.eTag=it&&it.eTag;const It=yield Z.client.fetch($),Ut=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===It.status&&Ut.push(Z.storage.setLastSuccessfulFetchResponse(It)),yield Promise.all(Ut),It})()}}function oo(P=navigator){return P.languages&&P.languages[0]||P.language}class Os{constructor($,Z,be,it,It,Ut){this.firebaseInstallations=$,this.sdkVersion=Z,this.namespace=be,this.projectId=it,this.apiKey=It,this.appId=Ut}fetch($){var Z=this;return(0,ee.Z)(function*(){const[be,it]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},An={sdk_version:Z.sdkVersion,app_instance_id:be,app_instance_id_token:it,app_id:Z.appId,language_code:oo()},Zn={method:"POST",headers:kn,body:JSON.stringify(An)},$r=fetch(Ut,Zn),Or=new Promise((wi,Io)=>{$.signal.addEventListener(()=>{const ru=new Error("The operation was aborted.");ru.name="AbortError",Io(ru)})});let Po;try{yield Promise.race([$r,Or]),Po=yield $r}catch(wi){let Io="fetch-client-network";throw"AbortError"===(null==wi?void 0:wi.name)&&(Io="fetch-timeout"),Wn.create(Io,{originalErrorMessage:null==wi?void 0:wi.message})}let Is=Po.status;const Rl=Po.headers.get("ETag")||void 0;let Vs,Kl;if(200===Po.status){let wi;try{wi=yield Po.json()}catch(Io){throw Wn.create("fetch-client-parse",{originalErrorMessage:null==Io?void 0:Io.message})}Vs=wi.entries,Kl=wi.state}if("INSTANCE_STATE_UNSPECIFIED"===Kl?Is=500:"NO_CHANGE"===Kl?Is=304:("NO_TEMPLATE"===Kl||"EMPTY_CONFIG"===Kl)&&(Vs={}),304!==Is&&200!==Is)throw Wn.create("fetch-status",{httpStatus:Is});return{status:Is,eTag:Rl,config:Vs}})()}}class Ss{constructor($,Z){this.client=$,this.storage=Z}fetch($){var Z=this;return(0,ee.Z)(function*(){const be=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch($,be)})()}attemptFetch($,{throttleEndTimeMillis:Z,backoffCount:be}){var it=this;return(0,ee.Z)(function*(){yield function Ta(P,$){return new Promise((Z,be)=>{const it=Math.max($-Date.now(),0),It=setTimeout(Z,it);P.addEventListener(()=>{clearTimeout(It),be(Wn.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,Z);try{const It=yield it.client.fetch($);return yield it.storage.deleteThrottleMetadata(),It}catch(It){if(!function ko(P){if(!(P instanceof $e.ZR&&P.customData))return!1;const $=Number(P.customData.httpStatus);return 429===$||500===$||503===$||504===$}(It))throw It;const Ut={throttleEndTimeMillis:Date.now()+(0,$e.$s)(be),backoffCount:be+1};return yield it.storage.setThrottleMetadata(Ut),it.attemptFetch($,Ut)}})()}}class Ja{constructor($,Z,be,it,It){this.app=$,this._client=Z,this._storageCache=be,this._storage=it,this._logger=It,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lo(P,$){const Z=P.target.error||void 0;return Wn.create($,{originalErrorMessage:Z&&(null==Z?void 0:Z.message)})}const us="app_namespace_store";class Ua{constructor($,Z,be,it=function is(){return new Promise((P,$)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=be=>{$(lo(be,"storage-open"))},Z.onsuccess=be=>{P(be.target.result)},Z.onupgradeneeded=be=>{0===be.oldVersion&&be.target.result.createObjectStore(us,{keyPath:"compositeKey"})}}catch(Z){$(Wn.create("storage-open",{originalErrorMessage:null==Z?void 0:Z.message}))}})}()){this.appId=$,this.appName=Z,this.namespace=be,this.openDbPromise=it}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var Z=this;return(0,ee.Z)(function*(){const be=yield Z.openDbPromise;return new Promise((it,It)=>{const kn=be.transaction([us],"readonly").objectStore(us),An=Z.createCompositeKey($);try{const Zn=kn.get(An);Zn.onerror=$r=>{It(lo($r,"storage-get"))},Zn.onsuccess=$r=>{const Or=$r.target.result;it(Or?Or.value:void 0)}}catch(Zn){It(Wn.create("storage-get",{originalErrorMessage:null==Zn?void 0:Zn.message}))}})})()}set($,Z){var be=this;return(0,ee.Z)(function*(){const it=yield be.openDbPromise;return new Promise((It,Ut)=>{const An=it.transaction([us],"readwrite").objectStore(us),Zn=be.createCompositeKey($);try{const $r=An.put({compositeKey:Zn,value:Z});$r.onerror=Or=>{Ut(lo(Or,"storage-set"))},$r.onsuccess=()=>{It()}}catch($r){Ut(Wn.create("storage-set",{originalErrorMessage:null==$r?void 0:$r.message}))}})})()}delete($){var Z=this;return(0,ee.Z)(function*(){const be=yield Z.openDbPromise;return new Promise((it,It)=>{const kn=be.transaction([us],"readwrite").objectStore(us),An=Z.createCompositeKey($);try{const Zn=kn.delete(An);Zn.onerror=$r=>{It(lo($r,"storage-delete"))},Zn.onsuccess=()=>{it()}}catch(Zn){It(Wn.create("storage-delete",{originalErrorMessage:null==Zn?void 0:Zn.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Ho{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,ee.Z)(function*(){const Z=$.storage.getLastFetchStatus(),be=$.storage.getLastSuccessfulFetchTimestampMillis(),it=$.storage.getActiveConfig(),It=yield Z;It&&($.lastFetchStatus=It);const Ut=yield be;Ut&&($.lastSuccessfulFetchTimestampMillis=Ut);const kn=yield it;kn&&($.activeConfig=kn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function uo(){return ho.apply(this,arguments)}function ho(){return(ho=(0,ee.Z)(function*(){if(!(0,$e.hl)())return!1;try{return yield(0,$e.eu)()}catch{return!1}})).apply(this,arguments)}!function co(){(0,de._registerComponent)(new xe.wA("remote-config",function P($,{instanceIdentifier:Z}){const be=$.getProvider("app").getImmediate(),it=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wn.create("registration-window");if(!(0,$e.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:It,apiKey:Ut,appId:kn}=be.options;if(!It)throw Wn.create("registration-project-id");if(!Ut)throw Wn.create("registration-api-key");if(!kn)throw Wn.create("registration-app-id");const An=new Ua(kn,be.name,Z=Z||"firebase"),Zn=new Ho(An),$r=new me.Yd(At);$r.logLevel=me.in.ERROR;const Or=new Os(it,de.SDK_VERSION,Z,It,Ut,kn),Po=new Ss(Or,An),Is=new Yi(Po,An,Zn,$r),Rl=new Ja(be,Is,Zn,An,$r);return function gr(P){const $=(0,$e.m9)(P);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Rl),Rl},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(At,"0.4.4"),(0,de.registerVersion)(At,"0.4.4","esm2017")}();const fa=(P,$)=>$.some(Z=>P instanceof Z);let fo,vs;const na=new WeakMap,As=new WeakMap,zi=new WeakMap,Zi=new WeakMap,bo=new WeakMap;let go={get(P,$,Z){if(P instanceof IDBTransaction){if("done"===$)return As.get(P);if("objectStoreNames"===$)return P.objectStoreNames||zi.get(P);if("store"===$)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return ss(P[$])},set:(P,$,Z)=>(P[$]=Z,!0),has:(P,$)=>P instanceof IDBTransaction&&("done"===$||"store"===$)||$ in P};function el(P){return"function"==typeof P?function ra(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function No(){return vs||(vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...$){return P.apply(Xi(this),$),ss(na.get(this))}:function(...$){return ss(P.apply(Xi(this),$))}:function($,...Z){const be=P.call(Xi(this),$,...Z);return zi.set(be,$.sort?$.sort():[$]),ss(be)}}(P):(P instanceof IDBTransaction&&function po(P){if(As.has(P))return;const $=new Promise((Z,be)=>{const it=()=>{P.removeEventListener("complete",It),P.removeEventListener("error",Ut),P.removeEventListener("abort",Ut)},It=()=>{Z(),it()},Ut=()=>{be(P.error||new DOMException("AbortError","AbortError")),it()};P.addEventListener("complete",It),P.addEventListener("error",Ut),P.addEventListener("abort",Ut)});As.set(P,$)}(P),fa(P,function ta(){return fo||(fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,go):P)}function ss(P){if(P instanceof IDBRequest)return function Ri(P){const $=new Promise((Z,be)=>{const it=()=>{P.removeEventListener("success",It),P.removeEventListener("error",Ut)},It=()=>{Z(ss(P.result)),it()},Ut=()=>{be(P.error),it()};P.addEventListener("success",It),P.addEventListener("error",Ut)});return $.then(Z=>{Z instanceof IDBCursor&&na.set(Z,P)}).catch(()=>{}),bo.set($,P),$}(P);if(Zi.has(P))return Zi.get(P);const $=el(P);return $!==P&&(Zi.set(P,$),bo.set($,P)),$}const Xi=P=>bo.get(P);function Do(P,$,{blocked:Z,upgrade:be,blocking:it,terminated:It}={}){const Ut=indexedDB.open(P,$),kn=ss(Ut);return be&&Ut.addEventListener("upgradeneeded",An=>{be(ss(Ut.result),An.oldVersion,An.newVersion,ss(Ut.transaction))}),Z&&Ut.addEventListener("blocked",()=>Z()),kn.then(An=>{It&&An.addEventListener("close",()=>It()),it&&An.addEventListener("versionchange",()=>it())}).catch(()=>{}),kn}function Gi(P,{blocked:$}={}){const Z=indexedDB.deleteDatabase(P);return $&&Z.addEventListener("blocked",()=>$()),ss(Z).then(()=>{})}const Va=["get","getKey","getAll","getAllKeys","count"],Ns=["put","add","delete","clear"],To=new Map;function ia(P,$){if(!(P instanceof IDBDatabase)||$ in P||"string"!=typeof $)return;if(To.get($))return To.get($);const Z=$.replace(/FromIndex$/,""),be=$!==Z,it=Ns.includes(Z);if(!(Z in(be?IDBIndex:IDBObjectStore).prototype)||!it&&!Va.includes(Z))return;const It=function(){var Ut=(0,ee.Z)(function*(kn,...An){const Zn=this.transaction(kn,it?"readwrite":"readonly");let $r=Zn.store;return be&&($r=$r.index(An.shift())),(yield Promise.all([$r[Z](...An),it&&Zn.done]))[0]});return function(An){return Ut.apply(this,arguments)}}();return To.set($,It),It}!function Pi(P){go=P(go)}(P=>({...P,get:($,Z,be)=>ia($,Z)||P.get($,Z,be),has:($,Z)=>!!ia($,Z)||P.has($,Z)}));const wr="/firebase-messaging-sw.js",So="/firebase-cloud-messaging-push-scope",pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sa="https://fcmregistrations.googleapis.com/v1",b="google.c.a.c_id",q="google.c.a.c_l",T="google.c.a.ts",W="google.c.a.e";var M=(()=>{return(P=M||(M={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",M;var P})();function F(P){const $=new Uint8Array(P);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L(P){const Z=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),be=atob(Z),it=new Uint8Array(be.length);for(let It=0;It<be.length;++It)it[It]=be.charCodeAt(It);return it}const ne="fcm_token_details_db",ft=5,mn="fcm_token_object_Store";function ti(){return ti=(0,ee.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(It=>It.name).includes(ne))return null;let $=null;return(yield Do(ne,ft,{upgrade:(be=(0,ee.Z)(function*(it,It,Ut,kn){var An;if(It<2||!it.objectStoreNames.contains(mn))return;const Zn=kn.objectStore(mn),$r=yield Zn.index("fcmSenderId").get(P);if(yield Zn.clear(),$r)if(2===It){const Or=$r;if(!Or.auth||!Or.p256dh||!Or.endpoint)return;$={token:Or.fcmToken,createTime:null!==(An=Or.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:Or.auth,p256dh:Or.p256dh,endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:"string"==typeof Or.vapidKey?Or.vapidKey:F(Or.vapidKey)}}}else if(3===It){const Or=$r;$={token:Or.fcmToken,createTime:Or.createTime,subscriptionOptions:{auth:F(Or.auth),p256dh:F(Or.p256dh),endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:F(Or.vapidKey)}}}else if(4===It){const Or=$r;$={token:Or.fcmToken,createTime:Or.createTime,subscriptionOptions:{auth:F(Or.auth),p256dh:F(Or.p256dh),endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:F(Or.vapidKey)}}}}),function(It,Ut,kn,An){return be.apply(this,arguments)})})).close(),yield Gi(ne),yield Gi("fcm_vapid_details_db"),yield Gi("undefined"),function Qi(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:$}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null;var be}),ti.apply(this,arguments)}const ds="firebase-messaging-database",Ao=1,Si="firebase-messaging-store";let ja=null;function ts(){return ja||(ja=Do(ds,Ao,{upgrade:(P,$)=>{0===$&&P.createObjectStore(Si)}})),ja}function Ks(P){return qs.apply(this,arguments)}function qs(){return qs=(0,ee.Z)(function*(P){const $=Sa(P),be=yield(yield ts()).transaction(Si).objectStore(Si).get($);if(be)return be;{const it=yield function Nr(P){return ti.apply(this,arguments)}(P.appConfig.senderId);if(it)return yield oa(P,it),it}}),qs.apply(this,arguments)}function oa(P,$){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,ee.Z)(function*(P,$){const Z=Sa(P),it=(yield ts()).transaction(Si,"readwrite");return yield it.objectStore(Si).put($,Z),yield it.done,$})).apply(this,arguments)}function tl(){return(tl=(0,ee.Z)(function*(P){const $=Sa(P),be=(yield ts()).transaction(Si,"readwrite");yield be.objectStore(Si).delete($),yield be.done})).apply(this,arguments)}function Sa({appConfig:P}){return P.appId}const ns=new $e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xs(P,$){return nl.apply(this,arguments)}function nl(){return(nl=(0,ee.Z)(function*(P,$){const Z=yield os(P),be=Go($),it={method:"POST",headers:Z,body:JSON.stringify(be)};let It;try{It=yield(yield fetch(ga(P.appConfig),it)).json()}catch(Ut){throw ns.create("token-subscribe-failed",{errorInfo:null==Ut?void 0:Ut.toString()})}if(It.error)throw ns.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw ns.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function zo(){return(zo=(0,ee.Z)(function*(P,$){const Z=yield os(P),be=Go($.subscriptionOptions),it={method:"PATCH",headers:Z,body:JSON.stringify(be)};let It;try{It=yield(yield fetch(`${ga(P.appConfig)}/${$.token}`,it)).json()}catch(Ut){throw ns.create("token-update-failed",{errorInfo:null==Ut?void 0:Ut.toString()})}if(It.error)throw ns.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw ns.create("token-update-no-token");return It.token})).apply(this,arguments)}function Fo(P,$){return rl.apply(this,arguments)}function rl(){return(rl=(0,ee.Z)(function*(P,$){const be={method:"DELETE",headers:yield os(P)};try{const It=yield(yield fetch(`${ga(P.appConfig)}/${$}`,be)).json();if(It.error)throw ns.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(it){throw ns.create("token-unsubscribe-failed",{errorInfo:null==it?void 0:it.toString()})}})).apply(this,arguments)}function ga({projectId:P}){return`${sa}/projects/${P}/registrations`}function os(P){return xo.apply(this,arguments)}function xo(){return(xo=(0,ee.Z)(function*({appConfig:P,installations:$}){const Z=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Go({p256dh:P,auth:$,endpoint:Z,vapidKey:be}){const it={web:{endpoint:Z,auth:$,p256dh:P}};return be!==pa&&(it.web.applicationPubKey=be),it}const Zs=6048e5;function xa(){return xa=(0,ee.Z)(function*(P){const $=yield function vl(P,$){return mo.apply(this,arguments)}(P.swRegistration,P.vapidKey),Z={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:$.endpoint,auth:F($.getKey("auth")),p256dh:F($.getKey("p256dh"))},be=yield Ks(P.firebaseDependencies);if(be){if(function Hl(P,$){return $.vapidKey===P.vapidKey&&$.endpoint===P.endpoint&&$.auth===P.auth&&$.p256dh===P.p256dh}(be.subscriptionOptions,Z))return Date.now()>=be.createTime+Zs?function Br(P,$){return Ro.apply(this,arguments)}(P,{token:be.token,createTime:Date.now(),subscriptionOptions:Z}):be.token;try{yield Fo(P.firebaseDependencies,be.token)}catch(it){console.warn(it)}return Ra(P.firebaseDependencies,Z)}return Ra(P.firebaseDependencies,Z)}),xa.apply(this,arguments)}function Fs(){return Fs=(0,ee.Z)(function*(P){const $=yield Ks(P.firebaseDependencies);$&&(yield Fo(P.firebaseDependencies,$.token),yield function yl(P){return tl.apply(this,arguments)}(P.firebaseDependencies));const Z=yield P.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()}),Fs.apply(this,arguments)}function Ro(){return Ro=(0,ee.Z)(function*(P,$){try{const Z=yield function Aa(P,$){return zo.apply(this,arguments)}(P.firebaseDependencies,$),be=Object.assign(Object.assign({},$),{token:Z,createTime:Date.now()});return yield oa(P.firebaseDependencies,be),Z}catch(Z){throw yield function as(P){return Fs.apply(this,arguments)}(P),Z}}),Ro.apply(this,arguments)}function Ra(P,$){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,ee.Z)(function*(P,$){const be={token:yield xs(P,$),createTime:Date.now(),subscriptionOptions:$};return yield oa(P,be),be.token})).apply(this,arguments)}function mo(){return(mo=(0,ee.Z)(function*(P,$){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:L($)})})).apply(this,arguments)}function Tr(P){const $={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function zl(P,$){if(!$.notification)return;P.notification={};const Z=$.notification.title;Z&&(P.notification.title=Z);const be=$.notification.body;be&&(P.notification.body=be);const it=$.notification.image;it&&(P.notification.image=it);const It=$.notification.icon;It&&(P.notification.icon=It)}($,P),function _l(P,$){$.data&&(P.data=$.data)}($,P),function B(P,$){var Z,be,it,It,Ut;if(!($.fcmOptions||null!==(Z=$.notification)&&void 0!==Z&&Z.click_action))return;P.fcmOptions={};const kn=null!==(it=null===(be=$.fcmOptions)||void 0===be?void 0:be.link)&&void 0!==it?it:null===(It=$.notification)||void 0===It?void 0:It.click_action;kn&&(P.fcmOptions.link=kn);const An=null===(Ut=$.fcmOptions)||void 0===Ut?void 0:Ut.analytics_label;An&&(P.fcmOptions.analyticsLabel=An)}($,P),$}function j(P,$){const Z=[];for(let be=0;be<P.length;be++)Z.push(P.charAt(be)),be<$.length&&Z.push($.charAt(be));return Z.join("")}function Me(P){return ns.create("missing-app-config-values",{valueName:P})}j("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),j("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vt{constructor($,Z,be){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const it=function ie(P){if(!P||!P.options)throw Me("App Configuration Object");if(!P.name)throw Me("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=P;for(const be of $)if(!Z[be])throw Me(be);return{appName:P.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:it,installations:Z,analyticsProvider:be}}_delete(){return Promise.resolve()}}function Wt(P){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,ee.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(wr,{scope:So}),P.swRegistration.update().catch(()=>{})}catch($){throw ns.create("failed-service-worker-registration",{browserErrorMessage:null==$?void 0:$.message})}})).apply(this,arguments)}function Wr(){return(Wr=(0,ee.Z)(function*(P,$){if(!$&&!P.swRegistration&&(yield Wt(P)),$||!P.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw ns.create("invalid-sw-registration");P.swRegistration=$}})).apply(this,arguments)}function _r(){return(_r=(0,ee.Z)(function*(P,$){$?P.vapidKey=$:P.vapidKey||(P.vapidKey=pa)})).apply(this,arguments)}function Ei(){return Ei=(0,ee.Z)(function*(P,$){if(!navigator)throw ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ns.create("permission-blocked");return yield function Fr(P,$){return _r.apply(this,arguments)}(P,null==$?void 0:$.vapidKey),yield function Sr(P,$){return Wr.apply(this,arguments)}(P,null==$?void 0:$.serviceWorkerRegistration),function hs(P){return xa.apply(this,arguments)}(P)}),Ei.apply(this,arguments)}function Wo(){return(Wo=(0,ee.Z)(function*(P,$,Z){const be=function yo(P){switch(P){case M.NOTIFICATION_CLICKED:return"notification_open";case M.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(be,{message_id:Z[b],message_name:Z[q],message_time:Z[T],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _s(){return _s=(0,ee.Z)(function*(P,$){const Z=$.data;if(!Z.isFirebaseMessaging)return;P.onMessageHandler&&Z.messageType===M.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Tr(Z)):P.onMessageHandler.next(Tr(Z)));const be=Z.data;(function Q(P){return"object"==typeof P&&!!P&&b in P})(be)&&"1"===be[W]&&(yield function $i(P,$,Z){return Wo.apply(this,arguments)}(P,Z.messageType,be))}),_s.apply(this,arguments)}const Xs="@firebase/messaging",Qs=P=>{const $=new Vt(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Ko(P,$){return _s.apply(this,arguments)}($,Z)),$},il=P=>{const $=P.getProvider("messaging").getImmediate();return{getToken:be=>function Ai(P,$){return Ei.apply(this,arguments)}($,be)}};function xc(){return qo.apply(this,arguments)}function qo(){return(qo=(0,ee.Z)(function*(){try{yield(0,$e.eu)()}catch{return!1}return typeof window<"u"&&(0,$e.hl)()&&(0,$e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function El(){(0,de._registerComponent)(new xe.wA("messaging",Qs,"PUBLIC")),(0,de._registerComponent)(new xe.wA("messaging-internal",il,"PRIVATE")),(0,de.registerVersion)(Xs,"0.12.4"),(0,de.registerVersion)(Xs,"0.12.4","esm2017")}();const hi="analytics",qc="firebase_id",$n="origin",ar=6e4,lc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ln="https://www.googletagmanager.com/gtag/js",Lt=new me.Yd("@firebase/analytics"),ni=new $e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sl(P){if(!P.startsWith(Ln)){const $=ni.create("invalid-gtag-resource",{gtagURL:P});return Lt.warn($.message),""}return P}function cc(P){return Promise.all(P.map($=>$.catch(Z=>Z)))}function Bo(){return(Bo=(0,ee.Z)(function*(P,$,Z,be,it,It){const Ut=be[it];try{if(Ut)yield $[Ut];else{const An=(yield cc(Z)).find(Zn=>Zn.measurementId===it);An&&(yield $[An.appId])}}catch(kn){Lt.error(kn)}P("config",it,It)})).apply(this,arguments)}function Rc(){return(Rc=(0,ee.Z)(function*(P,$,Z,be,it){try{let It=[];if(it&&it.send_to){let Ut=it.send_to;Array.isArray(Ut)||(Ut=[Ut]);const kn=yield cc(Z);for(const An of Ut){const Zn=kn.find(Or=>Or.measurementId===An),$r=Zn&&$[Zn.appId];if(!$r){It=[];break}It.push($r)}}0===It.length&&(It=Object.values($)),yield Promise.all(It),P("event",be,it||{})}catch(It){Lt.error(It)}})).apply(this,arguments)}const aa=30,Qn=new class ai{constructor($={},Z=1e3){this.throttleMetadata=$,this.intervalMillis=Z}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,Z){this.throttleMetadata[$]=Z}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Mc(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function ki(){return(ki=(0,ee.Z)(function*(P){var $;const{appId:Z,apiKey:be}=P,it={method:"GET",headers:Mc(be)},It=lc.replace("{app-id}",Z),Ut=yield fetch(It,it);if(200!==Ut.status&&304!==Ut.status){let kn="";try{const An=yield Ut.json();null!==($=An.error)&&void 0!==$&&$.message&&(kn=An.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:Ut.status,responseMessage:kn})}return Ut.json()})).apply(this,arguments)}function Rn(){return(Rn=(0,ee.Z)(function*(P,$=Qn,Z){const{appId:be,apiKey:it,measurementId:It}=P.options;if(!be)throw ni.create("no-app-id");if(!it){if(It)return{measurementId:It,appId:be};throw ni.create("no-api-key")}const Ut=$.getThrottleMetadata(be)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kn=new dc;return setTimeout((0,ee.Z)(function*(){kn.abort()}),void 0!==Z?Z:ar),Gl({appId:be,apiKey:it,measurementId:It},Ut,kn,$)})).apply(this,arguments)}function Gl(P,$,Z){return uc.apply(this,arguments)}function uc(){return uc=(0,ee.Z)(function*(P,{throttleEndTimeMillis:$,backoffCount:Z},be,it=Qn){var It;const{appId:Ut,measurementId:kn}=P;try{yield function Cl(P,$){return new Promise((Z,be)=>{const it=Math.max($-Date.now(),0),It=setTimeout(Z,it);P.addEventListener(()=>{clearTimeout(It),be(ni.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(be,$)}catch(An){if(kn)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null==An?void 0:An.message}]`),{appId:Ut,measurementId:kn};throw An}try{const An=yield function pi(P){return ki.apply(this,arguments)}(P);return it.deleteThrottleMetadata(Ut),An}catch(An){const Zn=An;if(!function Xc(P){if(!(P instanceof $e.ZR&&P.customData))return!1;const $=Number(P.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Zn)){if(it.deleteThrottleMetadata(Ut),kn)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null==Zn?void 0:Zn.message}]`),{appId:Ut,measurementId:kn};throw An}const $r=503===Number(null===(It=null==Zn?void 0:Zn.customData)||void 0===It?void 0:It.httpStatus)?(0,$e.$s)(Z,it.intervalMillis,aa):(0,$e.$s)(Z,it.intervalMillis),Or={throttleEndTimeMillis:Date.now()+$r,backoffCount:Z+1};return it.setThrottleMetadata(Ut,Or),Lt.debug(`Calling attemptFetch again in ${$r} millis`),Gl(P,Or,be,it)}}),uc.apply(this,arguments)}class dc{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let bl,_u;function Qc(){return(Qc=(0,ee.Z)(function*(P,$,Z,be,it){if(it&&it.global)P("event",Z,be);else{const It=yield $;P("event",Z,Object.assign(Object.assign({},be),{send_to:It}))}})).apply(this,arguments)}function Rr(){return(Rr=(0,ee.Z)(function*(){if(!(0,$e.hl)())return Lt.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$e.eu)()}catch(P){return Lt.warn(ni.create("indexeddb-unavailable",{errorInfo:null==P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function x(){return x=(0,ee.Z)(function*(P,$,Z,be,it,It,Ut){var kn;const An=function fs(P){return Rn.apply(this,arguments)}(P);An.then(Is=>{Z[Is.measurementId]=Is.appId,P.options.measurementId&&Is.measurementId!==P.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Is=>Lt.error(Is)),$.push(An);const Zn=function li(){return Rr.apply(this,arguments)}().then(Is=>{if(Is)return be.getId()}),[$r,Or]=yield Promise.all([An,Zn]);(function ur(P){const $=window.document.getElementsByTagName("script");for(const Z of Object.values($))if(Z.src&&Z.src.includes(Ln)&&Z.src.includes(P))return Z;return null})(It)||function Ma(P,$){const Z=function Il(P,$){let Z;return window.trustedTypes&&(Z=window.trustedTypes.createPolicy(P,$)),Z}("firebase-js-sdk-policy",{createScriptURL:sl}),be=document.createElement("script"),it=`${Ln}?l=${P}&id=${$}`;be.src=Z?null==Z?void 0:Z.createScriptURL(it):it,be.async=!0,document.head.appendChild(be)}(It,$r.measurementId),_u&&(it("consent","default",_u),function la(P){_u=P}(void 0)),it("js",new Date);const Po=null!==(kn=null==Ut?void 0:Ut.config)&&void 0!==kn?kn:{};return Po[$n]="firebase",Po.update=!0,null!=Or&&(Po[qc]=Or),it("config",$r.measurementId,Po),bl&&(it("set",bl),function Yo(P){bl=P}(void 0)),$r.measurementId}),x.apply(this,arguments)}class w{constructor($){this.app=$}_delete(){return delete O[this.app.options.appId],Promise.resolve()}}let O={},z=[];const re={};let kt,fn,ae="dataLayer",nt="gtag",Bn=!1;function rs(P,$,Z){!function gi(){const P=[];if((0,$e.ru)()&&P.push("This is a browser extension environment."),(0,$e.zI)()||P.push("Cookies are not available."),P.length>0){const $=P.map((be,it)=>`(${it+1}) ${be}`).join(" "),Z=ni.create("invalid-analytics-context",{errorInfo:$});Lt.warn(Z.message)}}();const be=P.options.appId;if(!be)throw ni.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw ni.create("no-api-key");Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=O[be])throw ni.create("already-exists",{id:be});if(!Bn){!function Fd(P){let $=[];Array.isArray(window[P])?$=window[P]:window[P]=$}(ae);const{wrappedGtag:It,gtagCore:Ut}=function ma(P,$,Z,be,it){let It=function(...Ut){window[be].push(arguments)};return window[it]&&"function"==typeof window[it]&&(It=window[it]),window[it]=function eo(P,$,Z,be){function It(){return It=(0,ee.Z)(function*(Ut,...kn){try{if("event"===Ut){const[An,Zn]=kn;yield function wl(P,$,Z,be,it){return Rc.apply(this,arguments)}(P,$,Z,An,Zn)}else if("config"===Ut){const[An,Zn]=kn;yield function Yc(P,$,Z,be,it,It){return Bo.apply(this,arguments)}(P,$,Z,be,An,Zn)}else if("consent"===Ut){const[An]=kn;P("consent","update",An)}else if("get"===Ut){const[An,Zn,$r]=kn;P("get",An,Zn,$r)}else if("set"===Ut){const[An]=kn;P("set",An)}else P(Ut,...kn)}catch(An){Lt.error(An)}}),It.apply(this,arguments)}return function it(Ut){return It.apply(this,arguments)}}(It,P,$,Z),{gtagCore:It,wrappedGtag:window[it]}}(O,z,re,ae,nt);fn=It,kt=Ut,Bn=!0}return O[be]=function S(P,$,Z,be,it,It,Ut){return x.apply(this,arguments)}(P,z,re,$,kt,ae,Z),new w(P)}function Mo(){return Es.apply(this,arguments)}function Es(){return(Es=(0,ee.Z)(function*(){if((0,$e.ru)()||!(0,$e.zI)()||!(0,$e.hl)())return!1;try{return yield(0,$e.eu)()}catch{return!1}})).apply(this,arguments)}const td="@firebase/analytics";!function rd(){(0,de._registerComponent)(new xe.wA(hi,($,{options:Z})=>rs($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,de._registerComponent)(new xe.wA("analytics-internal",function P($){try{const Z=$.getProvider(hi).getImmediate();return{logEvent:(be,it,It)=>function Ld(P,$,Z,be){P=(0,$e.m9)(P),function Pc(P,$,Z,be,it){return Qc.apply(this,arguments)}(fn,O[P.app.options.appId],$,Z,be).catch(it=>Lt.error(it))}(Z,be,it,It)}}catch(Z){throw ni.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,de.registerVersion)(td,"0.10.0"),(0,de.registerVersion)(td,"0.10.0","esm2017")}();var Eu=H(4408),Oc=H(7565);const Nc=new class kc extends Oc.v{}(class Bd extends Eu.o{constructor($,Z){super($,Z),this.scheduler=$,this.work=Z}schedule($,Z=0){return Z>0?super.schedule($,Z):(this.delay=Z,this.state=$,this.scheduler.flush(this),this)}execute($,Z){return Z>0||this.closed?super.execute($,Z):this._execute($,Z)}requestAsyncId($,Z,be=0){return null!=be&&be>0||null==be&&this.delay>0?super.requestAsyncId($,Z,be):($.flush(this),0)}});var $s=H(4986),id=H(8505),al=H(5363),eu=H(9468);const Ar=new _.GfV("7.5.0"),Sl="__angularfire_symbol__analyticsIsSupportedValue",Us="__angularfire_symbol__analyticsIsSupported",Ui="__angularfire_symbol__remoteConfigIsSupportedValue",Al="__angularfire_symbol__remoteConfigIsSupported",va="__angularfire_symbol__messagingIsSupportedValue",ps="__angularfire_symbol__messagingIsSupported";function xl(P,$,Z){if($){if(1===$.length)return $[0];const It=$.filter(Ut=>Ut.app===Z);if(1===It.length)return It[0]}return Z.container.getProvider(P).getImmediate({optional:!0})}globalThis[Us]||(globalThis[Us]=Mo().then(P=>globalThis[Sl]=P).catch(()=>globalThis[Sl]=!1)),globalThis[ps]||(globalThis[ps]=xc().then(P=>globalThis[va]=P).catch(()=>globalThis[va]=!1)),globalThis[Al]||(globalThis[Al]=uo().then(P=>globalThis[Ui]=P).catch(()=>globalThis[Ui]=!1));const Vr=(P,$)=>{const Z=$?[$]:(0,y.C6)(),be=[];return Z.forEach(it=>{it.container.getProvider(P).instances.forEach(Ut=>{be.includes(Ut)||be.push(Ut)})}),be};function ro(){}class Fc{constructor($,Z=Nc){this.zone=$,this.delegate=Z}now(){return this.delegate.now()}schedule($,Z,be){const it=this.zone;return this.delegate.schedule(function(Ut){it.runGuarded(()=>{$.apply(this,[Ut])})},Z,be)}}class pc{constructor($){this.zone=$,this.task=null}call($,Z){const be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ro,{},ro,ro)),Z.pipe((0,id.b)({next:be,complete:be,error:be})).subscribe($).add(be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uo=(()=>{class P{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Fc(Zone.current)),this.insideAngular=Z.run(()=>new Fc(Zone.current,$s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Z){return new(Z||P)(_.LFG(_.R0b))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Pa(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function tu(P){return P.pipe((0,al.Q)(Pa().outsideAngular))}function Qo(P){return Pa(),function nu(P){return function(Z){return(Z=Z.lift(new pc(P.ngZone))).pipe((0,eu.R)(P.outsideAngular),(0,al.Q)(P.insideAngular))}}(Pa())(P)}},2090:(gn,mt,H)=>{"use strict";H.d(mt,{$s:()=>Ke,BH:()=>Ze,DV:()=>hr,Dv:()=>Dr,G6:()=>ke,GJ:()=>nn,L:()=>Fe,LL:()=>Bt,Pz:()=>et,Sg:()=>xt,UG:()=>Pe,UI:()=>tr,US:()=>xe,Wj:()=>yi,Wl:()=>St,Yr:()=>pt,ZB:()=>ye,ZR:()=>Xt,aH:()=>Y,b$:()=>ht,cI:()=>Te,dS:()=>vi,eu:()=>Ne,g5:()=>ee,gK:()=>si,gQ:()=>Hn,h$:()=>Ve,hl:()=>Le,hu:()=>y,jU:()=>Ce,lb:()=>Ur,m9:()=>zt,ne:()=>Gn,p$:()=>ge,pd:()=>xi,r3:()=>En,ru:()=>Ue,tV:()=>we,uI:()=>Oe,ug:()=>lr,vZ:()=>vn,w1:()=>ct,w9:()=>wn,xO:()=>br,xb:()=>Cr,z$:()=>Be,zI:()=>lt,zd:()=>mi});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},y=function(Ie,_e){if(!Ie)throw ee(_e)},ee=function(Ie){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ie)},de=function(Ie){const _e=[];let We=0;for(let Dt=0;Dt<Ie.length;Dt++){let st=Ie.charCodeAt(Dt);st<128?_e[We++]=st:st<2048?(_e[We++]=st>>6|192,_e[We++]=63&st|128):55296==(64512&st)&&Dt+1<Ie.length&&56320==(64512&Ie.charCodeAt(Dt+1))?(st=65536+((1023&st)<<10)+(1023&Ie.charCodeAt(++Dt)),_e[We++]=st>>18|240,_e[We++]=st>>12&63|128,_e[We++]=st>>6&63|128,_e[We++]=63&st|128):(_e[We++]=st>>12|224,_e[We++]=st>>6&63|128,_e[We++]=63&st|128)}return _e},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,_e){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const We=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Dt=[];for(let st=0;st<Ie.length;st+=3){const on=Ie[st],ot=st+1<Ie.length,je=ot?Ie[st+1]:0,ve=st+2<Ie.length,ut=ve?Ie[st+2]:0;let Tn=(15&je)<<2|ut>>6,qn=63&ut;ve||(qn=64,ot||(Tn=64)),Dt.push(We[on>>2],We[(3&on)<<4|je>>4],We[Tn],We[qn])}return Dt.join("")},encodeString(Ie,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Ie):this.encodeByteArray(de(Ie),_e)},decodeString(Ie,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Ie):function(Ie){const _e=[];let We=0,Dt=0;for(;We<Ie.length;){const st=Ie[We++];if(st<128)_e[Dt++]=String.fromCharCode(st);else if(st>191&&st<224){const on=Ie[We++];_e[Dt++]=String.fromCharCode((31&st)<<6|63&on)}else if(st>239&&st<365){const ve=((7&st)<<18|(63&Ie[We++])<<12|(63&Ie[We++])<<6|63&Ie[We++])-65536;_e[Dt++]=String.fromCharCode(55296+(ve>>10)),_e[Dt++]=String.fromCharCode(56320+(1023&ve))}else{const on=Ie[We++],ot=Ie[We++];_e[Dt++]=String.fromCharCode((15&st)<<12|(63&on)<<6|63&ot)}}return _e.join("")}(this.decodeStringToByteArray(Ie,_e))},decodeStringToByteArray(Ie,_e){this.init_();const We=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Dt=[];for(let st=0;st<Ie.length;){const on=We[Ie.charAt(st++)],je=st<Ie.length?We[Ie.charAt(st)]:0;++st;const ut=st<Ie.length?We[Ie.charAt(st)]:64;++st;const ln=st<Ie.length?We[Ie.charAt(st)]:64;if(++st,null==on||null==je||null==ut||null==ln)throw new me;Dt.push(on<<2|je>>4),64!==ut&&(Dt.push(je<<4&240|ut>>2),64!==ln&&Dt.push(ut<<6&192|ln))}return Dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(Ie){const _e=de(Ie);return xe.encodeByteArray(_e,!0)},Fe=function(Ie){return Ve(Ie).replace(/\./g,"")},we=function(Ie){try{return xe.decodeString(Ie,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function ge(Ie){return ye(void 0,Ie)}function ye(Ie,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return _e}for(const We in _e)!_e.hasOwnProperty(We)||!ze(We)||(Ie[We]=ye(Ie[We],_e[We]));return Ie}function ze(Ie){return"__proto__"!==Ie}const Se=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Ie&&we(Ie[1]);return _e&&JSON.parse(_e)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},Y=()=>{var Ie;return null===(Ie=Se())||void 0===Ie?void 0:Ie.config},et=Ie=>{var _e;return null===(_e=Se())||void 0===_e?void 0:_e[`_${Ie}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,We)=>{this.resolve=_e,this.reject=We})}wrapCallback(_e){return(We,Dt)=>{We?this.reject(We):this.resolve(Dt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(We):_e(We,Dt))}}}function xt(Ie,_e){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Dt=_e||"demo-project",st=Ie.iat||0,on=Ie.sub||Ie.user_id;if(!on)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${Dt}`,aud:Dt,iat:st,exp:st+3600,auth_time:st,sub:on,user_id:on,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(ot)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Pe(){var Ie;const _e=null===(Ie=Se())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ue(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const Ie=Be();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function pt(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function ke(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((Ie,_e)=>{try{let We=!0;const Dt="validate-browser-context-for-indexeddb-analytics-module",st=self.indexedDB.open(Dt);st.onsuccess=()=>{st.result.close(),We||self.indexedDB.deleteDatabase(Dt),Ie(!0)},st.onupgradeneeded=()=>{We=!1},st.onerror=()=>{var on;_e((null===(on=st.error)||void 0===on?void 0:on.message)||"")}}catch(We){_e(We)}})}function lt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xt extends Error{constructor(_e,We,Dt){super(We),this.code=_e,this.customData=Dt,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(_e,We,Dt){this.service=_e,this.serviceName=We,this.errors=Dt}create(_e,...We){const Dt=We[0]||{},st=`${this.service}/${_e}`,on=this.errors[_e],ot=on?function yn(Ie,_e){return Ie.replace(Tt,(We,Dt)=>{const st=_e[Dt];return null!=st?String(st):`<${Dt}?>`})}(on,Dt):"Error";return new Xt(st,`${this.serviceName}: ${ot} (${st}).`,Dt)}}const Tt=/\{\$([^}]+)}/g;function Te(Ie){return JSON.parse(Ie)}function St(Ie){return JSON.stringify(Ie)}const cn=function(Ie){let _e={},We={},Dt={},st="";try{const on=Ie.split(".");_e=Te(we(on[0])||""),We=Te(we(on[1])||""),st=on[2],Dt=We.d||{},delete We.d}catch{}return{header:_e,claims:We,data:Dt,signature:st}},wn=function(Ie){const We=cn(Ie).claims;return!!We&&"object"==typeof We&&We.hasOwnProperty("iat")},nn=function(Ie){const _e=cn(Ie).claims;return"object"==typeof _e&&!0===_e.admin};function En(Ie,_e){return Object.prototype.hasOwnProperty.call(Ie,_e)}function hr(Ie,_e){if(Object.prototype.hasOwnProperty.call(Ie,_e))return Ie[_e]}function Cr(Ie){for(const _e in Ie)if(Object.prototype.hasOwnProperty.call(Ie,_e))return!1;return!0}function tr(Ie,_e,We){const Dt={};for(const st in Ie)Object.prototype.hasOwnProperty.call(Ie,st)&&(Dt[st]=_e.call(We,Ie[st],st,Ie));return Dt}function vn(Ie,_e){if(Ie===_e)return!0;const We=Object.keys(Ie),Dt=Object.keys(_e);for(const st of We){if(!Dt.includes(st))return!1;const on=Ie[st],ot=_e[st];if(jn(on)&&jn(ot)){if(!vn(on,ot))return!1}else if(on!==ot)return!1}for(const st of Dt)if(!We.includes(st))return!1;return!0}function jn(Ie){return null!==Ie&&"object"==typeof Ie}function br(Ie){const _e=[];for(const[We,Dt]of Object.entries(Ie))Array.isArray(Dt)?Dt.forEach(st=>{_e.push(encodeURIComponent(We)+"="+encodeURIComponent(st))}):_e.push(encodeURIComponent(We)+"="+encodeURIComponent(Dt));return _e.length?"&"+_e.join("&"):""}function mi(Ie){const _e={};return Ie.replace(/^\?/,"").split("&").forEach(Dt=>{if(Dt){const[st,on]=Dt.split("=");_e[decodeURIComponent(st)]=decodeURIComponent(on)}}),_e}function xi(Ie){const _e=Ie.indexOf("?");if(!_e)return"";const We=Ie.indexOf("#",_e);return Ie.substring(_e,We>0?We:void 0)}class Hn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let _e=1;_e<this.blockSize;++_e)this.pad_[_e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(_e,We){We||(We=0);const Dt=this.W_;if("string"==typeof _e)for(let ln=0;ln<16;ln++)Dt[ln]=_e.charCodeAt(We)<<24|_e.charCodeAt(We+1)<<16|_e.charCodeAt(We+2)<<8|_e.charCodeAt(We+3),We+=4;else for(let ln=0;ln<16;ln++)Dt[ln]=_e[We]<<24|_e[We+1]<<16|_e[We+2]<<8|_e[We+3],We+=4;for(let ln=16;ln<80;ln++){const Tn=Dt[ln-3]^Dt[ln-8]^Dt[ln-14]^Dt[ln-16];Dt[ln]=4294967295&(Tn<<1|Tn>>>31)}let ut,Rt,st=this.chain_[0],on=this.chain_[1],ot=this.chain_[2],je=this.chain_[3],ve=this.chain_[4];for(let ln=0;ln<80;ln++){ln<40?ln<20?(ut=je^on&(ot^je),Rt=1518500249):(ut=on^ot^je,Rt=1859775393):ln<60?(ut=on&ot|je&(on|ot),Rt=2400959708):(ut=on^ot^je,Rt=3395469782);const Tn=(st<<5|st>>>27)+ut+ve+Rt+Dt[ln]&4294967295;ve=je,je=ot,ot=4294967295&(on<<30|on>>>2),on=st,st=Tn}this.chain_[0]=this.chain_[0]+st&4294967295,this.chain_[1]=this.chain_[1]+on&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+je&4294967295,this.chain_[4]=this.chain_[4]+ve&4294967295}update(_e,We){if(null==_e)return;void 0===We&&(We=_e.length);const Dt=We-this.blockSize;let st=0;const on=this.buf_;let ot=this.inbuf_;for(;st<We;){if(0===ot)for(;st<=Dt;)this.compress_(_e,st),st+=this.blockSize;if("string"==typeof _e){for(;st<We;)if(on[ot]=_e.charCodeAt(st),++ot,++st,ot===this.blockSize){this.compress_(on),ot=0;break}}else for(;st<We;)if(on[ot]=_e[st],++ot,++st,ot===this.blockSize){this.compress_(on),ot=0;break}}this.inbuf_=ot,this.total_+=We}digest(){const _e=[];let We=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let st=this.blockSize-1;st>=56;st--)this.buf_[st]=255&We,We/=256;this.compress_(this.buf_);let Dt=0;for(let st=0;st<5;st++)for(let on=24;on>=0;on-=8)_e[Dt]=this.chain_[st]>>on&255,++Dt;return _e}}function Gn(Ie,_e){const We=new en(Ie,_e);return We.subscribe.bind(We)}class en{constructor(_e,We){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=We,this.task.then(()=>{_e(this)}).catch(Dt=>{this.error(Dt)})}next(_e){this.forEachObserver(We=>{We.next(_e)})}error(_e){this.forEachObserver(We=>{We.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,We,Dt){let st;if(void 0===_e&&void 0===We&&void 0===Dt)throw new Error("Missing Observer.");st=function sn(Ie,_e){if("object"!=typeof Ie||null===Ie)return!1;for(const We of _e)if(We in Ie&&"function"==typeof Ie[We])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:We,complete:Dt},void 0===st.next&&(st.next=ci),void 0===st.error&&(st.error=ci),void 0===st.complete&&(st.complete=ci);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?st.error(this.finalError):st.complete()}catch{}}),this.observers.push(st),on}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let We=0;We<this.observers.length;We++)this.sendOne(We,_e)}sendOne(_e,We){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{We(this.observers[_e])}catch(Dt){typeof console<"u"&&console.error&&console.error(Dt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ci(){}const Dr=function(Ie,_e,We,Dt){let st;if(Dt<_e?st="at least "+_e:Dt>We&&(st=0===We?"none":"no more than "+We),st)throw new Error(Ie+" failed: Was called with "+Dt+(1===Dt?" argument.":" arguments.")+" Expects "+st+".")};function si(Ie,_e){return`${Ie} failed: ${_e} argument `}function yi(Ie,_e,We,Dt){if((!Dt||We)&&"function"!=typeof We)throw new Error(si(Ie,_e)+"must be a valid function.")}function Ur(Ie,_e,We,Dt){if((!Dt||We)&&("object"!=typeof We||null===We))throw new Error(si(Ie,_e)+"must be a valid context object.")}const vi=function(Ie){const _e=[];let We=0;for(let Dt=0;Dt<Ie.length;Dt++){let st=Ie.charCodeAt(Dt);if(st>=55296&&st<=56319){const on=st-55296;Dt++,y(Dt<Ie.length,"Surrogate pair missing trail surrogate."),st=65536+(on<<10)+(Ie.charCodeAt(Dt)-56320)}st<128?_e[We++]=st:st<2048?(_e[We++]=st>>6|192,_e[We++]=63&st|128):st<65536?(_e[We++]=st>>12|224,_e[We++]=st>>6&63|128,_e[We++]=63&st|128):(_e[We++]=st>>18|240,_e[We++]=st>>12&63|128,_e[We++]=st>>6&63|128,_e[We++]=63&st|128)}return _e},lr=function(Ie){let _e=0;for(let We=0;We<Ie.length;We++){const Dt=Ie.charCodeAt(We);Dt<128?_e++:Dt<2048?_e+=2:Dt>=55296&&Dt<=56319?(_e+=4,We++):_e+=3}return _e},Ir=1e3,Mi=2,yr=144e5,jt=.5;function Ke(Ie,_e=Ir,We=Mi){const Dt=_e*Math.pow(We,Ie),st=Math.round(jt*Dt*(Math.random()-.5)*2);return Math.min(yr,Dt+st)}function zt(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},9613:(gn,mt,H)=>{"use strict";H.d(mt,{c:()=>Ct});var _=H(3577),y=H(3457);let ee;const $e=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xe=Re=>(void 0===ee&&(ee=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),ee),me=(Re,Se,ue)=>{const gt=Se.startsWith("animation")?xe(Re):"";Re.style.setProperty(gt+Se,ue)},Ve=(Re,Se)=>{const ue=Se.startsWith("animation")?xe(Re):"";Re.style.removeProperty(ue+Se)},ge=[],rt=(Re=[],Se)=>{if(void 0!==Se){const ue=Array.isArray(Se)?Se:[Se];return[...Re,...ue]}return Re},Ct=Re=>{let Se,ue,gt,Y,et,Ze,Ce,Le,Ne,lt,vt,Tt,Te,xt=[],Be=[],Oe=[],Pe=!1,Ue={},ht=[],_t=[],ct={},wt=0,pt=!1,ke=!1,Xt=!0,Bt=!1,yn=!0,St=!1;const cn=Re,Sn=[],zn=[],wn=[],nn=[],En=[],hr=[],Cr=[],tr=[],vn=[],jn=[],bi="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,br="function"==typeof Element&&"function"==typeof Element.prototype.animate&&bi,xi=()=>jn,sn=(pe,Ye)=>((null!=Ye&&Ye.oneTimeCallback?zn:Sn).push({c:pe,o:Ye}),Te),Dr=()=>{if(br)jn.forEach(pe=>{pe.cancel()}),jn.length=0;else{const pe=wn.slice();(0,_.r)(()=>{pe.forEach(Ye=>{Ve(Ye,"animation-name"),Ve(Ye,"animation-duration"),Ve(Ye,"animation-timing-function"),Ve(Ye,"animation-iteration-count"),Ve(Ye,"animation-delay"),Ve(Ye,"animation-play-state"),Ve(Ye,"animation-fill-mode"),Ve(Ye,"animation-direction")})})}},si=()=>{En.forEach(pe=>{null!=pe&&pe.parentNode&&pe.parentNode.removeChild(pe)}),En.length=0},Yt=()=>void 0!==et?et:Ce?Ce.getFill():"both",zt=()=>void 0!==Ne?Ne:void 0!==Ze?Ze:Ce?Ce.getDirection():"normal",Ie=()=>pt?"linear":void 0!==gt?gt:Ce?Ce.getEasing():"linear",_e=()=>ke?0:void 0!==lt?lt:void 0!==ue?ue:Ce?Ce.getDuration():0,We=()=>void 0!==Y?Y:Ce?Ce.getIterations():1,Dt=()=>void 0!==vt?vt:void 0!==Se?Se:Ce?Ce.getDelay():0,Jt=()=>{0!==wt&&(wt--,0===wt&&((()=>{nr(),tr.forEach(At=>At()),vn.forEach(At=>At());const pe=Xt?1:0,Ye=ht,qe=_t,Nt=ct;wn.forEach(At=>{const Ht=At.classList;Ye.forEach(Qt=>Ht.add(Qt)),qe.forEach(Qt=>Ht.remove(Qt));for(const Qt in Nt)Nt.hasOwnProperty(Qt)&&me(At,Qt,Nt[Qt])}),Sn.forEach(At=>At.c(pe,Te)),zn.forEach(At=>At.c(pe,Te)),zn.length=0,yn=!0,Xt&&(Bt=!0),Xt=!0})(),Ce&&Ce.animationFinish()))},On=(pe=!0)=>{si();const Ye=(Re=>(Re.forEach(Se=>{for(const ue in Se)if(Se.hasOwnProperty(ue)){const gt=Se[ue];if("easing"===ue)Se["animation-timing-function"]=gt,delete Se[ue];else{const Y=$e(ue);Y!==ue&&(Se[Y]=gt,delete Se[ue])}}}),Re))(xt);wn.forEach(qe=>{if(Ye.length>0){const Nt=((Re=[])=>Re.map(Se=>{const ue=Se.offset,gt=[];for(const Y in Se)Se.hasOwnProperty(Y)&&"offset"!==Y&&gt.push(`${Y}: ${Se[Y]};`);return`${100*ue}% { ${gt.join(" ")} }`}).join(" "))(Ye);Tt=void 0!==Re?Re:(Re=>{let Se=ge.indexOf(Re);return Se<0&&(Se=ge.push(Re)-1),`ion-animation-${Se}`})(Nt);const At=((Re,Se,ue)=>{var gt;const Y=(Re=>{const Se=void 0!==Re.getRootNode?Re.getRootNode():Re;return Se.head||Se})(ue),et=xe(ue),Ze=Y.querySelector("#"+Re);if(Ze)return Ze;const xt=(null!==(gt=ue.ownerDocument)&&void 0!==gt?gt:document).createElement("style");return xt.id=Re,xt.textContent=`@${et}keyframes ${Re} { ${Se} } @${et}keyframes ${Re}-alt { ${Se} }`,Y.appendChild(xt),xt})(Tt,Nt,qe);En.push(At),me(qe,"animation-duration",`${_e()}ms`),me(qe,"animation-timing-function",Ie()),me(qe,"animation-delay",`${Dt()}ms`),me(qe,"animation-fill-mode",Yt()),me(qe,"animation-direction",zt());const Ht=We()===1/0?"infinite":We().toString();me(qe,"animation-iteration-count",Ht),me(qe,"animation-play-state","paused"),pe&&me(qe,"animation-name",`${At.id}-alt`),(0,_.r)(()=>{me(qe,"animation-name",At.id||null)})}})},vr=(pe=!0)=>{(()=>{hr.forEach(Nt=>Nt()),Cr.forEach(Nt=>Nt());const pe=Be,Ye=Oe,qe=Ue;wn.forEach(Nt=>{const At=Nt.classList;pe.forEach(Ht=>At.add(Ht)),Ye.forEach(Ht=>At.remove(Ht));for(const Ht in qe)qe.hasOwnProperty(Ht)&&me(Nt,Ht,qe[Ht])})})(),xt.length>0&&(br?(wn.forEach(pe=>{const Ye=pe.animate(xt,{id:cn,delay:Dt(),duration:_e(),easing:Ie(),iterations:We(),fill:Yt(),direction:zt()});Ye.pause(),jn.push(Ye)}),jn.length>0&&(jn[0].onfinish=()=>{Jt()})):On(pe)),Pe=!0},Nn=pe=>{if(pe=Math.min(Math.max(pe,0),.9999),br)jn.forEach(Ye=>{Ye.currentTime=Ye.effect.getComputedTiming().delay+_e()*pe,Ye.pause()});else{const Ye=`-${_e()*pe}ms`;wn.forEach(qe=>{xt.length>0&&(me(qe,"animation-delay",Ye),me(qe,"animation-play-state","paused"))})}},or=pe=>{jn.forEach(Ye=>{Ye.effect.updateTiming({delay:Dt(),duration:_e(),easing:Ie(),iterations:We(),fill:Yt(),direction:zt()})}),void 0!==pe&&Nn(pe)},rr=(pe=!0,Ye)=>{(0,_.r)(()=>{wn.forEach(qe=>{me(qe,"animation-name",Tt||null),me(qe,"animation-duration",`${_e()}ms`),me(qe,"animation-timing-function",Ie()),me(qe,"animation-delay",void 0!==Ye?`-${Ye*_e()}ms`:`${Dt()}ms`),me(qe,"animation-fill-mode",Yt()||null),me(qe,"animation-direction",zt()||null);const Nt=We()===1/0?"infinite":We().toString();me(qe,"animation-iteration-count",Nt),pe&&me(qe,"animation-name",`${Tt}-alt`),(0,_.r)(()=>{me(qe,"animation-name",Tt||null)})})})},ir=(pe=!1,Ye=!0,qe)=>(pe&&nn.forEach(Nt=>{Nt.update(pe,Ye,qe)}),br?or(qe):rr(Ye,qe),Te),Vi=()=>{Pe&&(br?jn.forEach(pe=>{pe.pause()}):wn.forEach(pe=>{me(pe,"animation-play-state","paused")}),St=!0)},In=()=>{Le=void 0,Jt()},nr=()=>{Le&&clearTimeout(Le)},Li=pe=>new Promise(Ye=>{null!=pe&&pe.sync&&(ke=!0,sn(()=>ke=!1,{oneTimeCallback:!0})),Pe||vr(),Bt&&(br?(Nn(0),or()):rr(),Bt=!1),yn&&(wt=nn.length+1,yn=!1),sn(()=>Ye(),{oneTimeCallback:!0}),nn.forEach(qe=>{qe.play()}),br?(jn.forEach(pe=>{pe.play()}),(0===xt.length||0===wn.length)&&Jt()):(()=>{if(nr(),(0,_.r)(()=>{wn.forEach(pe=>{xt.length>0&&me(pe,"animation-play-state","running")})}),0===xt.length||0===wn.length)Jt();else{const pe=Dt()||0,Ye=_e()||0,qe=We()||1;isFinite(qe)&&(Le=setTimeout(In,pe+Ye*qe+100)),((Re,Se)=>{let ue;const gt={passive:!0},et=Ze=>{Re===Ze.target&&(ue&&ue(),nr(),(0,_.r)(()=>{wn.forEach(pe=>{Ve(pe,"animation-duration"),Ve(pe,"animation-delay"),Ve(pe,"animation-play-state")}),(0,_.r)(Jt)}))};Re&&(Re.addEventListener("webkitAnimationEnd",et,gt),Re.addEventListener("animationend",et,gt),ue=()=>{Re.removeEventListener("webkitAnimationEnd",et,gt),Re.removeEventListener("animationend",et,gt)})})(wn[0])}})(),St=!1}),se=(pe,Ye)=>{const qe=xt[0];return void 0===qe||void 0!==qe.offset&&0!==qe.offset?xt=[{offset:0,[pe]:Ye},...xt]:qe[pe]=Ye,Te};return Te={parentAnimation:Ce,elements:wn,childAnimations:nn,id:cn,animationFinish:Jt,from:se,to:(pe,Ye)=>{const qe=xt[xt.length-1];return void 0===qe||void 0!==qe.offset&&1!==qe.offset?xt=[...xt,{offset:1,[pe]:Ye}]:qe[pe]=Ye,Te},fromTo:(pe,Ye,qe)=>se(pe,Ye).to(pe,qe),parent:pe=>(Ce=pe,Te),play:Li,pause:()=>(nn.forEach(pe=>{pe.pause()}),Vi(),Te),stop:()=>{nn.forEach(pe=>{pe.stop()}),Pe&&(Dr(),Pe=!1),pt=!1,ke=!1,yn=!0,Ne=void 0,lt=void 0,vt=void 0,wt=0,Bt=!1,Xt=!0,St=!1},destroy:pe=>(nn.forEach(Ye=>{Ye.destroy(pe)}),(pe=>{Dr(),pe&&si()})(pe),wn.length=0,nn.length=0,xt.length=0,Sn.length=0,zn.length=0,Pe=!1,yn=!0,Te),keyframes:pe=>{const Ye=xt!==pe;return xt=pe,Ye&&(pe=>{br?xi().forEach(Ye=>{if(Ye.effect.setKeyframes)Ye.effect.setKeyframes(pe);else{const qe=new KeyframeEffect(Ye.effect.target,pe,Ye.effect.getTiming());Ye.effect=qe}}):On()})(xt),Te},addAnimation:pe=>{if(null!=pe)if(Array.isArray(pe))for(const Ye of pe)Ye.parent(Te),nn.push(Ye);else pe.parent(Te),nn.push(pe);return Te},addElement:pe=>{if(null!=pe)if(1===pe.nodeType)wn.push(pe);else if(pe.length>=0)for(let Ye=0;Ye<pe.length;Ye++)wn.push(pe[Ye]);else console.error("Invalid addElement value");return Te},update:ir,fill:pe=>(et=pe,ir(!0),Te),direction:pe=>(Ze=pe,ir(!0),Te),iterations:pe=>(Y=pe,ir(!0),Te),duration:pe=>(!br&&0===pe&&(pe=1),ue=pe,ir(!0),Te),easing:pe=>(gt=pe,ir(!0),Te),delay:pe=>(Se=pe,ir(!0),Te),getWebAnimations:xi,getKeyframes:()=>xt,getFill:Yt,getDirection:zt,getDelay:Dt,getIterations:We,getEasing:Ie,getDuration:_e,afterAddRead:pe=>(tr.push(pe),Te),afterAddWrite:pe=>(vn.push(pe),Te),afterClearStyles:(pe=[])=>{for(const Ye of pe)ct[Ye]="";return Te},afterStyles:(pe={})=>(ct=pe,Te),afterRemoveClass:pe=>(_t=rt(_t,pe),Te),afterAddClass:pe=>(ht=rt(ht,pe),Te),beforeAddRead:pe=>(hr.push(pe),Te),beforeAddWrite:pe=>(Cr.push(pe),Te),beforeClearStyles:(pe=[])=>{for(const Ye of pe)Ue[Ye]="";return Te},beforeStyles:(pe={})=>(Ue=pe,Te),beforeRemoveClass:pe=>(Oe=rt(Oe,pe),Te),beforeAddClass:pe=>(Be=rt(Be,pe),Te),onFinish:sn,isRunning:()=>0!==wt&&!St,progressStart:(pe=!1,Ye)=>(nn.forEach(qe=>{qe.progressStart(pe,Ye)}),Vi(),pt=pe,Pe||vr(),ir(!1,!0,Ye),Te),progressStep:pe=>(nn.forEach(Ye=>{Ye.progressStep(pe)}),Nn(pe),Te),progressEnd:(pe,Ye,qe)=>(pt=!1,nn.forEach(Nt=>{Nt.progressEnd(pe,Ye,qe)}),void 0!==qe&&(lt=qe),Bt=!1,Xt=!0,0===pe?(Ne="reverse"===zt()?"normal":"reverse","reverse"===Ne&&(Xt=!1),br?(ir(),Nn(1-Ye)):(vt=(1-Ye)*_e()*-1,ir(!1,!1))):1===pe&&(br?(ir(),Nn(Ye)):(vt=Ye*_e()*-1,ir(!1,!1))),void 0!==pe&&(sn(()=>{lt=void 0,Ne=void 0,vt=void 0},{oneTimeCallback:!0}),Ce||Li()),Te)}}},3982:(gn,mt,H)=>{"use strict";H.d(mt,{E:()=>we,a:()=>_,s:()=>Ve});const _=ge=>{try{if(ge instanceof me)return ge.value;if(!de()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const ye=document.createDocumentFragment(),ze=document.createElement("div");ye.appendChild(ze),ze.innerHTML=ge,xe.forEach(Re=>{const Se=ye.querySelectorAll(Re);for(let ue=Se.length-1;ue>=0;ue--){const gt=Se[ue];gt.parentNode?gt.parentNode.removeChild(gt):ye.removeChild(gt);const Y=ee(gt);for(let et=0;et<Y.length;et++)y(Y[et])}});const He=ee(ye);for(let Re=0;Re<He.length;Re++)y(He[Re]);const rt=document.createElement("div");rt.appendChild(ye);const Ct=rt.querySelector("div");return null!==Ct?Ct.innerHTML:rt.innerHTML}catch(ye){return console.error(ye),""}},y=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let ze=ge.attributes.length-1;ze>=0;ze--){const He=ge.attributes.item(ze),rt=He.name;if(!$e.includes(rt.toLowerCase())){ge.removeAttribute(rt);continue}const Ct=He.value,Re=ge[rt];(null!=Ct&&Ct.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&ge.removeAttribute(rt)}const ye=ee(ge);for(let ze=0;ze<ye.length;ze++)y(ye[ze])},ee=ge=>null!=ge.children?ge.children:ge.childNodes,de=()=>{var ge;const ye=window,ze=null===(ge=null==ye?void 0:ye.Ionic)||void 0===ge?void 0:ge.config;return!ze||(ze.get?ze.get("sanitizerEnabled",!0):!0===ze.sanitizerEnabled||void 0===ze.sanitizerEnabled)},$e=["class","id","href","src","name","slot"],xe=["script","style","iframe","meta","link","object","embed"];class me{constructor(ye){this.value=ye}}const Ve=ge=>{const ye=window,ze=ye.Ionic;if(!ze||!ze.config||"Object"===ze.config.constructor.name)return ye.Ionic=ye.Ionic||{},ye.Ionic.config=Object.assign(Object.assign({},ye.Ionic.config),ge),ye.Ionic.config},we=!1},6782:(gn,mt,H)=>{"use strict";H.d(mt,{C:()=>$e,a:()=>ee,d:()=>de});var _=H(5861),y=H(3577);const ee=function(){var xe=(0,_.Z)(function*(me,Ve,Fe,we,ge,ye){var ze;if(me)return me.attachViewToDom(Ve,Fe,ge,we);if(!(ye||"string"==typeof Fe||Fe instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof Fe?null===(ze=Ve.ownerDocument)||void 0===ze?void 0:ze.createElement(Fe):Fe;return we&&we.forEach(rt=>He.classList.add(rt)),ge&&Object.assign(He,ge),Ve.appendChild(He),yield new Promise(rt=>(0,y.c)(He,rt)),He});return function(Ve,Fe,we,ge,ye,ze){return xe.apply(this,arguments)}}(),de=(xe,me)=>{if(me){if(xe)return xe.removeViewFromDom(me.parentElement,me);me.remove()}return Promise.resolve()},$e=()=>{let xe,me;return{attachViewToDom:function(){var we=(0,_.Z)(function*(ge,ye,ze={},He=[]){var rt,Ct;if(xe=ge,ye){const Se="string"==typeof ye?null===(rt=xe.ownerDocument)||void 0===rt?void 0:rt.createElement(ye):ye;He.forEach(ue=>Se.classList.add(ue)),Object.assign(Se,ze),xe.appendChild(Se),yield new Promise(ue=>(0,y.c)(Se,ue))}else if(xe.children.length>0&&("ION-MODAL"===xe.tagName||"ION-POPOVER"===xe.tagName)&&!xe.children[0].classList.contains("ion-delegate-host")){const ue=null===(Ct=xe.ownerDocument)||void 0===Ct?void 0:Ct.createElement("div");ue.classList.add("ion-delegate-host"),He.forEach(gt=>ue.classList.add(gt)),ue.append(...xe.children),xe.appendChild(ue)}const Re=document.querySelector("ion-app")||document.body;return me=document.createComment("ionic teleport"),xe.parentNode.insertBefore(me,xe),Re.appendChild(xe),xe});return function(ye,ze){return we.apply(this,arguments)}}(),removeViewFromDom:()=>(xe&&me&&(me.parentNode.insertBefore(xe,me),me.remove()),Promise.resolve())}}},4349:(gn,mt,H)=>{"use strict";H.d(mt,{G:()=>$e});class y{constructor(me,Ve,Fe,we,ge){this.id=Ve,this.name=Fe,this.disableScroll=ge,this.priority=1e6*we+Ve,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ee{constructor(me,Ve,Fe,we){this.id=Ve,this.disable=Fe,this.disableScroll=we,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",$e=new class _{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){var Ve;return new y(this,this.newID(),me.name,null!==(Ve=me.priority)&&void 0!==Ve?Ve:0,!!me.disableScroll)}createBlocker(me={}){return new ee(this,this.newID(),me.disable,!!me.disableScroll)}start(me,Ve,Fe){return this.canStart(me)?(this.requestedStart.set(Ve,Fe),!0):(this.requestedStart.delete(Ve),!1)}capture(me,Ve,Fe){if(!this.start(me,Ve,Fe))return!1;const we=this.requestedStart;let ge=-1e4;if(we.forEach(ye=>{ge=Math.max(ge,ye)}),ge===Fe){this.capturedId=Ve,we.clear();const ye=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(ye),!0}return we.delete(Ve),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,Ve){let Fe=this.disabledGestures.get(me);void 0===Fe&&(Fe=new Set,this.disabledGestures.set(me,Fe)),Fe.add(Ve)}enableGesture(me,Ve){const Fe=this.disabledGestures.get(me);void 0!==Fe&&Fe.delete(Ve)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const Ve=this.disabledGestures.get(me);return!!(Ve&&Ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(gn,mt,H)=>{"use strict";H.r(mt),H.d(mt,{MENU_BACK_BUTTON_PRIORITY:()=>$e,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>y,startHardwareBackButton:()=>ee});var _=H(5861);const y=()=>{document.addEventListener("backbutton",()=>{})},ee=()=>{const xe=document;let me=!1;xe.addEventListener("backbutton",()=>{if(me)return;let Ve=0,Fe=[];const we=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ze,He){Fe.push({priority:ze,handler:He,id:Ve++})}}});xe.dispatchEvent(we);const ge=function(){var ze=(0,_.Z)(function*(He){try{if(null!=He&&He.handler){const rt=He.handler(ye);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return ze.apply(this,arguments)}}(),ye=()=>{if(Fe.length>0){let ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Fe.forEach(He=>{He.priority>=ze.priority&&(ze=He)}),me=!0,Fe=Fe.filter(He=>He.id!==ze.id),ge(ze).then(()=>me=!1)}};ye()})},de=100,$e=99},3577:(gn,mt,H)=>{"use strict";H.d(mt,{a:()=>Ve,b:()=>Fe,c:()=>ee,d:()=>Ct,e:()=>rt,f:()=>He,g:()=>we,h:()=>ze,i:()=>me,j:()=>et,k:()=>$e,l:()=>Re,m:()=>de,n:()=>ye,o:()=>Se,p:()=>gt,q:()=>Y,r:()=>ge,s:()=>xt,t:()=>_,u:()=>Ze,v:()=>ue});const _=(Be,Oe=0)=>new Promise(Pe=>{y(Be,Oe,Pe)}),y=(Be,Oe=0,Pe)=>{let Ce,Ue;const ht={passive:!0},ct=()=>{Ce&&Ce()},wt=pt=>{(void 0===pt||Be===pt.target)&&(ct(),Pe(pt))};return Be&&(Be.addEventListener("webkitTransitionEnd",wt,ht),Be.addEventListener("transitionend",wt,ht),Ue=setTimeout(wt,Oe+500),Ce=()=>{Ue&&(clearTimeout(Ue),Ue=void 0),Be.removeEventListener("webkitTransitionEnd",wt,ht),Be.removeEventListener("transitionend",wt,ht)}),ct},ee=(Be,Oe)=>{Be.componentOnReady?Be.componentOnReady().then(Pe=>Oe(Pe)):ge(()=>Oe(Be))},de=Be=>void 0!==Be.componentOnReady,$e=(Be,Oe=[])=>{const Pe={};return Oe.forEach(Ce=>{Be.hasAttribute(Ce)&&(null!==Be.getAttribute(Ce)&&(Pe[Ce]=Be.getAttribute(Ce)),Be.removeAttribute(Ce))}),Pe},xe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],me=(Be,Oe)=>{let Pe=xe;return Oe&&Oe.length>0&&(Pe=Pe.filter(Ce=>!Oe.includes(Ce))),$e(Be,Pe)},Ve=(Be,Oe,Pe,Ce)=>{var Ue;if(typeof window<"u"){const ht=window,_t=null===(Ue=null==ht?void 0:ht.Ionic)||void 0===Ue?void 0:Ue.config;if(_t){const ct=_t.get("_ael");if(ct)return ct(Be,Oe,Pe,Ce);if(_t._ael)return _t._ael(Be,Oe,Pe,Ce)}}return Be.addEventListener(Oe,Pe,Ce)},Fe=(Be,Oe,Pe,Ce)=>{var Ue;if(typeof window<"u"){const ht=window,_t=null===(Ue=null==ht?void 0:ht.Ionic)||void 0===Ue?void 0:Ue.config;if(_t){const ct=_t.get("_rel");if(ct)return ct(Be,Oe,Pe,Ce);if(_t._rel)return _t._rel(Be,Oe,Pe,Ce)}}return Be.removeEventListener(Oe,Pe,Ce)},we=(Be,Oe=Be)=>Be.shadowRoot||Oe,ge=Be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Be):"function"==typeof requestAnimationFrame?requestAnimationFrame(Be):setTimeout(Be),ye=Be=>!!Be.shadowRoot&&!!Be.attachShadow,ze=Be=>{const Oe=Be.closest("ion-item");return Oe?Oe.querySelector("ion-label"):null},He=Be=>{if(Be.focus(),Be.classList.contains("ion-focusable")){const Oe=Be.closest("ion-app");Oe&&Oe.setFocus([Be])}},rt=(Be,Oe)=>{let Pe;const Ce=Be.getAttribute("aria-labelledby"),Ue=Be.id;let ht=null!==Ce&&""!==Ce.trim()?Ce:Oe+"-lbl",_t=null!==Ce&&""!==Ce.trim()?document.getElementById(Ce):ze(Be);return _t?(null===Ce&&(_t.id=ht),Pe=_t.textContent,_t.setAttribute("aria-hidden","true")):""!==Ue.trim()&&(_t=document.querySelector(`label[for="${Ue}"]`),_t&&(""!==_t.id?ht=_t.id:_t.id=ht=`${Ue}-lbl`,Pe=_t.textContent)),{label:_t,labelId:ht,labelText:Pe}},Ct=(Be,Oe,Pe,Ce,Ue)=>{if(Be||ye(Oe)){let ht=Oe.querySelector("input.aux-input");ht||(ht=Oe.ownerDocument.createElement("input"),ht.type="hidden",ht.classList.add("aux-input"),Oe.appendChild(ht)),ht.disabled=Ue,ht.name=Pe,ht.value=Ce||""}},Re=(Be,Oe,Pe)=>Math.max(Be,Math.min(Oe,Pe)),Se=(Be,Oe)=>{if(!Be){const Pe="ASSERT: "+Oe;throw console.error(Pe),new Error(Pe)}},ue=Be=>Be.timeStamp||Date.now(),gt=Be=>{if(Be){const Oe=Be.changedTouches;if(Oe&&Oe.length>0){const Pe=Oe[0];return{x:Pe.clientX,y:Pe.clientY}}if(void 0!==Be.pageX)return{x:Be.pageX,y:Be.pageY}}return{x:0,y:0}},Y=Be=>{const Oe="rtl"===document.dir;switch(Be){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},et=(Be,Oe)=>{const Pe=Be._original||Be;return{_original:Be,emit:Ze(Pe.emit.bind(Pe),Oe)}},Ze=(Be,Oe=0)=>{let Pe;return(...Ce)=>{clearTimeout(Pe),Pe=setTimeout(Be,Oe,...Ce)}},xt=(Be,Oe)=>{if(null!=Be||(Be={}),null!=Oe||(Oe={}),Be===Oe)return!0;const Pe=Object.keys(Be);if(Pe.length!==Object.keys(Oe).length)return!1;for(const Ce of Pe)if(!(Ce in Oe)||Be[Ce]!==Oe[Ce])return!1;return!0}},3457:(gn,mt,H)=>{"use strict";H.d(mt,{w:()=>_});const _=typeof window<"u"?window:void 0},1898:(gn,mt,H)=>{"use strict";H.r(mt),H.d(mt,{GESTURE_CONTROLLER:()=>_.G,createGesture:()=>Fe});var _=H(4349);const y=(ze,He,rt,Ct)=>{const Re=ee(ze)?{capture:!!Ct.capture,passive:!!Ct.passive}:!!Ct.capture;let Se,ue;return ze.__zone_symbol__addEventListener?(Se="__zone_symbol__addEventListener",ue="__zone_symbol__removeEventListener"):(Se="addEventListener",ue="removeEventListener"),ze[Se](He,rt,Re),()=>{ze[ue](He,rt,Re)}},ee=ze=>{if(void 0===de)try{const He=Object.defineProperty({},"passive",{get:()=>{de=!0}});ze.addEventListener("optsTest",()=>{},He)}catch{de=!1}return!!de};let de;const me=ze=>ze instanceof Document?ze:ze.ownerDocument,Fe=ze=>{let He=!1,rt=!1,Ct=!0,Re=!1;const Se=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),ue=Se.canStart,gt=Se.onWillStart,Y=Se.onStart,et=Se.onEnd,Ze=Se.notCaptured,xt=Se.onMove,Be=Se.threshold,Oe=Se.passive,Pe=Se.blurOnStart,Ce={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ue=((ze,He,rt)=>{const Ct=rt*(Math.PI/180),Re="x"===ze,Se=Math.cos(Ct),ue=He*He;let gt=0,Y=0,et=!1,Ze=0;return{start(xt,Be){gt=xt,Y=Be,Ze=0,et=!0},detect(xt,Be){if(!et)return!1;const Oe=xt-gt,Pe=Be-Y,Ce=Oe*Oe+Pe*Pe;if(Ce<ue)return!1;const Ue=Math.sqrt(Ce),ht=(Re?Oe:Pe)/Ue;return Ze=ht>Se?1:ht<-Se?-1:0,et=!1,!0},isGesture:()=>0!==Ze,getDirection:()=>Ze}})(Se.direction,Se.threshold,Se.maxAngle),ht=_.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),wt=()=>{He&&(Re=!1,xt&&xt(Ce))},pt=()=>!!ht.capture()&&(He=!0,Ct=!1,Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime,gt?gt(Ce).then(Le):Le(),!0),Le=()=>{Pe&&(()=>{if(typeof document<"u"){const Bt=document.activeElement;null!=Bt&&Bt.blur&&Bt.blur()}})(),Y&&Y(Ce),Ct=!0},Ne=()=>{He=!1,rt=!1,Re=!1,Ct=!0,ht.release()},lt=Bt=>{const yn=He,Tt=Ct;if(Ne(),Tt){if(we(Ce,Bt),yn)return void(et&&et(Ce));Ze&&Ze(Ce)}},vt=((ze,He,rt,Ct,Re)=>{let Se,ue,gt,Y,et,Ze,xt,Be=0;const Oe=ke=>{Be=Date.now()+2e3,He(ke)&&(!ue&&rt&&(ue=y(ze,"touchmove",rt,Re)),gt||(gt=y(ke.target,"touchend",Ce,Re)),Y||(Y=y(ke.target,"touchcancel",Ce,Re)))},Pe=ke=>{Be>Date.now()||He(ke)&&(!Ze&&rt&&(Ze=y(me(ze),"mousemove",rt,Re)),xt||(xt=y(me(ze),"mouseup",Ue,Re)))},Ce=ke=>{ht(),Ct&&Ct(ke)},Ue=ke=>{_t(),Ct&&Ct(ke)},ht=()=>{ue&&ue(),gt&&gt(),Y&&Y(),ue=gt=Y=void 0},_t=()=>{Ze&&Ze(),xt&&xt(),Ze=xt=void 0},ct=()=>{ht(),_t()},wt=(ke=!0)=>{ke?(Se||(Se=y(ze,"touchstart",Oe,Re)),et||(et=y(ze,"mousedown",Pe,Re))):(Se&&Se(),et&&et(),Se=et=void 0,ct())};return{enable:wt,stop:ct,destroy:()=>{wt(!1),Ct=rt=He=void 0}}})(Se.el,Bt=>{const yn=ye(Bt);return!(rt||!Ct||(ge(Bt,Ce),Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime=yn,Ce.velocityX=Ce.velocityY=Ce.deltaX=Ce.deltaY=0,Ce.event=Bt,ue&&!1===ue(Ce))||(ht.release(),!ht.start()))&&(rt=!0,0===Be?pt():(Ue.start(Ce.startX,Ce.startY),!0))},Bt=>{He?!Re&&Ct&&(Re=!0,we(Ce,Bt),requestAnimationFrame(wt)):(we(Ce,Bt),Ue.detect(Ce.currentX,Ce.currentY)&&(!Ue.isGesture()||!pt())&&Xt())},lt,{capture:!1,passive:Oe}),Xt=()=>{Ne(),vt.stop(),Ze&&Ze(Ce)};return{enable(Bt=!0){Bt||(He&&lt(void 0),Ne()),vt.enable(Bt)},destroy(){ht.destroy(),vt.destroy()}}},we=(ze,He)=>{if(!He)return;const rt=ze.currentX,Ct=ze.currentY,Re=ze.currentTime;ge(He,ze);const Se=ze.currentX,ue=ze.currentY,Y=(ze.currentTime=ye(He))-Re;if(Y>0&&Y<100){const Ze=(ue-Ct)/Y;ze.velocityX=(Se-rt)/Y*.7+.3*ze.velocityX,ze.velocityY=.7*Ze+.3*ze.velocityY}ze.deltaX=Se-ze.startX,ze.deltaY=ue-ze.startY,ze.event=He},ge=(ze,He)=>{let rt=0,Ct=0;if(ze){const Re=ze.changedTouches;if(Re&&Re.length>0){const Se=Re[0];rt=Se.clientX,Ct=Se.clientY}else void 0!==ze.pageX&&(rt=ze.pageX,Ct=ze.pageY)}He.currentX=rt,He.currentY=Ct},ye=ze=>ze.timeStamp||Date.now()},4083:(gn,mt,H)=>{"use strict";H.d(mt,{B:()=>ge,H:()=>ct,a:()=>Ds,b:()=>ve,c:()=>Bt,d:()=>St,e:()=>Li,f:()=>Te,g:()=>yn,h:()=>ht,i:()=>Ke,j:()=>ye,p:()=>Vi,r:()=>$t,w:()=>Lr});var _=H(5861);let ee,de,$e,xe=!1,me=!1,Ve=!1,Fe=!1,we=!1;const ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ye=se=>{const Ee=new URL(se,Xn.$resourcesUrl$);return Ee.origin!==rr.location.origin?Ee.href:Ee.pathname},ue="s-id",gt="sty-id",Y="c-id",Ze="http://www.w3.org/1999/xlink",xt={},Ce=se=>"object"==(se=typeof se)||"function"===se;function Ue(se){var Ee,Ge,pe;return null!==(pe=null===(Ge=null===(Ee=se.head)||void 0===Ee?void 0:Ee.querySelector('meta[name="csp-nonce"]'))||void 0===Ge?void 0:Ge.getAttribute("content"))&&void 0!==pe?pe:void 0}const ht=(se,Ee,...Ge)=>{let pe=null,Ye=null,qe=null,Nt=!1,At=!1;const Ht=[],Qt=Yn=>{for(let Wn=0;Wn<Yn.length;Wn++)pe=Yn[Wn],Array.isArray(pe)?Qt(pe):null!=pe&&"boolean"!=typeof pe&&((Nt="function"!=typeof se&&!Ce(pe))&&(pe=String(pe)),Nt&&At?Ht[Ht.length-1].$text$+=pe:Ht.push(Nt?_t(null,pe):pe),At=Nt)};if(Qt(Ge),Ee){Ee.key&&(Ye=Ee.key),Ee.name&&(qe=Ee.name);{const Yn=Ee.className||Ee.class;Yn&&(Ee.class="object"!=typeof Yn?Yn:Object.keys(Yn).filter(Wn=>Yn[Wn]).join(" "))}}if("function"==typeof se)return se(null===Ee?{}:Ee,Ht,pt);const dn=_t(se,null);return dn.$attrs$=Ee,Ht.length>0&&(dn.$children$=Ht),dn.$key$=Ye,dn.$name$=qe,dn},_t=(se,Ee)=>({$flags$:0,$tag$:se,$text$:Ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ct={},pt={forEach:(se,Ee)=>se.map(ke).forEach(Ee),map:(se,Ee)=>se.map(ke).map(Ee).map(Le)},ke=se=>({vattrs:se.$attrs$,vchildren:se.$children$,vkey:se.$key$,vname:se.$name$,vtag:se.$tag$,vtext:se.$text$}),Le=se=>{if("function"==typeof se.vtag){const Ge=Object.assign({},se.vattrs);return se.vkey&&(Ge.key=se.vkey),se.vname&&(Ge.name=se.vname),ht(se.vtag,Ge,...se.vchildren||[])}const Ee=_t(se.vtag,se.vtext);return Ee.$attrs$=se.vattrs,Ee.$children$=se.vchildren,Ee.$key$=se.vkey,Ee.$name$=se.vname,Ee},lt=(se,Ee,Ge,pe,Ye,qe,Nt)=>{let At,Ht,Qt,dn;if(1===qe.nodeType){for(At=qe.getAttribute(Y),At&&(Ht=At.split("."),(Ht[0]===Nt||"0"===Ht[0])&&(Qt={$flags$:0,$hostId$:Ht[0],$nodeId$:Ht[1],$depth$:Ht[2],$index$:Ht[3],$tag$:qe.tagName.toLowerCase(),$elm$:qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ee.push(Qt),qe.removeAttribute(Y),se.$children$||(se.$children$=[]),se.$children$[Qt.$index$]=Qt,se=Qt,pe&&"0"===Qt.$depth$&&(pe[Qt.$index$]=Qt.$elm$))),dn=qe.childNodes.length-1;dn>=0;dn--)lt(se,Ee,Ge,pe,Ye,qe.childNodes[dn],Nt);if(qe.shadowRoot)for(dn=qe.shadowRoot.childNodes.length-1;dn>=0;dn--)lt(se,Ee,Ge,pe,Ye,qe.shadowRoot.childNodes[dn],Nt)}else if(8===qe.nodeType)Ht=qe.nodeValue.split("."),(Ht[1]===Nt||"0"===Ht[1])&&(At=Ht[0],Qt={$flags$:0,$hostId$:Ht[1],$nodeId$:Ht[2],$depth$:Ht[3],$index$:Ht[4],$elm$:qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===At?(Qt.$elm$=qe.nextSibling,Qt.$elm$&&3===Qt.$elm$.nodeType&&(Qt.$text$=Qt.$elm$.textContent,Ee.push(Qt),qe.remove(),se.$children$||(se.$children$=[]),se.$children$[Qt.$index$]=Qt,pe&&"0"===Qt.$depth$&&(pe[Qt.$index$]=Qt.$elm$))):Qt.$hostId$===Nt&&("s"===At?(Qt.$tag$="slot",qe["s-sn"]=Ht[5]?Qt.$name$=Ht[5]:"",qe["s-sr"]=!0,pe&&(Qt.$elm$=ir.createElement(Qt.$tag$),Qt.$name$&&Qt.$elm$.setAttribute("name",Qt.$name$),qe.parentNode.insertBefore(Qt.$elm$,qe),qe.remove(),"0"===Qt.$depth$&&(pe[Qt.$index$]=Qt.$elm$)),Ge.push(Qt),se.$children$||(se.$children$=[]),se.$children$[Qt.$index$]=Qt):"r"===At&&(pe?qe.remove():(Ye["s-cr"]=qe,qe["s-cn"]=!0))));else if(se&&"style"===se.$tag$){const Yn=_t(null,qe.textContent);Yn.$elm$=qe,Yn.$index$="0",se.$children$=[Yn]}},vt=(se,Ee)=>{if(1===se.nodeType){let Ge=0;for(;Ge<se.childNodes.length;Ge++)vt(se.childNodes[Ge],Ee);if(se.shadowRoot)for(Ge=0;Ge<se.shadowRoot.childNodes.length;Ge++)vt(se.shadowRoot.childNodes[Ge],Ee)}else if(8===se.nodeType){const Ge=se.nodeValue.split(".");"o"===Ge[0]&&(Ee.set(Ge[1]+"."+Ge[2],se),se.nodeValue="",se["s-en"]=Ge[3])}},Bt=se=>or.push(se),yn=se=>zr(se).$modeName$,Te=se=>zr(se).$hostElement$,St=(se,Ee,Ge)=>{const pe=Te(se);return{emit:Ye=>cn(pe,Ee,{bubbles:!!(4&Ge),composed:!!(2&Ge),cancelable:!!(1&Ge),detail:Ye})}},cn=(se,Ee,Ge)=>{const pe=Xn.ce(Ee,Ge);return se.dispatchEvent(pe),pe},Sn=new WeakMap,zn=(se,Ee,Ge)=>{let pe=Nn.get(se);ji&&Ge?(pe=pe||new CSSStyleSheet,"string"==typeof pe?pe=Ee:pe.replaceSync(Ee)):pe=Ee,Nn.set(se,pe)},wn=(se,Ee,Ge,pe)=>{var Ye;let qe=En(Ee,Ge);const Nt=Nn.get(qe);if(se=11===se.nodeType?se:ir,Nt)if("string"==typeof Nt){let Ht,At=Sn.get(se=se.head||se);if(At||Sn.set(se,At=new Set),!At.has(qe)){if(se.host&&(Ht=se.querySelector(`[${gt}="${qe}"]`)))Ht.innerHTML=Nt;else{Ht=ir.createElement("style"),Ht.innerHTML=Nt;const Qt=null!==(Ye=Xn.$nonce$)&&void 0!==Ye?Ye:Ue(ir);null!=Qt&&Ht.setAttribute("nonce",Qt),se.insertBefore(Ht,se.querySelector("link"))}At&&At.add(qe)}}else se.adoptedStyleSheets.includes(Nt)||(se.adoptedStyleSheets=[...se.adoptedStyleSheets,Nt]);return qe},En=(se,Ee)=>"sc-"+(Ee&&32&se.$flags$?se.$tagName$+"-"+Ee:se.$tagName$),hr=se=>se.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Cr=(se,Ee,Ge,pe,Ye,qe)=>{if(Ge!==pe){let Nt=Jt(se,Ee),At=Ee.toLowerCase();if("class"===Ee){const Ht=se.classList,Qt=vn(Ge),dn=vn(pe);Ht.remove(...Qt.filter(Yn=>Yn&&!dn.includes(Yn))),Ht.add(...dn.filter(Yn=>Yn&&!Qt.includes(Yn)))}else if("style"===Ee){for(const Ht in Ge)(!pe||null==pe[Ht])&&(Ht.includes("-")?se.style.removeProperty(Ht):se.style[Ht]="");for(const Ht in pe)(!Ge||pe[Ht]!==Ge[Ht])&&(Ht.includes("-")?se.style.setProperty(Ht,pe[Ht]):se.style[Ht]=pe[Ht])}else if("key"!==Ee)if("ref"===Ee)pe&&pe(se);else if(Nt||"o"!==Ee[0]||"n"!==Ee[1]){const Ht=Ce(pe);if((Nt||Ht&&null!==pe)&&!Ye)try{if(se.tagName.includes("-"))se[Ee]=pe;else{const dn=null==pe?"":pe;"list"===Ee?Nt=!1:(null==Ge||se[Ee]!=dn)&&(se[Ee]=dn)}}catch{}let Qt=!1;At!==(At=At.replace(/^xlink\:?/,""))&&(Ee=At,Qt=!0),null==pe||!1===pe?(!1!==pe||""===se.getAttribute(Ee))&&(Qt?se.removeAttributeNS(Ze,Ee):se.removeAttribute(Ee)):(!Nt||4&qe||Ye)&&!Ht&&(pe=!0===pe?"":pe,Qt?se.setAttributeNS(Ze,Ee,pe):se.setAttribute(Ee,pe))}else Ee="-"===Ee[2]?Ee.slice(3):Jt(rr,At)?At.slice(2):At[2]+Ee.slice(3),Ge&&Xn.rel(se,Ee,Ge,!1),pe&&Xn.ael(se,Ee,pe,!1)}},tr=/\s/,vn=se=>se?se.split(tr):[],jn=(se,Ee,Ge,pe)=>{const Ye=11===Ee.$elm$.nodeType&&Ee.$elm$.host?Ee.$elm$.host:Ee.$elm$,qe=se&&se.$attrs$||xt,Nt=Ee.$attrs$||xt;for(pe in qe)pe in Nt||Cr(Ye,pe,qe[pe],void 0,Ge,Ee.$flags$);for(pe in Nt)Cr(Ye,pe,qe[pe],Nt[pe],Ge,Ee.$flags$)},bi=(se,Ee,Ge,pe)=>{const Ye=Ee.$children$[Ge];let Nt,At,Ht,qe=0;if(xe||(Ve=!0,"slot"===Ye.$tag$&&(ee&&pe.classList.add(ee+"-s"),Ye.$flags$|=Ye.$children$?2:1)),null!==Ye.$text$)Nt=Ye.$elm$=ir.createTextNode(Ye.$text$);else if(1&Ye.$flags$)Nt=Ye.$elm$=ir.createTextNode("");else{if(Fe||(Fe="svg"===Ye.$tag$),Nt=Ye.$elm$=ir.createElementNS(Fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ye.$flags$?"slot-fb":Ye.$tag$),Fe&&"foreignObject"===Ye.$tag$&&(Fe=!1),jn(null,Ye,Fe),(se=>null!=se)(ee)&&Nt["s-si"]!==ee&&Nt.classList.add(Nt["s-si"]=ee),Ye.$children$)for(qe=0;qe<Ye.$children$.length;++qe)At=bi(se,Ye,qe,Nt),At&&Nt.appendChild(At);"svg"===Ye.$tag$?Fe=!1:"foreignObject"===Nt.tagName&&(Fe=!0)}return Nt["s-hn"]=$e,3&Ye.$flags$&&(Nt["s-sr"]=!0,Nt["s-cr"]=de,Nt["s-sn"]=Ye.$name$||"",Ht=se&&se.$children$&&se.$children$[Ge],Ht&&Ht.$tag$===Ye.$tag$&&se.$elm$&&br(se.$elm$,!1)),Nt},br=(se,Ee)=>{Xn.$flags$|=1;const Ge=se.childNodes;for(let pe=Ge.length-1;pe>=0;pe--){const Ye=Ge[pe];Ye["s-hn"]!==$e&&Ye["s-ol"]&&(pn(Ye).insertBefore(Ye,en(Ye)),Ye["s-ol"].remove(),Ye["s-ol"]=void 0,Ve=!0),Ee&&br(Ye,Ee)}Xn.$flags$&=-2},mi=(se,Ee,Ge,pe,Ye,qe)=>{let At,Nt=se["s-cr"]&&se["s-cr"].parentNode||se;for(Nt.shadowRoot&&Nt.tagName===$e&&(Nt=Nt.shadowRoot);Ye<=qe;++Ye)pe[Ye]&&(At=bi(null,Ge,Ye,se),At&&(pe[Ye].$elm$=At,Nt.insertBefore(At,en(Ee))))},xi=(se,Ee,Ge)=>{for(let pe=Ee;pe<=Ge;++pe){const Ye=se[pe];if(Ye){const qe=Ye.$elm$;yi(Ye),qe&&(me=!0,qe["s-ol"]?qe["s-ol"].remove():br(qe,!0),qe.remove())}}},Gn=(se,Ee)=>se.$tag$===Ee.$tag$&&("slot"===se.$tag$?se.$name$===Ee.$name$:se.$key$===Ee.$key$),en=se=>se&&se["s-ol"]||se,pn=se=>(se["s-ol"]?se["s-ol"]:se).parentNode,sn=(se,Ee)=>{const Ge=Ee.$elm$=se.$elm$,pe=se.$children$,Ye=Ee.$children$,qe=Ee.$tag$,Nt=Ee.$text$;let At;null===Nt?(Fe="svg"===qe||"foreignObject"!==qe&&Fe,"slot"===qe||jn(se,Ee,Fe),null!==pe&&null!==Ye?((se,Ee,Ge,pe)=>{let Gr,Bi,Ye=0,qe=0,Nt=0,At=0,Ht=Ee.length-1,Qt=Ee[0],dn=Ee[Ht],Yn=pe.length-1,Wn=pe[0],pr=pe[Yn];for(;Ye<=Ht&&qe<=Yn;)if(null==Qt)Qt=Ee[++Ye];else if(null==dn)dn=Ee[--Ht];else if(null==Wn)Wn=pe[++qe];else if(null==pr)pr=pe[--Yn];else if(Gn(Qt,Wn))sn(Qt,Wn),Qt=Ee[++Ye],Wn=pe[++qe];else if(Gn(dn,pr))sn(dn,pr),dn=Ee[--Ht],pr=pe[--Yn];else if(Gn(Qt,pr))("slot"===Qt.$tag$||"slot"===pr.$tag$)&&br(Qt.$elm$.parentNode,!1),sn(Qt,pr),se.insertBefore(Qt.$elm$,dn.$elm$.nextSibling),Qt=Ee[++Ye],pr=pe[--Yn];else if(Gn(dn,Wn))("slot"===Qt.$tag$||"slot"===pr.$tag$)&&br(dn.$elm$.parentNode,!1),sn(dn,Wn),se.insertBefore(dn.$elm$,Qt.$elm$),dn=Ee[--Ht],Wn=pe[++qe];else{for(Nt=-1,At=Ye;At<=Ht;++At)if(Ee[At]&&null!==Ee[At].$key$&&Ee[At].$key$===Wn.$key$){Nt=At;break}Nt>=0?(Bi=Ee[Nt],Bi.$tag$!==Wn.$tag$?Gr=bi(Ee&&Ee[qe],Ge,Nt,se):(sn(Bi,Wn),Ee[Nt]=void 0,Gr=Bi.$elm$),Wn=pe[++qe]):(Gr=bi(Ee&&Ee[qe],Ge,qe,se),Wn=pe[++qe]),Gr&&pn(Qt.$elm$).insertBefore(Gr,en(Qt.$elm$))}Ye>Ht?mi(se,null==pe[Yn+1]?null:pe[Yn+1].$elm$,Ge,pe,qe,Yn):qe>Yn&&xi(Ee,Ye,Ht)})(Ge,pe,Ee,Ye):null!==Ye?(null!==se.$text$&&(Ge.textContent=""),mi(Ge,null,Ee,Ye,0,Ye.length-1)):null!==pe&&xi(pe,0,pe.length-1),Fe&&"svg"===qe&&(Fe=!1)):(At=Ge["s-cr"])?At.parentNode.textContent=Nt:se.$text$!==Nt&&(Ge.data=Nt)},ci=se=>{const Ee=se.childNodes;let Ge,pe,Ye,qe,Nt,At;for(pe=0,Ye=Ee.length;pe<Ye;pe++)if(Ge=Ee[pe],1===Ge.nodeType){if(Ge["s-sr"])for(Nt=Ge["s-sn"],Ge.hidden=!1,qe=0;qe<Ye;qe++)if(At=Ee[qe].nodeType,Ee[qe]["s-hn"]!==Ge["s-hn"]||""!==Nt){if(1===At&&Nt===Ee[qe].getAttribute("slot")){Ge.hidden=!0;break}}else if(1===At||3===At&&""!==Ee[qe].textContent.trim()){Ge.hidden=!0;break}ci(Ge)}},Dr=[],si=se=>{let Ee,Ge,pe,Ye,qe,Nt,At=0;const Ht=se.childNodes,Qt=Ht.length;for(;At<Qt;At++){if(Ee=Ht[At],Ee["s-sr"]&&(Ge=Ee["s-cr"])&&Ge.parentNode)for(pe=Ge.parentNode.childNodes,Ye=Ee["s-sn"],Nt=pe.length-1;Nt>=0;Nt--)Ge=pe[Nt],!Ge["s-cn"]&&!Ge["s-nr"]&&Ge["s-hn"]!==Ee["s-hn"]&&(oi(Ge,Ye)?(qe=Dr.find(dn=>dn.$nodeToRelocate$===Ge),me=!0,Ge["s-sn"]=Ge["s-sn"]||Ye,qe?qe.$slotRefNode$=Ee:Dr.push({$slotRefNode$:Ee,$nodeToRelocate$:Ge}),Ge["s-sr"]&&Dr.map(dn=>{oi(dn.$nodeToRelocate$,Ge["s-sn"])&&(qe=Dr.find(Yn=>Yn.$nodeToRelocate$===Ge),qe&&!dn.$slotRefNode$&&(dn.$slotRefNode$=qe.$slotRefNode$))})):Dr.some(dn=>dn.$nodeToRelocate$===Ge)||Dr.push({$nodeToRelocate$:Ge}));1===Ee.nodeType&&si(Ee)}},oi=(se,Ee)=>1===se.nodeType?null===se.getAttribute("slot")&&""===Ee||se.getAttribute("slot")===Ee:se["s-sn"]===Ee||""===Ee,yi=se=>{se.$attrs$&&se.$attrs$.ref&&se.$attrs$.ref(null),se.$children$&&se.$children$.map(yi)},vi=(se,Ee)=>{Ee&&!se.$onRenderResolve$&&Ee["s-p"]&&Ee["s-p"].push(new Promise(Ge=>se.$onRenderResolve$=Ge))},lr=(se,Ee)=>{if(se.$flags$|=16,!(4&se.$flags$))return vi(se,se.$ancestorComponent$),Lr(()=>sr(se,Ee));se.$flags$|=512},sr=(se,Ee)=>{const pe=se.$lazyInstance$;let Ye;return Ee&&(se.$flags$|=256,se.$queuedListeners$&&(se.$queuedListeners$.map(([qe,Nt])=>Yt(pe,qe,Nt)),se.$queuedListeners$=null),Ye=Yt(pe,"componentWillLoad")),Ye=Ir(Ye,()=>Yt(pe,"componentWillRender")),Ir(Ye,()=>Mi(se,pe,Ee))},Ir=(se,Ee)=>se instanceof Promise?se.then(Ee):Ee(),Mi=function(){var se=(0,_.Z)(function*(Ee,Ge,pe){const Ye=Ee.$hostElement$,Nt=Ye["s-rc"];pe&&(se=>{const Ee=se.$cmpMeta$,Ge=se.$hostElement$,pe=Ee.$flags$,qe=wn(Ge.shadowRoot?Ge.shadowRoot:Ge.getRootNode(),Ee,se.$modeName$);10&pe&&(Ge["s-sc"]=qe,Ge.classList.add(qe+"-h"),2&pe&&Ge.classList.add(qe+"-s"))})(Ee);yr(Ee,Ge),Nt&&(Nt.map(Ht=>Ht()),Ye["s-rc"]=void 0);{const Ht=Ye["s-p"],Qt=()=>jt(Ee);0===Ht.length?Qt():(Promise.all(Ht).then(Qt),Ee.$flags$|=4,Ht.length=0)}});return function(Ge,pe,Ye){return se.apply(this,arguments)}}(),yr=(se,Ee,Ge)=>{try{Ee=Ee.render&&Ee.render(),se.$flags$&=-17,se.$flags$|=2,((se,Ee)=>{const Ge=se.$hostElement$,pe=se.$cmpMeta$,Ye=se.$vnode$||_t(null,null),qe=(se=>se&&se.$tag$===ct)(Ee)?Ee:ht(null,null,Ee);if($e=Ge.tagName,pe.$attrsToReflect$&&(qe.$attrs$=qe.$attrs$||{},pe.$attrsToReflect$.map(([Nt,At])=>qe.$attrs$[At]=Ge[Nt])),qe.$tag$=null,qe.$flags$|=4,se.$vnode$=qe,qe.$elm$=Ye.$elm$=Ge.shadowRoot||Ge,ee=Ge["s-sc"],de=Ge["s-cr"],xe=0!=(1&pe.$flags$),me=!1,sn(Ye,qe),Xn.$flags$|=1,Ve){si(qe.$elm$);let Nt,At,Ht,Qt,dn,Yn,Wn=0;for(;Wn<Dr.length;Wn++)Nt=Dr[Wn],At=Nt.$nodeToRelocate$,At["s-ol"]||(Ht=ir.createTextNode(""),Ht["s-nr"]=At,At.parentNode.insertBefore(At["s-ol"]=Ht,At));for(Wn=0;Wn<Dr.length;Wn++)if(Nt=Dr[Wn],At=Nt.$nodeToRelocate$,Nt.$slotRefNode$){for(Qt=Nt.$slotRefNode$.parentNode,dn=Nt.$slotRefNode$.nextSibling,Ht=At["s-ol"];Ht=Ht.previousSibling;)if(Yn=Ht["s-nr"],Yn&&Yn["s-sn"]===At["s-sn"]&&Qt===Yn.parentNode&&(Yn=Yn.nextSibling,!Yn||!Yn["s-nr"])){dn=Yn;break}(!dn&&Qt!==At.parentNode||At.nextSibling!==dn)&&At!==dn&&(!At["s-hn"]&&At["s-ol"]&&(At["s-hn"]=At["s-ol"].parentNode.nodeName),Qt.insertBefore(At,dn))}else 1===At.nodeType&&(At.hidden=!0)}me&&ci(qe.$elm$),Xn.$flags$&=-2,Dr.length=0})(se,Ee)}catch(pe){On(pe,se.$hostElement$)}return null},jt=se=>{const Ge=se.$hostElement$,Ye=se.$lazyInstance$,qe=se.$ancestorComponent$;Yt(Ye,"componentDidRender"),64&se.$flags$?Yt(Ye,"componentDidUpdate"):(se.$flags$|=64,zt(Ge),Yt(Ye,"componentDidLoad"),se.$onReadyResolve$(Ge),qe||Qe()),se.$onInstanceResolve$(Ge),se.$onRenderResolve$&&(se.$onRenderResolve$(),se.$onRenderResolve$=void 0),512&se.$flags$&&_i(()=>lr(se,!1)),se.$flags$&=-517},Ke=se=>{{const Ee=zr(se),Ge=Ee.$hostElement$.isConnected;return Ge&&2==(18&Ee.$flags$)&&lr(Ee,!1),Ge}},Qe=se=>{zt(ir.documentElement),_i(()=>cn(rr,"appload",{detail:{namespace:"ionic"}}))},Yt=(se,Ee,Ge)=>{if(se&&se[Ee])try{return se[Ee](Ge)}catch(pe){On(pe)}},zt=se=>se.classList.add("hydrated"),We=(se,Ee,Ge)=>{if(Ee.$members$){se.watchers&&(Ee.$watchers$=se.watchers);const pe=Object.entries(Ee.$members$),Ye=se.prototype;if(pe.map(([qe,[Nt]])=>{31&Nt||2&Ge&&32&Nt?Object.defineProperty(Ye,qe,{get(){return((se,Ee)=>zr(this).$instanceValues$.get(Ee))(0,qe)},set(At){((se,Ee,Ge,pe)=>{const Ye=zr(se),qe=Ye.$hostElement$,Nt=Ye.$instanceValues$.get(Ee),At=Ye.$flags$,Ht=Ye.$lazyInstance$;Ge=((se,Ee)=>null==se||Ce(se)?se:4&Ee?"false"!==se&&(""===se||!!se):2&Ee?parseFloat(se):1&Ee?String(se):se)(Ge,pe.$members$[Ee][0]);const Qt=Number.isNaN(Nt)&&Number.isNaN(Ge);if((!(8&At)||void 0===Nt)&&Ge!==Nt&&!Qt&&(Ye.$instanceValues$.set(Ee,Ge),Ht)){if(pe.$watchers$&&128&At){const Yn=pe.$watchers$[Ee];Yn&&Yn.map(Wn=>{try{Ht[Wn](Ge,Nt,Ee)}catch(pr){On(pr,qe)}})}2==(18&At)&&lr(Ye,!1)}})(this,qe,At,Ee)},configurable:!0,enumerable:!0}):1&Ge&&64&Nt&&Object.defineProperty(Ye,qe,{value(...At){const Ht=zr(this);return Ht.$onInstancePromise$.then(()=>Ht.$lazyInstance$[qe](...At))}})}),1&Ge){const qe=new Map;Ye.attributeChangedCallback=function(Nt,At,Ht){Xn.jmp(()=>{const Qt=qe.get(Nt);if(this.hasOwnProperty(Qt))Ht=this[Qt],delete this[Qt];else if(Ye.hasOwnProperty(Qt)&&"number"==typeof this[Qt]&&this[Qt]==Ht)return;this[Qt]=(null!==Ht||"boolean"!=typeof this[Qt])&&Ht})},se.observedAttributes=pe.filter(([Nt,At])=>15&At[0]).map(([Nt,At])=>{const Ht=At[1]||Nt;return qe.set(Ht,Nt),512&At[0]&&Ee.$attrsToReflect$.push([Nt,Ht]),Ht})}}return se},Dt=function(){var se=(0,_.Z)(function*(Ee,Ge,pe,Ye,qe){if(!(32&Ge.$flags$)){Ge.$flags$|=32;{if((qe=vr(pe)).then){const Qt=()=>{};qe=yield qe,Qt()}qe.isProxied||(pe.$watchers$=qe.watchers,We(qe,pe,2),qe.isProxied=!0);const Ht=()=>{};Ge.$flags$|=8;try{new qe(Ge)}catch(Qt){On(Qt)}Ge.$flags$&=-9,Ge.$flags$|=128,Ht(),st(Ge.$lazyInstance$)}if(qe.style){let Ht=qe.style;"string"!=typeof Ht&&(Ht=Ht[Ge.$modeName$=(se=>or.map(Ee=>Ee(se)).find(Ee=>!!Ee))(Ee)]);const Qt=En(pe,Ge.$modeName$);if(!Nn.has(Qt)){const dn=()=>{};zn(Qt,Ht,!!(1&pe.$flags$)),dn()}}}const Nt=Ge.$ancestorComponent$,At=()=>lr(Ge,!0);Nt&&Nt["s-rc"]?Nt["s-rc"].push(At):At()});return function(Ge,pe,Ye,qe,Nt){return se.apply(this,arguments)}}(),st=se=>{Yt(se,"connectedCallback")},ot=se=>{const Ee=se["s-cr"]=ir.createComment("");Ee["s-cn"]=!0,se.insertBefore(Ee,se.firstChild)},ve=(se,Ee={})=>{var Ge;const Ye=[],qe=Ee.exclude||[],Nt=rr.customElements,At=ir.head,Ht=At.querySelector("meta[charset]"),Qt=ir.createElement("style"),dn=[],Yn=ir.querySelectorAll(`[${gt}]`);let Wn,pr=!0,Gr=0;for(Object.assign(Xn,Ee),Xn.$resourcesUrl$=new URL(Ee.resourcesUrl||"./",ir.baseURI).href,Xn.$flags$|=2;Gr<Yn.length;Gr++)zn(Yn[Gr].getAttribute(gt),hr(Yn[Gr].innerHTML),!0);se.map(Bi=>{Bi[1].map(dt=>{const tt={$flags$:dt[0],$tagName$:dt[1],$members$:dt[2],$listeners$:dt[3]};tt.$members$=dt[2],tt.$listeners$=dt[3],tt.$attrsToReflect$=[],tt.$watchers$={};const Et=tt.$tagName$,qt=class extends HTMLElement{constructor(tn){super(tn),bt(tn=this,tt),1&tt.$flags$&&tn.attachShadow({mode:"open",delegatesFocus:!!(16&tt.$flags$)})}connectedCallback(){Wn&&(clearTimeout(Wn),Wn=null),pr?dn.push(this):Xn.jmp(()=>(se=>{if(!(1&Xn.$flags$)){const Ee=zr(se),Ge=Ee.$cmpMeta$,pe=()=>{};if(1&Ee.$flags$)ut(se,Ee,Ge.$listeners$),st(Ee.$lazyInstance$);else{let Ye;if(Ee.$flags$|=1,Ye=se.getAttribute(ue),Ye){if(1&Ge.$flags$){const qe=wn(se.shadowRoot,Ge,se.getAttribute("s-mode"));se.classList.remove(qe+"-h",qe+"-s")}((se,Ee,Ge,pe)=>{const qe=se.shadowRoot,Nt=[],Ht=qe?[]:null,Qt=pe.$vnode$=_t(Ee,null);Xn.$orgLocNodes$||vt(ir.body,Xn.$orgLocNodes$=new Map),se[ue]=Ge,se.removeAttribute(ue),lt(Qt,Nt,[],Ht,se,se,Ge),Nt.map(dn=>{const Yn=dn.$hostId$+"."+dn.$nodeId$,Wn=Xn.$orgLocNodes$.get(Yn),pr=dn.$elm$;Wn&&Fi&&""===Wn["s-en"]&&Wn.parentNode.insertBefore(pr,Wn.nextSibling),qe||(pr["s-hn"]=Ee,Wn&&(pr["s-ol"]=Wn,pr["s-ol"]["s-nr"]=pr)),Xn.$orgLocNodes$.delete(Yn)}),qe&&Ht.map(dn=>{dn&&qe.appendChild(dn)})})(se,Ge.$tagName$,Ye,Ee)}Ye||12&Ge.$flags$&&ot(se);{let qe=se;for(;qe=qe.parentNode||qe.host;)if(1===qe.nodeType&&qe.hasAttribute("s-id")&&qe["s-p"]||qe["s-p"]){vi(Ee,Ee.$ancestorComponent$=qe);break}}Ge.$members$&&Object.entries(Ge.$members$).map(([qe,[Nt]])=>{if(31&Nt&&se.hasOwnProperty(qe)){const At=se[qe];delete se[qe],se[qe]=At}}),Dt(se,Ee,Ge)}pe()}})(this))}disconnectedCallback(){Xn.jmp(()=>(se=>{if(!(1&Xn.$flags$)){const Ee=zr(this),Ge=Ee.$lazyInstance$;Ee.$rmListeners$&&(Ee.$rmListeners$.map(pe=>pe()),Ee.$rmListeners$=void 0),Yt(Ge,"disconnectedCallback")}})())}componentOnReady(){return zr(this).$onReadyPromise$}};tt.$lazyBundleId$=Bi[0],!qe.includes(Et)&&!Nt.get(Et)&&(Ye.push(Et),Nt.define(Et,We(qt,tt,1)))})});{Qt.innerHTML=Ye+"{visibility:hidden}.hydrated{visibility:inherit}",Qt.setAttribute("data-styles","");const Bi=null!==(Ge=Xn.$nonce$)&&void 0!==Ge?Ge:Ue(ir);null!=Bi&&Qt.setAttribute("nonce",Bi),At.insertBefore(Qt,Ht?Ht.nextSibling:At.firstChild)}pr=!1,dn.length?dn.map(Bi=>Bi.connectedCallback()):Xn.jmp(()=>Wn=setTimeout(Qe,30))},ut=(se,Ee,Ge,pe)=>{Ge&&Ge.map(([Ye,qe,Nt])=>{const At=ln(se,Ye),Ht=Rt(Ee,Nt),Qt=Tn(Ye);Xn.ael(At,qe,Ht,Qt),(Ee.$rmListeners$=Ee.$rmListeners$||[]).push(()=>Xn.rel(At,qe,Ht,Qt))})},Rt=(se,Ee)=>Ge=>{try{256&se.$flags$?se.$lazyInstance$[Ee](Ge):(se.$queuedListeners$=se.$queuedListeners$||[]).push([Ee,Ge])}catch(pe){On(pe)}},ln=(se,Ee)=>4&Ee?ir:8&Ee?rr:16&Ee?ir.body:se,Tn=se=>0!=(2&se),fr=new WeakMap,zr=se=>fr.get(se),$t=(se,Ee)=>fr.set(Ee.$lazyInstance$=se,Ee),bt=(se,Ee)=>{const Ge={$flags$:0,$hostElement$:se,$cmpMeta$:Ee,$instanceValues$:new Map};return Ge.$onInstancePromise$=new Promise(pe=>Ge.$onInstanceResolve$=pe),Ge.$onReadyPromise$=new Promise(pe=>Ge.$onReadyResolve$=pe),se["s-p"]=[],se["s-rc"]=[],ut(se,Ge,Ee.$listeners$),fr.set(se,Ge)},Jt=(se,Ee)=>Ee in se,On=(se,Ee)=>(0,console.error)(se,Ee),Vn=new Map,vr=(se,Ee,Ge)=>{const pe=se.$tagName$.replace(/-/g,"_"),Ye=se.$lazyBundleId$,qe=Vn.get(Ye);return qe?qe[pe]:H(863)(`./${Ye}.entry.js`).then(Nt=>(Vn.set(Ye,Nt),Nt[pe]),On)},Nn=new Map,or=[],rr=typeof window<"u"?window:{},ir=rr.document||{head:{}},Xn={$flags$:0,$resourcesUrl$:"",jmp:se=>se(),raf:se=>requestAnimationFrame(se),ael:(se,Ee,Ge,pe)=>se.addEventListener(Ee,Ge,pe),rel:(se,Ee,Ge,pe)=>se.removeEventListener(Ee,Ge,pe),ce:(se,Ee)=>new CustomEvent(se,Ee)},Ds=se=>{Object.assign(Xn,se)},Fi=!0,Vi=se=>Promise.resolve(se),ji=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),In=[],nr=[],ei=(se,Ee)=>Ge=>{se.push(Ge),we||(we=!0,Ee&&4&Xn.$flags$?_i(Pr):Xn.raf(Pr))},qi=se=>{for(let Ee=0;Ee<se.length;Ee++)try{se[Ee](performance.now())}catch(Ge){On(Ge)}se.length=0},Pr=()=>{qi(In),qi(nr),(we=In.length>0)&&Xn.raf(Pr)},_i=se=>Vi().then(se),Li=ei(In,!1),Lr=ei(nr,!0)},8126:(gn,mt,H)=>{"use strict";H.d(mt,{m:()=>ge});var _=H(5861),y=H(7593),ee=H(3577),de=H(5273),$e=H(9613);const xe=ye=>(0,$e.c)().duration(ye?400:300),me=ye=>{let ze,He;const rt=ye.width+8,Ct=(0,$e.c)(),Re=(0,$e.c)();ye.isEndSide?(ze=rt+"px",He="0px"):(ze=-rt+"px",He="0px"),Ct.addElement(ye.menuInnerEl).fromTo("transform",`translateX(${ze})`,`translateX(${He})`);const ue="ios"===(0,de.b)(ye),gt=ue?.2:.25;return Re.addElement(ye.backdropEl).fromTo("opacity",.01,gt),xe(ue).addAnimation([Ct,Re])},Ve=ye=>{let ze,He;const rt=(0,de.b)(ye),Ct=ye.width;ye.isEndSide?(ze=-Ct+"px",He=Ct+"px"):(ze=Ct+"px",He=-Ct+"px");const Re=(0,$e.c)().addElement(ye.menuInnerEl).fromTo("transform",`translateX(${He})`,"translateX(0px)"),Se=(0,$e.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`),ue=(0,$e.c)().addElement(ye.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===rt).addAnimation([Re,Se,ue])},Fe=ye=>{const ze=(0,de.b)(ye),He=ye.width*(ye.isEndSide?-1:1)+"px",rt=(0,$e.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`);return xe("ios"===ze).addAnimation(rt)},ge=(()=>{const ye=new Map,ze=[],He=function(){var Le=(0,_.Z)(function*(Ne){const lt=yield Y(Ne);return!!lt&&lt.open()});return function(lt){return Le.apply(this,arguments)}}(),rt=function(){var Le=(0,_.Z)(function*(Ne){const lt=yield void 0!==Ne?Y(Ne):et();return void 0!==lt&&lt.close()});return function(lt){return Le.apply(this,arguments)}}(),Ct=function(){var Le=(0,_.Z)(function*(Ne){const lt=yield Y(Ne);return!!lt&&lt.toggle()});return function(lt){return Le.apply(this,arguments)}}(),Re=function(){var Le=(0,_.Z)(function*(Ne,lt){const vt=yield Y(lt);return vt&&(vt.disabled=!Ne),vt});return function(lt,vt){return Le.apply(this,arguments)}}(),Se=function(){var Le=(0,_.Z)(function*(Ne,lt){const vt=yield Y(lt);return vt&&(vt.swipeGesture=Ne),vt});return function(lt,vt){return Le.apply(this,arguments)}}(),ue=function(){var Le=(0,_.Z)(function*(Ne){if(null!=Ne){const lt=yield Y(Ne);return void 0!==lt&&lt.isOpen()}return void 0!==(yield et())});return function(lt){return Le.apply(this,arguments)}}(),gt=function(){var Le=(0,_.Z)(function*(Ne){const lt=yield Y(Ne);return!!lt&&!lt.disabled});return function(lt){return Le.apply(this,arguments)}}(),Y=function(){var Le=(0,_.Z)(function*(Ne){return yield ke(),"start"===Ne||"end"===Ne?pt(Xt=>Xt.side===Ne&&!Xt.disabled)||pt(Xt=>Xt.side===Ne):null!=Ne?pt(vt=>vt.menuId===Ne):pt(vt=>!vt.disabled)||(ze.length>0?ze[0].el:void 0)});return function(lt){return Le.apply(this,arguments)}}(),et=function(){var Le=(0,_.Z)(function*(){return yield ke(),_t()});return function(){return Le.apply(this,arguments)}}(),Ze=function(){var Le=(0,_.Z)(function*(){return yield ke(),ct()});return function(){return Le.apply(this,arguments)}}(),xt=function(){var Le=(0,_.Z)(function*(){return yield ke(),wt()});return function(){return Le.apply(this,arguments)}}(),Be=(Le,Ne)=>{ye.set(Le,Ne)},Ce=Le=>{const Ne=Le.side;ze.filter(lt=>lt.side===Ne&&lt!==Le).forEach(lt=>lt.disabled=!0)},Ue=function(){var Le=(0,_.Z)(function*(Ne,lt,vt){if(wt())return!1;if(lt){const Xt=yield et();Xt&&Ne.el!==Xt&&(yield Xt.setOpen(!1,!1))}return Ne._setOpen(lt,vt)});return function(lt,vt,Xt){return Le.apply(this,arguments)}}(),_t=()=>pt(Le=>Le._isOpen),ct=()=>ze.map(Le=>Le.el),wt=()=>ze.some(Le=>Le.isAnimating),pt=Le=>{const Ne=ze.find(Le);if(void 0!==Ne)return Ne.el},ke=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Le=>new Promise(Ne=>(0,ee.c)(Le,Ne))));return Be("reveal",Fe),Be("push",Ve),Be("overlay",me),typeof document<"u"&&document.addEventListener("ionBackButton",Le=>{const Ne=_t();Ne&&Le.detail.register(y.MENU_BACK_BUTTON_PRIORITY,()=>Ne.close())}),{registerAnimation:Be,get:Y,getMenus:Ze,getOpen:et,isEnabled:gt,swipeGesture:Se,isAnimating:xt,isOpen:ue,enable:Re,toggle:Ct,close:rt,open:He,_getOpenSync:_t,_createAnimation:(Le,Ne)=>{const lt=ye.get(Le);if(!lt)throw new Error("animation not registered");return lt(Ne)},_register:Le=>{ze.indexOf(Le)<0&&(Le.disabled||Ce(Le),ze.push(Le))},_unregister:Le=>{const Ne=ze.indexOf(Le);Ne>-1&&ze.splice(Ne,1)},_setOpen:Ue,_setActiveMenu:Ce}})()},1178:(gn,mt,H)=>{"use strict";H.d(mt,{a:()=>y,b:()=>ee,p:()=>_});const _=(de,...$e)=>console.warn(`[Ionic Warning]: ${de}`,...$e),y=(de,...$e)=>console.error(`[Ionic Error]: ${de}`,...$e),ee=(de,...$e)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${$e.join(" or ")}.`)},9866:(gn,mt,H)=>{"use strict";H.d(mt,{L:()=>de,a:()=>$e,b:()=>xe,c:()=>me,d:()=>Ve,e:()=>xt,g:()=>Pe,l:()=>Ze,s:()=>Be,t:()=>ge});var _=H(5861),y=H(4083),ee=H(3577);const de="ionViewWillEnter",$e="ionViewDidEnter",xe="ionViewWillLeave",me="ionViewDidLeave",Ve="ionViewWillUnload",ge=Ce=>new Promise((Ue,ht)=>{(0,y.w)(()=>{ye(Ce),ze(Ce).then(_t=>{_t.animation&&_t.animation.destroy(),He(Ce),Ue(_t)},_t=>{He(Ce),ht(_t)})})}),ye=Ce=>{const Ue=Ce.enteringEl,ht=Ce.leavingEl;Oe(Ue,ht,Ce.direction),Ce.showGoBack?Ue.classList.add("can-go-back"):Ue.classList.remove("can-go-back"),Be(Ue,!1),Ue.style.setProperty("pointer-events","none"),ht&&(Be(ht,!1),ht.style.setProperty("pointer-events","none"))},ze=function(){var Ce=(0,_.Z)(function*(Ue){const ht=yield rt(Ue);return ht&&y.B.isBrowser?Ct(ht,Ue):Re(Ue)});return function(ht){return Ce.apply(this,arguments)}}(),He=Ce=>{const Ue=Ce.enteringEl,ht=Ce.leavingEl;Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"),void 0!==ht&&(ht.classList.remove("ion-page-invisible"),ht.style.removeProperty("pointer-events"))},rt=function(){var Ce=(0,_.Z)(function*(Ue){return Ue.leavingEl&&Ue.animated&&0!==Ue.duration?Ue.animationBuilder?Ue.animationBuilder:"ios"===Ue.mode?(yield Promise.resolve().then(H.bind(H,3551))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,1138))).mdTransitionAnimation:void 0});return function(ht){return Ce.apply(this,arguments)}}(),Ct=function(){var Ce=(0,_.Z)(function*(Ue,ht){yield Se(ht,!0);const _t=Ue(ht.baseEl,ht);Y(ht.enteringEl,ht.leavingEl);const ct=yield gt(_t,ht);return ht.progressCallback&&ht.progressCallback(void 0),ct&&et(ht.enteringEl,ht.leavingEl),{hasCompleted:ct,animation:_t}});return function(ht,_t){return Ce.apply(this,arguments)}}(),Re=function(){var Ce=(0,_.Z)(function*(Ue){const ht=Ue.enteringEl,_t=Ue.leavingEl;return yield Se(Ue,!1),Y(ht,_t),et(ht,_t),{hasCompleted:!0}});return function(ht){return Ce.apply(this,arguments)}}(),Se=function(){var Ce=(0,_.Z)(function*(Ue,ht){(void 0!==Ue.deepWait?Ue.deepWait:ht)&&(yield Promise.all([xt(Ue.enteringEl),xt(Ue.leavingEl)])),yield ue(Ue.viewIsReady,Ue.enteringEl)});return function(ht,_t){return Ce.apply(this,arguments)}}(),ue=function(){var Ce=(0,_.Z)(function*(Ue,ht){Ue&&(yield Ue(ht))});return function(ht,_t){return Ce.apply(this,arguments)}}(),gt=(Ce,Ue)=>{const ht=Ue.progressCallback,_t=new Promise(ct=>{Ce.onFinish(wt=>ct(1===wt))});return ht?(Ce.progressStart(!0),ht(Ce)):Ce.play(),_t},Y=(Ce,Ue)=>{Ze(Ue,xe),Ze(Ce,de)},et=(Ce,Ue)=>{Ze(Ce,$e),Ze(Ue,me)},Ze=(Ce,Ue)=>{if(Ce){const ht=new CustomEvent(Ue,{bubbles:!1,cancelable:!1});Ce.dispatchEvent(ht)}},xt=function(){var Ce=(0,_.Z)(function*(Ue){const ht=Ue;if(ht){if(null!=ht.componentOnReady){if(null!=(yield ht.componentOnReady()))return}else if(null!=ht.__registerHost)return void(yield new Promise(ct=>(0,ee.r)(ct)));yield Promise.all(Array.from(ht.children).map(xt))}});return function(ht){return Ce.apply(this,arguments)}}(),Be=(Ce,Ue)=>{Ue?(Ce.setAttribute("aria-hidden","true"),Ce.classList.add("ion-page-hidden")):(Ce.hidden=!1,Ce.removeAttribute("aria-hidden"),Ce.classList.remove("ion-page-hidden"))},Oe=(Ce,Ue,ht)=>{void 0!==Ce&&(Ce.style.zIndex="back"===ht?"99":"101"),void 0!==Ue&&(Ue.style.zIndex="100")},Pe=Ce=>Ce.classList.contains("ion-page")?Ce:Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ce},5273:(gn,mt,H)=>{"use strict";H.d(mt,{a:()=>ge,b:()=>wt,c:()=>ee,g:()=>we,i:()=>pt});var _=H(4083);class y{constructor(){this.m=new Map}reset(Le){this.m=new Map(Object.entries(Le))}get(Le,Ne){const lt=this.m.get(Le);return void 0!==lt?lt:Ne}getBoolean(Le,Ne=!1){const lt=this.m.get(Le);return void 0===lt?Ne:"string"==typeof lt?"true"===lt:!!lt}getNumber(Le,Ne){const lt=parseFloat(this.m.get(Le));return isNaN(lt)?void 0!==Ne?Ne:NaN:lt}set(Le,Ne){this.m.set(Le,Ne)}}const ee=new y,Fe="ionic-persist-config",we=ke=>ye(ke),ge=(ke,Le)=>("string"==typeof ke&&(Le=ke,ke=void 0),we(ke).includes(Le)),ye=(ke=window)=>{if(typeof ke>"u")return[];ke.Ionic=ke.Ionic||{};let Le=ke.Ionic.platforms;return null==Le&&(Le=ke.Ionic.platforms=ze(ke),Le.forEach(Ne=>ke.document.documentElement.classList.add(`plt-${Ne}`))),Le},ze=ke=>{const Le=ee.get("platform");return Object.keys(_t).filter(Ne=>{const lt=null==Le?void 0:Le[Ne];return"function"==typeof lt?lt(ke):_t[Ne](ke)})},rt=ke=>!!(Ue(ke,/iPad/i)||Ue(ke,/Macintosh/i)&&et(ke)),Se=ke=>Ue(ke,/android|sink/i),et=ke=>ht(ke,"(any-pointer:coarse)"),xt=ke=>Be(ke)||Oe(ke),Be=ke=>!!(ke.cordova||ke.phonegap||ke.PhoneGap),Oe=ke=>{const Le=ke.Capacitor;return!(null==Le||!Le.isNative)},Ue=(ke,Le)=>Le.test(ke.navigator.userAgent),ht=(ke,Le)=>{var Ne;return null===(Ne=ke.matchMedia)||void 0===Ne?void 0:Ne.call(ke,Le).matches},_t={ipad:rt,iphone:ke=>Ue(ke,/iPhone/i),ios:ke=>Ue(ke,/iPhone|iPod/i)||rt(ke),android:Se,phablet:ke=>{const Le=ke.innerWidth,Ne=ke.innerHeight,lt=Math.min(Le,Ne),vt=Math.max(Le,Ne);return lt>390&&lt<520&&vt>620&&vt<800},tablet:ke=>{const Le=ke.innerWidth,Ne=ke.innerHeight,lt=Math.min(Le,Ne),vt=Math.max(Le,Ne);return rt(ke)||(ke=>Se(ke)&&!Ue(ke,/mobile/i))(ke)||lt>460&&lt<820&&vt>780&&vt<1400},cordova:Be,capacitor:Oe,electron:ke=>Ue(ke,/electron/i),pwa:ke=>{var Le;return!!(null!==(Le=ke.matchMedia)&&void 0!==Le&&Le.call(ke,"(display-mode: standalone)").matches||ke.navigator.standalone)},mobile:et,mobileweb:ke=>et(ke)&&!xt(ke),desktop:ke=>!et(ke),hybrid:xt};let ct;const wt=ke=>ke&&(0,_.g)(ke)||ct,pt=(ke={})=>{if(typeof window>"u")return;const Le=window.document,Ne=window,lt=Ne.Ionic=Ne.Ionic||{},vt={};ke._ael&&(vt.ael=ke._ael),ke._rel&&(vt.rel=ke._rel),ke._ce&&(vt.ce=ke._ce),(0,_.a)(vt);const Xt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ke=>{try{const Le=ke.sessionStorage.getItem(Fe);return null!==Le?JSON.parse(Le):{}}catch{return{}}})(Ne)),{persistConfig:!1}),lt.config),(ke=>{const Le={};return ke.location.search.slice(1).split("&").map(Ne=>Ne.split("=")).map(([Ne,lt])=>[decodeURIComponent(Ne),decodeURIComponent(lt)]).filter(([Ne])=>((ke,Le)=>ke.substr(0,Le.length)===Le)(Ne,"ionic:")).map(([Ne,lt])=>[Ne.slice("ionic:".length),lt]).forEach(([Ne,lt])=>{Le[Ne]=lt}),Le})(Ne)),ke);ee.reset(Xt),ee.getBoolean("persistConfig")&&((ke,Le)=>{try{ke.sessionStorage.setItem(Fe,JSON.stringify(Le))}catch{return}})(Ne,Xt),ye(Ne),lt.config=ee,lt.mode=ct=ee.get("mode",Le.documentElement.getAttribute("mode")||(ge(Ne,"ios")?"ios":"md")),ee.set("mode",ct),Le.documentElement.setAttribute("mode",ct),Le.documentElement.classList.add(ct),ee.getBoolean("_testing")&&ee.set("animated",!1);const Bt=Tt=>{var Te;return null===(Te=Tt.tagName)||void 0===Te?void 0:Te.startsWith("ION-")},yn=Tt=>["ios","md"].includes(Tt);(0,_.c)(Tt=>{for(;Tt;){const Te=Tt.mode||Tt.getAttribute("mode");if(Te){if(yn(Te))return Te;Bt(Tt)&&console.warn('Invalid ionic mode: "'+Te+'", expected: "ios" or "md"')}Tt=Tt.parentElement}return ct})}},3551:(gn,mt,H)=>{"use strict";H.r(mt),H.d(mt,{iosTransitionAnimation:()=>ze,shadow:()=>me});var _=H(9613),y=H(9866);H(3457),H(4083);const xe=He=>document.querySelector(`${He}.ion-cloned-element`),me=He=>He.shadowRoot||He,Ve=He=>{const rt="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs"),Ct="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Re=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(Ct):null}return He.querySelector(Ct)},Fe=(He,rt)=>{const Ct="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs");let Re=[];if(null!=Ct){const Se=Ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(Re=Se.querySelectorAll("ion-buttons"))}else Re=He.querySelectorAll("ion-buttons");for(const Se of Re){const ue=Se.closest("ion-header"),gt=ue&&!ue.classList.contains("header-collapse-condense-inactive"),Y=Se.querySelector("ion-back-button"),et=Se.classList.contains("buttons-collapse");if(null!==Y&&("start"===Se.slot||""===Se.slot)&&(et&&gt&&rt||!et))return Y}return null},ge=(He,rt,Ct,Re,Se,ue)=>{const gt=rt?`calc(100% - ${ue.right+4}px)`:ue.left-4+"px",Y=rt?"7px":"-7px",et=rt?"-4px":"4px",Ze=rt?"-4px":"4px",xt=rt?"right":"left",Be=rt?"left":"right",Ce=Ct?[{offset:0,opacity:1,transform:`translate3d(${et}, ${ue.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Y}, ${Se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Y}, ${Se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${et}, ${ue.top-46}px, 0) scale(1)`}],_t=Ct?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${ue.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ze}, ${ue.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${ue.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${ue.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${ue.top-46}px, 0) scale(1)`}],ct=(0,_.c)(),wt=(0,_.c)(),pt=xe("ion-back-button"),ke=me(pt).querySelector(".button-text"),Le=me(pt).querySelector("ion-icon");pt.text=Re.text,pt.mode=Re.mode,pt.icon=Re.icon,pt.color=Re.color,pt.disabled=Re.disabled,pt.style.setProperty("display","block"),pt.style.setProperty("position","fixed"),wt.addElement(Le),ct.addElement(ke),ct.beforeStyles({"transform-origin":`${xt} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),pt.style.setProperty(xt,gt)}).afterAddWrite(()=>{Re.style.setProperty("display",""),pt.style.setProperty("display","none"),pt.style.removeProperty(xt)}).keyframes(Ce),wt.beforeStyles({"transform-origin":`${Be} center`}).keyframes(_t),He.addAnimation([ct,wt])},ye=(He,rt,Ct,Re,Se,ue)=>{const gt=rt?`calc(100% - ${Se.right}px)`:`${Se.left}px`,Y=rt?"-18px":"18px",et=rt?"right":"left",Be=Ct?[{offset:0,opacity:0,transform:`translate3d(${Y}, ${ue.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Y}, ${ue.top-4}px, 0) scale(0.5)`}],Oe=xe("ion-title"),Pe=(0,_.c)();Oe.innerText=Re.innerText,Oe.size=Re.size,Oe.color=Re.color,Pe.addElement(Oe),Pe.beforeStyles({"transform-origin":`${et} center`,height:"46px",display:"",position:"relative",[et]:gt}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),Oe.style.setProperty("display","none")}).keyframes(Be),He.addAnimation(Pe)},ze=(He,rt)=>{var Ct;try{const Re="cubic-bezier(0.32,0.72,0,1)",Se="opacity",ue="transform",gt="0%",et="rtl"===He.ownerDocument.dir,Ze=et?"-99.5%":"99.5%",xt=et?"33%":"-33%",Be=rt.enteringEl,Oe=rt.leavingEl,Pe="back"===rt.direction,Ce=Be.querySelector(":scope > ion-content"),Ue=Be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ht=Be.querySelectorAll(":scope > ion-header > ion-toolbar"),_t=(0,_.c)(),ct=(0,_.c)();if(_t.addElement(Be).duration((null!==(Ct=rt.duration)&&void 0!==Ct?Ct:0)||540).easing(rt.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),Oe&&null!=He){const Le=(0,_.c)();Le.addElement(He),_t.addAnimation(Le)}if(Ce||0!==ht.length||0!==Ue.length?(ct.addElement(Ce),ct.addElement(Ue)):ct.addElement(Be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(ct),Pe?ct.beforeClearStyles([Se]).fromTo("transform",`translateX(${xt})`,`translateX(${gt})`).fromTo(Se,.8,1):ct.beforeClearStyles([Se]).fromTo("transform",`translateX(${Ze})`,`translateX(${gt})`),Ce){const Le=me(Ce).querySelector(".transition-effect");if(Le){const Ne=Le.querySelector(".transition-cover"),lt=Le.querySelector(".transition-shadow"),vt=(0,_.c)(),Xt=(0,_.c)(),Bt=(0,_.c)();vt.addElement(Le).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Xt.addElement(Ne).beforeClearStyles([Se]).fromTo(Se,0,.1),Bt.addElement(lt).beforeClearStyles([Se]).fromTo(Se,.03,.7),vt.addAnimation([Xt,Bt]),ct.addAnimation([vt])}}const wt=Be.querySelector("ion-header.header-collapse-condense"),{forward:pt,backward:ke}=((He,rt,Ct,Re,Se)=>{const ue=Fe(Re,Ct),gt=Ve(Se),Y=Ve(Re),et=Fe(Se,Ct),Ze=null!==ue&&null!==gt&&!Ct,xt=null!==Y&&null!==et&&Ct;if(Ze){const Be=gt.getBoundingClientRect(),Oe=ue.getBoundingClientRect();ye(He,rt,Ct,gt,Be,Oe),ge(He,rt,Ct,ue,Be,Oe)}else if(xt){const Be=Y.getBoundingClientRect(),Oe=et.getBoundingClientRect();ye(He,rt,Ct,Y,Be,Oe),ge(He,rt,Ct,et,Be,Oe)}return{forward:Ze,backward:xt}})(_t,et,Pe,Be,Oe);if(ht.forEach(Le=>{const Ne=(0,_.c)();Ne.addElement(Le),_t.addAnimation(Ne);const lt=(0,_.c)();lt.addElement(Le.querySelector("ion-title"));const vt=(0,_.c)(),Xt=Array.from(Le.querySelectorAll("ion-buttons,[menuToggle]")),Bt=Le.closest("ion-header"),yn=null==Bt?void 0:Bt.classList.contains("header-collapse-condense-inactive");let Tt;Tt=Xt.filter(Pe?zn=>{const wn=zn.classList.contains("buttons-collapse");return wn&&!yn||!wn}:zn=>!zn.classList.contains("buttons-collapse")),vt.addElement(Tt);const Te=(0,_.c)();Te.addElement(Le.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const St=(0,_.c)();St.addElement(me(Le).querySelector(".toolbar-background"));const cn=(0,_.c)(),Sn=Le.querySelector("ion-back-button");if(Sn&&cn.addElement(Sn),Ne.addAnimation([lt,vt,Te,St,cn]),vt.fromTo(Se,.01,1),Te.fromTo(Se,.01,1),Pe)yn||lt.fromTo("transform",`translateX(${xt})`,`translateX(${gt})`).fromTo(Se,.01,1),Te.fromTo("transform",`translateX(${xt})`,`translateX(${gt})`),cn.fromTo(Se,.01,1);else if(wt||lt.fromTo("transform",`translateX(${Ze})`,`translateX(${gt})`).fromTo(Se,.01,1),Te.fromTo("transform",`translateX(${Ze})`,`translateX(${gt})`),St.beforeClearStyles([Se,"transform"]),(null==Bt?void 0:Bt.translucent)?St.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):St.fromTo(Se,.01,"var(--opacity)"),pt||cn.fromTo(Se,.01,1),Sn&&!pt){const wn=(0,_.c)();wn.addElement(me(Sn).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ne.addAnimation(wn)}}),Oe){const Le=(0,_.c)(),Ne=Oe.querySelector(":scope > ion-content"),lt=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),vt=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ne||0!==lt.length||0!==vt.length?(Le.addElement(Ne),Le.addElement(vt)):Le.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(Le),Pe){Le.beforeClearStyles([Se]).fromTo("transform",`translateX(${gt})`,et?"translateX(-100%)":"translateX(100%)");const Xt=(0,y.g)(Oe);_t.afterAddWrite(()=>{"normal"===_t.getDirection()&&Xt.style.setProperty("display","none")})}else Le.fromTo("transform",`translateX(${gt})`,`translateX(${xt})`).fromTo(Se,1,.8);if(Ne){const Xt=me(Ne).querySelector(".transition-effect");if(Xt){const Bt=Xt.querySelector(".transition-cover"),yn=Xt.querySelector(".transition-shadow"),Tt=(0,_.c)(),Te=(0,_.c)(),St=(0,_.c)();Tt.addElement(Xt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Te.addElement(Bt).beforeClearStyles([Se]).fromTo(Se,.1,0),St.addElement(yn).beforeClearStyles([Se]).fromTo(Se,.7,.03),Tt.addAnimation([Te,St]),Le.addAnimation([Tt])}}lt.forEach(Xt=>{const Bt=(0,_.c)();Bt.addElement(Xt);const yn=(0,_.c)();yn.addElement(Xt.querySelector("ion-title"));const Tt=(0,_.c)(),Te=Xt.querySelectorAll("ion-buttons,[menuToggle]"),St=Xt.closest("ion-header"),cn=null==St?void 0:St.classList.contains("header-collapse-condense-inactive"),Sn=Array.from(Te).filter(Cr=>{const tr=Cr.classList.contains("buttons-collapse");return tr&&!cn||!tr});Tt.addElement(Sn);const zn=(0,_.c)(),wn=Xt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");wn.length>0&&zn.addElement(wn);const nn=(0,_.c)();nn.addElement(me(Xt).querySelector(".toolbar-background"));const En=(0,_.c)(),hr=Xt.querySelector("ion-back-button");if(hr&&En.addElement(hr),Bt.addAnimation([yn,Tt,zn,En,nn]),_t.addAnimation(Bt),En.fromTo(Se,.99,0),Tt.fromTo(Se,.99,0),zn.fromTo(Se,.99,0),Pe){if(cn||yn.fromTo("transform",`translateX(${gt})`,et?"translateX(-100%)":"translateX(100%)").fromTo(Se,.99,0),zn.fromTo("transform",`translateX(${gt})`,et?"translateX(-100%)":"translateX(100%)"),nn.beforeClearStyles([Se,"transform"]),(null==St?void 0:St.translucent)?nn.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):nn.fromTo(Se,"var(--opacity)",0),hr&&!ke){const tr=(0,_.c)();tr.addElement(me(hr).querySelector(".button-text")).fromTo("transform",`translateX(${gt})`,`translateX(${(et?-124:124)+"px"})`),Bt.addAnimation(tr)}}else cn||yn.fromTo("transform",`translateX(${gt})`,`translateX(${xt})`).fromTo(Se,.99,0).afterClearStyles([ue,Se]),zn.fromTo("transform",`translateX(${gt})`,`translateX(${xt})`).afterClearStyles([ue,Se]),En.afterClearStyles([Se]),yn.afterClearStyles([Se]),Tt.afterClearStyles([Se])})}return _t}catch(Re){throw Re}}},1138:(gn,mt,H)=>{"use strict";H.r(mt),H.d(mt,{mdTransitionAnimation:()=>$e});var _=H(9613),y=H(9866);H(3457),H(4083);const $e=(xe,me)=>{var Ve,Fe,we;const ze="back"===me.direction,rt=me.leavingEl,Ct=(0,y.g)(me.enteringEl),Re=Ct.querySelector("ion-toolbar"),Se=(0,_.c)();if(Se.addElement(Ct).fill("both").beforeRemoveClass("ion-page-invisible"),ze?Se.duration((null!==(Ve=me.duration)&&void 0!==Ve?Ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Se.duration((null!==(Fe=me.duration)&&void 0!==Fe?Fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const ue=(0,_.c)();ue.addElement(Re),Se.addAnimation(ue)}if(rt&&ze){Se.duration((null!==(we=me.duration)&&void 0!==we?we:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ue=(0,_.c)();ue.addElement((0,y.g)(rt)).onFinish(gt=>{1===gt&&ue.elements.length>0&&ue.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Se.addAnimation(ue)}return Se}},2583:(gn,mt,H)=>{"use strict";H.d(mt,{B:()=>vt,G:()=>Xt,a:()=>we,b:()=>ge,c:()=>rt,d:()=>Bt,e:()=>yn,f:()=>Ue,g:()=>_t,h:()=>pt,i:()=>Le,j:()=>Re,k:()=>Ve,m:()=>ze,n:()=>gt,o:()=>Pe,s:()=>lt,t:()=>Ct});var _=H(5861),y=H(5273),ee=H(6782),de=H(7593),$e=H(3577),xe=H(1178);let me=0;const Ve=new WeakMap,Fe=Tt=>({create:Te=>Se(Tt,Te),dismiss:(Te,St,cn)=>Be(document,Te,St,Tt,cn),getTop:()=>(0,_.Z)(function*(){return Pe(document,Tt)})()}),we=Fe("ion-alert"),ge=Fe("ion-action-sheet"),ze=Fe("ion-modal"),rt=Fe("ion-popover"),Ct=Fe("ion-toast"),Re=Tt=>{typeof document<"u"&&xt(document);const Te=me++;Tt.overlayIndex=Te,Tt.hasAttribute("id")||(Tt.id=`ion-overlay-${Te}`)},Se=(Tt,Te)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Tt).then(()=>{const St=document.createElement(Tt);return St.classList.add("overlay-hidden"),Object.assign(St,Object.assign(Object.assign({},Te),{hasController:!0})),ct(document).appendChild(St),new Promise(cn=>(0,$e.c)(St,cn))}):Promise.resolve(),ue='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',gt=(Tt,Te)=>{let St=Tt.querySelector(ue);const cn=null==St?void 0:St.shadowRoot;cn&&(St=cn.querySelector(ue)||St),St?(0,$e.f)(St):Te.focus()},et=(Tt,Te)=>{const St=Array.from(Tt.querySelectorAll(ue));let cn=St.length>0?St[St.length-1]:null;const Sn=null==cn?void 0:cn.shadowRoot;Sn&&(cn=Sn.querySelector(ue)||cn),cn?cn.focus():Te.focus()},xt=Tt=>{0===me&&(me=1,Tt.addEventListener("focus",Te=>{((Tt,Te)=>{const St=Pe(Te,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),cn=Tt.target;St&&cn&&!St.classList.contains("ion-disable-focus-trap")&&(St.shadowRoot?(()=>{if(St.contains(cn))St.lastFocus=cn;else{const wn=St.lastFocus;gt(St,St),wn===Te.activeElement&&et(St,St),St.lastFocus=Te.activeElement}})():(()=>{if(St===cn)St.lastFocus=void 0;else{const wn=(0,$e.g)(St);if(!wn.contains(cn))return;const nn=wn.querySelector(".ion-overlay-wrapper");if(!nn)return;if(nn.contains(cn))St.lastFocus=cn;else{const En=St.lastFocus;gt(nn,St),En===Te.activeElement&&et(nn,St),St.lastFocus=Te.activeElement}}})())})(Te,Tt)},!0),Tt.addEventListener("ionBackButton",Te=>{const St=Pe(Tt);null!=St&&St.backdropDismiss&&Te.detail.register(de.OVERLAY_BACK_BUTTON_PRIORITY,()=>St.dismiss(void 0,vt))}),Tt.addEventListener("keydown",Te=>{if("Escape"===Te.key){const St=Pe(Tt);null!=St&&St.backdropDismiss&&St.dismiss(void 0,vt)}}))},Be=(Tt,Te,St,cn,Sn)=>{const zn=Pe(Tt,cn,Sn);return zn?zn.dismiss(Te,St):Promise.reject("overlay does not exist")},Pe=(Tt,Te,St)=>{const cn=((Tt,Te)=>(void 0===Te&&(Te="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Tt.querySelectorAll(Te)).filter(St=>St.overlayIndex>0)))(Tt,Te).filter(Sn=>!(Tt=>Tt.classList.contains("overlay-hidden"))(Sn));return void 0===St?cn[cn.length-1]:cn.find(Sn=>Sn.id===St)},Ce=(Tt=!1)=>{const St=ct(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");St&&(Tt?St.setAttribute("aria-hidden","true"):St.removeAttribute("aria-hidden"))},Ue=function(){var Tt=(0,_.Z)(function*(Te,St,cn,Sn,zn){var wn,nn;if(Te.presented)return;Ce(!0),Te.presented=!0,Te.willPresent.emit(),null===(wn=Te.willPresentShorthand)||void 0===wn||wn.emit();const En=(0,y.b)(Te),hr=Te.enterAnimation?Te.enterAnimation:y.c.get(St,"ios"===En?cn:Sn);(yield wt(Te,hr,Te.el,zn))&&(Te.didPresent.emit(),null===(nn=Te.didPresentShorthand)||void 0===nn||nn.emit()),"ION-TOAST"!==Te.el.tagName&&ht(Te.el),Te.keyboardClose&&(null===document.activeElement||!Te.el.contains(document.activeElement))&&Te.el.focus()});return function(St,cn,Sn,zn,wn){return Tt.apply(this,arguments)}}(),ht=function(){var Tt=(0,_.Z)(function*(Te){let St=document.activeElement;if(!St)return;const cn=null==St?void 0:St.shadowRoot;cn&&(St=cn.querySelector(ue)||St),yield Te.onDidDismiss(),St.focus()});return function(St){return Tt.apply(this,arguments)}}(),_t=function(){var Tt=(0,_.Z)(function*(Te,St,cn,Sn,zn,wn,nn){var En,hr;if(!Te.presented)return!1;Ce(!1),Te.presented=!1;try{Te.el.style.setProperty("pointer-events","none"),Te.willDismiss.emit({data:St,role:cn}),null===(En=Te.willDismissShorthand)||void 0===En||En.emit({data:St,role:cn});const Cr=(0,y.b)(Te),tr=Te.leaveAnimation?Te.leaveAnimation:y.c.get(Sn,"ios"===Cr?zn:wn);cn!==Xt&&(yield wt(Te,tr,Te.el,nn)),Te.didDismiss.emit({data:St,role:cn}),null===(hr=Te.didDismissShorthand)||void 0===hr||hr.emit({data:St,role:cn}),Ve.delete(Te),Te.el.classList.add("overlay-hidden"),Te.el.style.removeProperty("pointer-events"),void 0!==Te.el.lastFocus&&(Te.el.lastFocus=void 0)}catch(Cr){console.error(Cr)}return Te.el.remove(),!0});return function(St,cn,Sn,zn,wn,nn,En){return Tt.apply(this,arguments)}}(),ct=Tt=>Tt.querySelector("ion-app")||Tt.body,wt=function(){var Tt=(0,_.Z)(function*(Te,St,cn,Sn){cn.classList.remove("overlay-hidden");const wn=St(Te.el,Sn);(!Te.animated||!y.c.getBoolean("animated",!0))&&wn.duration(0),Te.keyboardClose&&wn.beforeAddWrite(()=>{const En=cn.ownerDocument.activeElement;null!=En&&En.matches("input,ion-input, ion-textarea")&&En.blur()});const nn=Ve.get(Te)||[];return Ve.set(Te,[...nn,wn]),yield wn.play(),!0});return function(St,cn,Sn,zn){return Tt.apply(this,arguments)}}(),pt=(Tt,Te)=>{let St;const cn=new Promise(Sn=>St=Sn);return ke(Tt,Te,Sn=>{St(Sn.detail)}),cn},ke=(Tt,Te,St)=>{const cn=Sn=>{(0,$e.b)(Tt,Te,cn),St(Sn)};(0,$e.a)(Tt,Te,cn)},Le=Tt=>"cancel"===Tt||Tt===vt,Ne=Tt=>Tt(),lt=(Tt,Te)=>{if("function"==typeof Tt)return y.c.get("_zoneGate",Ne)(()=>{try{return Tt(Te)}catch(cn){throw cn}})},vt="backdrop",Xt="gesture",Bt=Tt=>{let St,Te=!1;const cn=(0,ee.C)(),Sn=(nn=!1)=>{if(St&&!nn)return{delegate:St,inline:Te};const{el:En,hasController:hr,delegate:Cr}=Tt;return Te=null!==En.parentNode&&!hr,St=Te?Cr||cn:Cr,{inline:Te,delegate:St}};return{attachViewToDom:function(){var nn=(0,_.Z)(function*(En){const{delegate:hr}=Sn(!0);if(hr)return yield hr.attachViewToDom(Tt.el,En);const{hasController:Cr}=Tt;if(Cr&&void 0!==En)throw new Error("framework delegate is missing");return null});return function(hr){return nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:nn}=Sn();nn&&void 0!==Tt.el&&nn.removeViewFromDom(Tt.el.parentElement,Tt.el)}}},yn=()=>{let Tt;const Te=()=>{Tt&&(Tt(),Tt=void 0)};return{addClickListener:(cn,Sn)=>{Te();const zn=void 0!==Sn?document.getElementById(Sn):null;zn?Tt=((nn,En)=>{const hr=()=>{En.present()};return nn.addEventListener("click",hr),()=>{nn.removeEventListener("click",hr)}})(zn,cn):(0,xe.p)(`A trigger element with the ID "${Sn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,cn)},removeClickListener:Te}}},7556:(gn,mt,H)=>{"use strict";H.d(mt,{e:()=>xe});var _=H(5861),y=H(4650),ee=H(1762),de=H(1205),$e=H(529);let xe=(()=>{class me{constructor(Fe,we,ge){this.afs=Fe,this.afAuth=we,this.http=ge,this.updateLogin()}updateLogin(){this.afAuth.authState.subscribe(Fe=>{Fe?(this.userData=Fe,localStorage.setItem("user",JSON.stringify(this.userData)),me.logged=!0):(this.userData=null,localStorage.removeItem("user"),me.logged=!1)}),console.log("Logged: "+me.logged),console.log("JWT: "+this.getJWT())}checkLogged(){return null===localStorage.getItem("user")?(this.userData=null,me.logged=!1,!1):(me.logged=!0,!0)}doSignup(Fe){return new Promise((we,ge)=>{this.afAuth.createUserWithEmailAndPassword(Fe.email,Fe.password).then(ye=>{we(ye),this.updateLogin()},ye=>ge(ye))})}doLogin(Fe){var we=this;return(0,_.Z)(function*(){try{const ge=yield we.afAuth.signInWithEmailAndPassword(Fe.email,Fe.password);if(ge.user)return we.updateLogin(),ge}catch(ge){return ge}})()}doLogout(){var Fe=this;return(0,_.Z)(function*(){try{yield Fe.afAuth.signOut(),Fe.updateLogin()}catch(we){console.log(we)}})()}fetchJWT(){this.http.post("http://localhost:3000/api/login",{email:"test@test.com"}).subscribe(Fe=>{localStorage.setItem("JWT",Fe.token),this.token=Fe.token})}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}getJWT(){return localStorage.getItem("JWT")}}return me.logged=!1,me.\u0275fac=function(Fe){return new(Fe||me)(y.LFG(ee.ST),y.LFG(de.zQ),y.LFG($e.eN))},me.\u0275prov=y.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},2340:(gn,mt,H)=>{"use strict";H.d(mt,{N:()=>_});const _={production:!0,firebase:{apiKey:"AIzaSyAx5viaf5WoWezx2kxJ8fnpWElWMypde0s",authDomain:"hightracks-46986.firebaseapp.com",projectId:"hightracks-46986",storageBucket:"hightracks-46986.appspot.com",messagingSenderId:"643779822309",appId:"1:643779822309:web:10e7cb0f1b7b47128c8a0c"},url:"http://localhost:3000/api/"}},2295:(gn,mt,H)=>{"use strict";var _=H(4650),y=H(1481),ee=H(1194),de=H(650);const $e=[{path:"",loadChildren:()=>H.e(2282).then(H.bind(H,2282)).then(u=>u.routes)},{path:"login",loadChildren:()=>H.e(338).then(H.bind(H,338)).then(u=>u.routes)}];var xe=H(1205),me=H(9751),Ve=H(9646),Fe=H(8996),we=H(4986),ge=H(4482),ye=H(5403),He=H(4004),rt=H(3900),Ct=H(4976),Re=H(2011),Se=H(3942),ue=H(5861),gt=H(6881),Y=H(2090),et=H(4859);const Ze="firebasestorage.googleapis.com",xt="storageBucket";class Ce extends Y.ZR{constructor(a,l,p=0){super(ht(a),`Firebase Storage: ${l} (${ht(a)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ce.prototype)}get status(){return this.status_}set status(a){this.status_=a}_codeEquals(a){return ht(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ue=(()=>{return(u=Ue||(Ue={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ue;var u})();function ht(u){return"storage/"+u}function _t(){return new Ce(Ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ne(){return new Ce(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lt(){return new Ce(Ue.CANCELED,"User canceled the upload/download.")}function yn(){return new Ce(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cn(u){return new Ce(Ue.INVALID_ARGUMENT,u)}function Sn(){return new Ce(Ue.APP_DELETED,"The Firebase app was deleted.")}function zn(u){return new Ce(Ue.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wn(u,a){return new Ce(Ue.INVALID_FORMAT,"String does not match format '"+u+"': "+a)}function nn(u){throw new Ce(Ue.INTERNAL_ERROR,"Internal error: "+u)}class En{constructor(a,l){this.bucket=a,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,l){let p;try{p=En.makeFromUrl(a,l)}catch{return new En(a,"")}if(""===p.path)return p;throw function Xt(u){return new Ce(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(a)}static makeFromUrl(a,l){let p=null;const I="([A-Za-z0-9.\\-_]+)",te=new RegExp("^gs://"+I+"(/(.*))?$","i");function De(Ms){Ms.path_=decodeURIComponent(Ms.path)}const Gt=l.replace(/[.]/g,"\\."),Ci=[{regex:te,indices:{bucket:1,path:3},postModify:function R(Ms){"/"===Ms.path.charAt(Ms.path.length-1)&&(Ms.path_=Ms.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gt}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:De},{regex:new RegExp(`^https?://${l===Ze?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:De}];for(let Ms=0;Ms<Ci.length;Ms++){const Gc=Ci[Ms],Da=Gc.regex.exec(a);if(Da){let Tc=Da[Gc.indices.path];Tc||(Tc=""),p=new En(Da[Gc.indices.bucket],Tc),Gc.postModify(p);break}}if(null==p)throw function vt(u){return new Ce(Ue.INVALID_URL,"Invalid URL '"+u+"'.")}(a);return p}}class hr{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function br(u){return"string"==typeof u||u instanceof String}function mi(u){return xi()&&u instanceof Blob}function xi(){return typeof Blob<"u"&&!(0,Y.UG)()}function Hn(u,a,l,p){if(p<a)throw cn(`Invalid value for '${u}'. Expected ${a} or greater.`);if(p>l)throw cn(`Invalid value for '${u}'. Expected ${l} or less.`)}function Gn(u,a,l){let p=a;return null==l&&(p=`https://${a}`),`${l}://${p}/v0${u}`}function en(u){const a=encodeURIComponent;let l="?";for(const p in u)u.hasOwnProperty(p)&&(l=l+(a(p)+"=")+a(u[p])+"&");return l=l.slice(0,-1),l}var pn=(()=>{return(u=pn||(pn={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",pn;var u})();function sn(u,a){const l=u>=500&&u<600,I=-1!==[408,429].indexOf(u),R=-1!==a.indexOf(u);return l||I||R}class ci{constructor(a,l,p,I,R,U,te,he,De,Mt,Gt,Kt=!0){this.url_=a,this.method_=l,this.headers_=p,this.body_=I,this.successCodes_=R,this.additionalRetryCodes_=U,this.callback_=te,this.errorCallback_=he,this.timeout_=De,this.progressCallback_=Mt,this.connectionFactory_=Gt,this.retry=Kt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Cn,Un)=>{this.resolve_=Cn,this.reject_=Un,this.start_()})}start_(){const l=(p,I)=>{const R=this.resolve_,U=this.reject_,te=I.connection;if(I.wasSuccessCode)try{const he=this.callback_(te,te.getResponse());!function vn(u){return void 0!==u}(he)?R():R(he)}catch(he){U(he)}else if(null!==te){const he=_t();he.serverResponse=te.getErrorText(),U(this.errorCallback_?this.errorCallback_(te,he):he)}else U(I.canceled?this.appDelete_?Sn():lt():Ne())};this.canceled_?l(0,new Dr(!1,null,!0)):this.backoffId_=function Cr(u,a,l){let p=1,I=null,R=null,U=!1,te=0;function he(){return 2===te}let De=!1;function Mt(...Ti){De||(De=!0,a.apply(null,Ti))}function Gt(Ti){I=setTimeout(()=>{I=null,u(Cn,he())},Ti)}function Kt(){R&&clearTimeout(R)}function Cn(Ti,...cs){if(De)return void Kt();if(Ti)return Kt(),void Mt.call(null,Ti,...cs);if(he()||U)return Kt(),void Mt.call(null,Ti,...cs);let Ci;p<64&&(p*=2),1===te?(te=2,Ci=0):Ci=1e3*(p+Math.random()),Gt(Ci)}let Un=!1;function jr(Ti){Un||(Un=!0,Kt(),!De&&(null!==I?(Ti||(te=2),clearTimeout(I),Gt(0)):Ti||(te=1)))}return Gt(0),R=setTimeout(()=>{U=!0,jr(!0)},l),jr}((p,I)=>{if(I)return void p(!1,new Dr(!1,null,!0));const R=this.connectionFactory_();this.pendingConnection_=R;const U=te=>{null!==this.progressCallback_&&this.progressCallback_(te.loaded,te.lengthComputable?te.total:-1)};null!==this.progressCallback_&&R.addUploadProgressListener(U),R.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&R.removeUploadProgressListener(U),this.pendingConnection_=null;const te=R.getErrorCode()===pn.NO_ERROR,he=R.getStatus();if(!te||sn(he,this.additionalRetryCodes_)&&this.retry){const Mt=R.getErrorCode()===pn.ABORT;return void p(!1,new Dr(!1,null,Mt))}const De=-1!==this.successCodes_.indexOf(he);p(!0,new Dr(De,R))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&function tr(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dr{constructor(a,l,p){this.wasSuccessCode=a,this.connection=l,this.canceled=!!p}}function sr(...u){const a=function lr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==a){const l=new a;for(let p=0;p<u.length;p++)l.append(u[p]);return l.getBlob()}if(xi())return new Blob(u);throw new Ce(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jt{constructor(a,l){this.data=a,this.contentType=l||null}}function Ke(u,a){switch(u){case yr.RAW:return new jt(Qe(a));case yr.BASE64:case yr.BASE64URL:return new jt(zt(u,a));case yr.DATA_URL:return new jt(function _e(u){const a=new Ie(u);return a.base64?zt(yr.BASE64,a.rest):function Yt(u){let a;try{a=decodeURIComponent(u)}catch{throw wn(yr.DATA_URL,"Malformed data URL.")}return Qe(a)}(a.rest)}(a),function We(u){return new Ie(u).contentType}(a))}throw _t()}function Qe(u){const a=[];for(let l=0;l<u.length;l++){let p=u.charCodeAt(l);p<=127?a.push(p):p<=2047?a.push(192|p>>6,128|63&p):55296==(64512&p)?l<u.length-1&&56320==(64512&u.charCodeAt(l+1))?(p=65536|(1023&p)<<10|1023&u.charCodeAt(++l),a.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):a.push(239,191,189):56320==(64512&p)?a.push(239,191,189):a.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(a)}function zt(u,a){switch(u){case yr.BASE64:{const I=-1!==a.indexOf("-"),R=-1!==a.indexOf("_");if(I||R)throw wn(u,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const I=-1!==a.indexOf("+"),R=-1!==a.indexOf("/");if(I||R)throw wn(u,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function Mi(u){if(typeof atob>"u")throw function St(u){return new Ce(Ue.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(a)}catch(I){throw I.message.includes("polyfill")?I:wn(u,"Invalid character found")}const p=new Uint8Array(l.length);for(let I=0;I<l.length;I++)p[I]=l.charCodeAt(I);return p}class Ie{constructor(a){this.base64=!1,this.contentType=null;const l=a.match(/^data:([^,]+)?,/);if(null===l)throw wn(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=l[1]||null;null!=p&&(this.base64=function Dt(u,a){return u.length>=a.length&&u.substring(u.length-a.length)===a}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=a.substring(a.indexOf(",")+1)}}class st{constructor(a,l){let p=0,I="";mi(a)?(this.data_=a,p=a.size,I=a.type):a instanceof ArrayBuffer?(l?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),p=this.data_.length):a instanceof Uint8Array&&(l?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),p=a.length),this.size_=p,this.type_=I}size(){return this.size_}type(){return this.type_}slice(a,l){if(mi(this.data_)){const I=function Ir(u,a,l){return u.webkitSlice?u.webkitSlice(a,l):u.mozSlice?u.mozSlice(a,l):u.slice?u.slice(a,l):null}(this.data_,a,l);return null===I?null:new st(I)}{const p=new Uint8Array(this.data_.buffer,a,l-a);return new st(p,!0)}}static getBlob(...a){if(xi()){const l=a.map(p=>p instanceof st?p.data_:p);return new st(sr.apply(null,l))}{const l=a.map(U=>br(U)?Ke(yr.RAW,U).data:U.data_);let p=0;l.forEach(U=>{p+=U.byteLength});const I=new Uint8Array(p);let R=0;return l.forEach(U=>{for(let te=0;te<U.length;te++)I[R++]=U[te]}),new st(I,!0)}}uploadData(){return this.data_}}function on(u){let a;try{a=JSON.parse(u)}catch{return null}return function bi(u){return"object"==typeof u&&!Array.isArray(u)}(a)?a:null}function ve(u){const a=u.lastIndexOf("/",u.length-2);return-1===a?u:u.slice(a+1)}function ut(u,a){return a}class Rt{constructor(a,l,p,I){this.server=a,this.local=l||a,this.writable=!!p,this.xform=I||ut}}let ln=null;function qn(){if(ln)return ln;const u=[];u.push(new Rt("bucket")),u.push(new Rt("generation")),u.push(new Rt("metageneration")),u.push(new Rt("name","fullPath",!0));const l=new Rt("name");l.xform=function a(R,U){return function Tn(u){return!br(u)||u.length<2?u:ve(u)}(U)},u.push(l);const I=new Rt("size");return I.xform=function p(R,U){return void 0!==U?Number(U):U},u.push(I),u.push(new Rt("timeCreated")),u.push(new Rt("updated")),u.push(new Rt("md5Hash",null,!0)),u.push(new Rt("cacheControl",null,!0)),u.push(new Rt("contentDisposition",null,!0)),u.push(new Rt("contentEncoding",null,!0)),u.push(new Rt("contentLanguage",null,!0)),u.push(new Rt("contentType",null,!0)),u.push(new Rt("metadata","customMetadata",!0)),ln=u,ln}function $t(u,a,l){const p=on(a);return null===p?null:function zr(u,a,l){const p={type:"file"},I=l.length;for(let R=0;R<I;R++){const U=l[R];p[U.local]=U.xform(p,a[U.server])}return function fr(u,a){Object.defineProperty(u,"ref",{get:function l(){const R=new En(u.bucket,u.fullPath);return a._makeStorageReference(R)}})}(p,u),p}(u,p,l)}function Jt(u,a){const l={},p=a.length;for(let I=0;I<p;I++){const R=a[I];R.writable&&(l[R.server]=u[R.local])}return JSON.stringify(l)}const On="prefixes",Vn="items";class or{constructor(a,l,p,I){this.url=a,this.method=l,this.handler=p,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rr(u){if(!u)throw _t()}function ir(u,a){return function l(p,I){const R=$t(u,I,a);return rr(null!==R),R}}function Fi(u){return function a(l,p){let I;return I=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function ke(){return new Ce(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new Ce(Ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function wt(u){return new Ce(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function Le(u){return new Ce(Ue.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):p,I.status=l.getStatus(),I.serverResponse=p.serverResponse,I}}function Vi(u){const a=Fi(u);return function l(p,I){let R=a(p,I);return 404===p.getStatus()&&(R=function ct(u){return new Ce(Ue.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),R.serverResponse=I.serverResponse,R}}function ji(u,a,l){const I=Gn(a.fullServerUrl(),u.host,u._protocol),U=u.maxOperationRetryTime,te=new or(I,"GET",ir(u,l),U);return te.errorHandler=Vi(a),te}function In(u,a,l,p,I){const R={};R.prefix=a.isRoot?"":a.path+"/",l&&l.length>0&&(R.delimiter=l),p&&(R.pageToken=p),I&&(R.maxResults=I);const te=Gn(a.bucketOnlyServerUrl(),u.host,u._protocol),De=u.maxOperationRetryTime,Mt=new or(te,"GET",function Xn(u,a){return function l(p,I){const R=function Nn(u,a,l){const p=on(l);return null===p?null:function vr(u,a,l){const p={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[On])for(const I of l[On]){const R=I.replace(/\/$/,""),U=u._makeStorageReference(new En(a,R));p.prefixes.push(U)}if(l[Vn])for(const I of l[Vn]){const R=u._makeStorageReference(new En(a,I.name));p.items.push(R)}return p}(u,a,p)}(u,a,I);return rr(null!==R),R}}(u,a.bucket),De);return Mt.urlParams=R,Mt.errorHandler=Fi(a),Mt}function Li(u,a,l){const p=Object.assign({},l);return p.fullPath=u.path,p.size=a.size(),p.contentType||(p.contentType=function _i(u,a){return u&&u.contentType||a&&a.type()||"application/octet-stream"}(null,a)),p}class se{constructor(a,l,p,I){this.current=a,this.total=l,this.finalized=!!p,this.metadata=I||null}}function Ee(u,a){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch{rr(!1)}return rr(!!l&&-1!==(a||["active"]).indexOf(l)),l}const Nt={STATE_CHANGED:"state_changed"},At={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ht(u){switch(u){case"running":case"pausing":case"canceling":return At.RUNNING;case"paused":return At.PAUSED;case"success":return At.SUCCESS;case"canceled":return At.CANCELED;default:return At.ERROR}}class Qt{constructor(a,l,p){if(function jn(u){return"function"==typeof u}(a)||null!=l||null!=p)this.next=a,this.error=null!=l?l:void 0,this.complete=null!=p?p:void 0;else{const R=a;this.next=R.next,this.error=R.error,this.complete=R.complete}}}function dn(u){return(...a)=>{Promise.resolve().then(()=>u(...a))}}let Yn=null;class Wn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pn.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pn.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pn.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,l,p,I){if(this.sent_)throw nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,a,!0),void 0!==I)for(const R in I)I.hasOwnProperty(R)&&this.xhr_.setRequestHeader(R,I[R].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}class pr extends Wn{initXhr(){this.xhr_.responseType="text"}}function Gr(){return Yn?Yn():new pr}class qt{constructor(a,l,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=l,this._metadata=p,this._mappings=qn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(Ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const R=this.isExponentialBackoffExpired();if(sn(I.status,[])){if(!R)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=Ne()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(Ue.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,R)=>{this._resolve=I,this._reject=R,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const a=this._transferred;return l=>this._updateProgress(a+l)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,p])=>{switch(this._state){case"running":a(l,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,l)=>{const p=function Ge(u,a,l,p,I){const R=a.bucketOnlyServerUrl(),U=Li(a,p,I),te={name:U.fullPath},he=Gn(R,u.host,u._protocol),Mt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":U.contentType,"Content-Type":"application/json; charset=utf-8"},Gt=Jt(U,l),Un=new or(he,"POST",function Cn(jr){let Ti;Ee(jr);try{Ti=jr.getResponseHeader("X-Goog-Upload-URL")}catch{rr(!1)}return rr(br(Ti)),Ti},u.maxUploadRetryTime);return Un.urlParams=te,Un.headers=Mt,Un.body=Gt,Un.errorHandler=Fi(a),Un}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Gr,a,l);this._request=I,I.getPromise().then(R=>{this._request=void 0,this._uploadUrl=R,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((l,p)=>{const I=function pe(u,a,l,p){const he=new or(l,"POST",function R(De){const Mt=Ee(De,["active","final"]);let Gt=null;try{Gt=De.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rr(!1)}Gt||rr(!1);const Kt=Number(Gt);return rr(!isNaN(Kt)),new se(Kt,p.size(),"final"===Mt)},u.maxUploadRetryTime);return he.headers={"X-Goog-Upload-Command":"query"},he.errorHandler=Fi(a),he}(this._ref.storage,this._ref._location,a,this._blob),R=this._ref.storage._makeRequest(I,Gr,l,p);this._request=R,R.getPromise().then(U=>{this._request=void 0,this._updateProgress(U.current),this._needToFetchStatus=!1,U.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,l=new se(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((I,R)=>{let U;try{U=function qe(u,a,l,p,I,R,U,te){const he=new se(0,0);if(U?(he.current=U.current,he.total=U.total):(he.current=0,he.total=p.size()),p.size()!==he.total)throw function Tt(){return new Ce(Ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const De=he.total-he.current;let Mt=De;I>0&&(Mt=Math.min(Mt,I));const Gt=he.current;let Cn="";Cn=0===Mt?"finalize":De===Mt?"upload, finalize":"upload";const Un={"X-Goog-Upload-Command":Cn,"X-Goog-Upload-Offset":`${he.current}`},jr=p.slice(Gt,Gt+Mt);if(null===jr)throw yn();const Ci=new or(l,"POST",function Ti(Ms,Gc){const Da=Ee(Ms,["active","final"]),vh=he.current+Mt,Tc=p.size();let yu;return yu="final"===Da?ir(a,R)(Ms,Gc):null,new se(vh,Tc,"final"===Da,yu)},a.maxUploadRetryTime);return Ci.headers=Un,Ci.body=jr.uploadData(),Ci.progressCallback=te||null,Ci.errorHandler=Fi(u),Ci}(this._ref._location,this._ref.storage,p,this._blob,a,this._mappings,l,this._makeProgressCallback())}catch(he){return this._error=he,void this._transition("error")}const te=this._ref.storage._makeRequest(U,Gr,I,R,!1);this._request=te,te.getPromise().then(he=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(he.current),he.finalized?(this._metadata=he.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,l)=>{const p=ji(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(p,Gr,a,l);this._request=I,I.getPromise().then(R=>{this._request=void 0,this._metadata=R,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,l)=>{const p=function Lr(u,a,l,p,I){const R=a.bucketOnlyServerUrl(),U={"X-Goog-Upload-Protocol":"multipart"},he=function te(){let Ci="";for(let Ms=0;Ms<2;Ms++)Ci+=Math.random().toString().slice(2);return Ci}();U["Content-Type"]="multipart/related; boundary="+he;const De=Li(a,p,I),Mt=Jt(De,l),Cn=st.getBlob("--"+he+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mt+"\r\n--"+he+"\r\nContent-Type: "+De.contentType+"\r\n\r\n",p,"\r\n--"+he+"--");if(null===Cn)throw yn();const Un={name:De.fullPath},jr=Gn(R,u.host,u._protocol),cs=u.maxUploadRetryTime,Rs=new or(jr,"POST",ir(u,l),cs);return Rs.urlParams=Un,Rs.headers=U,Rs.body=Cn.uploadData(),Rs.errorHandler=Fi(a),Rs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Gr,a,l);this._request=I,I.getPromise().then(R=>{this._request=void 0,this._metadata=R,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const l=this._transferred;this._transferred=a,this._transferred!==l&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const l="paused"===this._state;this._state=a,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=lt(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Ht(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,l,p,I){const R=new Qt(l||void 0,p||void 0,I||void 0);return this._addObserver(R),()=>{this._removeObserver(R)}}then(a,l){return this._promise.then(a,l)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const l=this._observers.indexOf(a);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Ht(this._state)){case At.SUCCESS:dn(this._resolve.bind(null,this.snapshot))();break;case At.CANCELED:case At.ERROR:dn(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Ht(this._state)){case At.RUNNING:case At.PAUSED:a.next&&dn(a.next.bind(a,this.snapshot))();break;case At.SUCCESS:a.complete&&dn(a.complete.bind(a))();break;default:a.error&&dn(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class tn{constructor(a,l){this._service=a,this._location=l instanceof En?l:En.makeFromUrl(l,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,l){return new tn(a,l)}get root(){const a=new En(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ve(this._location.path)}get storage(){return this._service}get parent(){const a=function ot(u){if(0===u.length)return null;const a=u.lastIndexOf("/");return-1===a?"":u.slice(0,a)}(this._location.path);if(null===a)return null;const l=new En(this._location.bucket,a);return new tn(this._service,l)}_throwIfRoot(a){if(""===this._location.path)throw zn(a)}}function fi(u,a,l){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,ue.Z)(function*(u,a,l){const I=yield Hi(u,{pageToken:l});a.prefixes.push(...I.prefixes),a.items.push(...I.items),null!=I.nextPageToken&&(yield fi(u,a,I.nextPageToken))})).apply(this,arguments)}function Hi(u,a){null!=a&&"number"==typeof a.maxResults&&Hn("options.maxResults",1,1e3,a.maxResults);const l=a||{},p=In(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(p,Gr)}function Yi(u){u._throwIfRoot("getDownloadURL");const a=function ei(u,a,l){const I=Gn(a.fullServerUrl(),u.host,u._protocol),U=u.maxOperationRetryTime,te=new or(I,"GET",function Ds(u,a){return function l(p,I){const R=$t(u,I,a);return rr(null!==R),function bt(u,a,l,p){const I=on(a);if(null===I||!br(I.downloadTokens))return null;const R=I.downloadTokens;if(0===R.length)return null;const U=encodeURIComponent;return R.split(",").map(De=>{const Gt=u.fullPath;return Gn("/b/"+U(u.bucket)+"/o/"+U(Gt),l,p)+en({alt:"media",token:De})})[0]}(R,I,u.host,u._protocol)}}(u,l),U);return te.errorHandler=Vi(a),te}(u.storage,u._location,qn());return u.storage.makeRequestWithTokens(a,Gr).then(l=>{if(null===l)throw function Te(){return new Ce(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return l})}function Os(u,a){const l=function je(u,a){const l=a.split("/").filter(p=>p.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,a),p=new En(u._location.bucket,l);return new tn(u.storage,p)}function Ss(u,a){if(u instanceof lo){const l=u;if(null==l._bucket)throw function Bt(){return new Ce(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xt+"' property when initializing the app?")}();const p=new tn(l,l._bucket);return null!=a?Ss(p,a):p}return void 0!==a?Os(u,a):u}function ao(u,a){if(a&&function Ta(u){return/^[A-Za-z]+:\/\//.test(u)}(a)){if(u instanceof lo)return function ko(u,a){return new tn(u,a)}(u,a);throw cn("To use ref(service, url), the first argument must be a Storage instance.")}return Ss(u,a)}function da(u,a){const l=null==a?void 0:a[xt];return null==l?null:En.makeFromBucketSpec(l,u)}class lo{constructor(a,l,p,I,R){this.app=a,this._authProvider=l,this._appCheckProvider=p,this._url=I,this._firebaseVersion=R,this._bucket=null,this._host=Ze,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?En.makeFromBucketSpec(I,this._host):da(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?En.makeFromBucketSpec(this._url,a):da(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){Hn("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){Hn("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,ue.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const l=a._authProvider.getImmediate({optional:!0});if(l){const p=yield l.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,ue.Z)(function*(){const l=a._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new tn(this,a)}_makeRequest(a,l,p,I,R=!0){if(this._deleted)return new hr(Sn());{const U=function vi(u,a,l,p,I,R,U=!0){const te=en(u.urlParams),he=u.url+te,De=Object.assign({},u.headers);return function yi(u,a){a&&(u["X-Firebase-GMPID"]=a)}(De,a),function si(u,a){null!==a&&a.length>0&&(u.Authorization="Firebase "+a)}(De,l),function oi(u,a){u["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager")}(De,R),function Ur(u,a){null!==a&&(u["X-Firebase-AppCheck"]=a)}(De,p),new ci(he,u.method,De,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,I,U)}(a,this._appId,p,I,l,this._firebaseVersion,R);return this._requests.add(U),U.getPromise().then(()=>this._requests.delete(U),()=>this._requests.delete(U)),U}}makeRequestWithTokens(a,l){var p=this;return(0,ue.Z)(function*(){const[I,R]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(a,l,I,R).getPromise()})()}}const us="@firebase/storage";function vs(u,a){return ao(u=(0,Y.m9)(u),a)}function Zi(u,{instanceIdentifier:a}){const l=u.getProvider("app").getImmediate(),p=u.getProvider("auth-internal"),I=u.getProvider("app-check-internal");return new lo(l,p,I,a,gt.SDK_VERSION)}!function bo(){(0,gt._registerComponent)(new et.wA("storage",Zi,"PUBLIC").setMultipleInstances(!0)),(0,gt.registerVersion)(us,"0.11.2",""),(0,gt.registerVersion)(us,"0.11.2","esm2017")}();class Ri{constructor(a,l,p){this._delegate=a,this.task=l,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class po{constructor(a,l){this._delegate=a,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ri(this._delegate.snapshot,this,this._ref)}then(a,l){return this._delegate.then(p=>{if(a)return a(new Ri(p,this,this._ref))},l)}on(a,l,p,I){let R;return l&&(R="function"==typeof l?U=>l(new Ri(U,this,this._ref)):{next:l.next?U=>l.next(new Ri(U,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(a,R,p||void 0,I||void 0)}}class go{constructor(a,l){this._delegate=a,this._service=l}get prefixes(){return this._delegate.prefixes.map(a=>new Pi(a,this._service))}get items(){return this._delegate.items.map(a=>new Pi(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pi{constructor(a,l){this._delegate=a,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const l=function ta(u,a){return Os(u,a)}(this._delegate,a);return new Pi(l,this.storage)}get root(){return new Pi(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new Pi(a,this.storage)}put(a,l){return this._throwIfRoot("put"),new po(function co(u,a,l){return function Xr(u,a,l){return u._throwIfRoot("uploadBytesResumable"),new qt(u,new st(a),l)}(u=(0,Y.m9)(u),a,l)}(this._delegate,a,l),this)}putString(a,l=yr.RAW,p){this._throwIfRoot("putString");const I=Ke(l,a),R=Object.assign({},p);return null==R.contentType&&null!=I.contentType&&(R.contentType=I.contentType),new po(new qt(this._delegate,new st(I.data,!0),R),this)}listAll(){return function ho(u){return function Oo(u){const a={prefixes:[],items:[]};return fi(u,a).then(()=>a)}(u=(0,Y.m9)(u))}(this._delegate).then(a=>new go(a,this.storage))}list(a){return function uo(u,a){return Hi(u=(0,Y.m9)(u),a)}(this._delegate,a||void 0).then(l=>new go(l,this.storage))}getMetadata(){return function Qr(u){return function jo(u){u._throwIfRoot("getMetadata");const a=ji(u.storage,u._location,qn());return u.storage.makeRequestWithTokens(a,Gr)}(u=(0,Y.m9)(u))}(this._delegate)}updateMetadata(a){return function ks(u,a){return function ua(u,a){u._throwIfRoot("updateMetadata");const l=function qi(u,a,l,p){const R=Gn(a.fullServerUrl(),u.host,u._protocol),te=Jt(l,p),De=u.maxOperationRetryTime,Mt=new or(R,"PATCH",ir(u,p),De);return Mt.headers={"Content-Type":"application/json; charset=utf-8"},Mt.body=te,Mt.errorHandler=Vi(a),Mt}(u.storage,u._location,a,qn());return u.storage.makeRequestWithTokens(l,Gr)}(u=(0,Y.m9)(u),a)}(this._delegate,a)}getDownloadURL(){return function fa(u){return Yi(u=(0,Y.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function fo(u){return function oo(u){u._throwIfRoot("deleteObject");const a=function Pr(u,a){const p=Gn(a.fullServerUrl(),u.host,u._protocol),te=new or(p,"DELETE",function U(he,De){},u.maxOperationRetryTime);return te.successCodes=[200,204],te.errorHandler=Vi(a),te}(u.storage,u._location);return u.storage.makeRequestWithTokens(a,Gr)}(u=(0,Y.m9)(u))}(this._delegate)}_throwIfRoot(a){if(""===this._delegate._location.path)throw zn(a)}}class ra{constructor(a,l){this.app=a,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(el(a))throw cn("ref() expected a child path but got a URL, use refFromURL instead.");return new Pi(vs(this._delegate,a),this)}refFromURL(a){if(!el(a))throw cn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{En.makeFromUrl(a,this._delegate.host)}catch{throw cn("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pi(vs(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,l,p={}){!function na(u,a,l,p={}){!function Ja(u,a,l,p={}){u.host=`${a}:${l}`,u._protocol="http";const{mockUserToken:I}=p;I&&(u._overrideAuthToken="string"==typeof I?I:(0,Y.Sg)(I,u.app.options.projectId))}(u,a,l,p)}(this._delegate,a,l,p)}}function el(u){return/^[A-Za-z]+:\/\//.test(u)}function Gi(u,{instanceIdentifier:a}){const l=u.getProvider("app-compat").getImmediate(),p=u.getProvider("storage").getImmediate({identifier:a});return new ra(l,p)}!function Va(u){const a={TaskState:At,TaskEvent:Nt,StringFormat:yr,Storage:ra,Reference:Pi};u.INTERNAL.registerComponent(new et.wA("storage-compat",Gi,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(Se.Z);var Ns=H(6217),To=H(9260);function wr(u){const a=function ia(u){return new me.y(a=>{const l=U=>a.next(U);l(u.snapshot);const R=u.on("state_changed",l);return u.then(U=>{l(U),a.complete()},U=>{l(u.snapshot),(U=>{a.error(U)})(U)}),function(){R()}}).pipe(function ze(u,a=we.z){return(0,ge.e)((l,p)=>{let I=null,R=null,U=null;const te=()=>{if(I){I.unsubscribe(),I=null;const De=R;R=null,p.next(De)}};function he(){const De=U+u,Mt=a.now();if(Mt<De)return I=this.schedule(void 0,De-Mt),void p.add(I);te()}l.subscribe((0,ye.x)(p,De=>{R=De,U=a.now(),I||(I=a.schedule(he,u),p.add(I))},()=>{te(),p.complete()},void 0,()=>{R=I=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,He.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function So(u){return{getDownloadURL:()=>(0,Ve.of)(void 0).pipe(Ct.fc,(0,rt.w)(()=>u.getDownloadURL()),Ct.iC),getMetadata:()=>(0,Ve.of)(void 0).pipe(Ct.fc,(0,rt.w)(()=>u.getMetadata()),Ct.iC),delete:()=>(0,Fe.D)(u.delete()),child:a=>So(u.child(a)),updateMetadata:a=>(0,Fe.D)(u.updateMetadata(a)),put:(a,l)=>wr(u.put(a,l)),putString:(a,l,p)=>wr(u.putString(a,l,p)),list:a=>(0,Fe.D)(u.list(a)),listAll:()=>(0,Fe.D)(u.listAll())}}const pa=new _.OlP("angularfire2.storageBucket"),sa=new _.OlP("angularfire2.storage.maxUploadRetryTime"),b=new _.OlP("angularfire2.storage.maxOperationRetryTime"),q=new _.OlP("angularfire2.storage.use-emulator");let T=(()=>{class u{constructor(l,p,I,R,U,te,he,De,Mt,Gt){const Kt=(0,Re.on)(l,U,p);this.storage=(0,Re.cc)(`${Kt.name}.storage.${I}`,"AngularFireStorage",Kt.name,()=>{const Cn=U.runOutsideAngular(()=>Kt.storage(I||void 0)),Un=Mt;return Un&&Cn.useEmulator(...Un),he&&Cn.setMaxUploadRetryTime(he),De&&Cn.setMaxOperationRetryTime(De),Cn},[he,De])}ref(l){return So(this.storage.ref(l))}refFromURL(l){return So(this.storage.refFromURL(l))}upload(l,p,I){return So(this.storage.ref(l)).put(p,I)}}return u.\u0275fac=function(l){return new(l||u)(_.LFG(Re.Dh),_.LFG(Re.xv,8),_.LFG(pa,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ct.HU),_.LFG(sa,8),_.LFG(b,8),_.LFG(q,8),_.LFG(Ns.nm,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),fe=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})(),M=(()=>{class u{constructor(){To.Z.registerVersion("angularfire",Ct.q4.full,"gcs-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[T],imports:[fe]}),u})();var F=H(1762),L=H(6451),ne=H(3099),ft=H(5026),mn=H(1884),Nr=H(8421),ti=H(4671),Qi=H(5032),ds=H(7669);H(3042);var ts=H(1877);const Ks="@firebase/database";let oa="";function Ys(u){oa=u}class yl{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,l){null==l?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,Y.Wl)(l))}get(a){const l=this.domStorage_.getItem(this.prefixedName_(a));return null==l?null:(0,Y.cI)(l)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}class tl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,l){null==l?delete this.cache_[a]:this.cache_[a]=l}get(a){return(0,Y.r3)(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}const Sa=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new yl(a)}}catch{}return new tl},Ha=Sa("localStorage"),ns=Sa("sessionStorage"),xs=new ts.Yd("@firebase/database"),nl=function(){let u=1;return function(){return u++}}(),Aa=function(u){const a=(0,Y.dS)(u),l=new Y.gQ;l.update(a);const p=l.digest();return Y.US.encodeByteArray(p)},zo=function(...u){let a="";for(let l=0;l<u.length;l++){const p=u[l];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?a+=zo.apply(null,p):a+="object"==typeof p?(0,Y.Wl)(p):p,a+=" "}return a};let Fo=null,rl=!0;const ga=function(u,a){(0,Y.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(xs.logLevel=ts.in.VERBOSE,Fo=xs.log.bind(xs),a&&ns.set("logging_enabled",!0)):"function"==typeof u?Fo=u:(Fo=null,ns.remove("logging_enabled"))},os=function(...u){if(!0===rl&&(rl=!1,null===Fo&&!0===ns.get("logging_enabled")&&ga(!0)),Fo){const a=zo.apply(null,u);Fo(a)}},xo=function(u){return function(...a){os(u,...a)}},Go=function(...u){const a="FIREBASE INTERNAL ERROR: "+zo(...u);xs.error(a)},Zs=function(...u){const a=`FIREBASE FATAL ERROR: ${zo(...u)}`;throw xs.error(a),new Error(a)},hs=function(...u){const a="FIREBASE WARNING: "+zo(...u);xs.warn(a)},as=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Br="[MIN_NAME]",Ro="[MAX_NAME]",Ra=function(u,a){if(u===a)return 0;if(u===Br||a===Ro)return-1;if(a===Br||u===Ro)return 1;{const l=Vt(u),p=Vt(a);return null!==l?null!==p?l-p==0?u.length-a.length:l-p:-1:null!==p?1:u<a?-1:1}},Lo=function(u,a){return u===a?0:u<a?-1:1},vl=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,Y.Wl)(a))},mo=function(u){if("object"!=typeof u||null===u)return(0,Y.Wl)(u);const a=[];for(const p in u)a.push(p);a.sort();let l="{";for(let p=0;p<a.length;p++)0!==p&&(l+=","),l+=(0,Y.Wl)(a[p]),l+=":",l+=mo(u[a[p]]);return l+="}",l},Hl=function(u,a){const l=u.length;if(l<=a)return[u];const p=[];for(let I=0;I<l;I+=a)p.push(u.substring(I,I+a>l?l:I+a));return p};function Tr(u,a){for(const l in u)u.hasOwnProperty(l)&&a(l,u[l])}const zl=function(u){(0,Y.hu)(!as(u),"Invalid JSON number");const p=1023;let I,R,U,te,he;0===u?(R=0,U=0,I=1/u==-1/0?1:0):(I=u<0,(u=Math.abs(u))>=Math.pow(2,1-p)?(te=Math.min(Math.floor(Math.log(u)/Math.LN2),p),R=te+p,U=Math.round(u*Math.pow(2,52-te)-Math.pow(2,52))):(R=0,U=Math.round(u/Math.pow(2,-1074))));const De=[];for(he=52;he;he-=1)De.push(U%2?1:0),U=Math.floor(U/2);for(he=11;he;he-=1)De.push(R%2?1:0),R=Math.floor(R/2);De.push(I?1:0),De.reverse();const Mt=De.join("");let Gt="";for(he=0;he<64;he+=8){let Kt=parseInt(Mt.substr(he,8),2).toString(16);1===Kt.length&&(Kt="0"+Kt),Gt+=Kt}return Gt.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),Vt=function(u){if(j.test(u)){const a=Number(u);if(a>=-2147483648&&a<=2147483647)return a}return null},Wt=function(u){try{u()}catch(a){setTimeout(()=>{throw hs("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},Fn=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sr=function(u,a){const l=setTimeout(u,a);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class Wr{constructor(a,l){this.appName_=a,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(p=>this.appCheck=p)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((l,p)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(l,p):l(null)},0)})}addTokenChangeListener(a){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(p=>p.addTokenListener(a))}notifyForInvalidToken(){hs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fr{constructor(a,l,p){this.appName_=a,this.firebaseOptions_=l,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(I=>this.auth_=I)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(l=>l&&"auth/token-not-initialized"===l.code?(os("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,p)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(l,p):l(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(l=>l.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(l=>l.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hs(a)}}let _r=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Ko=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qs="websocket",il="long_polling";class El{constructor(a,l,p,I,R=!1,U="",te=!1,he=!1){this.secure=l,this.namespace=p,this.webSocketOnly=I,this.nodeAdmin=R,this.persistenceKey=U,this.includeNamespaceInQueryParams=te,this.isUsingEmulator=he,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qo(u,a,l){let p;if((0,Y.hu)("string"==typeof a,"typeof type must == string"),(0,Y.hu)("object"==typeof l,"typeof params must == object"),a===Qs)p=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==il)throw new Error("Unknown connection type: "+a);p=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function xc(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const I=[];return Tr(l,(R,U)=>{I.push(R+"="+U)}),p+I.join("&")}class Kc{constructor(){this.counters_={}}incrementCounter(a,l=1){(0,Y.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=l}get(){return(0,Y.p$)(this.counters_)}}const Wi={},vo={};function Js(u){const a=u.toString();return Wi[a]||(Wi[a]=new Kc),Wi[a]}class ac{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,l){this.closeAfterResponse=a,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,l){for(this.pendingResponses[a]=l;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let I=0;I<p.length;++I)p[I]&&Wt(()=>{this.onMessage_(p[I])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Bo{constructor(a,l,p,I,R,U,te){this.connId=a,this.repoInfo=l,this.applicationId=p,this.appCheckToken=I,this.authToken=R,this.transportSessionId=U,this.lastSessionId=te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xo(a),this.stats_=Js(l),this.urlFn=he=>(this.appCheckToken&&(he.ac=this.appCheckToken),qo(l,il,he))}open(a,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new ac(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Y.Yr)()||"complete"===document.readyState)u();else{let a=!1;const l=function(){document.body?a||(a=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wl((...R)=>{const[U,te,he,De,Mt]=R;if(this.incrementIncomingBytes_(R),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===U)this.id=te,this.password=he;else{if("close"!==U)throw new Error("Unrecognized command received: "+U);te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(te,()=>{this.onClosed_()})):this.onClosed_()}},(...R)=>{const[U,te]=R;this.incrementIncomingBytes_(R),this.myPacketOrderer.handleResponse(U,te)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ko.test(location.hostname)&&(p.r="f");const I=this.urlFn(p);this.log_("Connecting via long-poll to "+I),this.scriptTagHolder.addTag(I,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!Bo.forceAllow_&&(Bo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const l=(0,Y.Wl)(a);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const p=(0,Y.h$)(l),I=Hl(p,1840);for(let R=0;R<I.length;R++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[R]),this.curSegmentNum++}addDisconnectPingFrame(a,l){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=a,p.pw=l,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const l=(0,Y.Wl)(a).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class wl{constructor(a,l,p,I){if(this.onDisconnect=p,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=a,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=nl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=wl.createIFrame_();let R="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(R='<script>document.domain="'+document.domain+'";<\/script>');const U="<html><body>"+R+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(U),this.myIFrame.doc.close()}catch(te){os("frame writing exception"),te.stack&&os(te.stack),os(te)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||os("No IE domain setting required")}catch{const p=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,l){for(this.myID=a,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let l=this.urlFn(a),p="",I=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const U=this.pendingSegs.shift();p=p+"&seg"+I+"="+U.seg+"&ts"+I+"="+U.ts+"&d"+I+"="+U.d,I++}return l+=p,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(a,l,p){this.pendingSegs.push({seg:a,ts:l,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(a,l){this.outstandingRequests.add(l);const p=()=>{this.outstandingRequests.delete(l),this.newRequest_()},I=setTimeout(p,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(I),p()})}addTag(a,l){(0,Y.Yr)()?this.doNodeLongPoll(a,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=a,p.onload=p.onreadystatechange=function(){const I=p.readyState;(!I||"loaded"===I||"complete"===I)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),l())},p.onerror=()=>{os("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch{}},Math.floor(1))}}let ma=null;typeof MozWebSocket<"u"?ma=MozWebSocket:typeof WebSocket<"u"&&(ma=WebSocket);let ur=(()=>{class u{constructor(l,p,I,R,U,te,he){this.connId=l,this.applicationId=I,this.appCheckToken=R,this.authToken=U,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xo(this.connId),this.stats_=Js(p),this.connURL=u.connectionURL_(p,te,he,R,I),this.nodeAdmin=p.nodeAdmin}static connectionURL_(l,p,I,R,U){const te={v:"5"};return!(0,Y.Yr)()&&typeof location<"u"&&location.hostname&&Ko.test(location.hostname)&&(te.r="f"),p&&(te.s=p),I&&(te.ls=I),R&&(te.ac=R),U&&(te.p=U),qo(l,Qs,te)}open(l,p){this.onDisconnect=p,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{let I;if((0,Y.Yr)()){I={headers:{"User-Agent":`Firebase/5/${oa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(I.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(I.headers["X-Firebase-AppCheck"]=this.appCheckToken);const U=process.env,te=0===this.connURL.indexOf("wss://")?U.HTTPS_PROXY||U.https_proxy:U.HTTP_PROXY||U.http_proxy;te&&(I.proxy={origin:te})}this.mySock=new ma(this.connURL,[],I)}catch(I){this.log_("Error instantiating WebSocket.");const R=I.message||I.data;return R&&this.log_(R),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=I=>{this.handleIncomingFrame(I)},this.mySock.onerror=I=>{this.log_("WebSocket error.  Closing connection.");const R=I.message||I.data;R&&this.log_(R),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const I=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);I&&I.length>1&&parseFloat(I[1])<4.4&&(l=!0)}return!l&&null!==ma&&!u.forceDisallow_}static previouslyFailed(){return Ha.isInMemoryStorage||!0===Ha.get("previous_websocket_failure")}markConnectionHealthy(){Ha.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const I=(0,Y.cI)(p);this.onMessage(I)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const p=Number(l);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const p=l.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const I=this.extractFrameCount_(p);null!==I&&this.appendFrame_(I)}}send(l){this.resetKeepAlive();const p=(0,Y.Wl)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const I=Hl(p,16384);I.length>1&&this.sendString_(String(I.length));for(let R=0;R<I.length;R++)this.sendString_(I[R])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),aa=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[Bo,ur]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const p=ur&&ur.isAvailable();let I=p&&!ur.previouslyFailed();if(l.webSocketOnly&&(p||hs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),I=!0),I)this.transports_=[ur];else{const R=this.transports_=[];for(const U of u.ALL_TRANSPORTS)U&&U.isAvailable()&&R.push(U);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Pc{constructor(a,l,p,I,R,U,te,he,De,Mt){this.id=a,this.repoInfo_=l,this.applicationId_=p,this.appCheckToken_=I,this.authToken_=R,this.onMessage_=U,this.onReady_=te,this.onDisconnect_=he,this.onKill_=De,this.lastSessionId=Mt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xo("c:"+this.id+":"),this.transportManager_=new aa(l),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,p)},Math.floor(0));const I=a.healthyTimeout||0;I>0&&(this.healthyTimeout_=Sr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(I)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return l=>{a===this.conn_?this.onConnectionLost_(l):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return l=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(l):a===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(a){this.sendData_({t:"d",d:a})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){const l=a.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const l=vl("t",a),p=vl("d",a);if("c"===l)this.onSecondaryControl_(p);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const l=vl("t",a),p=vl("d",a);"c"===l?this.onControl_(p):"d"===l&&this.onDataMessage_(p)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const l=vl("t",a);if("d"in a){const p=a.d;if("h"===l){const I=Object.assign({},p);this.repoInfo_.isUsingEmulator&&(I.h=this.repoInfo_.host),this.onHandshake_(I)}else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(p):"r"===l?this.onReset_(p):"e"===l?Go("Server Error: "+p):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Go("Unknown control packet command: "+l)}}onHandshake_(a){const l=a.ts,p=a.v,I=a.h;this.sessionId=a.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==p&&hs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,p),Sr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,l){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Qc{put(a,l,p,I){}merge(a,l,p,I){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,l,p){}onDisconnectMerge(a,l,p){}onDisconnectCancel(a,l){}reportStats(a){}}class Cs{constructor(a){this.allowedEvents_=a,this.listeners_={},(0,Y.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...l){if(Array.isArray(this.listeners_[a])){const p=[...this.listeners_[a]];for(let I=0;I<p.length;I++)p[I].callback.apply(p[I].context,l)}}on(a,l,p){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:l,context:p});const I=this.getInitialEvent(a);I&&l.apply(p,I)}off(a,l,p){this.validateEventType_(a);const I=this.listeners_[a]||[];for(let R=0;R<I.length;R++)if(I[R].callback===l&&(!p||p===I[R].context))return void I.splice(R,1)}validateEventType_(a){(0,Y.hu)(this.allowedEvents_.find(l=>l===a),"Unknown event: "+a)}}class es extends Cs{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new es}getInitialEvent(a){return(0,Y.hu)("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}const Dl=32,Wl=768;class Kr{constructor(a,l){if(void 0===l){this.pieces_=a.split("/");let p=0;for(let I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[p]=this.pieces_[I],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=l}toString(){let a="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(a+="/"+this.pieces_[l]);return a||"/"}}function xr(){return new Kr("")}function qr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Pt(u){return u.pieces_.length-u.pieceNum_}function Ii(u){let a=u.pieceNum_;return a<u.pieces_.length&&a++,new Kr(u.pieces_,a)}function to(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function la(u,a=0){return u.pieces_.slice(u.pieceNum_+a)}function Yo(u){if(u.pieceNum_>=u.pieces_.length)return null;const a=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)a.push(u.pieces_[l]);return new Kr(a,0)}function li(u,a){const l=[];for(let p=u.pieceNum_;p<u.pieces_.length;p++)l.push(u.pieces_[p]);if(a instanceof Kr)for(let p=a.pieceNum_;p<a.pieces_.length;p++)l.push(a.pieces_[p]);else{const p=a.split("/");for(let I=0;I<p.length;I++)p[I].length>0&&l.push(p[I])}return new Kr(l,0)}function Rr(u){return u.pieceNum_>=u.pieces_.length}function S(u,a){const l=qr(u),p=qr(a);if(null===l)return a;if(l===p)return S(Ii(u),Ii(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function x(u,a){const l=la(u,0),p=la(a,0);for(let I=0;I<l.length&&I<p.length;I++){const R=Ra(l[I],p[I]);if(0!==R)return R}return l.length===p.length?0:l.length<p.length?-1:1}function w(u,a){if(Pt(u)!==Pt(a))return!1;for(let l=u.pieceNum_,p=a.pieceNum_;l<=u.pieces_.length;l++,p++)if(u.pieces_[l]!==a.pieces_[p])return!1;return!0}function O(u,a){let l=u.pieceNum_,p=a.pieceNum_;if(Pt(u)>Pt(a))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==a.pieces_[p])return!1;++l,++p}return!0}class z{constructor(a,l){this.errorPrefix_=l,this.parts_=la(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,Y.ug)(this.parts_[p]);nt(this)}}function nt(u){if(u.byteLength_>Wl)throw new Error(u.errorPrefix_+"has a key path longer than "+Wl+" bytes ("+u.byteLength_+").");if(u.parts_.length>Dl)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dl+") or object contains a cycle "+kt(u))}function kt(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class fn extends Cs{constructor(){let a,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const p=!document[a];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new fn}getInitialEvent(a){return(0,Y.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]}}const Bn=1e3;let _o,Es=(()=>{class u extends Qc{constructor(l,p,I,R,U,te,he,De){if(super(),this.repoInfo_=l,this.applicationId_=p,this.onDataUpdate_=I,this.onConnectStatus_=R,this.onServerInfoUpdate_=U,this.authTokenProvider_=te,this.appCheckTokenProvider_=he,this.authOverride_=De,this.id=u.nextPersistentConnectionId_++,this.log_=xo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,De&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fn.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&es.getInstance().on("online",this.onOnline_,this)}sendRequest(l,p,I){const R=++this.requestNumber_,U={r:R,a:l,b:p};this.log_((0,Y.Wl)(U)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(U),I&&(this.requestCBHash_[R]=I)}get(l){this.initConnection_();const p=new Y.BH,R={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:te=>{const he=te.d;"ok"===te.s?p.resolve(he):p.reject(he)}};return this.outstandingGets_.push(R),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),p.promise}listen(l,p,I,R){this.initConnection_();const U=l._queryIdentifier,te=l._path.toString();this.log_("Listen called for "+te+" "+U),this.listens.has(te)||this.listens.set(te,new Map),(0,Y.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(te).has(U),"listen() called twice for same path/queryId.");const he={onComplete:R,hashFn:p,query:l,tag:I};this.listens.get(te).set(U,he),this.connected_&&this.sendListen_(he)}sendGet_(l){const p=this.outstandingGets_[l];this.sendRequest("g",p.request,I=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(I)})}sendListen_(l){const p=l.query,I=p._path.toString(),R=p._queryIdentifier;this.log_("Listen on "+I+" for "+R);const U={p:I};l.tag&&(U.q=p._queryObject,U.t=l.tag),U.h=l.hashFn(),this.sendRequest("q",U,he=>{const De=he.d,Mt=he.s;u.warnOnListenWarnings_(De,p),(this.listens.get(I)&&this.listens.get(I).get(R))===l&&(this.log_("listen response",he),"ok"!==Mt&&this.removeListen_(I,R),l.onComplete&&l.onComplete(Mt,De))})}static warnOnListenWarnings_(l,p){if(l&&"object"==typeof l&&(0,Y.r3)(l,"w")){const I=(0,Y.DV)(l,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){const R='".indexOn": "'+p._queryParams.getIndex().toString()+'"',U=p._path.toString();hs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${R} at ${U} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,Y.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,p=(0,Y.w9)(l)?"auth":"gauth",I={cred:l};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(p,I,R=>{const U=R.s,te=R.d||"error";this.authToken_===l&&("ok"===U?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(U,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const p=l.s,I=l.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,I)})}unlisten(l,p){const I=l._path.toString(),R=l._queryIdentifier;this.log_("Unlisten called for "+I+" "+R),(0,Y.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,R)&&this.connected_&&this.sendUnlisten_(I,R,l._queryObject,p)}sendUnlisten_(l,p,I,R){this.log_("Unlisten on "+l+" for "+p);const U={p:l};R&&(U.q=I,U.t=R),this.sendRequest("n",U)}onDisconnectPut(l,p,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,p,I):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:p,onComplete:I})}onDisconnectMerge(l,p,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,p,I):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:p,onComplete:I})}onDisconnectCancel(l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,p):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(l,p,I,R){const U={p,d:I};this.log_("onDisconnect "+l,U),this.sendRequest(l,U,te=>{R&&setTimeout(()=>{R(te.s,te.d)},Math.floor(0))})}put(l,p,I,R){this.putInternal("p",l,p,I,R)}merge(l,p,I,R){this.putInternal("m",l,p,I,R)}putInternal(l,p,I,R,U){this.initConnection_();const te={p,d:I};void 0!==U&&(te.h=U),this.outstandingPuts_.push({action:l,request:te,onComplete:R}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(l){const p=this.outstandingPuts_[l].action,I=this.outstandingPuts_[l].request,R=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(p,I,U=>{this.log_(p+" response",U),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),R&&R(U.s,U.d)})}reportStats(l){if(this.connected_){const p={c:l};this.log_("reportStats",p),this.sendRequest("s",p,I=>{"ok"!==I.s&&this.log_("reportStats","Error sending stats: "+I.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,Y.Wl)(l));const p=l.r,I=this.requestCBHash_[p];I&&(delete this.requestCBHash_[p],I(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,p){this.log_("handleServerMessage",l,p),"d"===l?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===l?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===l?this.onListenRevoked_(p.p,p.q):"ac"===l?this.onAuthRevoked_(p.s,p.d):"apc"===l?this.onAppCheckRevoked_(p.s,p.d):"sd"===l?this.onSecurityDebugPacket_(p):Go("Unrecognized action received from server: "+(0,Y.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-l);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,ue.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const p=l.onDataMessage_.bind(l),I=l.onReady_.bind(l),R=l.onRealtimeDisconnect_.bind(l),U=l.id+":"+u.nextConnectionId_++,te=l.lastSessionId;let he=!1,De=null;const Mt=function(){De?De.close():(he=!0,R())};l.realtime_={close:Mt,sendRequest:function(Cn){(0,Y.hu)(De,"sendRequest call when we're not connected not allowed."),De.sendRequest(Cn)}};const Kt=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Cn,Un]=yield Promise.all([l.authTokenProvider_.getToken(Kt),l.appCheckTokenProvider_.getToken(Kt)]);he?os("getToken() completed but was canceled"):(os("getToken() completed. Creating connection."),l.authToken_=Cn&&Cn.accessToken,l.appCheckToken_=Un&&Un.token,De=new Pc(U,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,p,I,R,jr=>{hs(jr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},te))}catch(Cn){l.log_("Failed to get token: "+Cn),he||(l.repoInfo_.nodeAdmin&&hs(Cn),Mt())}}})()}interrupt(l){os("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){os("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const p=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const p=this.outstandingPuts_[l];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,p){let I;I=p?p.map(U=>mo(U)).join("$"):"default";const R=this.removeListen_(l,I);R&&R.onComplete&&R.onComplete("permission_denied")}removeListen_(l,p){const I=new Kr(l).toString();let R;if(this.listens.has(I)){const U=this.listens.get(I);R=U.get(p),U.delete(p),0===U.size&&this.listens.delete(I)}else R=void 0;return R}onAuthRevoked_(l,p){os("Auth token revoked: "+l+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,p){os("App check token revoked: "+l+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const p of l.values())this.sendListen_(p);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let p="js";(0,Y.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+p+"."+oa.replace(/\./g,"-")]=1,(0,Y.uI)()?l["framework.cordova"]=1:(0,Y.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=es.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Mr{constructor(a,l){this.name=a,this.node=l}static Wrap(a,l){return new Mr(a,l)}}class hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,l){const p=new Mr(Br,a),I=new Mr(Br,l);return 0!==this.compare(p,I)}minPost(){return Mr.MIN}}class Jc extends hc{static get __EMPTY_NODE(){return _o}static set __EMPTY_NODE(a){_o=a}compare(a,l){return Ra(a.name,l.name)}isDefinedOn(a){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,l){return!1}minPost(){return Mr.MIN}maxPost(){return new Mr(Ro,_o)}makePost(a,l){return(0,Y.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new Mr(a,_o)}toString(){return".key"}}const $o=new Jc;class Tl{constructor(a,l,p,I,R=null){this.isReverse_=I,this.resultGenerator_=R,this.nodeStack_=[];let U=1;for(;!a.isEmpty();)if(U=l?p(a.key,l):1,I&&(U*=-1),U<0)a=this.isReverse_?a.left:a.right;else{if(0===U){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,a=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}let rd,ol=(()=>{class u{constructor(l,p,I,R,U){this.key=l,this.value=p,this.color=null!=I?I:u.RED,this.left=null!=R?R:Zo.EMPTY_NODE,this.right=null!=U?U:Zo.EMPTY_NODE}copy(l,p,I,R,U){return new u(null!=l?l:this.key,null!=p?p:this.value,null!=I?I:this.color,null!=R?R:this.left,null!=U?U:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,p,I){let R=this;const U=I(l,R.key);return R=U<0?R.copy(null,null,null,R.left.insert(l,p,I),null):0===U?R.copy(null,p,null,null,null):R.copy(null,null,null,null,R.right.insert(l,p,I)),R.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zo.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,p){let I,R;if(I=this,p(l,I.key)<0)!I.left.isEmpty()&&!I.left.isRed_()&&!I.left.left.isRed_()&&(I=I.moveRedLeft_()),I=I.copy(null,null,null,I.left.remove(l,p),null);else{if(I.left.isRed_()&&(I=I.rotateRight_()),!I.right.isEmpty()&&!I.right.isRed_()&&!I.right.left.isRed_()&&(I=I.moveRedRight_()),0===p(l,I.key)){if(I.right.isEmpty())return Zo.EMPTY_NODE;R=I.right.min_(),I=I.copy(R.key,R.value,null,null,I.right.removeMin_())}I=I.copy(null,null,null,null,I.right.remove(l,p))}return I.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,p)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Zo{constructor(a,l=Zo.EMPTY_NODE){this.comparator_=a,this.root_=l}insert(a,l){return new Zo(this.comparator_,this.root_.insert(a,l,this.comparator_).copy(null,null,ol.BLACK,null,null))}remove(a){return new Zo(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,ol.BLACK,null,null))}get(a){let l,p=this.root_;for(;!p.isEmpty();){if(l=this.comparator_(a,p.key),0===l)return p.value;l<0?p=p.left:l>0&&(p=p.right)}return null}getPredecessorKey(a){let l,p=this.root_,I=null;for(;!p.isEmpty();){if(l=this.comparator_(a,p.key),0===l){if(p.left.isEmpty())return I?I.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}l<0?p=p.left:l>0&&(I=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new Tl(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,l){return new Tl(this.root_,a,this.comparator_,!1,l)}getReverseIteratorFrom(a,l){return new Tl(this.root_,a,this.comparator_,!0,l)}getReverseIterator(a){return new Tl(this.root_,null,this.comparator_,!0,a)}}function td(u,a){return Ra(u.name,a.name)}function nd(u,a){return Ra(u,a)}Zo.EMPTY_NODE=new class Ld{copy(a,l,p,I,R){return this}insert(a,l,p){return new ol(a,l,null)}remove(a,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bd=function(u){return"number"==typeof u?"number:"+zl(u):"string:"+u},Oc=function(u){if(u.isLeafNode()){const a=u.val();(0,Y.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,Y.r3)(a,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(u===rd||u.isEmpty(),"priority of unexpected type.");(0,Y.hu)(u===rd||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kc,Iu,$s,Nc=(()=>{class u{constructor(l,p=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=p,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Oc(this.priorityNode_)}static set __childrenNodeConstructor(l){kc=l}static get __childrenNodeConstructor(){return kc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Rr(l)?this:".priority"===qr(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,p){return null}updateImmediateChild(l,p){return".priority"===l?this.updatePriority(p):p.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,p).updatePriority(this.priorityNode_)}updateChild(l,p){const I=qr(l);return null===I?p:p.isEmpty()&&".priority"!==I?this:((0,Y.hu)(".priority"!==I||1===Pt(l),".priority must be the last token in a path"),this.updateImmediateChild(I,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ii(l),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,p){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+Bd(this.priorityNode_.val())+":");const p=typeof this.value_;l+=p+":",l+="number"===p?zl(this.value_):this.value_,this.lazyHash_=Aa(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,Y.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const p=typeof l.value_,I=typeof this.value_,R=u.VALUE_TYPE_ORDER.indexOf(p),U=u.VALUE_TYPE_ORDER.indexOf(I);return(0,Y.hu)(R>=0,"Unknown leaf type: "+p),(0,Y.hu)(U>=0,"Unknown leaf type: "+I),R===U?"object"===I?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:U-R}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Ar=new class eu extends hc{compare(a,l){const p=a.node.getPriority(),I=l.node.getPriority(),R=p.compareTo(I);return 0===R?Ra(a.name,l.name):R}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,l){return!a.getPriority().equals(l.getPriority())}minPost(){return Mr.MIN}maxPost(){return new Mr(Ro,new Nc("[PRIORITY-POST]",$s))}makePost(a,l){const p=Iu(a);return new Mr(l,new Nc("[PRIORITY-POST]",p))}toString(){return".priority"}},Sl=Math.log(2);class Us{constructor(a){this.count=parseInt(Math.log(a+1)/Sl,10),this.current_=this.count-1;const I=(R=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=a+1&I}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const Ui=function(u,a,l,p){u.sort(a);const I=function(he,De){const Mt=De-he;let Gt,Kt;if(0===Mt)return null;if(1===Mt)return Gt=u[he],Kt=l?l(Gt):Gt,new ol(Kt,Gt.node,ol.BLACK,null,null);{const Cn=parseInt(Mt/2,10)+he,Un=I(he,Cn),jr=I(Cn+1,De);return Gt=u[Cn],Kt=l?l(Gt):Gt,new ol(Kt,Gt.node,ol.BLACK,Un,jr)}},te=function(he){let De=null,Mt=null,Gt=u.length;const Kt=function(Un,jr){const Ti=Gt-Un,cs=Gt;Gt-=Un;const Rs=I(Ti+1,cs),Ci=u[Ti],Ms=l?l(Ci):Ci;Cn(new ol(Ms,Ci.node,jr,null,Rs))},Cn=function(Un){De?(De.left=Un,De=Un):(Mt=Un,De=Un)};for(let Un=0;Un<he.count;++Un){const jr=he.nextBitIsOne(),Ti=Math.pow(2,he.count-(Un+1));jr?Kt(Ti,ol.BLACK):(Kt(Ti,ol.BLACK),Kt(Ti,ol.RED))}return Mt}(new Us(u.length));return new Zo(p||a,te)};let Al;const va={};class ps{constructor(a,l){this.indexes_=a,this.indexSet_=l}static get Default(){return(0,Y.hu)(va&&Ar,"ChildrenNode.ts has not been loaded"),Al=Al||new ps({".priority":va},{".priority":Ar}),Al}get(a){const l=(0,Y.DV)(this.indexes_,a);if(!l)throw new Error("No index defined for "+a);return l instanceof Zo?l:null}hasIndex(a){return(0,Y.r3)(this.indexSet_,a.toString())}addIndex(a,l){(0,Y.hu)(a!==$o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let I=!1;const R=l.getIterator(Mr.Wrap);let te,U=R.getNext();for(;U;)I=I||a.isDefinedOn(U.node),p.push(U),U=R.getNext();te=I?Ui(p,a.getCompare()):va;const he=a.toString(),De=Object.assign({},this.indexSet_);De[he]=a;const Mt=Object.assign({},this.indexes_);return Mt[he]=te,new ps(Mt,De)}addToIndexes(a,l){const p=(0,Y.UI)(this.indexes_,(I,R)=>{const U=(0,Y.DV)(this.indexSet_,R);if((0,Y.hu)(U,"Missing index implementation for "+R),I===va){if(U.isDefinedOn(a.node)){const te=[],he=l.getIterator(Mr.Wrap);let De=he.getNext();for(;De;)De.name!==a.name&&te.push(De),De=he.getNext();return te.push(a),Ui(te,U.getCompare())}return va}{const te=l.get(a.name);let he=I;return te&&(he=he.remove(new Mr(a.name,te))),he.insert(a,a.node)}});return new ps(p,this.indexSet_)}removeFromIndexes(a,l){const p=(0,Y.UI)(this.indexes_,I=>{if(I===va)return I;{const R=l.get(a.name);return R?I.remove(new Mr(a.name,R)):I}});return new ps(p,this.indexSet_)}}let fc,Jr=(()=>{class u{constructor(l,p,I){this.children_=l,this.priorityNode_=p,this.indexMap_=I,this.lazyHash_=null,this.priorityNode_&&Oc(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fc||(fc=new u(new Zo(nd),null,ps.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fc}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const p=this.children_.get(l);return null===p?fc:p}}getChild(l){const p=qr(l);return null===p?this:this.getImmediateChild(p).getChild(Ii(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,p){if((0,Y.hu)(p,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(p);{const I=new Mr(l,p);let R,U;p.isEmpty()?(R=this.children_.remove(l),U=this.indexMap_.removeFromIndexes(I,this.children_)):(R=this.children_.insert(l,p),U=this.indexMap_.addToIndexes(I,this.children_));const te=R.isEmpty()?fc:this.priorityNode_;return new u(R,te,U)}}updateChild(l,p){const I=qr(l);if(null===I)return p;{(0,Y.hu)(".priority"!==qr(l)||1===Pt(l),".priority must be the last token in a path");const R=this.getImmediateChild(I).updateChild(Ii(l),p);return this.updateImmediateChild(I,R)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const p={};let I=0,R=0,U=!0;if(this.forEachChild(Ar,(te,he)=>{p[te]=he.val(l),I++,U&&u.INTEGER_REGEXP_.test(te)?R=Math.max(R,Number(te)):U=!1}),!l&&U&&R<2*I){const te=[];for(const he in p)te[he]=p[he];return te}return l&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+Bd(this.getPriority().val())+":"),this.forEachChild(Ar,(p,I)=>{const R=I.hash();""!==R&&(l+=":"+p+":"+R)}),this.lazyHash_=""===l?"":Aa(l)}return this.lazyHash_}getPredecessorChildName(l,p,I){const R=this.resolveIndex_(I);if(R){const U=R.getPredecessorKey(new Mr(l,p));return U?U.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const p=this.resolveIndex_(l);if(p){const I=p.minKey();return I&&I.name}return this.children_.minKey()}getFirstChild(l){const p=this.getFirstChildName(l);return p?new Mr(p,this.children_.get(p)):null}getLastChildName(l){const p=this.resolveIndex_(l);if(p){const I=p.maxKey();return I&&I.name}return this.children_.maxKey()}getLastChild(l){const p=this.getLastChildName(l);return p?new Mr(p,this.children_.get(p)):null}forEachChild(l,p){const I=this.resolveIndex_(l);return I?I.inorderTraversal(R=>p(R.name,R.node)):this.children_.inorderTraversal(p)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,p){const I=this.resolveIndex_(p);if(I)return I.getIteratorFrom(l,R=>R);{const R=this.children_.getIteratorFrom(l.name,Mr.Wrap);let U=R.peek();for(;null!=U&&p.compare(U,l)<0;)R.getNext(),U=R.peek();return R}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,p){const I=this.resolveIndex_(p);if(I)return I.getReverseIteratorFrom(l,R=>R);{const R=this.children_.getReverseIteratorFrom(l.name,Mr.Wrap);let U=R.peek();for(;null!=U&&p.compare(U,l)>0;)R.getNext(),U=R.peek();return R}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===wu?-1:0}withIndex(l){if(l===$o||this.indexMap_.hasIndex(l))return this;{const p=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,p)}}isIndexed(l){return l===$o||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const p=l;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const I=this.getIterator(Ar),R=p.getIterator(Ar);let U=I.getNext(),te=R.getNext();for(;U&&te;){if(U.name!==te.name||!U.node.equals(te.node))return!1;U=I.getNext(),te=R.getNext()}return null===U&&null===te}return!1}return!1}}resolveIndex_(l){return l===$o?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const wu=new class no extends Jr{constructor(){super(new Zo(nd),Jr.EMPTY_NODE,ps.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return Jr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Mr,{MIN:{value:new Mr(Br,Jr.EMPTY_NODE)},MAX:{value:new Mr(Ro,wu)}}),Jc.__EMPTY_NODE=Jr.EMPTY_NODE,Nc.__childrenNodeConstructor=Jr,function Eu(u){rd=u}(wu),function al(u){$s=u}(wu);const xl=!0;function Vr(u,a=null){if(null===u)return Jr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,Y.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Nc(u,Vr(a));if(u instanceof Array||!xl){let l=Jr.EMPTY_NODE;return Tr(u,(p,I)=>{if((0,Y.r3)(u,p)&&"."!==p.substring(0,1)){const R=Vr(I);(R.isLeafNode()||!R.isEmpty())&&(l=l.updateImmediateChild(p,R))}}),l.updatePriority(Vr(a))}{const l=[];let p=!1;if(Tr(u,(U,te)=>{if("."!==U.substring(0,1)){const he=Vr(te);he.isEmpty()||(p=p||!he.getPriority().isEmpty(),l.push(new Mr(U,he)))}}),0===l.length)return Jr.EMPTY_NODE;const R=Ui(l,td,U=>U.name,nd);if(p){const U=Ui(l,Ar.getCompare());return new Jr(R,Vr(a),new ps({".priority":U},{".priority":Ar}))}return new Jr(R,Vr(a),ps.Default)}}!function id(u){Iu=u}(Vr);class ro extends hc{constructor(a){super(),this.indexPath_=a,(0,Y.hu)(!Rr(a)&&".priority"!==qr(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,l){const p=this.extractChild(a.node),I=this.extractChild(l.node),R=p.compareTo(I);return 0===R?Ra(a.name,l.name):R}makePost(a,l){const p=Vr(a),I=Jr.EMPTY_NODE.updateChild(this.indexPath_,p);return new Mr(l,I)}maxPost(){const a=Jr.EMPTY_NODE.updateChild(this.indexPath_,wu);return new Mr(Ro,a)}toString(){return la(this.indexPath_,0).join("/")}}const pc=new class Fc extends hc{compare(a,l){const p=a.node.compareTo(l.node);return 0===p?Ra(a.name,l.name):p}isDefinedOn(a){return!0}indexedValueChanged(a,l){return!a.equals(l)}minPost(){return Mr.MIN}maxPost(){return Mr.MAX}makePost(a,l){const p=Vr(a);return new Mr(l,p)}toString(){return".value"}};function Uo(u){return{type:"value",snapshotNode:u}}function Pa(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function Xo(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function Eo(u,a,l){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:l}}class za{constructor(a){this.index_=a}updateChild(a,l,p,I,R,U){(0,Y.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");const te=a.getImmediateChild(l);return te.getChild(I).equals(p.getChild(I))&&te.isEmpty()===p.isEmpty()||(null!=U&&(p.isEmpty()?a.hasChild(l)?U.trackChildChange(Xo(l,te)):(0,Y.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):te.isEmpty()?U.trackChildChange(Pa(l,p)):U.trackChildChange(Eo(l,p,te))),a.isLeafNode()&&p.isEmpty())?a:a.updateImmediateChild(l,p).withIndex(this.index_)}updateFullNode(a,l,p){return null!=p&&(a.isLeafNode()||a.forEachChild(Ar,(I,R)=>{l.hasChild(I)||p.trackChildChange(Xo(I,R))}),l.isLeafNode()||l.forEachChild(Ar,(I,R)=>{if(a.hasChild(I)){const U=a.getImmediateChild(I);U.equals(R)||p.trackChildChange(Eo(I,R,U))}else p.trackChildChange(Pa(I,R))})),l.withIndex(this.index_)}updatePriority(a,l){return a.isEmpty()?Jr.EMPTY_NODE:a.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qo{constructor(a){this.indexedFilter_=new za(a.getIndex()),this.index_=a.getIndex(),this.startPost_=Qo.getStartPost_(a),this.endPost_=Qo.getEndPost_(a),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(a){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),a)<=0:this.index_.compare(this.getStartPost(),a)<0,p=this.endIsInclusive_?this.index_.compare(a,this.getEndPost())<=0:this.index_.compare(a,this.getEndPost())<0;return l&&p}updateChild(a,l,p,I,R,U){return this.matches(new Mr(l,p))||(p=Jr.EMPTY_NODE),this.indexedFilter_.updateChild(a,l,p,I,R,U)}updateFullNode(a,l,p){l.isLeafNode()&&(l=Jr.EMPTY_NODE);let I=l.withIndex(this.index_);I=I.updatePriority(Jr.EMPTY_NODE);const R=this;return l.forEachChild(Ar,(U,te)=>{R.matches(new Mr(U,te))||(I=I.updateImmediateChild(U,Jr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,I,p)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(a){if(a.hasStart()){const l=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),l)}return a.getIndex().minPost()}static getEndPost_(a){if(a.hasEnd()){const l=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),l)}return a.getIndex().maxPost()}}class nu{constructor(a){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const p=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?p<=0:p<0},this.withinEndPost=l=>{const p=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?p<=0:p<0},this.rangedFilter_=new Qo(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft(),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}updateChild(a,l,p,I,R,U){return this.rangedFilter_.matches(new Mr(l,p))||(p=Jr.EMPTY_NODE),a.getImmediateChild(l).equals(p)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,l,p,I,R,U):this.fullLimitUpdateChild_(a,l,p,R,U)}updateFullNode(a,l,p){let I;if(l.isLeafNode()||l.isEmpty())I=Jr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let R;I=Jr.EMPTY_NODE.withIndex(this.index_),R=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let U=0;for(;R.hasNext()&&U<this.limit_;){const te=R.getNext();if(this.withinDirectionalStart(te)){if(!this.withinDirectionalEnd(te))break;I=I.updateImmediateChild(te.name,te.node),U++}}}else{let R;I=l.withIndex(this.index_),I=I.updatePriority(Jr.EMPTY_NODE),R=this.reverse_?I.getReverseIterator(this.index_):I.getIterator(this.index_);let U=0;for(;R.hasNext();){const te=R.getNext();U<this.limit_&&this.withinDirectionalStart(te)&&this.withinDirectionalEnd(te)?U++:I=I.updateImmediateChild(te.name,Jr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,I,p)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(a,l,p,I,R){let U;if(this.reverse_){const Gt=this.index_.getCompare();U=(Kt,Cn)=>Gt(Cn,Kt)}else U=this.index_.getCompare();const te=a;(0,Y.hu)(te.numChildren()===this.limit_,"");const he=new Mr(l,p),De=this.reverse_?te.getFirstChild(this.index_):te.getLastChild(this.index_),Mt=this.rangedFilter_.matches(he);if(te.hasChild(l)){const Gt=te.getImmediateChild(l);let Kt=I.getChildAfterChild(this.index_,De,this.reverse_);for(;null!=Kt&&(Kt.name===l||te.hasChild(Kt.name));)Kt=I.getChildAfterChild(this.index_,Kt,this.reverse_);const Cn=null==Kt?1:U(Kt,he);if(Mt&&!p.isEmpty()&&Cn>=0)return null!=R&&R.trackChildChange(Eo(l,p,Gt)),te.updateImmediateChild(l,p);{null!=R&&R.trackChildChange(Xo(l,Gt));const jr=te.updateImmediateChild(l,Jr.EMPTY_NODE);return null!=Kt&&this.rangedFilter_.matches(Kt)?(null!=R&&R.trackChildChange(Pa(Kt.name,Kt.node)),jr.updateImmediateChild(Kt.name,Kt.node)):jr}}return p.isEmpty()?a:Mt&&U(De,he)>=0?(null!=R&&(R.trackChildChange(Xo(De.name,De.node)),R.trackChildChange(Pa(l,p))),te.updateImmediateChild(l,p).updateImmediateChild(De.name,Jr.EMPTY_NODE)):a}}class Ga{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ar}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ro}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ar}copy(){const a=new Ga;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.startAfterSet_=this.startAfterSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.endBeforeSet_=this.endBeforeSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function Z(u,a,l){const p=u.copy();return p.startSet_=!0,void 0===a&&(a=null),p.indexStartValue_=a,null!=l?(p.startNameSet_=!0,p.indexStartName_=l):(p.startNameSet_=!1,p.indexStartName_=""),p}function it(u,a,l){const p=u.copy();return p.endSet_=!0,void 0===a&&(a=null),p.indexEndValue_=a,void 0!==l?(p.endNameSet_=!0,p.indexEndName_=l):(p.endNameSet_=!1,p.indexEndName_=""),p}function Ut(u,a){const l=u.copy();return l.index_=a,l}function kn(u){const a={};if(u.isDefault())return a;let l;if(u.index_===Ar?l="$priority":u.index_===pc?l="$value":u.index_===$o?l="$key":((0,Y.hu)(u.index_ instanceof ro,"Unrecognized index type!"),l=u.index_.toString()),a.orderBy=(0,Y.Wl)(l),u.startSet_){const p=u.startAfterSet_?"startAfter":"startAt";a[p]=(0,Y.Wl)(u.indexStartValue_),u.startNameSet_&&(a[p]+=","+(0,Y.Wl)(u.indexStartName_))}if(u.endSet_){const p=u.endBeforeSet_?"endBefore":"endAt";a[p]=(0,Y.Wl)(u.indexEndValue_),u.endNameSet_&&(a[p]+=","+(0,Y.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_),a}function An(u){const a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_),a.sin=!u.startAfterSet_),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_),a.ein=!u.endBeforeSet_),u.limitSet_){a.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),a.vf=l}return u.index_!==Ar&&(a.i=u.index_.toString()),a}class Zn extends Qc{constructor(a,l,p,I){super(),this.repoInfo_=a,this.onDataUpdate_=l,this.authTokenProvider_=p,this.appCheckTokenProvider_=I,this.log_=xo("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,l){return void 0!==l?"tag$"+l:((0,Y.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,l,p,I){const R=a._path.toString();this.log_("Listen called for "+R+" "+a._queryIdentifier);const U=Zn.getListenId_(a,p),te={};this.listens_[U]=te;const he=kn(a._queryParams);this.restRequest_(R+".json",he,(De,Mt)=>{let Gt=Mt;if(404===De&&(Gt=null,De=null),null===De&&this.onDataUpdate_(R,Gt,!1,p),(0,Y.DV)(this.listens_,U)===te){let Kt;Kt=De?401===De?"permission_denied":"rest_error:"+De:"ok",I(Kt,null)}})}unlisten(a,l){const p=Zn.getListenId_(a,l);delete this.listens_[p]}get(a){const l=kn(a._queryParams),p=a._path.toString(),I=new Y.BH;return this.restRequest_(p+".json",l,(R,U)=>{let te=U;404===R&&(te=null,R=null),null===R?(this.onDataUpdate_(p,te,!1,null),I.resolve(te)):I.reject(new Error(te))}),I.promise}refreshAuthToken(a){}restRequest_(a,l={},p){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([I,R])=>{I&&I.accessToken&&(l.auth=I.accessToken),R&&R.token&&(l.ac=R.token);const U=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(l);this.log_("Sending REST request for "+U);const te=new XMLHttpRequest;te.onreadystatechange=()=>{if(p&&4===te.readyState){this.log_("REST Response for "+U+" received. status:",te.status,"response:",te.responseText);let he=null;if(te.status>=200&&te.status<300){try{he=(0,Y.cI)(te.responseText)}catch{hs("Failed to parse JSON response for "+U+": "+te.responseText)}p(null,he)}else 401!==te.status&&404!==te.status&&hs("Got unsuccessful REST response for "+U+" Status: "+te.status),p(te.status);p=null}},te.open("GET",U,!0),te.send()})}}class $r{constructor(){this.rootNode_=Jr.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,l){this.rootNode_=this.rootNode_.updateChild(a,l)}}function Or(){return{value:null,children:new Map}}function Po(u,a,l){if(Rr(a))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,l);else{const p=qr(a);u.children.has(p)||u.children.set(p,Or()),Po(u.children.get(p),a=Ii(a),l)}}function Is(u,a){if(Rr(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(Ar,(p,I)=>{Po(u,new Kr(p),I)}),Is(u,a)}}if(u.children.size>0){const l=qr(a);return a=Ii(a),u.children.has(l)&&Is(u.children.get(l),a)&&u.children.delete(l),0===u.children.size}return!0}function Rl(u,a,l){null!==u.value?l(a,u.value):function Vs(u,a){u.children.forEach((l,p)=>{a(p,l)})}(u,(p,I)=>{Rl(I,new Kr(a.toString()+"/"+p),l)})}class Kl{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),l=Object.assign({},a);return this.last_&&Tr(this.last_,(p,I)=>{l[p]=l[p]-I}),this.last_=a,l}}class Ud{constructor(a,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Kl(a);const p=1e4+2e4*Math.random();Sr(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const a=this.statsListener_.get(),l={};let p=!1;Tr(a,(I,R)=>{R>0&&(0,Y.r3)(this.statsToReport_,I)&&(l[I]=R,p=!0)}),p&&this.server_.reportStats(l),Sr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var io=(()=>{return(u=io||(io={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",io;var u})();function ui(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Di{constructor(a,l,p){this.path=a,this.affectedTree=l,this.revert=p,this.type=io.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(a){if(Rr(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Kr(a));return new Di(xr(),l,this.revert)}}return(0,Y.hu)(qr(this.path)===a,"operationForChild called for unrelated child."),new Di(Ii(this.path),this.affectedTree,this.revert)}}class ll{constructor(a,l){this.source=a,this.path=l,this.type=io.LISTEN_COMPLETE}operationForChild(a){return Rr(this.path)?new ll(this.source,xr()):new ll(this.source,Ii(this.path))}}class _a{constructor(a,l,p){this.source=a,this.path=l,this.snap=p,this.type=io.OVERWRITE}operationForChild(a){return Rr(this.path)?new _a(this.source,xr(),this.snap.getImmediateChild(a)):new _a(this.source,Ii(this.path),this.snap)}}class ql{constructor(a,l,p){this.source=a,this.path=l,this.children=p,this.type=io.MERGE}operationForChild(a){if(Rr(this.path)){const l=this.children.subtree(new Kr(a));return l.isEmpty()?null:l.value?new _a(this.source,xr(),l.value):new ql(this.source,xr(),l)}return(0,Y.hu)(qr(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new ql(this.source,Ii(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yl{constructor(a,l,p){this.node_=a,this.fullyInitialized_=l,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(Rr(a))return this.isFullyInitialized()&&!this.filtered_;const l=qr(a);return this.isCompleteForChild(l)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}class xh{constructor(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()}}function bu(u,a,l,p,I,R){const U=p.filter(te=>te.type===l);U.sort((te,he)=>function bp(u,a,l){if(null==a.childName||null==l.childName)throw(0,Y.g5)("Should only compare child_ events.");const p=new Mr(a.childName,a.snapshotNode),I=new Mr(l.childName,l.snapshotNode);return u.index_.compare(p,I)}(u,te,he)),U.forEach(te=>{const he=function Rh(u,a,l){return"value"===a.type||"child_removed"===a.type||(a.prevName=l.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,te,R);I.forEach(De=>{De.respondsTo(te.type)&&a.push(De.createEvent(he,u.query_))})})}function Mh(u,a){return{eventCache:u,serverCache:a}}function Ml(u,a,l,p){return Mh(new Yl(a,l,p),u.serverCache)}function Ph(u,a,l,p){return Mh(u.eventCache,new Yl(a,l,p))}function sd(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function cl(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let jd;class gs{constructor(a,l=(()=>(jd||(jd=new Zo(Lo)),jd))()){this.value=a,this.children=l}static fromObject(a){let l=new gs(null);return Tr(a,(p,I)=>{l=l.set(new Kr(p),I)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,l){if(null!=this.value&&l(this.value))return{path:xr(),value:this.value};if(Rr(a))return null;{const p=qr(a),I=this.children.get(p);if(null!==I){const R=I.findRootMostMatchingPathAndValue(Ii(a),l);return null!=R?{path:li(new Kr(p),R.path),value:R.value}:null}return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(Rr(a))return this;{const l=qr(a),p=this.children.get(l);return null!==p?p.subtree(Ii(a)):new gs(null)}}set(a,l){if(Rr(a))return new gs(l,this.children);{const p=qr(a),R=(this.children.get(p)||new gs(null)).set(Ii(a),l),U=this.children.insert(p,R);return new gs(this.value,U)}}remove(a){if(Rr(a))return this.children.isEmpty()?new gs(null):new gs(null,this.children);{const l=qr(a),p=this.children.get(l);if(p){const I=p.remove(Ii(a));let R;return R=I.isEmpty()?this.children.remove(l):this.children.insert(l,I),null===this.value&&R.isEmpty()?new gs(null):new gs(this.value,R)}return this}}get(a){if(Rr(a))return this.value;{const l=qr(a),p=this.children.get(l);return p?p.get(Ii(a)):null}}setTree(a,l){if(Rr(a))return l;{const p=qr(a),R=(this.children.get(p)||new gs(null)).setTree(Ii(a),l);let U;return U=R.isEmpty()?this.children.remove(p):this.children.insert(p,R),new gs(this.value,U)}}fold(a){return this.fold_(xr(),a)}fold_(a,l){const p={};return this.children.inorderTraversal((I,R)=>{p[I]=R.fold_(li(a,I),l)}),l(a,this.value,p)}findOnPath(a,l){return this.findOnPath_(a,xr(),l)}findOnPath_(a,l,p){const I=!!this.value&&p(l,this.value);if(I)return I;if(Rr(a))return null;{const R=qr(a),U=this.children.get(R);return U?U.findOnPath_(Ii(a),li(l,R),p):null}}foreachOnPath(a,l){return this.foreachOnPath_(a,xr(),l)}foreachOnPath_(a,l,p){if(Rr(a))return this;{this.value&&p(l,this.value);const I=qr(a),R=this.children.get(I);return R?R.foreachOnPath_(Ii(a),li(l,I),p):new gs(null)}}foreach(a){this.foreach_(xr(),a)}foreach_(a,l){this.children.inorderTraversal((p,I)=>{I.foreach_(li(a,p),l)}),this.value&&l(a,this.value)}foreachChild(a){this.children.inorderTraversal((l,p)=>{p.value&&a(l,p.value)})}}class Wa{constructor(a){this.writeTree_=a}static empty(){return new Wa(new gs(null))}}function Oa(u,a,l){if(Rr(a))return new Wa(new gs(l));{const p=u.writeTree_.findRootMostValueAndPath(a);if(null!=p){const I=p.path;let R=p.value;const U=S(I,a);return R=R.updateChild(U,l),new Wa(u.writeTree_.set(I,R))}{const I=new gs(l),R=u.writeTree_.setTree(a,I);return new Wa(R)}}}function Lc(u,a,l){let p=u;return Tr(l,(I,R)=>{p=Oa(p,li(a,I),R)}),p}function Pl(u,a){if(Rr(a))return Wa.empty();{const l=u.writeTree_.setTree(a,new gs(null));return new Wa(l)}}function gc(u,a){return null!=mc(u,a)}function mc(u,a){const l=u.writeTree_.findRootMostValueAndPath(a);return null!=l?u.writeTree_.get(l.path).getChild(S(l.path,a)):null}function Oh(u){const a=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Ar,(p,I)=>{a.push(new Mr(p,I))}):u.writeTree_.children.inorderTraversal((p,I)=>{null!=I.value&&a.push(new Mr(p,I.value))}),a}function Ea(u,a){if(Rr(a))return u;{const l=mc(u,a);return new Wa(null!=l?new gs(l):u.writeTree_.subtree(a))}}function iu(u){return u.writeTree_.isEmpty()}function Ol(u,a){return ad(xr(),u.writeTree_,a)}function ad(u,a,l){if(null!=a.value)return l.updateChild(u,a.value);{let p=null;return a.children.inorderTraversal((I,R)=>{".priority"===I?((0,Y.hu)(null!==R.value,"Priority writes must always be leaf nodes"),p=R.value):l=ad(li(u,I),R,l)}),!l.getChild(u).isEmpty()&&null!==p&&(l=l.updateChild(li(u,".priority"),p)),l}}function yc(u,a){return Mf(a,u)}function Du(u,a){if(u.snap)return O(u.path,a);for(const l in u.children)if(u.children.hasOwnProperty(l)&&O(li(u.path,l),a))return!0;return!1}function Xl(u){return u.visible}function dd(u,a,l){let p=Wa.empty();for(let I=0;I<u.length;++I){const R=u[I];if(a(R)){const U=R.path;let te;if(R.snap)O(l,U)?(te=S(l,U),p=Oa(p,te,R.snap)):O(U,l)&&(te=S(U,l),p=Oa(p,xr(),R.snap.getChild(te)));else{if(!R.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(O(l,U))te=S(l,U),p=Lc(p,te,R.children);else if(O(U,l))if(te=S(U,l),Rr(te))p=Lc(p,xr(),R.children);else{const he=(0,Y.DV)(R.children,qr(te));if(he){const De=he.getChild(Ii(te));p=Oa(p,xr(),De)}}}}}return p}function Tu(u,a,l,p,I){if(p||I){const R=Ea(u.visibleWrites,a);return!I&&iu(R)?l:I||null!=l||gc(R,xr())?Ol(dd(u.allWrites,function(De){return(De.visible||I)&&(!p||!~p.indexOf(De.writeId))&&(O(De.path,a)||O(a,De.path))},a),l||Jr.EMPTY_NODE):null}{const R=mc(u.visibleWrites,a);if(null!=R)return R;{const U=Ea(u.visibleWrites,a);return iu(U)?l:null!=l||gc(U,xr())?Ol(U,l||Jr.EMPTY_NODE):null}}}function js(u,a,l,p){return Tu(u.writeTree,u.treePath,a,l,p)}function hd(u,a){return function vc(u,a,l){let p=Jr.EMPTY_NODE;const I=mc(u.visibleWrites,a);if(I)return I.isLeafNode()||I.forEachChild(Ar,(R,U)=>{p=p.updateImmediateChild(R,U)}),p;if(l){const R=Ea(u.visibleWrites,a);return l.forEachChild(Ar,(U,te)=>{const he=Ol(Ea(R,new Kr(U)),te);p=p.updateImmediateChild(U,he)}),Oh(R).forEach(U=>{p=p.updateImmediateChild(U.name,U.node)}),p}return Oh(Ea(u.visibleWrites,a)).forEach(U=>{p=p.updateImmediateChild(U.name,U.node)}),p}(u.writeTree,u.treePath,a)}function Ql(u,a,l,p){return function kh(u,a,l,p,I){(0,Y.hu)(p||I,"Either existingEventSnap or existingServerSnap must exist");const R=li(a,l);if(gc(u.visibleWrites,R))return null;{const U=Ea(u.visibleWrites,R);return iu(U)?I.getChild(l):Ol(U,I.getChild(l))}}(u.writeTree,u.treePath,a,l,p)}function su(u,a){return function Dp(u,a){return mc(u.visibleWrites,a)}(u.writeTree,li(u.treePath,a))}function Hd(u,a,l){return function Nh(u,a,l,p){const I=li(a,l),R=mc(u.visibleWrites,I);return null!=R?R:p.isCompleteForChild(l)?Ol(Ea(u.visibleWrites,I),p.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,a,l)}function Su(u,a){return Mf(li(u.treePath,a),u.writeTree)}function Mf(u,a){return{treePath:u,writeTree:a}}class Fh{constructor(){this.changeMap=new Map}trackChildChange(a){const l=a.type,p=a.childName;(0,Y.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const I=this.changeMap.get(p);if(I){const R=I.type;if("child_added"===l&&"child_removed"===R)this.changeMap.set(p,Eo(p,a.snapshotNode,I.snapshotNode));else if("child_removed"===l&&"child_added"===R)this.changeMap.delete(p);else if("child_removed"===l&&"child_changed"===R)this.changeMap.set(p,Xo(p,I.oldSnap));else if("child_changed"===l&&"child_added"===R)this.changeMap.set(p,Pa(p,a.snapshotNode));else{if("child_changed"!==l||"child_changed"!==R)throw(0,Y.g5)("Illegal combination of changes: "+a+" occurred after "+I);this.changeMap.set(p,Eo(p,a.snapshotNode,I.oldSnap))}}else this.changeMap.set(p,a)}getChanges(){return Array.from(this.changeMap.values())}}const Lh=new class Yr{getCompleteChild(a){return null}getChildAfterChild(a,l,p){return null}};class Au{constructor(a,l,p=null){this.writes_=a,this.viewCache_=l,this.optCompleteServerCache_=p}getCompleteChild(a){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(a))return l.getNode().getImmediateChild(a);{const p=null!=this.optCompleteServerCache_?new Yl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hd(this.writes_,a,p)}}getChildAfterChild(a,l,p){const I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cl(this.viewCache_),R=function Ia(u,a,l,p,I,R){return function _c(u,a,l,p,I,R,U){let te;const he=Ea(u.visibleWrites,a),De=mc(he,xr());if(null!=De)te=De;else{if(null==l)return[];te=Ol(he,l)}if(te=te.withIndex(U),te.isEmpty()||te.isLeafNode())return[];{const Mt=[],Gt=U.getCompare(),Kt=R?te.getReverseIteratorFrom(p,U):te.getIteratorFrom(p,U);let Cn=Kt.getNext();for(;Cn&&Mt.length<I;)0!==Gt(Cn,p)&&Mt.push(Cn),Cn=Kt.getNext();return Mt}}(u.writeTree,u.treePath,a,l,p,I,R)}(this.writes_,I,l,1,p,a);return 0===R.length?null:R[0]}}function Gd(u,a,l,p,I,R){const U=a.eventCache;if(null!=su(p,l))return a;{let te,he;if(Rr(l))if((0,Y.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const De=cl(a),Gt=hd(p,De instanceof Jr?De:Jr.EMPTY_NODE);te=u.filter.updateFullNode(a.eventCache.getNode(),Gt,R)}else{const De=js(p,cl(a));te=u.filter.updateFullNode(a.eventCache.getNode(),De,R)}else{const De=qr(l);if(".priority"===De){(0,Y.hu)(1===Pt(l),"Can't have a priority with additional path components");const Mt=U.getNode();he=a.serverCache.getNode();const Gt=Ql(p,l,Mt,he);te=null!=Gt?u.filter.updatePriority(Mt,Gt):U.getNode()}else{const Mt=Ii(l);let Gt;if(U.isCompleteForChild(De)){he=a.serverCache.getNode();const Kt=Ql(p,l,U.getNode(),he);Gt=null!=Kt?U.getNode().getImmediateChild(De).updateChild(Mt,Kt):U.getNode().getImmediateChild(De)}else Gt=Hd(p,De,a.serverCache);te=null!=Gt?u.filter.updateChild(U.getNode(),De,Gt,Mt,I,R):U.getNode()}}return Ml(a,te,U.isFullyInitialized()||Rr(l),u.filter.filtersNodes())}}function fd(u,a,l,p,I,R,U,te){const he=a.serverCache;let De;const Mt=U?u.filter:u.filter.getIndexedFilter();if(Rr(l))De=Mt.updateFullNode(he.getNode(),p,null);else if(Mt.filtersNodes()&&!he.isFiltered()){const Cn=he.getNode().updateChild(l,p);De=Mt.updateFullNode(he.getNode(),Cn,null)}else{const Cn=qr(l);if(!he.isCompleteForPath(l)&&Pt(l)>1)return a;const Un=Ii(l),Ti=he.getNode().getImmediateChild(Cn).updateChild(Un,p);De=".priority"===Cn?Mt.updatePriority(he.getNode(),Ti):Mt.updateChild(he.getNode(),Cn,Ti,Un,Lh,null)}const Gt=Ph(a,De,he.isFullyInitialized()||Rr(l),Mt.filtersNodes());return Gd(u,Gt,l,I,new Au(I,Gt,R),te)}function xu(u,a,l,p,I,R,U){const te=a.eventCache;let he,De;const Mt=new Au(I,a,R);if(Rr(l))De=u.filter.updateFullNode(a.eventCache.getNode(),p,U),he=Ml(a,De,!0,u.filter.filtersNodes());else{const Gt=qr(l);if(".priority"===Gt)De=u.filter.updatePriority(a.eventCache.getNode(),p),he=Ml(a,De,te.isFullyInitialized(),te.isFiltered());else{const Kt=Ii(l),Cn=te.getNode().getImmediateChild(Gt);let Un;if(Rr(Kt))Un=p;else{const jr=Mt.getCompleteChild(Gt);Un=null!=jr?".priority"===to(Kt)&&jr.getChild(Yo(Kt)).isEmpty()?jr:jr.updateChild(Kt,p):Jr.EMPTY_NODE}he=Cn.equals(Un)?a:Ml(a,u.filter.updateChild(te.getNode(),Gt,Un,Kt,Mt,U),te.isFullyInitialized(),u.filter.filtersNodes())}}return he}function Ic(u,a){return u.eventCache.isCompleteForChild(a)}function Wd(u,a,l){return l.foreach((p,I)=>{a=a.updateChild(p,I)}),a}function wc(u,a,l,p,I,R,U,te){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let De,he=a;De=Rr(l)?p:new gs(null).setTree(l,p);const Mt=a.serverCache.getNode();return De.children.inorderTraversal((Gt,Kt)=>{if(Mt.hasChild(Gt)){const Un=Wd(0,a.serverCache.getNode().getImmediateChild(Gt),Kt);he=fd(u,he,new Kr(Gt),Un,I,R,U,te)}}),De.children.inorderTraversal((Gt,Kt)=>{const Cn=!a.serverCache.isCompleteForChild(Gt)&&null===Kt.value;if(!Mt.hasChild(Gt)&&!Cn){const jr=Wd(0,a.serverCache.getNode().getImmediateChild(Gt),Kt);he=fd(u,he,new Kr(Gt),jr,I,R,U,te)}}),he}class Sp{constructor(a,l){this.query_=a,this.eventRegistrations_=[];const p=this.query_._queryParams,I=new za(p.getIndex()),R=function $d(u){return u.loadsAllData()?new za(u.getIndex()):u.hasLimit()?new nu(u):new Qo(u)}(p);this.processor_=function ou(u){return{filter:u}}(R);const U=l.serverCache,te=l.eventCache,he=I.updateFullNode(Jr.EMPTY_NODE,U.getNode(),null),De=R.updateFullNode(Jr.EMPTY_NODE,te.getNode(),null),Mt=new Yl(he,U.isFullyInitialized(),I.filtersNodes()),Gt=new Yl(De,te.isFullyInitialized(),R.filtersNodes());this.viewCache_=Mh(Gt,Mt),this.eventGenerator_=new xh(this.query_)}get query(){return this.query_}}function Ka(u,a){const l=cl(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!Rr(a)&&!l.getImmediateChild(qr(a)).isEmpty())?l.getChild(a):null}function ms(u){return 0===u.eventRegistrations_.length}function pd(u,a,l){const p=[];if(l){(0,Y.hu)(null==a,"A cancel should cancel all event registrations.");const I=u.query._path;u.eventRegistrations_.forEach(R=>{const U=R.createCancelEvent(l,I);U&&p.push(U)})}if(a){let I=[];for(let R=0;R<u.eventRegistrations_.length;++R){const U=u.eventRegistrations_[R];if(U.matches(a)){if(a.hasAnyCallback()){I=I.concat(u.eventRegistrations_.slice(R+1));break}}else I.push(U)}u.eventRegistrations_=I}else u.eventRegistrations_=[];return p}function Nl(u,a,l,p){a.type===io.MERGE&&null!==a.source.queryId&&((0,Y.hu)(cl(u.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(sd(u.viewCache_),"Missing event cache, even though we have a server cache"));const I=u.viewCache_,R=function wa(u,a,l,p,I){const R=new Fh;let U,te;if(l.type===io.OVERWRITE){const De=l;De.source.fromUser?U=xu(u,a,De.path,De.snap,p,I,R):((0,Y.hu)(De.source.fromServer,"Unknown source."),te=De.source.tagged||a.serverCache.isFiltered()&&!Rr(De.path),U=fd(u,a,De.path,De.snap,p,I,te,R))}else if(l.type===io.MERGE){const De=l;De.source.fromUser?U=function au(u,a,l,p,I,R,U){let te=a;return p.foreach((he,De)=>{const Mt=li(l,he);Ic(a,qr(Mt))&&(te=xu(u,te,Mt,De,I,R,U))}),p.foreach((he,De)=>{const Mt=li(l,he);Ic(a,qr(Mt))||(te=xu(u,te,Mt,De,I,R,U))}),te}(u,a,De.path,De.children,p,I,R):((0,Y.hu)(De.source.fromServer,"Unknown source."),te=De.source.tagged||a.serverCache.isFiltered(),U=wc(u,a,De.path,De.children,p,I,te,R))}else if(l.type===io.ACK_USER_WRITE){const De=l;U=De.revert?function Pf(u,a,l,p,I,R){let U;if(null!=su(p,l))return a;{const te=new Au(p,a,I),he=a.eventCache.getNode();let De;if(Rr(l)||".priority"===qr(l)){let Mt;if(a.serverCache.isFullyInitialized())Mt=js(p,cl(a));else{const Gt=a.serverCache.getNode();(0,Y.hu)(Gt instanceof Jr,"serverChildren would be complete if leaf node"),Mt=hd(p,Gt)}De=u.filter.updateFullNode(he,Mt,R)}else{const Mt=qr(l);let Gt=Hd(p,Mt,a.serverCache);null==Gt&&a.serverCache.isCompleteForChild(Mt)&&(Gt=he.getImmediateChild(Mt)),De=null!=Gt?u.filter.updateChild(he,Mt,Gt,Ii(l),te,R):a.eventCache.getNode().hasChild(Mt)?u.filter.updateChild(he,Mt,Jr.EMPTY_NODE,Ii(l),te,R):he,De.isEmpty()&&a.serverCache.isFullyInitialized()&&(U=js(p,cl(a)),U.isLeafNode()&&(De=u.filter.updateFullNode(De,U,R)))}return U=a.serverCache.isFullyInitialized()||null!=su(p,xr()),Ml(a,De,U,u.filter.filtersNodes())}}(u,a,De.path,p,I,R):function ca(u,a,l,p,I,R,U){if(null!=su(I,l))return a;const te=a.serverCache.isFiltered(),he=a.serverCache;if(null!=p.value){if(Rr(l)&&he.isFullyInitialized()||he.isCompleteForPath(l))return fd(u,a,l,he.getNode().getChild(l),I,R,te,U);if(Rr(l)){let De=new gs(null);return he.getNode().forEachChild($o,(Mt,Gt)=>{De=De.set(new Kr(Mt),Gt)}),wc(u,a,l,De,I,R,te,U)}return a}{let De=new gs(null);return p.foreach((Mt,Gt)=>{const Kt=li(l,Mt);he.isCompleteForPath(Kt)&&(De=De.set(Mt,he.getNode().getChild(Kt)))}),wc(u,a,l,De,I,R,te,U)}}(u,a,De.path,De.affectedTree,p,I,R)}else{if(l.type!==io.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+l.type);U=function kl(u,a,l,p,I){const R=a.serverCache;return Gd(u,Ph(a,R.getNode(),R.isFullyInitialized()||Rr(l),R.isFiltered()),l,p,Lh,I)}(u,a,l.path,p,R)}const he=R.getChanges();return function Ec(u,a,l){const p=a.eventCache;if(p.isFullyInitialized()){const I=p.getNode().isLeafNode()||p.getNode().isEmpty(),R=sd(u);(l.length>0||!u.eventCache.isFullyInitialized()||I&&!p.getNode().equals(R)||!p.getNode().getPriority().equals(R.getPriority()))&&l.push(Uo(sd(a)))}}(a,U,he),{viewCache:U,changes:he}}(u.processor_,I,a,l,p);return function zd(u,a){(0,Y.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,R.viewCache),(0,Y.hu)(R.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=R.viewCache,cu(u,R.changes,R.viewCache.eventCache.getNode(),null)}function cu(u,a,l,p){return function Vd(u,a,l,p){const I=[],R=[];return a.forEach(U=>{"child_changed"===U.type&&u.index_.indexedValueChanged(U.oldSnap,U.snapshotNode)&&R.push(function tu(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(U.childName,U.snapshotNode))}),bu(u,I,"child_removed",a,p,l),bu(u,I,"child_added",a,p,l),bu(u,I,"child_moved",R,p,l),bu(u,I,"child_changed",a,p,l),bu(u,I,"value",a,p,l),I}(u.eventGenerator_,a,l,p?[p]:u.eventRegistrations_)}let uu,Zt;class Fl{constructor(){this.views=new Map}}function md(u,a,l,p){const I=a.source.queryId;if(null!==I){const R=u.views.get(I);return(0,Y.hu)(null!=R,"SyncTree gave us an op for an invalid query."),Nl(R,a,l,p)}{let R=[];for(const U of u.views.values())R=R.concat(Nl(U,a,l,p));return R}}function Of(u,a,l,p,I){const U=u.views.get(a._queryIdentifier);if(!U){let te=js(l,I?p:null),he=!1;te?he=!0:p instanceof Jr?(te=hd(l,p),he=!1):(te=Jr.EMPTY_NODE,he=!1);const De=Mh(new Yl(te,he,!1),new Yl(p,I,!1));return new Sp(a,De)}return U}function m(u){const a=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||a.push(l);return a}function A(u,a){let l=null;for(const p of u.views.values())l=l||Ka(p,a);return l}function K(u,a){return a._queryParams.loadsAllData()?yt(u):u.views.get(a._queryIdentifier)}function oe(u,a){return null!=K(u,a)}function Je(u){return null!=yt(u)}function yt(u){for(const a of u.views.values())if(a.query._queryParams.loadsAllData())return a;return null}let er=1;class Ki{constructor(a){this.listenProvider_=a,this.syncPointTree_=new gs(null),this.pendingWriteTree_=function Tp(){return{visibleWrites:Wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ka(u,a,l,p,I){return function ld(u,a,l,p,I){(0,Y.hu)(p>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),u.allWrites.push({path:a,snap:l,writeId:p,visible:I}),I&&(u.visibleWrites=Oa(u.visibleWrites,a,l)),u.lastWriteId=p}(u.pendingWriteTree_,a,l,p,I),I?Ou(u,new _a({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,l)):[]}function ec(u,a,l=!1){const p=function Zl(u,a){for(let l=0;l<u.allWrites.length;l++){const p=u.allWrites[l];if(p.writeId===a)return p}return null}(u.pendingWriteTree_,a);if(function wo(u,a){const l=u.allWrites.findIndex(te=>te.writeId===a);(0,Y.hu)(l>=0,"removeWrite called with nonexistent writeId.");const p=u.allWrites[l];u.allWrites.splice(l,1);let I=p.visible,R=!1,U=u.allWrites.length-1;for(;I&&U>=0;){const te=u.allWrites[U];te.visible&&(U>=l&&Du(te,p.path)?I=!1:O(p.path,te.path)&&(R=!0)),U--}return!!I&&(R?(function ud(u){u.visibleWrites=dd(u.allWrites,Xl,xr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(p.snap?u.visibleWrites=Pl(u.visibleWrites,p.path):Tr(p.children,he=>{u.visibleWrites=Pl(u.visibleWrites,li(p.path,he))}),!0))}(u.pendingWriteTree_,a)){let R=new gs(null);return null!=p.snap?R=R.set(xr(),!0):Tr(p.children,U=>{R=R.set(new Kr(U),!0)}),Ou(u,new Di(p.path,R,l))}return[]}function ls(u,a,l){return Ou(u,new _a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,l))}function tc(u,a,l,p,I=!1){const R=a._path,U=u.syncPointTree_.get(R);let te=[];if(U&&("default"===a._queryIdentifier||oe(U,a))){const he=function g(u,a,l,p){const I=a._queryIdentifier,R=[];let U=[];const te=Je(u);if("default"===I)for(const[he,De]of u.views.entries())U=U.concat(pd(De,l,p)),ms(De)&&(u.views.delete(he),De.query._queryParams.loadsAllData()||R.push(De.query));else{const he=u.views.get(I);he&&(U=U.concat(pd(he,l,p)),ms(he)&&(u.views.delete(I),he.query._queryParams.loadsAllData()||R.push(he.query)))}return te&&!Je(u)&&R.push(new(function Jl(){return(0,Y.hu)(uu,"Reference.ts has not been loaded"),uu}())(a._repo,a._path)),{removed:R,events:U}}(U,a,l,p);(function Bh(u){return 0===u.views.size})(U)&&(u.syncPointTree_=u.syncPointTree_.remove(R));const De=he.removed;if(te=he.events,!I){const Mt=-1!==De.findIndex(Kt=>Kt._queryParams.loadsAllData()),Gt=u.syncPointTree_.findOnPath(R,(Kt,Cn)=>Je(Cn));if(Mt&&!Gt){const Kt=u.syncPointTree_.subtree(R);if(!Kt.isEmpty()){const Cn=function bg(u){return u.fold((a,l,p)=>{if(l&&Je(l))return[yt(l)];{let I=[];return l&&(I=m(l)),Tr(p,(R,U)=>{I=I.concat(U)}),I}})}(Kt);for(let Un=0;Un<Cn.length;++Un){const jr=Cn[Un],Ti=jr.query,cs=kf(u,jr);u.listenProvider_.startListening(bs(Ti),Qd(u,Ti),cs.hashFn,cs.onComplete)}}}!Gt&&De.length>0&&!p&&(Mt?u.listenProvider_.stopListening(bs(a),null):De.forEach(Kt=>{const Cn=u.queryToTagMap.get($h(Kt));u.listenProvider_.stopListening(bs(Kt),Cn)}))}!function Vh(u,a){for(let l=0;l<a.length;++l){const p=a[l];if(!p._queryParams.loadsAllData()){const I=$h(p),R=u.queryToTagMap.get(I);u.queryToTagMap.delete(I),u.tagToQueryMap.delete(R)}}}(u,De)}return te}function Pu(u,a,l,p){const I=Jd(u,p);if(null!=I){const R=ku(I),U=R.path,te=R.queryId,he=S(U,a);return Uh(u,U,new _a(ui(te),he,l))}return[]}function yd(u,a,l,p=!1){const I=a._path;let R=null,U=!1;u.syncPointTree_.foreachOnPath(I,(Kt,Cn)=>{const Un=S(Kt,I);R=R||A(Cn,Un),U=U||Je(Cn)});let he,te=u.syncPointTree_.get(I);te?(U=U||Je(te),R=R||A(te,xr())):(te=new Fl,u.syncPointTree_=u.syncPointTree_.set(I,te)),null!=R?he=!0:(he=!1,R=Jr.EMPTY_NODE,u.syncPointTree_.subtree(I).foreachChild((Cn,Un)=>{const jr=A(Un,xr());jr&&(R=R.updateImmediateChild(Cn,jr))}));const De=oe(te,a);if(!De&&!a._queryParams.loadsAllData()){const Kt=$h(a);(0,Y.hu)(!u.queryToTagMap.has(Kt),"View does not exist, but we have a tag");const Cn=function Zm(){return er++}();u.queryToTagMap.set(Kt,Cn),u.tagToQueryMap.set(Cn,Kt)}let Gt=function C(u,a,l,p,I,R){const U=Of(u,a,p,I,R);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,U),function lu(u,a){u.eventRegistrations_.push(a)}(U,l),function gd(u,a){const l=u.viewCache_.eventCache,p=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ar,(R,U)=>{p.push(Pa(R,U))}),l.isFullyInitialized()&&p.push(Uo(l.getNode())),cu(u,p,l.getNode(),a)}(U,l)}(te,a,l,yc(u.pendingWriteTree_,I),R,he);if(!De&&!U&&!p){const Kt=K(te,a);Gt=Gt.concat(function _d(u,a,l){const p=a._path,I=Qd(u,a),R=kf(u,l),U=u.listenProvider_.startListening(bs(a),I,R.hashFn,R.onComplete),te=u.syncPointTree_.subtree(p);if(I)(0,Y.hu)(!Je(te.value),"If we're adding a query, it shouldn't be shadowed");else{const he=te.fold((De,Mt,Gt)=>{if(!Rr(De)&&Mt&&Je(Mt))return[yt(Mt).query];{let Kt=[];return Mt&&(Kt=Kt.concat(m(Mt).map(Cn=>Cn.query))),Tr(Gt,(Cn,Un)=>{Kt=Kt.concat(Un)}),Kt}});for(let De=0;De<he.length;++De){const Mt=he[De];u.listenProvider_.stopListening(bs(Mt),Qd(u,Mt))}}return U}(u,a,Kt))}return Gt}function vd(u,a,l){const I=u.pendingWriteTree_,R=u.syncPointTree_.findOnPath(a,(U,te)=>{const De=A(te,S(U,a));if(De)return De});return Tu(I,a,R,l,!0)}function Ou(u,a){return Cg(a,u.syncPointTree_,null,yc(u.pendingWriteTree_,xr()))}function Cg(u,a,l,p){if(Rr(u.path))return Xd(u,a,l,p);{const I=a.get(xr());null==l&&null!=I&&(l=A(I,xr()));let R=[];const U=qr(u.path),te=u.operationForChild(U),he=a.children.get(U);if(he&&te){const De=l?l.getImmediateChild(U):null,Mt=Su(p,U);R=R.concat(Cg(te,he,De,Mt))}return I&&(R=R.concat(md(I,u,p,l))),R}}function Xd(u,a,l,p){const I=a.get(xr());null==l&&null!=I&&(l=A(I,xr()));let R=[];return a.children.inorderTraversal((U,te)=>{const he=l?l.getImmediateChild(U):null,De=Su(p,U),Mt=u.operationForChild(U);Mt&&(R=R.concat(Xd(Mt,te,he,De)))}),I&&(R=R.concat(md(I,u,p,l))),R}function kf(u,a){const l=a.query,p=Qd(u,l);return{hashFn:()=>(function Kd(u){return u.viewCache_.serverCache.getNode()}(a)||Jr.EMPTY_NODE).hash(),onComplete:I=>{if("ok"===I)return p?function Bc(u,a,l){const p=Jd(u,l);if(p){const I=ku(p),R=I.path,U=I.queryId,te=S(R,a);return Uh(u,R,new ll(ui(U),te))}return[]}(u,l._path,p):function Mu(u,a){return Ou(u,new ll({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,l._path);{const R=function Q(u,a){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const p=new Error(u+" at "+a._path.toString()+": "+l);return p.code=u.toUpperCase(),p}(I,l);return tc(u,l,null,R)}}}}function Qd(u,a){const l=$h(a);return u.queryToTagMap.get(l)}function $h(u){return u._path.toString()+"$"+u._queryIdentifier}function Jd(u,a){return u.tagToQueryMap.get(a)}function ku(u){const a=u.indexOf("$");return(0,Y.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new Kr(u.substr(0,a))}}function Uh(u,a,l){const p=u.syncPointTree_.get(a);return(0,Y.hu)(p,"Missing sync point for query tag that we're tracking"),md(p,l,yc(u.pendingWriteTree_,a),null)}function bs(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Jn(){return(0,Y.hu)(Zt,"Reference.ts has not been loaded"),Zt}())(u._repo,u._path):u}class nc{constructor(a){this.node_=a}getImmediateChild(a){const l=this.node_.getImmediateChild(a);return new nc(l)}node(){return this.node_}}class Ed{constructor(a,l){this.syncTree_=a,this.path_=l}getImmediateChild(a){const l=li(this.path_,a);return new Ed(this.syncTree_,l)}node(){return vd(this.syncTree_,this.path_)}}const xp=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},Id=function(u,a,l){return u&&"object"==typeof u?((0,Y.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Nu(u[".sv"],a,l):"object"==typeof u[".sv"]?Dg(u[".sv"],a):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Nu=function(u,a,l){if("timestamp"===u)return l.timestamp;(0,Y.hu)(!1,"Unexpected server value: "+u)},Dg=function(u,a,l){u.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const p=u.increment;"number"!=typeof p&&(0,Y.hu)(!1,"Unexpected increment value: "+p);const I=a.node();if((0,Y.hu)(null!==I&&typeof I<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return p;const U=I.getValue();return"number"!=typeof U?p:U+p},jh=function(u,a,l,p){return Rp(a,new Ed(l,u),p)},eh=function(u,a,l){return Rp(u,new nc(a),l)};function Rp(u,a,l){const p=u.getPriority().val(),I=Id(p,a.getImmediateChild(".priority"),l);let R;if(u.isLeafNode()){const U=u,te=Id(U.getValue(),a,l);return te!==U.getValue()||I!==U.getPriority().val()?new Nc(te,Vr(I)):u}{const U=u;return R=U,I!==U.getPriority().val()&&(R=R.updatePriority(new Nc(I))),U.forEachChild(Ar,(te,he)=>{const De=Rp(he,a.getImmediateChild(te),l);De!==he&&(R=R.updateImmediateChild(te,De))}),R}}class du{constructor(a="",l=null,p={children:{},childCount:0}){this.name=a,this.parent=l,this.node=p}}function hu(u,a){let l=a instanceof Kr?a:new Kr(a),p=u,I=qr(l);for(;null!==I;){const R=(0,Y.DV)(p.node.children,I)||{children:{},childCount:0};p=new du(I,p,R),l=Ii(l),I=qr(l)}return p}function Ll(u){return u.node.value}function Hh(u,a){u.node.value=a,Mp(u)}function th(u){return u.node.childCount>0}function Nf(u,a){Tr(u.node.children,(l,p)=>{a(new du(l,u,p))})}function Ff(u,a,l,p){l&&!p&&a(u),Nf(u,I=>{Ff(I,a,!0,p)}),l&&p&&a(u)}function zh(u){return new Kr(null===u.parent?u.name:zh(u.parent)+"/"+u.name)}function Mp(u){null!==u.parent&&function Fu(u,a,l){const p=function Tg(u){return void 0===Ll(u)&&!th(u)}(l),I=(0,Y.r3)(u.node.children,a);p&&I?(delete u.node.children[a],u.node.childCount--,Mp(u)):!p&&!I&&(u.node.children[a]=l.node,u.node.childCount++,Mp(u))}(u.parent,u.name,u)}const Lu=/[\[\].#$\/\u0000-\u001F\u007F]/,Sg=/[\[\].#$\u0000-\u001F\u007F]/,Lf=10485760,Gh=function(u){return"string"==typeof u&&0!==u.length&&!Lu.test(u)},Cc=function(u){return"string"==typeof u&&0!==u.length&&!Sg.test(u)},Wh=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!as(u)||u&&"object"==typeof u&&(0,Y.r3)(u,".sv")},qa=function(u,a,l,p){p&&void 0===a||Bu((0,Y.gK)(u,"value"),a,l)},Bu=function(u,a,l){const p=l instanceof Kr?new z(l,u):l;if(void 0===a)throw new Error(u+"contains undefined "+kt(p));if("function"==typeof a)throw new Error(u+"contains a function "+kt(p)+" with contents = "+a.toString());if(as(a))throw new Error(u+"contains "+a.toString()+" "+kt(p));if("string"==typeof a&&a.length>Lf/3&&(0,Y.ug)(a)>Lf)throw new Error(u+"contains a string greater than "+Lf+" utf8 bytes "+kt(p)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){let I=!1,R=!1;if(Tr(a,(U,te)=>{if(".value"===U)I=!0;else if(".priority"!==U&&".sv"!==U&&(R=!0,!Gh(U)))throw new Error(u+" contains an invalid key ("+U+") "+kt(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function re(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,Y.ug)(a),nt(u)})(p,U),Bu(u,te,p),function ae(u){const a=u.parts_.pop();u.byteLength_-=(0,Y.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(p)}),I&&R)throw new Error(u+' contains ".value" child '+kt(p)+" in addition to actual children.")}},ic=function(u,a,l,p){if(p&&void 0===a)return;const I=(0,Y.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(I+" must be an object containing the children to replace.");const R=[];Tr(a,(U,te)=>{const he=new Kr(U);if(Bu(I,te,li(l,he)),".priority"===to(he)&&!Wh(te))throw new Error(I+"contains an invalid value for '"+he.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");R.push(he)}),function(u,a){let l,p;for(l=0;l<a.length;l++){p=a[l];const R=la(p);for(let U=0;U<R.length;U++)if((".priority"!==R[U]||U!==R.length-1)&&!Gh(R[U]))throw new Error(u+"contains an invalid key ("+R[U]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}a.sort(x);let I=null;for(l=0;l<a.length;l++){if(p=a[l],null!==I&&O(I,p))throw new Error(u+"contains a path "+I.toString()+" that is ancestor of another path "+p.toString());I=p}}(I,R)},fu=function(u,a,l){if(!l||void 0!==a){if(as(a))throw new Error((0,Y.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wh(a))throw new Error((0,Y.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$c=function(u,a,l,p){if(!(p&&void 0===l||Gh(l)))throw new Error((0,Y.gK)(u,a)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rh=function(u,a,l,p){if(!(p&&void 0===l||Cc(l)))throw new Error((0,Y.gK)(u,a)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pp=function(u,a,l,p){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),rh(u,a,l,p)},dl=function(u,a){if(".info"===qr(a))throw new Error(u+" failed = Can't modify data under /.info/")},Bf=function(u,a){const l=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Gh(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Cc(u)}(l))throw new Error((0,Y.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Op{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ih(u,a){let l=null;for(let p=0;p<a.length;p++){const I=a[p],R=I.getPath();null!==l&&!w(R,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:R}),l.events.push(I)}l&&u.eventLists_.push(l)}function Kh(u,a,l){ih(u,l),wd(u,p=>w(p,a))}function hl(u,a,l){ih(u,l),wd(u,p=>O(p,a)||O(a,p))}function wd(u,a){u.recursionDepth_++;let l=!0;for(let p=0;p<u.eventLists_.length;p++){const I=u.eventLists_[p];I&&(a(I.path)?(pu(u.eventLists_[p]),u.eventLists_[p]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function pu(u){for(let a=0;a<u.events.length;a++){const l=u.events[a];if(null!==l){u.events[a]=null;const p=l.getEventRunner();Fo&&os("event: "+l.toString()),Wt(p)}}}const $u="repo_interrupt",Qm=25;class Ag{constructor(a,l,p,I){this.repoInfo_=a,this.forceRestClient_=l,this.authTokenProvider_=p,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Op,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Or(),this.transactionQueueTree_=new du,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xg(u){const l=u.infoData_.getNode(new Kr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function qh(u){return xp({timestamp:xg(u)})}function sh(u,a,l,p,I){u.dataUpdateCount++;const R=new Kr(a);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,l):l;let U=[];if(I)if(p){const he=(0,Y.UI)(l,De=>Vr(De));U=function Yd(u,a,l,p){const I=Jd(u,p);if(I){const R=ku(I),U=R.path,te=R.queryId,he=S(U,a),De=gs.fromObject(l);return Uh(u,U,new ql(ui(te),he,De))}return[]}(u.serverSyncTree_,R,he,I)}else{const he=Vr(l);U=Pu(u.serverSyncTree_,R,he,I)}else if(p){const he=(0,Y.UI)(l,De=>Vr(De));U=function qd(u,a,l){const p=gs.fromObject(l);return Ou(u,new ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,p))}(u.serverSyncTree_,R,he)}else{const he=Vr(l);U=ls(u.serverSyncTree_,R,he)}let te=R;U.length>0&&(te=bd(u,R)),hl(u.eventQueue_,te,U)}function Bl(u,a){$f(u,"connected",a),!1===a&&function Mg(u){Cd(u,"onDisconnectEvents");const a=qh(u),l=Or();Rl(u.onDisconnect_,xr(),(I,R)=>{const U=jh(I,R,u.serverSyncTree_,a);Po(l,I,U)});let p=[];Rl(l,xr(),(I,R)=>{p=p.concat(ls(u.serverSyncTree_,I,R));const U=bc(u,I);bd(u,U)}),u.onDisconnect_=Or(),hl(u.eventQueue_,xr(),p)}(u)}function $f(u,a,l){const p=new Kr("/.info/"+a),I=Vr(l);u.infoData_.updateSnapshot(p,I);const R=ls(u.infoSyncTree_,p,I);hl(u.eventQueue_,p,R)}function Uf(u){return u.nextWriteId_++}function Rg(u,a,l,p,I){Cd(u,"set",{path:a.toString(),value:l,priority:p});const R=qh(u),U=Vr(l,p),te=vd(u.serverSyncTree_,a),he=eh(U,te,R),De=Uf(u),Mt=ka(u.serverSyncTree_,a,he,De,!0);ih(u.eventQueue_,Mt),u.server_.put(a.toString(),U.val(!0),(Kt,Cn)=>{const Un="ok"===Kt;Un||hs("set at "+a+" failed: "+Kt);const jr=ec(u.serverSyncTree_,De,!Un);hl(u.eventQueue_,a,jr),gu(0,I,Kt,Cn)});const Gt=bc(u,a);bd(u,Gt),hl(u.eventQueue_,Gt,[])}function kp(u,a,l){u.server_.onDisconnectCancel(a.toString(),(p,I)=>{"ok"===p&&Is(u.onDisconnect_,a),gu(0,l,p,I)})}function Yh(u,a,l,p){const I=Vr(l);u.server_.onDisconnectPut(a.toString(),I.val(!0),(R,U)=>{"ok"===R&&Po(u.onDisconnect_,a,I),gu(0,p,R,U)})}function Lp(u,a,l){let p;p=".info"===qr(a._path)?tc(u.infoSyncTree_,a,l):tc(u.serverSyncTree_,a,l),Kh(u.eventQueue_,a._path,p)}function fl(u){u.persistentConnection_&&u.persistentConnection_.interrupt($u)}function Cd(u,...a){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),os(l,...a)}function gu(u,a,l,p){a&&Wt(()=>{if("ok"===l)a(null);else{const I=(l||"error").toUpperCase();let R=I;p&&(R+=": "+p);const U=new Error(R);U.code=I,a(U)}})}function oh(u,a,l){return vd(u.serverSyncTree_,a,l)||Jr.EMPTY_NODE}function Uu(u,a=u.transactionQueueTree_){if(a||lh(u,a),Ll(a)){const l=Zr(u,a);(0,Y.hu)(l.length>0,"Sending zero length transaction queue"),l.every(I=>0===I.status)&&function Bp(u,a,l){const p=l.map(De=>De.currentWriteId),I=oh(u,a,p);let R=I;const U=I.hash();for(let De=0;De<l.length;De++){const Mt=l[De];(0,Y.hu)(0===Mt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Mt.status=1,Mt.retryCount++;const Gt=S(a,Mt.path);R=R.updateChild(Gt,Mt.currentOutputSnapshotRaw)}const te=R.val(!0),he=a;u.server_.put(he.toString(),te,De=>{Cd(u,"transaction put response",{path:he.toString(),status:De});let Mt=[];if("ok"===De){const Gt=[];for(let Kt=0;Kt<l.length;Kt++)l[Kt].status=2,Mt=Mt.concat(ec(u.serverSyncTree_,l[Kt].currentWriteId)),l[Kt].onComplete&&Gt.push(()=>l[Kt].onComplete(null,!0,l[Kt].currentOutputSnapshotResolved)),l[Kt].unwatcher();lh(u,hu(u.transactionQueueTree_,a)),Uu(u,u.transactionQueueTree_),hl(u.eventQueue_,a,Mt);for(let Kt=0;Kt<Gt.length;Kt++)Wt(Gt[Kt])}else{if("datastale"===De)for(let Gt=0;Gt<l.length;Gt++)l[Gt].status=3===l[Gt].status?4:0;else{hs("transaction at "+he.toString()+" failed: "+De);for(let Gt=0;Gt<l.length;Gt++)l[Gt].status=4,l[Gt].abortReason=De}bd(u,a)}},U)}(u,zh(a),l)}else th(a)&&Nf(a,l=>{Uu(u,l)})}function bd(u,a){const l=$p(u,a),p=zh(l);return function Fa(u,a,l){if(0===a.length)return;const p=[];let I=[];const U=a.filter(te=>0===te.status).map(te=>te.currentWriteId);for(let te=0;te<a.length;te++){const he=a[te],De=S(l,he.path);let Gt,Mt=!1;if((0,Y.hu)(null!==De,"rerunTransactionsUnderNode_: relativePath should not be null."),4===he.status)Mt=!0,Gt=he.abortReason,I=I.concat(ec(u.serverSyncTree_,he.currentWriteId,!0));else if(0===he.status)if(he.retryCount>=Qm)Mt=!0,Gt="maxretry",I=I.concat(ec(u.serverSyncTree_,he.currentWriteId,!0));else{const Kt=oh(u,he.path,U);he.currentInputSnapshot=Kt;const Cn=a[te].update(Kt.val());if(void 0!==Cn){Bu("transaction failed: Data returned ",Cn,he.path);let Un=Vr(Cn);"object"==typeof Cn&&null!=Cn&&(0,Y.r3)(Cn,".priority")||(Un=Un.updatePriority(Kt.getPriority()));const Ti=he.currentWriteId,cs=qh(u),Rs=eh(Un,Kt,cs);he.currentOutputSnapshotRaw=Un,he.currentOutputSnapshotResolved=Rs,he.currentWriteId=Uf(u),U.splice(U.indexOf(Ti),1),I=I.concat(ka(u.serverSyncTree_,he.path,Rs,he.currentWriteId,he.applyLocally)),I=I.concat(ec(u.serverSyncTree_,Ti,!0))}else Mt=!0,Gt="nodata",I=I.concat(ec(u.serverSyncTree_,he.currentWriteId,!0))}hl(u.eventQueue_,l,I),I=[],Mt&&(a[te].status=2,setTimeout(a[te].unwatcher,Math.floor(0)),a[te].onComplete&&p.push("nodata"===Gt?()=>a[te].onComplete(null,!1,a[te].currentInputSnapshot):()=>a[te].onComplete(new Error(Gt),!1,null)))}lh(u,u.transactionQueueTree_);for(let te=0;te<p.length;te++)Wt(p[te]);Uu(u,u.transactionQueueTree_)}(u,Zr(u,l),p),p}function $p(u,a){let l,p=u.transactionQueueTree_;for(l=qr(a);null!==l&&void 0===Ll(p);)p=hu(p,l),l=qr(a=Ii(a));return p}function Zr(u,a){const l=[];return ah(u,a,l),l.sort((p,I)=>p.order-I.order),l}function ah(u,a,l){const p=Ll(a);if(p)for(let I=0;I<p.length;I++)l.push(p[I]);Nf(a,I=>{ah(u,I,l)})}function lh(u,a){const l=Ll(a);if(l){let p=0;for(let I=0;I<l.length;I++)2!==l[I].status&&(l[p]=l[I],p++);l.length=p,Hh(a,l.length>0?l:void 0)}Nf(a,p=>{lh(u,p)})}function bc(u,a){const l=zh($p(u,a)),p=hu(u.transactionQueueTree_,a);return function nh(u,a,l){let p=l?u:u.parent;for(;null!==p;){if(a(p))return!0;p=p.parent}}(p,I=>{Vu(u,I)}),Vu(u,p),Ff(p,I=>{Vu(u,I)}),l}function Vu(u,a){const l=Ll(a);if(l){const p=[];let I=[],R=-1;for(let U=0;U<l.length;U++)3===l[U].status||(1===l[U].status?((0,Y.hu)(R===U-1,"All SENT items should be at beginning of queue."),R=U,l[U].status=3,l[U].abortReason="set"):((0,Y.hu)(0===l[U].status,"Unexpected transaction status in abort"),l[U].unwatcher(),I=I.concat(ec(u.serverSyncTree_,l[U].currentWriteId,!0)),l[U].onComplete&&p.push(l[U].onComplete.bind(null,new Error("set"),!1,null))));-1===R?Hh(a,void 0):l.length=R+1,hl(u.eventQueue_,zh(a),I);for(let U=0;U<p.length;U++)Wt(p[U])}}const Up=function(u,a){const l=Dd(u),p=l.namespace;return"firebase.com"===l.domain&&Zs(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==l.domain&&Zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new El(l.host,l.secure,p,"ws"===l.scheme||"wss"===l.scheme,a,"",p!==l.subdomain),path:new Kr(l.pathString)}},Dd=function(u){let a="",l="",p="",I="",R="",U=!0,te="https",he=443;if("string"==typeof u){let De=u.indexOf("//");De>=0&&(te=u.substring(0,De-1),u=u.substring(De+2));let Mt=u.indexOf("/");-1===Mt&&(Mt=u.length);let Gt=u.indexOf("?");-1===Gt&&(Gt=u.length),a=u.substring(0,Math.min(Mt,Gt)),Mt<Gt&&(I=function Pg(u){let a="";const l=u.split("/");for(let p=0;p<l.length;p++)if(l[p].length>0){let I=l[p];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch{}a+="/"+I}return a}(u.substring(Mt,Gt)));const Kt=function ju(u){const a={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const p=l.split("=");2===p.length?a[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):hs(`Invalid query segment '${l}' in query '${u}'`)}return a}(u.substring(Math.min(u.length,Gt)));De=a.indexOf(":"),De>=0?(U="https"===te||"wss"===te,he=parseInt(a.substring(De+1),10)):De=a.length;const Cn=a.slice(0,De);if("localhost"===Cn.toLowerCase())l="localhost";else if(Cn.split(".").length<=2)l=Cn;else{const Un=a.indexOf(".");p=a.substring(0,Un).toLowerCase(),l=a.substring(Un+1),R=p}"ns"in Kt&&(R=Kt.ns)}return{host:a,port:he,domain:l,subdomain:p,secure:U,scheme:te,pathString:I,namespace:R}},Vp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hu=function(){let u=0;const a=[];return function(l){const p=l===u;let I;u=l;const R=new Array(8);for(I=7;I>=0;I--)R[I]=Vp.charAt(l%64),l=Math.floor(l/64);(0,Y.hu)(0===l,"Cannot push at time == 0");let U=R.join("");if(p){for(I=11;I>=0&&63===a[I];I--)a[I]=0;a[I]++}else for(I=0;I<12;I++)a[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)U+=Vp.charAt(a[I]);return(0,Y.hu)(20===U.length,"nextPushId: Length should be 20."),U}}();class Og{constructor(a,l,p,I){this.eventType=a,this.eventRegistration=l,this.snapshot=p,this.prevName=I}getPath(){const a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Wl)(this.snapshot.exportVal())}}class jp{constructor(a,l,p){this.eventRegistration=a,this.error=l,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xh{constructor(a,l){this.snapshotCallback=a,this.cancelCallback=l}onValue(a,l){this.snapshotCallback.call(null,a,l)}onCancel(a){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)}get hasCancelCallback(){return!!this.cancelCallback}matches(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context}}class zu{constructor(a,l){this._repo=a,this._path=l}cancel(){const a=new Y.BH;return kp(this._repo,this._path,a.wrapCallback(()=>{})),a.promise}remove(){dl("OnDisconnect.remove",this._path);const a=new Y.BH;return Yh(this._repo,this._path,null,a.wrapCallback(()=>{})),a.promise}set(a){dl("OnDisconnect.set",this._path),qa("OnDisconnect.set",a,this._path,!1);const l=new Y.BH;return Yh(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}setWithPriority(a,l){dl("OnDisconnect.setWithPriority",this._path),qa("OnDisconnect.setWithPriority",a,this._path,!1),fu("OnDisconnect.setWithPriority",l,!1);const p=new Y.BH;return function Np(u,a,l,p,I){const R=Vr(l,p);u.server_.onDisconnectPut(a.toString(),R.val(!0),(U,te)=>{"ok"===U&&Po(u.onDisconnect_,a,R),gu(0,I,U,te)})}(this._repo,this._path,a,l,p.wrapCallback(()=>{})),p.promise}update(a){dl("OnDisconnect.update",this._path),ic("OnDisconnect.update",a,this._path,!1);const l=new Y.BH;return function Fp(u,a,l,p){if((0,Y.xb)(l))return os("onDisconnect().update() called with empty data.  Don't do anything."),void gu(0,p,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),l,(I,R)=>{"ok"===I&&Tr(l,(U,te)=>{const he=Vr(te);Po(u.onDisconnect_,li(a,U),he)}),gu(0,p,I,R)})}(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}}class Ya{constructor(a,l,p,I){this._repo=a,this._path=l,this._queryParams=p,this._orderByCalled=I}get key(){return Rr(this._path)?null:to(this._path)}get ref(){return new Dc(this._repo,this._path)}get _queryIdentifier(){const a=An(this._queryParams),l=mo(a);return"{}"===l?"default":l}get _queryObject(){return An(this._queryParams)}isEqual(a){if(!((a=(0,Y.m9)(a))instanceof Ya))return!1;const l=this._repo===a._repo,p=w(this._path,a._path);return l&&p&&this._queryIdentifier===a._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _u(u){let a="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(a+="/"+encodeURIComponent(String(u.pieces_[l])));return a||"/"}(this._path)}}function ch(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function $l(u){let a=null,l=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===$o){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Br)throw new Error(p);if("string"!=typeof a)throw new Error(I)}if(u.hasEnd()){if(u.getIndexEndName()!==Ro)throw new Error(p);if("string"!=typeof l)throw new Error(I)}}else if(u.getIndex()===Ar){if(null!=a&&!Wh(a)||null!=l&&!Wh(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(u.getIndex()instanceof ro||u.getIndex()===pc,"unknown index type."),null!=a&&"object"==typeof a||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dc extends Ya{constructor(a,l){super(a,l,new Ga,!1)}get parent(){const a=Yo(this._path);return null===a?null:new Dc(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}class Td{constructor(a,l,p){this._node=a,this.ref=l,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(a){const l=new Kr(a),p=pl(this.ref,a);return new Td(this._node.getChild(l),p,Ar)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(a){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,I)=>a(new Td(I,pl(this.ref,p),Ar)))}hasChild(a){const l=new Kr(a);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ty(u,a){return(u=(0,Y.m9)(u))._checkNotDeleted("ref"),void 0!==a?pl(u._root,a):u._root}function Hp(u,a){(u=(0,Y.m9)(u))._checkNotDeleted("refFromURL");const l=Up(a,u._repo.repoInfo_.nodeAdmin);Bf("refFromURL",l);const p=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&p.host!==u._repo.repoInfo_.host&&Zs("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+u._repo.repoInfo_.host+")"),ty(u,l.path.toString())}function pl(u,a){return null===qr((u=(0,Y.m9)(u))._path)?Pp("child","path",a,!1):rh("child","path",a,!1),new Dc(u._repo,li(u._path,a))}function Gp(u,a){u=(0,Y.m9)(u),dl("set",u._path),qa("set",a,u._path,!1);const l=new Y.BH;return Rg(u._repo,u._path,a,null,l.wrapCallback(()=>{})),l.promise}function ny(u,a){ic("update",a,u._path,!1);const l=new Y.BH;return function Vf(u,a,l,p){Cd(u,"update",{path:a.toString(),value:l});let I=!0;const R=qh(u),U={};if(Tr(l,(te,he)=>{I=!1,U[te]=jh(li(a,te),Vr(he),u.serverSyncTree_,R)}),I)os("update() called with empty data.  Don't do anything."),gu(0,p,"ok",void 0);else{const te=Uf(u),he=function Ru(u,a,l,p){!function cd(u,a,l,p){(0,Y.hu)(p>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:l,writeId:p,visible:!0}),u.visibleWrites=Lc(u.visibleWrites,a,l),u.lastWriteId=p}(u.pendingWriteTree_,a,l,p);const I=gs.fromObject(l);return Ou(u,new ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,I))}(u.serverSyncTree_,a,U,te);ih(u.eventQueue_,he),u.server_.merge(a.toString(),l,(De,Mt)=>{const Gt="ok"===De;Gt||hs("update at "+a+" failed: "+De);const Kt=ec(u.serverSyncTree_,te,!Gt),Cn=Kt.length>0?bd(u,a):a;hl(u.eventQueue_,Cn,Kt),gu(0,p,De,Mt)}),Tr(l,De=>{const Mt=bc(u,li(a,De));bd(u,Mt)}),hl(u.eventQueue_,a,[])}}(u._repo,u._path,a,l.wrapCallback(()=>{})),l.promise}function Gf(u){u=(0,Y.m9)(u);const a=new Xh(()=>{}),l=new Co(a);return function ey(u,a,l){const p=function Zd(u,a){const l=a._path;let p=null;u.syncPointTree_.foreachOnPath(l,(De,Mt)=>{const Gt=S(De,l);p=p||A(Mt,Gt)});let I=u.syncPointTree_.get(l);I?p=p||A(I,xr()):(I=new Fl,u.syncPointTree_=u.syncPointTree_.set(l,I));const R=null!=p,U=R?new Yl(p,!0,!1):null;return function Ap(u){return sd(u.viewCache_)}(Of(I,a,yc(u.pendingWriteTree_,a._path),R?U.getNode():Jr.EMPTY_NODE,R))}(u.serverSyncTree_,a);return null!=p?Promise.resolve(p):u.server_.get(a).then(I=>{const R=Vr(I).withIndex(a._queryParams.getIndex());let U;if(yd(u.serverSyncTree_,a,l,!0),a._queryParams.loadsAllData())U=ls(u.serverSyncTree_,a._path,R);else{const te=Qd(u.serverSyncTree_,a);U=Pu(u.serverSyncTree_,a._path,R,te)}return hl(u.eventQueue_,a._path,U),tc(u.serverSyncTree_,a,l,null,!0),R},I=>(Cd(u,"get for query "+(0,Y.Wl)(a)+" failed: "+I),Promise.reject(new Error(I))))}(u._repo,u,l).then(p=>new Td(p,new Dc(u._repo,u._path),u._queryParams.getIndex()))}class Co{constructor(a){this.callbackContext=a}respondsTo(a){return"value"===a}createEvent(a,l){const p=l._queryParams.getIndex();return new Og("value",this,new Td(a.snapshotNode,new Dc(l._repo,l._path),p))}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,null)}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new jp(this,a,l):null}matches(a){return a instanceof Co&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wf{constructor(a,l){this.eventType=a,this.callbackContext=l}respondsTo(a){let l="children_added"===a?"child_added":a;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new jp(this,a,l):null}createEvent(a,l){(0,Y.hu)(null!=a.childName,"Child events should have a childName.");const p=pl(new Dc(l._repo,l._path),a.childName),I=l._queryParams.getIndex();return new Og(a.type,this,new Td(a.snapshotNode,p,I),a.prevName)}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,a.prevName)}matches(a){return a instanceof Wf&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Jh(u,a,l,p,I){let R;if("object"==typeof p&&(R=void 0,I=p),"function"==typeof p&&(R=p),I&&I.onlyOnce){const he=l,De=(Mt,Gt)=>{Lp(u._repo,u,te),he(Mt,Gt)};De.userCallback=l.userCallback,De.context=l.context,l=De}const U=new Xh(l,R||void 0),te="value"===a?new Co(U):new Wf(a,U);return function jf(u,a,l){let p;p=".info"===qr(a._path)?yd(u.infoSyncTree_,a,l):yd(u.serverSyncTree_,a,l),Kh(u.eventQueue_,a._path,p)}(u._repo,u,te),()=>Lp(u._repo,u,te)}function Kp(u,a,l,p){return Jh(u,"value",a,l,p)}function Ng(u,a,l,p){return Jh(u,"child_added",a,l,p)}function ef(u,a,l,p){return Jh(u,"child_changed",a,l,p)}function Fg(u,a,l,p){return Jh(u,"child_moved",a,l,p)}function uh(u,a,l,p){return Jh(u,"child_removed",a,l,p)}function dh(u,a,l){let p=null;const I=l?new Xh(l):null;"value"===a?p=new Co(I):a&&(p=new Wf(a,I)),Lp(u._repo,u,p)}class Ul{}class Lg extends Ul{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("endAt",this._value,a._path,!0);const l=it(a._queryParams,this._value,this._key);if(Qh(l),$l(l),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(a._repo,a._path,l,a._orderByCalled)}}class qp extends Ul{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("endBefore",this._value,a._path,!1);const l=function It(u,a,l){let p;return p=it(u,a,u.index_===$o||l?l:Br),p.endBeforeSet_=!0,p}(a._queryParams,this._value,this._key);if(Qh(l),$l(l),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(a._repo,a._path,l,a._orderByCalled)}}class Uc extends Ul{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("startAt",this._value,a._path,!0);const l=Z(a._queryParams,this._value,this._key);if(Qh(l),$l(l),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ya(a._repo,a._path,l,a._orderByCalled)}}class Yp extends Ul{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("startAfter",this._value,a._path,!1);const l=function be(u,a,l){let p;return p=Z(u,a,u.index_===$o||l?l:Ro),p.startAfterSet_=!0,p}(a._queryParams,this._value,this._key);if(Qh(l),$l(l),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ya(a._repo,a._path,l,a._orderByCalled)}}class ry extends Ul{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(a._repo,a._path,function P(u,a){const l=u.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="l",l}(a._queryParams,this._limit),a._orderByCalled)}}class nf extends Ul{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(a._repo,a._path,function $(u,a){const l=u.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="r",l}(a._queryParams,this._limit),a._orderByCalled)}}class Xp extends Ul{constructor(a){super(),this._path=a}_apply(a){ch(a,"orderByChild");const l=new Kr(this._path);if(Rr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new ro(l),I=Ut(a._queryParams,p);return $l(I),new Ya(a._repo,a._path,I,!0)}}class Qp extends Ul{_apply(a){ch(a,"orderByKey");const l=Ut(a._queryParams,$o);return $l(l),new Ya(a._repo,a._path,l,!0)}}class $g extends Ul{_apply(a){ch(a,"orderByPriority");const l=Ut(a._queryParams,Ar);return $l(l),new Ya(a._repo,a._path,l,!0)}}class Ku extends Ul{_apply(a){ch(a,"orderByValue");const l=Ut(a._queryParams,pc);return $l(l),new Ya(a._repo,a._path,l,!0)}}class af extends Ul{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){if(qa("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Lg(this._value,this._key)._apply(new Uc(this._value,this._key)._apply(a))}}function sc(u,...a){let l=(0,Y.m9)(u);for(const p of a)l=p._apply(l);return l}(function ul(u){(0,Y.hu)(!uu,"__referenceConstructor has already been defined"),uu=u})(Dc),function Pn(u){(0,Y.hu)(!Zt,"__referenceConstructor has already been defined"),Zt=u}(Dc);const Ug="FIREBASE_DATABASE_EMULATOR_HOST",Zf={};let Xf=!1;function lf(u,a,l,p,I){let R=p||u.options.databaseURL;void 0===R&&(u.options.projectId||Zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),os("Using default host for project ",u.options.projectId),R=`${u.options.projectId}-default-rtdb.firebaseio.com`);let he,De,U=Up(R,I),te=U.repoInfo;typeof process<"u"&&process.env&&(De=process.env[Ug]),De?(he=!0,R=`http://${De}?ns=${te.namespace}`,U=Up(R,I),te=U.repoInfo):he=!U.repoInfo.secure;const Mt=I&&he?new _r(_r.OWNER):new Fr(u.name,u.options,a);Bf("Invalid Firebase Database URL",U),Rr(U.path)||Zs("Database URL must point to the root of a Firebase Database (not including a child path).");const Gt=function Hg(u,a,l,p){let I=Zf[a.name];I||(I={},Zf[a.name]=I);let R=I[u.toURLString()];return R&&Zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),R=new Ag(u,Xf,l,p),I[u.toURLString()]=R,R}(te,u,Mt,new Wr(u.name,l));return new Qf(Gt,u)}class Qf{constructor(a,l){this._repoInternal=a,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jm(u,a,l){if(u.stats_=Js(u.repoInfo_),u.forceRestClient_||Fn())u.server_=new Zn(u.repoInfo_,(p,I,R,U)=>{sh(u,p,I,R,U)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Bl(u,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Wl)(l)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}u.persistentConnection_=new Es(u.repoInfo_,a,(p,I,R,U)=>{sh(u,p,I,R,U)},p=>{Bl(u,p)},p=>{!function Na(u,a){Tr(a,(l,p)=>{$f(u,l,p)})}(u,p)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(p=>{u.server_.refreshAuthToken(p)}),u.appCheckProvider_.addTokenChangeListener(p=>{u.server_.refreshAppCheckToken(p.token)}),u.statsReporter_=function oc(u,a){const l=u.toString();return vo[l]||(vo[l]=a()),vo[l]}(u.repoInfo_,()=>new Ud(u.stats_,u.server_)),u.infoData_=new $r,u.infoSyncTree_=new Ki({startListening:(p,I,R,U)=>{let te=[];const he=u.infoData_.getNode(p._path);return he.isEmpty()||(te=ls(u.infoSyncTree_,p._path,he),setTimeout(()=>{U("ok")},0)),te},stopListening:()=>{}}),$f(u,"connected",!1),u.serverSyncTree_=new Ki({startListening:(p,I,R,U)=>(u.server_.listen(p,R,I,(te,he)=>{const De=U(te,he);hl(u.eventQueue_,p._path,De)}),[]),stopListening:(p,I)=>{u.server_.unlisten(p,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dc(this._repo,xr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jg(u,a){const l=Zf[a];(!l||l[u.key]!==u)&&Zs(`Database ${a}(${u.repoInfo_}) has already been deleted.`),fl(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&Zs("Cannot call "+a+" on a deleted database.")}}function fh(){aa.IS_TRANSPORT_INITIALIZED&&hs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jp(){fh(),Bo.forceDisallow()}function cf(){fh(),ur.forceDisallow(),Bo.forceAllow()}function tg(u,a){ga(u,a)}const ng={".sv":"timestamp"};class La{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Es.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},Es.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)},function ep(u){Ys(gt.SDK_VERSION),(0,gt._registerComponent)(new et.wA("database",(a,{instanceIdentifier:l})=>lf(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,gt.registerVersion)(Ks,"0.14.4",u),(0,gt.registerVersion)(Ks,"0.14.4","esm2017")}();const Gg=new ts.Yd("@firebase/database-compat"),Wg=function(u){Gg.warn("FIREBASE WARNING: "+u)};class cy{constructor(a){this._delegate=a}cancel(a){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",a,!0);const l=this._delegate.cancel();return a&&l.then(()=>a(null),p=>a(p)),l}remove(a){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",a,!0);const l=this._delegate.remove();return a&&l.then(()=>a(null),p=>a(p)),l}set(a,l){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",l,!0);const p=this._delegate.set(a);return l&&p.then(()=>l(null),I=>l(I)),p}setWithPriority(a,l,p){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const I=this._delegate.setWithPriority(a,l);return p&&I.then(()=>p(null),R=>p(R)),I}update(a,l){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){const I={};for(let R=0;R<a.length;++R)I[""+R]=a[R];a=I,Wg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",l,!0);const p=this._delegate.update(a);return l&&p.then(()=>l(null),I=>l(I)),p}}class sg{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Vc{constructor(a,l){this._database=a,this._delegate=l}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(a){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),rh("DataSnapshot.child","path",a,!1),new Vc(this._database,this._delegate.child(a))}hasChild(a){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rh("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(a){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(l=>a(new Vc(this._database,l)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ca{constructor(a,l){this.database=a,this._delegate=l}on(a,l,p,I){var R;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",l,!1);const U=Ca.getCancelAndContextArgs_("Query.on",p,I),te=(De,Mt)=>{l.call(U.context,new Vc(this.database,De),Mt)};te.userCallback=l,te.context=U.context;const he=null===(R=U.cancel)||void 0===R?void 0:R.bind(U.context);switch(a){case"value":return Kp(this._delegate,te,he),l;case"child_added":return Ng(this._delegate,te,he),l;case"child_removed":return uh(this._delegate,te,he),l;case"child_changed":return ef(this._delegate,te,he),l;case"child_moved":return Fg(this._delegate,te,he),l;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(a,l,p){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(u,a,l){if(void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,a),(0,Y.Wj)("Query.off","callback",l,!0),(0,Y.lb)("Query.off","context",p,!0),l){const I=()=>{};I.userCallback=l,I.context=p,dh(this._delegate,a,I)}else dh(this._delegate,a)}get(){return Gf(this._delegate).then(a=>new Vc(this.database,a))}once(a,l,p,I){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",l,!0);const R=Ca.getCancelAndContextArgs_("Query.once",p,I),U=new Y.BH,te=(De,Mt)=>{const Gt=new Vc(this.database,De);l&&l.call(R.context,Gt,Mt),U.resolve(Gt)};te.userCallback=l,te.context=R.context;const he=De=>{R.cancel&&R.cancel.call(R.context,De),U.reject(De)};switch(a){case"value":Kp(this._delegate,te,he,{onlyOnce:!0});break;case"child_added":Ng(this._delegate,te,he,{onlyOnce:!0});break;case"child_removed":uh(this._delegate,te,he,{onlyOnce:!0});break;case"child_changed":ef(this._delegate,te,he,{onlyOnce:!0});break;case"child_moved":Fg(this._delegate,te,he,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return U.promise}limitToFirst(a){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new Ca(this.database,sc(this._delegate,function Bg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ry(u)}(a)))}limitToLast(a){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new Ca(this.database,sc(this._delegate,function Gu(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nf(u)}(a)))}orderByChild(a){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new Ca(this.database,sc(this._delegate,function hh(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rh("orderByChild","path",u,!1),new Xp(u)}(a)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new Ca(this.database,sc(this._delegate,function rf(){return new Qp}()))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new Ca(this.database,sc(this._delegate,function Wu(){return new $g}()))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new Ca(this.database,sc(this._delegate,function sf(){return new Ku}()))}startAt(a=null,l){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new Ca(this.database,sc(this._delegate,function qf(u=null,a){return $c("startAt","key",a,!0),new Uc(u,a)}(a,l)))}startAfter(a=null,l){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new Ca(this.database,sc(this._delegate,function Zp(u,a){return $c("startAfter","key",a,!0),new Yp(u,a)}(a,l)))}endAt(a=null,l){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new Ca(this.database,sc(this._delegate,function tf(u,a){return $c("endAt","key",a,!0),new Lg(u,a)}(a,l)))}endBefore(a=null,l){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new Ca(this.database,sc(this._delegate,function Kf(u,a){return $c("endBefore","key",a,!0),new qp(u,a)}(a,l)))}equalTo(a,l){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new Ca(this.database,sc(this._delegate,function Yf(u,a){return $c("equalTo","key",a,!0),new af(u,a)}(a,l)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(a){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof Ca))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(a._delegate)}static getCancelAndContextArgs_(a,l,p){const I={cancel:void 0,context:void 0};if(l&&p)I.cancel=l,(0,Y.Wj)(a,"cancel",I.cancel,!0),I.context=p,(0,Y.lb)(a,"context",I.context,!0);else if(l)if("object"==typeof l&&null!==l)I.context=l;else{if("function"!=typeof l)throw new Error((0,Y.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=l}return I}get ref(){return new ba(this.database,new Dc(this._delegate._repo,this._delegate._path))}}class ba extends Ca{constructor(a,l){super(a,new Ya(l._repo,l._path,new Ga,!1)),this.database=a,this._delegate=l}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(a){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new ba(this.database,pl(this._delegate,a))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const a=this._delegate.parent;return a?new ba(this.database,a):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new ba(this.database,this._delegate.root)}set(a,l){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",l,!0);const p=Gp(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}update(a,l){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){const I={};for(let R=0;R<a.length;++R)I[""+R]=a[R];a=I,Wg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dl("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",l,!0);const p=ny(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}setWithPriority(a,l,p){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",p,!0);const I=function zf(u,a,l){if(dl("setWithPriority",u._path),qa("setWithPriority",a,u._path,!1),fu("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const p=new Y.BH;return Rg(u._repo,u._path,a,l,p.wrapCallback(()=>{})),p.promise}(this._delegate,a,l);return p&&I.then(()=>p(null),R=>p(R)),I}remove(a){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",a,!0);const l=function Sd(u){return dl("remove",u._path),Gp(u,null)}(this._delegate);return a&&l.then(()=>a(null),p=>a(p)),l}transaction(a,l,p){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,Y.Wj)("Reference.transaction","onComplete",l,!0),function(u,a,l,p){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const I=function oy(u,a,l){var p;if(u=(0,Y.m9)(u),dl("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const I=null===(p=null==l?void 0:l.applyLocally)||void 0===p||p,R=new Y.BH,te=Kp(u,()=>{});return function Zh(u,a,l,p,I,R){Cd(u,"transaction on "+a);const U={path:a,update:l,onComplete:p,status:null,order:nl(),applyLocally:R,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},te=oh(u,a,void 0);U.currentInputSnapshot=te;const he=U.update(te.val());if(void 0===he)U.unwatcher(),U.currentOutputSnapshotRaw=null,U.currentOutputSnapshotResolved=null,U.onComplete&&U.onComplete(null,!1,U.currentInputSnapshot);else{Bu("transaction failed: Data returned ",he,U.path),U.status=0;const De=hu(u.transactionQueueTree_,a),Mt=Ll(De)||[];let Gt;Mt.push(U),Hh(De,Mt),"object"==typeof he&&null!==he&&(0,Y.r3)(he,".priority")?(Gt=(0,Y.DV)(he,".priority"),(0,Y.hu)(Wh(Gt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Gt=(vd(u.serverSyncTree_,a)||Jr.EMPTY_NODE).getPriority().val();const Kt=qh(u),Cn=Vr(he,Gt),Un=eh(Cn,te,Kt);U.currentOutputSnapshotRaw=Cn,U.currentOutputSnapshotResolved=Un,U.currentWriteId=Uf(u);const jr=ka(u.serverSyncTree_,a,Un,U.currentWriteId,U.applyLocally);hl(u.eventQueue_,a,jr),Uu(u,u.transactionQueueTree_)}}(u._repo,u._path,a,(he,De,Mt)=>{let Gt=null;he?R.reject(he):(Gt=new Td(Mt,new Dc(u._repo,u._path),Ar),R.resolve(new La(De,Gt)))},te,I),R.promise}(this._delegate,a,{applyLocally:p}).then(R=>new sg(R.committed,new Vc(this.database,R.snapshot)));return l&&I.then(R=>l(null,R.committed,R.snapshot),R=>l(R,!1,null)),I}setPriority(a,l){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",l,!0);const p=function Wp(u,a){u=(0,Y.m9)(u),dl("setPriority",u._path),fu("setPriority",a,!1);const l=new Y.BH;return Rg(u._repo,li(u._path,".priority"),a,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}push(a,l){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",l,!0);const p=function kg(u,a){u=(0,Y.m9)(u),dl("push",u._path),qa("push",a,u._path,!0);const l=xg(u._repo),p=Hu(l),I=pl(u,p),R=pl(u,p);let U;return U=null!=a?Gp(R,a).then(()=>R):Promise.resolve(R),I.then=U.then.bind(U),I.catch=U.then.bind(U,void 0),I}(this._delegate,a),I=p.then(U=>new ba(this.database,U));l&&I.then(()=>l(null),U=>l(U));const R=new ba(this.database,p);return R.then=I.then.bind(I),R.catch=I.catch.bind(I,void 0),R}onDisconnect(){return dl("Reference.onDisconnect",this._delegate._path),new cy(new zu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jc{constructor(a,l){this._delegate=a,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jp,forceLongPolling:cf}}useEmulator(a,l,p={}){!function Jf(u,a,l,p={}){(u=(0,Y.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Zs("Cannot call useEmulator() after instance has already been initialized.");const I=u._repoInternal;let R;if(I.repoInfo_.nodeAdmin)p.mockUserToken&&Zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),R=new _r(_r.OWNER);else if(p.mockUserToken){const U="string"==typeof p.mockUserToken?p.mockUserToken:(0,Y.Sg)(p.mockUserToken,u.app.options.projectId);R=new _r(U)}!function Vg(u,a,l,p){u.repoInfo_=new El(`${a}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),p&&(u.authTokenProvider_=p)}(I,a,l,R)}(this._delegate,a,l,p)}ref(a){if((0,Y.Dv)("database.ref",0,1,arguments.length),a instanceof ba){const l=Hp(this._delegate,a.toString());return new ba(this,l)}{const l=ty(this._delegate,a);return new ba(this,l)}}refFromURL(a){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const p=Hp(this._delegate,a);return new ba(this,p)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function zg(u){(u=(0,Y.m9)(u))._checkNotDeleted("goOffline"),fl(u._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function iy(u){(u=(0,Y.m9)(u))._checkNotDeleted("goOnline"),function Hf(u){u.persistentConnection_&&u.persistentConnection_.resume($u)}(u._repo)}(this._delegate)}}jc.ServerValue={TIMESTAMP:function rg(){return ng}(),increment:u=>function sy(u){return{".sv":{increment:u}}}(u)};var ph=Object.freeze({__proto__:null,initStandalone:function mu({app:u,url:a,version:l,customAuthImpl:p,namespace:I,nodeAdmin:R=!1}){Ys(l);const U=new et.zt("auth-internal",new et.H0("database-standalone"));return U.setComponent(new et.wA("auth-internal",()=>p,"PRIVATE")),{instance:new jc(lf(u,U,void 0,a,R),u),namespace:I}}});const og=jc.ServerValue;function df(u){return null==u}function hf(u){return"function"==typeof u.set}function Hc(u,a){return hf(a)?a:u.ref(a)}function ff(u,a){if(function qg(u){return"string"==typeof u}(u))return a.stringCase();if(hf(u))return a.firebaseCase();if(function ag(u){return"function"==typeof u.exportVal}(u))return a.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Vl(u,a,l="on",p=we.z){return new me.y(I=>{let R=null;return R=u[l](a,(U,te)=>{p.schedule(()=>{I.next({snapshot:U,prevKey:te})}),"once"===l&&p.schedule(()=>I.complete())},U=>{p.schedule(()=>I.error(U))}),"on"===l?{unsubscribe(){null!=R&&u.off(a,R)}}:{unsubscribe(){}}}).pipe((0,He.U)(I=>{const{snapshot:R,prevKey:U}=I;let te=null;return R.exists()&&(te=R.key),{type:a,payload:R,prevKey:U,key:te}}),(0,ne.B)())}function pf(u,a){const l=u.length;for(let p=0;p<l;p++)if(u[p].payload.key===a)return p;return-1}function uy(u,a){const{payload:l,prevKey:p,key:I}=a,R=pf(u,I),U=function xd(u,a){if(df(a))return 0;{const l=pf(u,a);return-1===l?u.length:l+1}}(u,p);switch(a.type){case"value":if(a.payload&&a.payload.exists()){let te=null;a.payload.forEach(he=>{const De={payload:he,type:"value",prevKey:te,key:he.key};return te=he.key,u=[...u,De],!1})}return u;case"child_added":if(R>-1){const te=u[R-1];(te&&te.key||null)!==p&&(u=u.filter(he=>he.payload.key!==l.key)).splice(U,0,a)}else{if(null==p)return[a,...u];(u=u.slice()).splice(U,0,a)}return u;case"child_removed":return u.filter(te=>te.payload.key!==l.key);case"child_changed":return u.map(te=>te.payload.key===I?a:te);case"child_moved":if(R>-1){const te=u.splice(R,1)[0];return(u=u.slice()).splice(U,0,te),u}return u;default:return u}}function gf(u){return(df(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function mh(u,a,l){return function gh(u,a,l){return Vl(u,"value","once",l).pipe((0,rt.w)(p=>{const I=[(0,Ve.of)(p)];return a.forEach(R=>I.push(Vl(u,R,"on",l))),(0,L.T)(...I).pipe((0,ft.R)(uy,[]))}),(0,mn.x)())}(u,a=gf(a),l)}function tp(u,a,l){const p=(a=gf(a)).map(I=>Vl(u,I,"on",l));return(0,L.T)(...p)}function dy(u,a){return function(p,I){return ff(p,{stringCase:()=>u.child(p)[a](I),firebaseCase:()=>p[a](I),snapshotCase:()=>p.ref[a](I)})}}function hy(u){return function(l){return l?ff(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function cg(u,a){return function(){return Vl(u,"value","on",a)}}!function Ad(u){u.INTERNAL.registerComponent(new et.wA("database-compat",(a,{instanceIdentifier:l})=>{const p=a.getProvider("app-compat").getImmediate(),I=a.getProvider("database").getImmediate({identifier:l});return new jc(I,p)},"PUBLIC").setServiceProps({Reference:ba,Query:Ca,Database:jc,DataSnapshot:Vc,enableLogging:tg,INTERNAL:ph,ServerValue:og}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(Se.Z);const ug=new _.OlP("angularfire2.realtimeDatabaseURL"),py=new _.OlP("angularfire2.database.use-emulator");let dg=(()=>{class u{constructor(l,p,I,R,U,te,he,De,Mt,Gt,Kt,Cn,Un,jr,Ti){this.schedulers=te;const cs=he,Rs=(0,Re.on)(l,U,p);De&&(0,xe.nw)(Rs,U,Mt,Kt,Cn,Un,Gt,jr),this.database=(0,Re.cc)(`${Rs.name}.database.${I}`,"AngularFireDatabase",Rs.name,()=>{const Ci=U.runOutsideAngular(()=>Rs.database(I||void 0));return cs&&Ci.useEmulator(...cs),Ci},[cs])}list(l,p){const I=this.schedulers.ngZone.runOutsideAngular(()=>Hc(this.database,l));let R=I;return p&&(R=p(I)),function Zg(u,a){const l=a.schedulers.outsideAngular,p=a.schedulers.ngZone.run(()=>u.ref);return{query:u,update:dy(p,"update"),set:dy(p,"set"),push:I=>p.push(I),remove:hy(p),snapshotChanges:I=>mh(u,I,l).pipe(Ct.iC),stateChanges:I=>tp(u,I,l).pipe(Ct.iC),auditTrail:I=>function Yg(u,a,l){return function lg(u,a,l){return function zc(u,a){return Vl(u,"value","on",a).pipe((0,He.U)(l=>{let p;return l.payload.forEach(I=>(p=I.key,!1)),{data:l,lastKeyToLoad:p}}))}(u,l).pipe(function Ao(...u){const a=(0,ds.jO)(u);return(0,ge.e)((l,p)=>{const I=u.length,R=new Array(I);let U=u.map(()=>!1),te=!1;for(let he=0;he<I;he++)(0,Nr.Xf)(u[he]).subscribe((0,ye.x)(p,De=>{R[he]=De,!te&&!U[he]&&(U[he]=!0,(te=U.every(ti.y))&&(U=null))},Qi.Z));l.subscribe((0,ye.x)(p,he=>{if(te){const De=[he,...R];p.next(a?a(...De):De)}}))})}(a),(0,He.U)(([I,R])=>{const U=I.lastKeyToLoad,te=R.map(he=>he.key);return{actions:R,lastKeyToLoad:U,loadedKeys:te}}),function Si(u){return(0,ge.e)((a,l)=>{let p=!1,I=0;a.subscribe((0,ye.x)(l,R=>(p||(p=!u(R,I++)))&&l.next(R)))})}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,He.U)(I=>I.actions))}(u,tp(u,a).pipe((0,ft.R)((I,R)=>[...I,R],[])),l)}(u,I,l).pipe(Ct.iC),valueChanges:(I,R)=>mh(u,I,l).pipe((0,He.U)(te=>te.map(he=>R&&R.idField?Object.assign(Object.assign({},he.payload.val()),{[R.idField]:he.key}):he.payload.val())),Ct.iC)}}(R,this)}object(l){return function fy(u,a){return{query:u,snapshotChanges:()=>cg(u,a.schedulers.outsideAngular)().pipe(Ct.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>cg(u,a.schedulers.outsideAngular)().pipe(Ct.iC,(0,He.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Hc(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(_.LFG(Re.Dh),_.LFG(Re.xv,8),_.LFG(ug,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ct.HU),_.LFG(py,8),_.LFG(xe.zQ,8),_.LFG(xe.Qv,8),_.LFG(xe.L6,8),_.LFG(xe._Q,8),_.LFG(xe.rT,8),_.LFG(xe.lh,8),_.LFG(xe.f7,8),_.LFG(Ns.nm,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Xg=(()=>{class u{constructor(){To.Z.registerVersion("angularfire",Ct.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[dg]}),u})();var mf=H(7556);let gy=(()=>{class u{constructor(l){this.authService=l,this.authService.fetchJWT()}}return u.\u0275fac=function(l){return new(l||u)(_.Y36(mf.e))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-root"]],standalone:!0,features:[_.jDz],decls:2,vars:0,template:function(l,p){1&l&&(_.TgZ(0,"ion-app"),_._UZ(1,"ion-router-outlet"),_.qZA())},dependencies:[de.Pc,de.dr,de.jP,xe.ww,F.yb,M,Xg]}),u})();var yh=H(2340),Qg=H(529);yh.N.production&&(0,_.G48)(),(0,y.Cg)(gy,{providers:[(0,Qg.h_)(),{provide:ee.wN,useClass:de.r4},(0,_.RIp)(de.Pc.forRoot({})),(0,ee.bU)($e),(0,_.RIp)(Re.hO.initializeApp(yh.N.firebase))]})},1135:(gn,mt,H)=>{"use strict";H.d(mt,{X:()=>y});var _=H(7579);class y extends _.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const $e=super._subscribe(de);return!$e.closed&&de.next(this._value),$e}getValue(){const{hasError:de,thrownError:$e,_value:xe}=this;if(de)throw $e;return this._throwIfClosed(),xe}next(de){super.next(this._value=de)}}},9751:(gn,mt,H)=>{"use strict";H.d(mt,{y:()=>Ve});var _=H(930),y=H(727),ee=H(8822),de=H(9635),$e=H(2416),xe=H(576),me=H(2806);let Ve=(()=>{class ye{constructor(He){He&&(this._subscribe=He)}lift(He){const rt=new ye;return rt.source=this,rt.operator=He,rt}subscribe(He,rt,Ct){const Re=function ge(ye){return ye&&ye instanceof _.Lv||function we(ye){return ye&&(0,xe.m)(ye.next)&&(0,xe.m)(ye.error)&&(0,xe.m)(ye.complete)}(ye)&&(0,y.Nn)(ye)}(He)?He:new _.Hp(He,rt,Ct);return(0,me.x)(()=>{const{operator:Se,source:ue}=this;Re.add(Se?Se.call(Re,ue):ue?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(He){try{return this._subscribe(He)}catch(rt){He.error(rt)}}forEach(He,rt){return new(rt=Fe(rt))((Ct,Re)=>{const Se=new _.Hp({next:ue=>{try{He(ue)}catch(gt){Re(gt),Se.unsubscribe()}},error:Re,complete:Ct});this.subscribe(Se)})}_subscribe(He){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(He)}[ee.L](){return this}pipe(...He){return(0,de.U)(He)(this)}toPromise(He){return new(He=Fe(He))((rt,Ct)=>{let Re;this.subscribe(Se=>Re=Se,Se=>Ct(Se),()=>rt(Re))})}}return ye.create=ze=>new ye(ze),ye})();function Fe(ye){var ze;return null!==(ze=null!=ye?ye:$e.v.Promise)&&void 0!==ze?ze:Promise}},7579:(gn,mt,H)=>{"use strict";H.d(mt,{x:()=>me});var _=H(9751),y=H(727);const de=(0,H(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=H(8737),xe=H(2806);let me=(()=>{class Fe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ye=new Ve(this,this);return ye.operator=ge,ye}_throwIfClosed(){if(this.closed)throw new de}next(ge){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ge)}})}error(ge){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ge)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ye,isStopped:ze,observers:He}=this;return ye||ze?y.Lc:(this.currentObservers=null,He.push(ge),new y.w0(()=>{this.currentObservers=null,(0,$e.P)(He,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ye,thrownError:ze,isStopped:He}=this;ye?ge.error(ze):He&&ge.complete()}asObservable(){const ge=new _.y;return ge.source=this,ge}}return Fe.create=(we,ge)=>new Ve(we,ge),Fe})();class Ve extends me{constructor(we,ge){super(),this.destination=we,this.source=ge}next(we){var ge,ye;null===(ye=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ye||ye.call(ge,we)}error(we){var ge,ye;null===(ye=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ye||ye.call(ge,we)}complete(){var we,ge;null===(ge=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===ge||ge.call(we)}_subscribe(we){var ge,ye;return null!==(ye=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(we))&&void 0!==ye?ye:y.Lc}}},930:(gn,mt,H)=>{"use strict";H.d(mt,{Hp:()=>Ct,Lv:()=>ye});var _=H(576),y=H(727),ee=H(2416),de=H(7849),$e=H(5032);const xe=Fe("C",void 0,void 0);function Fe(Y,et,Ze){return{kind:Y,value:et,error:Ze}}var we=H(3410),ge=H(2806);class ye extends y.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,y.Nn)(et)&&et.add(this)):this.destination=gt}static create(et,Ze,xt){return new Ct(et,Ze,xt)}next(et){this.isStopped?ue(function Ve(Y){return Fe("N",Y,void 0)}(et),this):this._next(et)}error(et){this.isStopped?ue(function me(Y){return Fe("E",void 0,Y)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?ue(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function He(Y,et){return ze.call(Y,et)}class rt{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(et)}catch(xt){Re(xt)}}error(et){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(et)}catch(xt){Re(xt)}else Re(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ze){Re(Ze)}}}class Ct extends ye{constructor(et,Ze,xt){let Be;if(super(),(0,_.m)(et)||!et)Be={next:null!=et?et:void 0,error:null!=Ze?Ze:void 0,complete:null!=xt?xt:void 0};else{let Oe;this&&ee.v.useDeprecatedNextContext?(Oe=Object.create(et),Oe.unsubscribe=()=>this.unsubscribe(),Be={next:et.next&&He(et.next,Oe),error:et.error&&He(et.error,Oe),complete:et.complete&&He(et.complete,Oe)}):Be=et}this.destination=new rt(Be)}}function Re(Y){ee.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Y):(0,de.h)(Y)}function ue(Y,et){const{onStoppedNotification:Ze}=ee.v;Ze&&we.z.setTimeout(()=>Ze(Y,et))}const gt={closed:!0,next:$e.Z,error:function Se(Y){throw Y},complete:$e.Z}},727:(gn,mt,H)=>{"use strict";H.d(mt,{Lc:()=>xe,w0:()=>$e,Nn:()=>me});var _=H(576);const ee=(0,H(3888).d)(Fe=>function(ge){Fe(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ye,ze)=>`${ze+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var de=H(8737);class $e{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const He of ge)He.remove(this);else ge.remove(this);const{initialTeardown:ye}=this;if((0,_.m)(ye))try{ye()}catch(He){we=He instanceof ee?He.errors:[He]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const He of ze)try{Ve(He)}catch(rt){we=null!=we?we:[],rt instanceof ee?we=[...we,...rt.errors]:we.push(rt)}}if(we)throw new ee(we)}}add(we){var ge;if(we&&we!==this)if(this.closed)Ve(we);else{if(we instanceof $e){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(we)}}_hasParent(we){const{_parentage:ge}=this;return ge===we||Array.isArray(ge)&&ge.includes(we)}_addParent(we){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(we),ge):ge?[ge,we]:we}_removeParent(we){const{_parentage:ge}=this;ge===we?this._parentage=null:Array.isArray(ge)&&(0,de.P)(ge,we)}remove(we){const{_finalizers:ge}=this;ge&&(0,de.P)(ge,we),we instanceof $e&&we._removeParent(this)}}$e.EMPTY=(()=>{const Fe=new $e;return Fe.closed=!0,Fe})();const xe=$e.EMPTY;function me(Fe){return Fe instanceof $e||Fe&&"closed"in Fe&&(0,_.m)(Fe.remove)&&(0,_.m)(Fe.add)&&(0,_.m)(Fe.unsubscribe)}function Ve(Fe){(0,_.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(gn,mt,H)=>{"use strict";H.d(mt,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(gn,mt,H)=>{"use strict";H.d(mt,{z:()=>$e});var _=H(8189),ee=H(7669),de=H(8996);function $e(...xe){return function y(){return(0,_.J)(1)}()((0,de.D)(xe,(0,ee.yG)(xe)))}},515:(gn,mt,H)=>{"use strict";H.d(mt,{E:()=>y});const y=new(H(9751).y)($e=>$e.complete())},8996:(gn,mt,H)=>{"use strict";H.d(mt,{D:()=>et});var _=H(8421),y=H(5363),ee=H(9468),xe=H(9751),Ve=H(2202),Fe=H(576),we=H(9672);function ye(Ze,xt){if(!Ze)throw new Error("Iterable cannot be null");return new xe.y(Be=>{(0,we.f)(Be,xt,()=>{const Oe=Ze[Symbol.asyncIterator]();(0,we.f)(Be,xt,()=>{Oe.next().then(Pe=>{Pe.done?Be.complete():Be.next(Pe.value)})},0,!0)})})}var ze=H(3670),He=H(8239),rt=H(1144),Ct=H(6495),Re=H(2206),Se=H(4532),ue=H(3260);function et(Ze,xt){return xt?function Y(Ze,xt){if(null!=Ze){if((0,ze.c)(Ze))return function de(Ze,xt){return(0,_.Xf)(Ze).pipe((0,ee.R)(xt),(0,y.Q)(xt))}(Ze,xt);if((0,rt.z)(Ze))return function me(Ze,xt){return new xe.y(Be=>{let Oe=0;return xt.schedule(function(){Oe===Ze.length?Be.complete():(Be.next(Ze[Oe++]),Be.closed||this.schedule())})})}(Ze,xt);if((0,He.t)(Ze))return function $e(Ze,xt){return(0,_.Xf)(Ze).pipe((0,ee.R)(xt),(0,y.Q)(xt))}(Ze,xt);if((0,Re.D)(Ze))return ye(Ze,xt);if((0,Ct.T)(Ze))return function ge(Ze,xt){return new xe.y(Be=>{let Oe;return(0,we.f)(Be,xt,()=>{Oe=Ze[Ve.h](),(0,we.f)(Be,xt,()=>{let Pe,Ce;try{({value:Pe,done:Ce}=Oe.next())}catch(Ue){return void Be.error(Ue)}Ce?Be.complete():Be.next(Pe)},0,!0)}),()=>(0,Fe.m)(null==Oe?void 0:Oe.return)&&Oe.return()})}(Ze,xt);if((0,ue.L)(Ze))return function gt(Ze,xt){return ye((0,ue.Q)(Ze),xt)}(Ze,xt)}throw(0,Se.z)(Ze)}(Ze,xt):(0,_.Xf)(Ze)}},8421:(gn,mt,H)=>{"use strict";H.d(mt,{Xf:()=>ze});var _=H(655),y=H(1144),ee=H(8239),de=H(9751),$e=H(3670),xe=H(2206),me=H(4532),Ve=H(6495),Fe=H(3260),we=H(576),ge=H(7849),ye=H(8822);function ze(Y){if(Y instanceof de.y)return Y;if(null!=Y){if((0,$e.c)(Y))return function He(Y){return new de.y(et=>{const Ze=Y[ye.L]();if((0,we.m)(Ze.subscribe))return Ze.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,y.z)(Y))return function rt(Y){return new de.y(et=>{for(let Ze=0;Ze<Y.length&&!et.closed;Ze++)et.next(Y[Ze]);et.complete()})}(Y);if((0,ee.t)(Y))return function Ct(Y){return new de.y(et=>{Y.then(Ze=>{et.closed||(et.next(Ze),et.complete())},Ze=>et.error(Ze)).then(null,ge.h)})}(Y);if((0,xe.D)(Y))return Se(Y);if((0,Ve.T)(Y))return function Re(Y){return new de.y(et=>{for(const Ze of Y)if(et.next(Ze),et.closed)return;et.complete()})}(Y);if((0,Fe.L)(Y))return function ue(Y){return Se((0,Fe.Q)(Y))}(Y)}throw(0,me.z)(Y)}function Se(Y){return new de.y(et=>{(function gt(Y,et){var Ze,xt,Be,Oe;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,_.KL)(Y);!(xt=yield Ze.next()).done;)if(et.next(xt.value),et.closed)return}catch(Pe){Be={error:Pe}}finally{try{xt&&!xt.done&&(Oe=Ze.return)&&(yield Oe.call(Ze))}finally{if(Be)throw Be.error}}et.complete()})})(Y,et).catch(Ze=>et.error(Ze))})}},6451:(gn,mt,H)=>{"use strict";H.d(mt,{T:()=>xe});var _=H(8189),y=H(8421),ee=H(515),de=H(7669),$e=H(8996);function xe(...me){const Ve=(0,de.yG)(me),Fe=(0,de._6)(me,1/0),we=me;return we.length?1===we.length?(0,y.Xf)(we[0]):(0,_.J)(Fe)((0,$e.D)(we,Ve)):ee.E}},9646:(gn,mt,H)=>{"use strict";H.d(mt,{of:()=>ee});var _=H(7669),y=H(8996);function ee(...de){const $e=(0,_.yG)(de);return(0,y.D)(de,$e)}},5403:(gn,mt,H)=>{"use strict";H.d(mt,{x:()=>y});var _=H(930);function y(de,$e,xe,me,Ve){return new ee(de,$e,xe,me,Ve)}class ee extends _.Lv{constructor($e,xe,me,Ve,Fe,we){super($e),this.onFinalize=Fe,this.shouldUnsubscribe=we,this._next=xe?function(ge){try{xe(ge)}catch(ye){$e.error(ye)}}:super._next,this._error=Ve?function(ge){try{Ve(ge)}catch(ye){$e.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ge){$e.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===($e=this.onFinalize)||void 0===$e||$e.call(this))}}}},4351:(gn,mt,H)=>{"use strict";H.d(mt,{b:()=>ee});var _=H(5577),y=H(576);function ee(de,$e){return(0,y.m)($e)?(0,_.z)(de,$e,1):(0,_.z)(de,1)}},6590:(gn,mt,H)=>{"use strict";H.d(mt,{d:()=>ee});var _=H(4482),y=H(5403);function ee(de){return(0,_.e)(($e,xe)=>{let me=!1;$e.subscribe((0,y.x)(xe,Ve=>{me=!0,xe.next(Ve)},()=>{me||xe.next(de),xe.complete()}))})}},1884:(gn,mt,H)=>{"use strict";H.d(mt,{x:()=>de});var _=H(4671),y=H(4482),ee=H(5403);function de(xe,me=_.y){return xe=null!=xe?xe:$e,(0,y.e)((Ve,Fe)=>{let we,ge=!0;Ve.subscribe((0,ee.x)(Fe,ye=>{const ze=me(ye);(ge||!xe(we,ze))&&(ge=!1,we=ze,Fe.next(ye))}))})}function $e(xe,me){return xe===me}},9300:(gn,mt,H)=>{"use strict";H.d(mt,{h:()=>ee});var _=H(4482),y=H(5403);function ee(de,$e){return(0,_.e)((xe,me)=>{let Ve=0;xe.subscribe((0,y.x)(me,Fe=>de.call($e,Fe,Ve++)&&me.next(Fe)))})}},590:(gn,mt,H)=>{"use strict";H.d(mt,{P:()=>me});var _=H(6805),y=H(9300),ee=H(5698),de=H(6590),$e=H(8068),xe=H(4671);function me(Ve,Fe){const we=arguments.length>=2;return ge=>ge.pipe(Ve?(0,y.h)((ye,ze)=>Ve(ye,ze,ge)):xe.y,(0,ee.q)(1),we?(0,de.d)(Fe):(0,$e.T)(()=>new _.K))}},4004:(gn,mt,H)=>{"use strict";H.d(mt,{U:()=>ee});var _=H(4482),y=H(5403);function ee(de,$e){return(0,_.e)((xe,me)=>{let Ve=0;xe.subscribe((0,y.x)(me,Fe=>{me.next(de.call($e,Fe,Ve++))}))})}},8189:(gn,mt,H)=>{"use strict";H.d(mt,{J:()=>ee});var _=H(5577),y=H(4671);function ee(de=1/0){return(0,_.z)(y.y,de)}},5577:(gn,mt,H)=>{"use strict";H.d(mt,{z:()=>Ve});var _=H(4004),y=H(8421),ee=H(4482),de=H(9672),$e=H(5403),me=H(576);function Ve(Fe,we,ge=1/0){return(0,me.m)(we)?Ve((ye,ze)=>(0,_.U)((He,rt)=>we(ye,He,ze,rt))((0,y.Xf)(Fe(ye,ze))),ge):("number"==typeof we&&(ge=we),(0,ee.e)((ye,ze)=>function xe(Fe,we,ge,ye,ze,He,rt,Ct){const Re=[];let Se=0,ue=0,gt=!1;const Y=()=>{gt&&!Re.length&&!Se&&we.complete()},et=xt=>Se<ye?Ze(xt):Re.push(xt),Ze=xt=>{He&&we.next(xt),Se++;let Be=!1;(0,y.Xf)(ge(xt,ue++)).subscribe((0,$e.x)(we,Oe=>{null==ze||ze(Oe),He?et(Oe):we.next(Oe)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Se--;Re.length&&Se<ye;){const Oe=Re.shift();rt?(0,de.f)(we,rt,()=>Ze(Oe)):Ze(Oe)}Y()}catch(Oe){we.error(Oe)}}))};return Fe.subscribe((0,$e.x)(we,et,()=>{gt=!0,Y()})),()=>{null==Ct||Ct()}}(ye,ze,Fe,ge)))}},5363:(gn,mt,H)=>{"use strict";H.d(mt,{Q:()=>de});var _=H(9672),y=H(4482),ee=H(5403);function de($e,xe=0){return(0,y.e)((me,Ve)=>{me.subscribe((0,ee.x)(Ve,Fe=>(0,_.f)(Ve,$e,()=>Ve.next(Fe),xe),()=>(0,_.f)(Ve,$e,()=>Ve.complete(),xe),Fe=>(0,_.f)(Ve,$e,()=>Ve.error(Fe),xe)))})}},5026:(gn,mt,H)=>{"use strict";H.d(mt,{R:()=>de});var _=H(4482),y=H(5403);function de($e,xe){return(0,_.e)(function ee($e,xe,me,Ve,Fe){return(we,ge)=>{let ye=me,ze=xe,He=0;we.subscribe((0,y.x)(ge,rt=>{const Ct=He++;ze=ye?$e(ze,rt,Ct):(ye=!0,rt),Ve&&ge.next(ze)},Fe&&(()=>{ye&&ge.next(ze),ge.complete()})))}}($e,xe,arguments.length>=2,!0))}},3099:(gn,mt,H)=>{"use strict";H.d(mt,{B:()=>$e});var _=H(8421),y=H(7579),ee=H(930),de=H(4482);function $e(me={}){const{connector:Ve=(()=>new y.x),resetOnError:Fe=!0,resetOnComplete:we=!0,resetOnRefCountZero:ge=!0}=me;return ye=>{let ze,He,rt,Ct=0,Re=!1,Se=!1;const ue=()=>{null==He||He.unsubscribe(),He=void 0},gt=()=>{ue(),ze=rt=void 0,Re=Se=!1},Y=()=>{const et=ze;gt(),null==et||et.unsubscribe()};return(0,de.e)((et,Ze)=>{Ct++,!Se&&!Re&&ue();const xt=rt=null!=rt?rt:Ve();Ze.add(()=>{Ct--,0===Ct&&!Se&&!Re&&(He=xe(Y,ge))}),xt.subscribe(Ze),!ze&&Ct>0&&(ze=new ee.Hp({next:Be=>xt.next(Be),error:Be=>{Se=!0,ue(),He=xe(gt,Fe,Be),xt.error(Be)},complete:()=>{Re=!0,ue(),He=xe(gt,we),xt.complete()}}),(0,_.Xf)(et).subscribe(ze))})(ye)}}function xe(me,Ve,...Fe){if(!0===Ve)return void me();if(!1===Ve)return;const we=new ee.Hp({next:()=>{we.unsubscribe(),me()}});return Ve(...Fe).subscribe(we)}},8675:(gn,mt,H)=>{"use strict";H.d(mt,{O:()=>de});var _=H(7272),y=H(7669),ee=H(4482);function de(...$e){const xe=(0,y.yG)($e);return(0,ee.e)((me,Ve)=>{(xe?(0,_.z)($e,me,xe):(0,_.z)($e,me)).subscribe(Ve)})}},9468:(gn,mt,H)=>{"use strict";H.d(mt,{R:()=>y});var _=H(4482);function y(ee,de=0){return(0,_.e)(($e,xe)=>{xe.add(ee.schedule(()=>$e.subscribe(xe),de))})}},3900:(gn,mt,H)=>{"use strict";H.d(mt,{w:()=>de});var _=H(8421),y=H(4482),ee=H(5403);function de($e,xe){return(0,y.e)((me,Ve)=>{let Fe=null,we=0,ge=!1;const ye=()=>ge&&!Fe&&Ve.complete();me.subscribe((0,ee.x)(Ve,ze=>{null==Fe||Fe.unsubscribe();let He=0;const rt=we++;(0,_.Xf)($e(ze,rt)).subscribe(Fe=(0,ee.x)(Ve,Ct=>Ve.next(xe?xe(ze,Ct,rt,He++):Ct),()=>{Fe=null,ye()}))},()=>{ge=!0,ye()}))})}},5698:(gn,mt,H)=>{"use strict";H.d(mt,{q:()=>de});var _=H(515),y=H(4482),ee=H(5403);function de($e){return $e<=0?()=>_.E:(0,y.e)((xe,me)=>{let Ve=0;xe.subscribe((0,ee.x)(me,Fe=>{++Ve<=$e&&(me.next(Fe),$e<=Ve&&me.complete())}))})}},8505:(gn,mt,H)=>{"use strict";H.d(mt,{b:()=>$e});var _=H(576),y=H(4482),ee=H(5403),de=H(4671);function $e(xe,me,Ve){const Fe=(0,_.m)(xe)||me||Ve?{next:xe,error:me,complete:Ve}:xe;return Fe?(0,y.e)((we,ge)=>{var ye;null===(ye=Fe.subscribe)||void 0===ye||ye.call(Fe);let ze=!0;we.subscribe((0,ee.x)(ge,He=>{var rt;null===(rt=Fe.next)||void 0===rt||rt.call(Fe,He),ge.next(He)},()=>{var He;ze=!1,null===(He=Fe.complete)||void 0===He||He.call(Fe),ge.complete()},He=>{var rt;ze=!1,null===(rt=Fe.error)||void 0===rt||rt.call(Fe,He),ge.error(He)},()=>{var He,rt;ze&&(null===(He=Fe.unsubscribe)||void 0===He||He.call(Fe)),null===(rt=Fe.finalize)||void 0===rt||rt.call(Fe)}))}):de.y}},8068:(gn,mt,H)=>{"use strict";H.d(mt,{T:()=>de});var _=H(6805),y=H(4482),ee=H(5403);function de(xe=$e){return(0,y.e)((me,Ve)=>{let Fe=!1;me.subscribe((0,ee.x)(Ve,we=>{Fe=!0,Ve.next(we)},()=>Fe?Ve.complete():Ve.error(xe())))})}function $e(){return new _.K}},4408:(gn,mt,H)=>{"use strict";H.d(mt,{o:()=>$e});var _=H(727);class y extends _.w0{constructor(me,Ve){super()}schedule(me,Ve=0){return this}}const ee={setInterval(xe,me,...Ve){const{delegate:Fe}=ee;return null!=Fe&&Fe.setInterval?Fe.setInterval(xe,me,...Ve):setInterval(xe,me,...Ve)},clearInterval(xe){const{delegate:me}=ee;return((null==me?void 0:me.clearInterval)||clearInterval)(xe)},delegate:void 0};var de=H(8737);class $e extends y{constructor(me,Ve){super(me,Ve),this.scheduler=me,this.work=Ve,this.pending=!1}schedule(me,Ve=0){var Fe;if(this.closed)return this;this.state=me;const we=this.id,ge=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ge,we,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(ge,this.id,Ve),this}requestAsyncId(me,Ve,Fe=0){return ee.setInterval(me.flush.bind(me,this),Fe)}recycleAsyncId(me,Ve,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Ve;null!=Ve&&ee.clearInterval(Ve)}execute(me,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(me,Ve);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,Ve){let we,Fe=!1;try{this.work(me)}catch(ge){Fe=!0,we=ge||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:me,scheduler:Ve}=this,{actions:Fe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Fe,this),null!=me&&(this.id=this.recycleAsyncId(Ve,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(gn,mt,H)=>{"use strict";H.d(mt,{v:()=>ee});var _=H(6063);class y{constructor($e,xe=y.now){this.schedulerActionCtor=$e,this.now=xe}schedule($e,xe=0,me){return new this.schedulerActionCtor(this,$e).schedule(me,xe)}}y.now=_.l.now;class ee extends y{constructor($e,xe=y.now){super($e,xe),this.actions=[],this._active=!1}flush($e){const{actions:xe}=this;if(this._active)return void xe.push($e);let me;this._active=!0;do{if(me=$e.execute($e.state,$e.delay))break}while($e=xe.shift());if(this._active=!1,me){for(;$e=xe.shift();)$e.unsubscribe();throw me}}}},4986:(gn,mt,H)=>{"use strict";H.d(mt,{z:()=>ee});var _=H(4408);const ee=new(H(7565).v)(_.o)},6063:(gn,mt,H)=>{"use strict";H.d(mt,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(gn,mt,H)=>{"use strict";H.d(mt,{z:()=>_});const _={setTimeout(y,ee,...de){const{delegate:$e}=_;return null!=$e&&$e.setTimeout?$e.setTimeout(y,ee,...de):setTimeout(y,ee,...de)},clearTimeout(y){const{delegate:ee}=_;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(gn,mt,H)=>{"use strict";H.d(mt,{h:()=>y});const y=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gn,mt,H)=>{"use strict";H.d(mt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gn,mt,H)=>{"use strict";H.d(mt,{K:()=>y});const y=(0,H(3888).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(gn,mt,H)=>{"use strict";H.d(mt,{_6:()=>xe,jO:()=>de,yG:()=>$e});var _=H(576);function ee(me){return me[me.length-1]}function de(me){return(0,_.m)(ee(me))?me.pop():void 0}function $e(me){return function y(me){return me&&(0,_.m)(me.schedule)}(ee(me))?me.pop():void 0}function xe(me,Ve){return"number"==typeof ee(me)?me.pop():Ve}},4742:(gn,mt,H)=>{"use strict";H.d(mt,{D:()=>$e});const{isArray:_}=Array,{getPrototypeOf:y,prototype:ee,keys:de}=Object;function $e(me){if(1===me.length){const Ve=me[0];if(_(Ve))return{args:Ve,keys:null};if(function xe(me){return me&&"object"==typeof me&&y(me)===ee}(Ve)){const Fe=de(Ve);return{args:Fe.map(we=>Ve[we]),keys:Fe}}}return{args:me,keys:null}}},8737:(gn,mt,H)=>{"use strict";function _(y,ee){if(y){const de=y.indexOf(ee);0<=de&&y.splice(de,1)}}H.d(mt,{P:()=>_})},3888:(gn,mt,H)=>{"use strict";function _(y){const de=y($e=>{Error.call($e),$e.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}H.d(mt,{d:()=>_})},1810:(gn,mt,H)=>{"use strict";function _(y,ee){return y.reduce((de,$e,xe)=>(de[$e]=ee[xe],de),{})}H.d(mt,{n:()=>_})},2806:(gn,mt,H)=>{"use strict";H.d(mt,{O:()=>de,x:()=>ee});var _=H(2416);let y=null;function ee($e){if(_.v.useDeprecatedSynchronousErrorHandling){const xe=!y;if(xe&&(y={errorThrown:!1,error:null}),$e(),xe){const{errorThrown:me,error:Ve}=y;if(y=null,me)throw Ve}}else $e()}function de($e){_.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=$e)}},9672:(gn,mt,H)=>{"use strict";function _(y,ee,de,$e=0,xe=!1){const me=ee.schedule(function(){de(),xe?y.add(this.schedule(null,$e)):this.unsubscribe()},$e);if(y.add(me),!xe)return me}H.d(mt,{f:()=>_})},4671:(gn,mt,H)=>{"use strict";function _(y){return y}H.d(mt,{y:()=>_})},1144:(gn,mt,H)=>{"use strict";H.d(mt,{z:()=>_});const _=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(gn,mt,H)=>{"use strict";H.d(mt,{D:()=>y});var _=H(576);function y(ee){return Symbol.asyncIterator&&(0,_.m)(null==ee?void 0:ee[Symbol.asyncIterator])}},576:(gn,mt,H)=>{"use strict";function _(y){return"function"==typeof y}H.d(mt,{m:()=>_})},3670:(gn,mt,H)=>{"use strict";H.d(mt,{c:()=>ee});var _=H(8822),y=H(576);function ee(de){return(0,y.m)(de[_.L])}},6495:(gn,mt,H)=>{"use strict";H.d(mt,{T:()=>ee});var _=H(2202),y=H(576);function ee(de){return(0,y.m)(null==de?void 0:de[_.h])}},8239:(gn,mt,H)=>{"use strict";H.d(mt,{t:()=>y});var _=H(576);function y(ee){return(0,_.m)(null==ee?void 0:ee.then)}},3260:(gn,mt,H)=>{"use strict";H.d(mt,{L:()=>de,Q:()=>ee});var _=H(655),y=H(576);function ee($e){return(0,_.FC)(this,arguments,function*(){const me=$e.getReader();try{for(;;){const{value:Ve,done:Fe}=yield(0,_.qq)(me.read());if(Fe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Ve)}}finally{me.releaseLock()}})}function de($e){return(0,y.m)(null==$e?void 0:$e.getReader)}},4482:(gn,mt,H)=>{"use strict";H.d(mt,{A:()=>y,e:()=>ee});var _=H(576);function y(de){return(0,_.m)(null==de?void 0:de.lift)}function ee(de){return $e=>{if(y($e))return $e.lift(function(xe){try{return de(xe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gn,mt,H)=>{"use strict";H.d(mt,{Z:()=>de});var _=H(4004);const{isArray:y}=Array;function de($e){return(0,_.U)(xe=>function ee($e,xe){return y(xe)?$e(...xe):$e(xe)}($e,xe))}},5032:(gn,mt,H)=>{"use strict";function _(){}H.d(mt,{Z:()=>_})},9635:(gn,mt,H)=>{"use strict";H.d(mt,{U:()=>ee,z:()=>y});var _=H(4671);function y(...de){return ee(de)}function ee(de){return 0===de.length?_.y:1===de.length?de[0]:function(xe){return de.reduce((me,Ve)=>Ve(me),xe)}}},7849:(gn,mt,H)=>{"use strict";H.d(mt,{h:()=>ee});var _=H(2416),y=H(3410);function ee(de){y.z.setTimeout(()=>{const{onUnhandledError:$e}=_.v;if(!$e)throw de;$e(de)})}},4532:(gn,mt,H)=>{"use strict";function _(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(mt,{z:()=>_})},863:(gn,mt,H)=>{var _={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function y(ee){if(!H.o(_,ee))return Promise.resolve().then(()=>{var xe=new Error("Cannot find module '"+ee+"'");throw xe.code="MODULE_NOT_FOUND",xe});var de=_[ee],$e=de[0];return Promise.all(de.slice(1).map(H.e)).then(()=>H($e))}y.keys=()=>Object.keys(_),y.id=863,gn.exports=y},655:(gn,mt,H)=>{"use strict";function de(ct,wt){var pt={};for(var ke in ct)Object.prototype.hasOwnProperty.call(ct,ke)&&wt.indexOf(ke)<0&&(pt[ke]=ct[ke]);if(null!=ct&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ke=Object.getOwnPropertySymbols(ct);Le<ke.length;Le++)wt.indexOf(ke[Le])<0&&Object.prototype.propertyIsEnumerable.call(ct,ke[Le])&&(pt[ke[Le]]=ct[ke[Le]])}return pt}function $e(ct,wt,pt,ke){var lt,Le=arguments.length,Ne=Le<3?wt:null===ke?ke=Object.getOwnPropertyDescriptor(wt,pt):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(ct,wt,pt,ke);else for(var vt=ct.length-1;vt>=0;vt--)(lt=ct[vt])&&(Ne=(Le<3?lt(Ne):Le>3?lt(wt,pt,Ne):lt(wt,pt))||Ne);return Le>3&&Ne&&Object.defineProperty(wt,pt,Ne),Ne}function ye(ct,wt,pt,ke){return new(pt||(pt=Promise))(function(Ne,lt){function vt(yn){try{Bt(ke.next(yn))}catch(Tt){lt(Tt)}}function Xt(yn){try{Bt(ke.throw(yn))}catch(Tt){lt(Tt)}}function Bt(yn){yn.done?Ne(yn.value):function Le(Ne){return Ne instanceof pt?Ne:new pt(function(lt){lt(Ne)})}(yn.value).then(vt,Xt)}Bt((ke=ke.apply(ct,wt||[])).next())})}function Y(ct){return this instanceof Y?(this.v=ct,this):new Y(ct)}function et(ct,wt,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ke=pt.apply(ct,wt||[]),Ne=[];return Le={},lt("next"),lt("throw"),lt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function lt(Te){ke[Te]&&(Le[Te]=function(St){return new Promise(function(cn,Sn){Ne.push([Te,St,cn,Sn])>1||vt(Te,St)})})}function vt(Te,St){try{!function Xt(Te){Te.value instanceof Y?Promise.resolve(Te.value.v).then(Bt,yn):Tt(Ne[0][2],Te)}(ke[Te](St))}catch(cn){Tt(Ne[0][3],cn)}}function Bt(Te){vt("next",Te)}function yn(Te){vt("throw",Te)}function Tt(Te,St){Te(St),Ne.shift(),Ne.length&&vt(Ne[0][0],Ne[0][1])}}function xt(ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,wt=ct[Symbol.asyncIterator];return wt?wt.call(ct):(ct=function Ct(ct){var wt="function"==typeof Symbol&&Symbol.iterator,pt=wt&&ct[wt],ke=0;if(pt)return pt.call(ct);if(ct&&"number"==typeof ct.length)return{next:function(){return ct&&ke>=ct.length&&(ct=void 0),{value:ct&&ct[ke++],done:!ct}}};throw new TypeError(wt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ct),pt={},ke("next"),ke("throw"),ke("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function ke(Ne){pt[Ne]=ct[Ne]&&function(lt){return new Promise(function(vt,Xt){!function Le(Ne,lt,vt,Xt){Promise.resolve(Xt).then(function(Bt){Ne({value:Bt,done:vt})},lt)}(vt,Xt,(lt=ct[Ne](lt)).done,lt.value)})}}}H.d(mt,{FC:()=>et,KL:()=>xt,_T:()=>de,gn:()=>$e,mG:()=>ye,qq:()=>Y})},6895:(gn,mt,H)=>{"use strict";H.d(mt,{Do:()=>ue,EM:()=>ho,HT:()=>de,JF:()=>No,K0:()=>xe,Mx:()=>Vi,O5:()=>Ee,PM:()=>co,S$:()=>Ct,V_:()=>Fe,Ye:()=>gt,b0:()=>Se,bD:()=>ha,ez:()=>us,q:()=>ee,sg:()=>Li,tP:()=>Wn,uU:()=>fi,w_:()=>$e});var _=H(4650);let y=null;function ee(){return y}function de(B){y||(y=B)}class $e{}const xe=new _.OlP("DocumentToken");let me=(()=>{class B{historyGo(j){throw new Error("Not implemented")}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=_.Yz7({token:B,factory:function(){return function Ve(){return(0,_.LFG)(we)}()},providedIn:"platform"}),B})();const Fe=new _.OlP("Location Initialized");let we=(()=>{class B extends me{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(j){const ie=ee().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",j,!1),()=>ie.removeEventListener("popstate",j)}onHashChange(j){const ie=ee().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",j,!1),()=>ie.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ie,Me){ge()?this._history.pushState(j,ie,Me):this._location.hash=Me}replaceState(j,ie,Me){ge()?this._history.replaceState(j,ie,Me):this._location.hash=Me}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return B.\u0275fac=function(j){return new(j||B)(_.LFG(xe))},B.\u0275prov=_.Yz7({token:B,factory:function(){return function ye(){return new we((0,_.LFG)(xe))}()},providedIn:"platform"}),B})();function ge(){return!!window.history.pushState}function ze(B,Q){if(0==B.length)return Q;if(0==Q.length)return B;let j=0;return B.endsWith("/")&&j++,Q.startsWith("/")&&j++,2==j?B+Q.substring(1):1==j?B+Q:B+"/"+Q}function He(B){const Q=B.match(/#|\?|$/),j=Q&&Q.index||B.length;return B.slice(0,j-("/"===B[j-1]?1:0))+B.slice(j)}function rt(B){return B&&"?"!==B[0]?"?"+B:B}let Ct=(()=>{class B{historyGo(j){throw new Error("Not implemented")}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=_.Yz7({token:B,factory:function(){return(0,_.f3M)(Se)},providedIn:"root"}),B})();const Re=new _.OlP("appBaseHref");let Se=(()=>{class B extends Ct{constructor(j,ie){var Me,Vt,Wt;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(Me=null!==(Vt=null!=ie?ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Vt?Vt:null===(Wt=(0,_.f3M)(xe).location)||void 0===Wt?void 0:Wt.origin)&&void 0!==Me?Me:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ze(this._baseHref,j)}path(j=!1){const ie=this._platformLocation.pathname+rt(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&j?`${ie}${Me}`:ie}pushState(j,ie,Me,Vt){const Wt=this.prepareExternalUrl(Me+rt(Vt));this._platformLocation.pushState(j,ie,Wt)}replaceState(j,ie,Me,Vt){const Wt=this.prepareExternalUrl(Me+rt(Vt));this._platformLocation.replaceState(j,ie,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ie,Me;null===(ie=(Me=this._platformLocation).historyGo)||void 0===ie||ie.call(Me,j)}}return B.\u0275fac=function(j){return new(j||B)(_.LFG(me),_.LFG(Re,8))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ue=(()=>{class B extends Ct{constructor(j,ie){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(j){const ie=ze(this._baseHref,j);return ie.length>0?"#"+ie:ie}pushState(j,ie,Me,Vt){let Wt=this.prepareExternalUrl(Me+rt(Vt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(j,ie,Wt)}replaceState(j,ie,Me,Vt){let Wt=this.prepareExternalUrl(Me+rt(Vt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ie,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ie,Me;null===(ie=(Me=this._platformLocation).historyGo)||void 0===ie||ie.call(Me,j)}}return B.\u0275fac=function(j){return new(j||B)(_.LFG(me),_.LFG(Re,8))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac}),B})(),gt=(()=>{class B{constructor(j){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ie=this._locationStrategy.getBaseHref();this._basePath=function xt(B){if(new RegExp("^(https?:)?//").test(B)){const[,j]=B.split(/\/\/[^\/]+/);return j}return B}(He(Ze(ie))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ie=""){return this.path()==this.normalize(j+rt(ie))}normalize(j){return B.stripTrailingSlash(function et(B,Q){if(!B||!Q.startsWith(B))return Q;const j=Q.substring(B.length);return""===j||["/",";","?","#"].includes(j[0])?j:Q}(this._basePath,Ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ie="",Me=null){this._locationStrategy.pushState(Me,"",j,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+rt(ie)),Me)}replaceState(j,ie="",Me=null){this._locationStrategy.replaceState(Me,"",j,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+rt(ie)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var ie,Me;null===(ie=(Me=this._locationStrategy).historyGo)||void 0===ie||ie.call(Me,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{const ie=this._urlChangeListeners.indexOf(j);var Me;this._urlChangeListeners.splice(ie,1),0===this._urlChangeListeners.length&&(null===(Me=this._urlChangeSubscription)||void 0===Me||Me.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ie){this._urlChangeListeners.forEach(Me=>Me(j,ie))}subscribe(j,ie,Me){return this._subject.subscribe({next:j,error:ie,complete:Me})}}return B.normalizeQueryParams=rt,B.joinWithSlash=ze,B.stripTrailingSlash=He,B.\u0275fac=function(j){return new(j||B)(_.LFG(Ct))},B.\u0275prov=_.Yz7({token:B,factory:function(){return function Y(){return new gt((0,_.LFG)(Ct))}()},providedIn:"root"}),B})();function Ze(B){return B.replace(/\/index.html$/,"")}var Ce=(()=>((Ce=Ce||{})[Ce.Format=0]="Format",Ce[Ce.Standalone=1]="Standalone",Ce))(),Ue=(()=>((Ue=Ue||{})[Ue.Narrow=0]="Narrow",Ue[Ue.Abbreviated=1]="Abbreviated",Ue[Ue.Wide=2]="Wide",Ue[Ue.Short=3]="Short",Ue))(),ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.Medium=1]="Medium",ht[ht.Long=2]="Long",ht[ht.Full=3]="Full",ht))(),_t=(()=>((_t=_t||{})[_t.Decimal=0]="Decimal",_t[_t.Group=1]="Group",_t[_t.List=2]="List",_t[_t.PercentSign=3]="PercentSign",_t[_t.PlusSign=4]="PlusSign",_t[_t.MinusSign=5]="MinusSign",_t[_t.Exponential=6]="Exponential",_t[_t.SuperscriptingExponent=7]="SuperscriptingExponent",_t[_t.PerMille=8]="PerMille",_t[_t.Infinity=9]="Infinity",_t[_t.NaN=10]="NaN",_t[_t.TimeSeparator=11]="TimeSeparator",_t[_t.CurrencyDecimal=12]="CurrencyDecimal",_t[_t.CurrencyGroup=13]="CurrencyGroup",_t))();function Xt(B,Q){return tr((0,_.cg1)(B)[_.wAp.DateFormat],Q)}function Bt(B,Q){return tr((0,_.cg1)(B)[_.wAp.TimeFormat],Q)}function yn(B,Q){return tr((0,_.cg1)(B)[_.wAp.DateTimeFormat],Q)}function Tt(B,Q){const j=(0,_.cg1)(B),ie=j[_.wAp.NumberSymbols][Q];if(typeof ie>"u"){if(Q===_t.CurrencyDecimal)return j[_.wAp.NumberSymbols][_t.Decimal];if(Q===_t.CurrencyGroup)return j[_.wAp.NumberSymbols][_t.Group]}return ie}function nn(B){if(!B[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(B,Q){for(let j=Q;j>-1;j--)if(typeof B[j]<"u")return B[j];throw new Error("Locale data API: locale data undefined")}function vn(B){const[Q,j]=B.split(":");return{hours:+Q,minutes:+j}}const mi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xi={},Hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gn=(()=>((Gn=Gn||{})[Gn.Short=0]="Short",Gn[Gn.ShortGMT=1]="ShortGMT",Gn[Gn.Long=2]="Long",Gn[Gn.Extended=3]="Extended",Gn))(),en=(()=>((en=en||{})[en.FullYear=0]="FullYear",en[en.Month=1]="Month",en[en.Date=2]="Date",en[en.Hours=3]="Hours",en[en.Minutes=4]="Minutes",en[en.Seconds=5]="Seconds",en[en.FractionalSeconds=6]="FractionalSeconds",en[en.Day=7]="Day",en))(),pn=(()=>((pn=pn||{})[pn.DayPeriods=0]="DayPeriods",pn[pn.Days=1]="Days",pn[pn.Months=2]="Months",pn[pn.Eras=3]="Eras",pn))();function sn(B,Q,j,ie){let Me=function st(B){if(ot(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Me,Vt=1,Wt=1]=B.split("-").map(Fn=>+Fn);return ci(Me,Vt-1,Wt)}const j=parseFloat(B);if(!isNaN(B-j))return new Date(j);let ie;if(ie=B.match(mi))return function on(B){const Q=new Date(0);let j=0,ie=0;const Me=B[8]?Q.setUTCFullYear:Q.setFullYear,Vt=B[8]?Q.setUTCHours:Q.setHours;B[9]&&(j=Number(B[9]+B[10]),ie=Number(B[9]+B[11])),Me.call(Q,Number(B[1]),Number(B[2])-1,Number(B[3]));const Wt=Number(B[4]||0)-j,Fn=Number(B[5]||0)-ie,Sr=Number(B[6]||0),Wr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return Vt.call(Q,Wt,Fn,Sr,Wr),Q}(ie)}const Q=new Date(B);if(!ot(Q))throw new Error(`Unable to convert "${B}" into a date`);return Q}(B);Q=Dr(j,Q)||Q;let Fn,Wt=[];for(;Q;){if(Fn=Hn.exec(Q),!Fn){Wt.push(Q);break}{Wt=Wt.concat(Fn.slice(1));const Fr=Wt.pop();if(!Fr)break;Q=Fr}}let Sr=Me.getTimezoneOffset();ie&&(Sr=_e(ie,Sr),Me=function Dt(B,Q,j){const ie=j?-1:1,Me=B.getTimezoneOffset();return function We(B,Q){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+Q),B}(B,ie*(_e(Q,Me)-Me))}(Me,ie,!0));let Wr="";return Wt.forEach(Fr=>{const _r=function Ie(B){if(zt[B])return zt[B];let Q;switch(B){case"G":case"GG":case"GGG":Q=lr(pn.Eras,Ue.Abbreviated);break;case"GGGG":Q=lr(pn.Eras,Ue.Wide);break;case"GGGGG":Q=lr(pn.Eras,Ue.Narrow);break;case"y":Q=Ur(en.FullYear,1,0,!1,!0);break;case"yy":Q=Ur(en.FullYear,2,0,!0,!0);break;case"yyy":Q=Ur(en.FullYear,3,0,!1,!0);break;case"yyyy":Q=Ur(en.FullYear,4,0,!1,!0);break;case"Y":Q=Yt(1);break;case"YY":Q=Yt(2,!0);break;case"YYY":Q=Yt(3);break;case"YYYY":Q=Yt(4);break;case"M":case"L":Q=Ur(en.Month,1,1);break;case"MM":case"LL":Q=Ur(en.Month,2,1);break;case"MMM":Q=lr(pn.Months,Ue.Abbreviated);break;case"MMMM":Q=lr(pn.Months,Ue.Wide);break;case"MMMMM":Q=lr(pn.Months,Ue.Narrow);break;case"LLL":Q=lr(pn.Months,Ue.Abbreviated,Ce.Standalone);break;case"LLLL":Q=lr(pn.Months,Ue.Wide,Ce.Standalone);break;case"LLLLL":Q=lr(pn.Months,Ue.Narrow,Ce.Standalone);break;case"w":Q=Qe(1);break;case"ww":Q=Qe(2);break;case"W":Q=Qe(1,!0);break;case"d":Q=Ur(en.Date,1);break;case"dd":Q=Ur(en.Date,2);break;case"c":case"cc":Q=Ur(en.Day,1);break;case"ccc":Q=lr(pn.Days,Ue.Abbreviated,Ce.Standalone);break;case"cccc":Q=lr(pn.Days,Ue.Wide,Ce.Standalone);break;case"ccccc":Q=lr(pn.Days,Ue.Narrow,Ce.Standalone);break;case"cccccc":Q=lr(pn.Days,Ue.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":Q=lr(pn.Days,Ue.Abbreviated);break;case"EEEE":Q=lr(pn.Days,Ue.Wide);break;case"EEEEE":Q=lr(pn.Days,Ue.Narrow);break;case"EEEEEE":Q=lr(pn.Days,Ue.Short);break;case"a":case"aa":case"aaa":Q=lr(pn.DayPeriods,Ue.Abbreviated);break;case"aaaa":Q=lr(pn.DayPeriods,Ue.Wide);break;case"aaaaa":Q=lr(pn.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":Q=lr(pn.DayPeriods,Ue.Abbreviated,Ce.Standalone,!0);break;case"bbbb":Q=lr(pn.DayPeriods,Ue.Wide,Ce.Standalone,!0);break;case"bbbbb":Q=lr(pn.DayPeriods,Ue.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":Q=lr(pn.DayPeriods,Ue.Abbreviated,Ce.Format,!0);break;case"BBBB":Q=lr(pn.DayPeriods,Ue.Wide,Ce.Format,!0);break;case"BBBBB":Q=lr(pn.DayPeriods,Ue.Narrow,Ce.Format,!0);break;case"h":Q=Ur(en.Hours,1,-12);break;case"hh":Q=Ur(en.Hours,2,-12);break;case"H":Q=Ur(en.Hours,1);break;case"HH":Q=Ur(en.Hours,2);break;case"m":Q=Ur(en.Minutes,1);break;case"mm":Q=Ur(en.Minutes,2);break;case"s":Q=Ur(en.Seconds,1);break;case"ss":Q=Ur(en.Seconds,2);break;case"S":Q=Ur(en.FractionalSeconds,1);break;case"SS":Q=Ur(en.FractionalSeconds,2);break;case"SSS":Q=Ur(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=Ir(Gn.Short);break;case"ZZZZZ":Q=Ir(Gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Ir(Gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Ir(Gn.Long);break;default:return null}return zt[B]=Q,Q}(Fr);Wr+=_r?_r(Me,j,Sr):"''"===Fr?"'":Fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wr}function ci(B,Q,j){const ie=new Date(0);return ie.setFullYear(B,Q,j),ie.setHours(0,0,0),ie}function Dr(B,Q){const j=function wt(B){return(0,_.cg1)(B)[_.wAp.LocaleId]}(B);if(xi[j]=xi[j]||{},xi[j][Q])return xi[j][Q];let ie="";switch(Q){case"shortDate":ie=Xt(B,ht.Short);break;case"mediumDate":ie=Xt(B,ht.Medium);break;case"longDate":ie=Xt(B,ht.Long);break;case"fullDate":ie=Xt(B,ht.Full);break;case"shortTime":ie=Bt(B,ht.Short);break;case"mediumTime":ie=Bt(B,ht.Medium);break;case"longTime":ie=Bt(B,ht.Long);break;case"fullTime":ie=Bt(B,ht.Full);break;case"short":const Me=Dr(B,"shortTime"),Vt=Dr(B,"shortDate");ie=si(yn(B,ht.Short),[Me,Vt]);break;case"medium":const Wt=Dr(B,"mediumTime"),Fn=Dr(B,"mediumDate");ie=si(yn(B,ht.Medium),[Wt,Fn]);break;case"long":const Sr=Dr(B,"longTime"),Wr=Dr(B,"longDate");ie=si(yn(B,ht.Long),[Sr,Wr]);break;case"full":const Fr=Dr(B,"fullTime"),_r=Dr(B,"fullDate");ie=si(yn(B,ht.Full),[Fr,_r])}return ie&&(xi[j][Q]=ie),ie}function si(B,Q){return Q&&(B=B.replace(/\{([^}]+)}/g,function(j,ie){return null!=Q&&ie in Q?Q[ie]:j})),B}function oi(B,Q,j="-",ie,Me){let Vt="";(B<0||Me&&B<=0)&&(Me?B=1-B:(B=-B,Vt=j));let Wt=String(B);for(;Wt.length<Q;)Wt="0"+Wt;return ie&&(Wt=Wt.slice(Wt.length-Q)),Vt+Wt}function Ur(B,Q,j=0,ie=!1,Me=!1){return function(Vt,Wt){let Fn=function vi(B,Q){switch(B){case en.FullYear:return Q.getFullYear();case en.Month:return Q.getMonth();case en.Date:return Q.getDate();case en.Hours:return Q.getHours();case en.Minutes:return Q.getMinutes();case en.Seconds:return Q.getSeconds();case en.FractionalSeconds:return Q.getMilliseconds();case en.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,Vt);if((j>0||Fn>-j)&&(Fn+=j),B===en.Hours)0===Fn&&-12===j&&(Fn=12);else if(B===en.FractionalSeconds)return function yi(B,Q){return oi(B,3).substring(0,Q)}(Fn,Q);const Sr=Tt(Wt,_t.MinusSign);return oi(Fn,Q,Sr,ie,Me)}}function lr(B,Q,j=Ce.Format,ie=!1){return function(Me,Vt){return function sr(B,Q,j,ie,Me,Vt){switch(j){case pn.Months:return function Le(B,Q,j){const ie=(0,_.cg1)(B),Vt=tr([ie[_.wAp.MonthsFormat],ie[_.wAp.MonthsStandalone]],Q);return tr(Vt,j)}(Q,Me,ie)[B.getMonth()];case pn.Days:return function ke(B,Q,j){const ie=(0,_.cg1)(B),Vt=tr([ie[_.wAp.DaysFormat],ie[_.wAp.DaysStandalone]],Q);return tr(Vt,j)}(Q,Me,ie)[B.getDay()];case pn.DayPeriods:const Wt=B.getHours(),Fn=B.getMinutes();if(Vt){const Wr=function En(B){const Q=(0,_.cg1)(B);return nn(Q),(Q[_.wAp.ExtraData][2]||[]).map(ie=>"string"==typeof ie?vn(ie):[vn(ie[0]),vn(ie[1])])}(Q),Fr=function hr(B,Q,j){const ie=(0,_.cg1)(B);nn(ie);const Vt=tr([ie[_.wAp.ExtraData][0],ie[_.wAp.ExtraData][1]],Q)||[];return tr(Vt,j)||[]}(Q,Me,ie),_r=Wr.findIndex(Ai=>{if(Array.isArray(Ai)){const[Ei,$i]=Ai,Wo=Wt>=Ei.hours&&Fn>=Ei.minutes,yo=Wt<$i.hours||Wt===$i.hours&&Fn<$i.minutes;if(Ei.hours<$i.hours){if(Wo&&yo)return!0}else if(Wo||yo)return!0}else if(Ai.hours===Wt&&Ai.minutes===Fn)return!0;return!1});if(-1!==_r)return Fr[_r]}return function pt(B,Q,j){const ie=(0,_.cg1)(B),Vt=tr([ie[_.wAp.DayPeriodsFormat],ie[_.wAp.DayPeriodsStandalone]],Q);return tr(Vt,j)}(Q,Me,ie)[Wt<12?0:1];case pn.Eras:return function Ne(B,Q){return tr((0,_.cg1)(B)[_.wAp.Eras],Q)}(Q,ie)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Me,Vt,B,Q,j,ie)}}function Ir(B){return function(Q,j,ie){const Me=-1*ie,Vt=Tt(j,_t.MinusSign),Wt=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(B){case Gn.Short:return(Me>=0?"+":"")+oi(Wt,2,Vt)+oi(Math.abs(Me%60),2,Vt);case Gn.ShortGMT:return"GMT"+(Me>=0?"+":"")+oi(Wt,1,Vt);case Gn.Long:return"GMT"+(Me>=0?"+":"")+oi(Wt,2,Vt)+":"+oi(Math.abs(Me%60),2,Vt);case Gn.Extended:return 0===ie?"Z":(Me>=0?"+":"")+oi(Wt,2,Vt)+":"+oi(Math.abs(Me%60),2,Vt);default:throw new Error(`Unknown zone width "${B}"`)}}}const Mi=0,yr=4;function Ke(B){return ci(B.getFullYear(),B.getMonth(),B.getDate()+(yr-B.getDay()))}function Qe(B,Q=!1){return function(j,ie){let Me;if(Q){const Vt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Wt=j.getDate();Me=1+Math.floor((Wt+Vt)/7)}else{const Vt=Ke(j),Wt=function jt(B){const Q=ci(B,Mi,1).getDay();return ci(B,0,1+(Q<=yr?yr:yr+7)-Q)}(Vt.getFullYear()),Fn=Vt.getTime()-Wt.getTime();Me=1+Math.round(Fn/6048e5)}return oi(Me,B,Tt(ie,_t.MinusSign))}}function Yt(B,Q=!1){return function(j,ie){return oi(Ke(j).getFullYear(),B,Tt(ie,_t.MinusSign),Q)}}const zt={};function _e(B,Q){B=B.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(j)?Q:j}function ot(B){return B instanceof Date&&!isNaN(B.valueOf())}function Vi(B,Q){Q=encodeURIComponent(Q);for(const j of B.split(";")){const ie=j.indexOf("="),[Me,Vt]=-1==ie?[j,""]:[j.slice(0,ie),j.slice(ie+1)];if(Me.trim()===Q)return decodeURIComponent(Vt)}return null}class _i{constructor(Q,j,ie,Me){this.$implicit=Q,this.ngForOf=j,this.index=ie,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class B{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ie,Me){this._viewContainer=j,this._template=ie,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ie=this._viewContainer;j.forEachOperation((Me,Vt,Wt)=>{if(null==Me.previousIndex)ie.createEmbeddedView(this._template,new _i(Me.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)ie.remove(null===Vt?void 0:Vt);else if(null!==Vt){const Fn=ie.get(Vt);ie.move(Fn,Wt),Lr(Fn,Me)}});for(let Me=0,Vt=ie.length;Me<Vt;Me++){const Fn=ie.get(Me).context;Fn.index=Me,Fn.count=Vt,Fn.ngForOf=this._ngForOf}j.forEachIdentityChange(Me=>{Lr(ie.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(j,ie){return!0}}return B.\u0275fac=function(j){return new(j||B)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},B.\u0275dir=_.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function Lr(B,Q){B.context.$implicit=Q.item}let Ee=(()=>{class B{constructor(j,ie){this._viewContainer=j,this._context=new Ge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){pe("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){pe("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ie){return!0}}return B.\u0275fac=function(j){return new(j||B)(_.Y36(_.s_b),_.Y36(_.Rgc))},B.\u0275dir=_.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class Ge{constructor(){this.$implicit=null,this.ngIf=null}}function pe(B,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,_.AaK)(Q)}'.`)}let Wn=(()=>{class B{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ie=this._viewContainerRef;if(this._viewRef&&ie.remove(ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Me,ngTemplateOutletContext:Vt,ngTemplateOutletInjector:Wt}=this;this._viewRef=ie.createEmbeddedView(Me,Vt,Wt?{injector:Wt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(j){return new(j||B)(_.Y36(_.s_b))},B.\u0275dir=_.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),B})();const ys=new _.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Oo=new _.OlP("DATE_PIPE_DEFAULT_OPTIONS");let fi=(()=>{class B{constructor(j,ie,Me){this.locale=j,this.defaultTimezone=ie,this.defaultOptions=Me}transform(j,ie,Me,Vt){if(null==j||""===j||j!=j)return null;try{var Wt,Fn,Sr,Wr,Fr;const _r=null!==(Wt=null!=ie?ie:null===(Fn=this.defaultOptions)||void 0===Fn?void 0:Fn.dateFormat)&&void 0!==Wt?Wt:"mediumDate",Ai=null!==(Sr=null!==(Wr=null!=Me?Me:null===(Fr=this.defaultOptions)||void 0===Fr?void 0:Fr.timezone)&&void 0!==Wr?Wr:this.defaultTimezone)&&void 0!==Sr?Sr:void 0;return sn(j,_r,Vt||this.locale,Ai)}catch(_r){throw function Gr(B,Q){return new _.vHH(2100,!1)}()}}}return B.\u0275fac=function(j){return new(j||B)(_.Y36(_.soG,16),_.Y36(ys,24),_.Y36(Oo,24))},B.\u0275pipe=_.Yjl({name:"date",type:B,pure:!0,standalone:!0}),B})(),us=(()=>{class B{}return B.\u0275fac=function(j){return new(j||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({}),B})();const ha="browser",Ws="server";function co(B){return B===Ws}let ho=(()=>{class B{}return B.\u0275prov=(0,_.Yz7)({token:B,providedIn:"root",factory:()=>new fa((0,_.LFG)(xe),window)}),B})();class fa{constructor(Q,j){this.document=Q,this.window=j,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const j=function vs(B,Q){const j=B.getElementById(Q)||B.getElementsByName(Q)[0];if(j)return j;if("function"==typeof B.createTreeWalker&&B.body&&(B.body.createShadowRoot||B.body.attachShadow)){const ie=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Me=ie.currentNode;for(;Me;){const Vt=Me.shadowRoot;if(Vt){const Wt=Vt.getElementById(Q)||Vt.querySelector(`[name="${Q}"]`);if(Wt)return Wt}Me=ie.nextNode()}}return null}(this.document,Q);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=Q)}}scrollToElement(Q){const j=Q.getBoundingClientRect(),ie=j.left+this.window.pageXOffset,Me=j.top+this.window.pageYOffset,Vt=this.offset();this.window.scrollTo(ie-Vt[0],Me-Vt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=fo(this.window.history)||fo(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fo(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class No{}},529:(gn,mt,H)=>{"use strict";H.d(mt,{UA:()=>_t,eN:()=>wt,h_:()=>ci});var _=H(6895),y=H(4650),ee=H(9646),de=H(9751),$e=H(4351),xe=H(9300),me=H(4004);class Ve{}class Fe{}class we{constructor(Ke){this.normalizedNames=new Map,this.lazyUpdate=null,Ke?this.lazyInit="string"==typeof Ke?()=>{this.headers=new Map,Ke.split("\n").forEach(Qe=>{const Yt=Qe.indexOf(":");if(Yt>0){const zt=Qe.slice(0,Yt),Ie=zt.toLowerCase(),_e=Qe.slice(Yt+1).trim();this.maybeSetNormalizedName(zt,Ie),this.headers.has(Ie)?this.headers.get(Ie).push(_e):this.headers.set(Ie,[_e])}})}:()=>{this.headers=new Map,Object.entries(Ke).forEach(([Qe,Yt])=>{let zt;if(zt="string"==typeof Yt?[Yt]:"number"==typeof Yt?[Yt.toString()]:Yt.map(Ie=>Ie.toString()),zt.length>0){const Ie=Qe.toLowerCase();this.headers.set(Ie,zt),this.maybeSetNormalizedName(Qe,Ie)}})}:this.headers=new Map}has(Ke){return this.init(),this.headers.has(Ke.toLowerCase())}get(Ke){this.init();const Qe=this.headers.get(Ke.toLowerCase());return Qe&&Qe.length>0?Qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ke){return this.init(),this.headers.get(Ke.toLowerCase())||null}append(Ke,Qe){return this.clone({name:Ke,value:Qe,op:"a"})}set(Ke,Qe){return this.clone({name:Ke,value:Qe,op:"s"})}delete(Ke,Qe){return this.clone({name:Ke,value:Qe,op:"d"})}maybeSetNormalizedName(Ke,Qe){this.normalizedNames.has(Qe)||this.normalizedNames.set(Qe,Ke)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ke=>this.applyUpdate(Ke)),this.lazyUpdate=null))}copyFrom(Ke){Ke.init(),Array.from(Ke.headers.keys()).forEach(Qe=>{this.headers.set(Qe,Ke.headers.get(Qe)),this.normalizedNames.set(Qe,Ke.normalizedNames.get(Qe))})}clone(Ke){const Qe=new we;return Qe.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,Qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ke]),Qe}applyUpdate(Ke){const Qe=Ke.name.toLowerCase();switch(Ke.op){case"a":case"s":let Yt=Ke.value;if("string"==typeof Yt&&(Yt=[Yt]),0===Yt.length)return;this.maybeSetNormalizedName(Ke.name,Qe);const zt=("a"===Ke.op?this.headers.get(Qe):void 0)||[];zt.push(...Yt),this.headers.set(Qe,zt);break;case"d":const Ie=Ke.value;if(Ie){let _e=this.headers.get(Qe);if(!_e)return;_e=_e.filter(We=>-1===Ie.indexOf(We)),0===_e.length?(this.headers.delete(Qe),this.normalizedNames.delete(Qe)):this.headers.set(Qe,_e)}else this.headers.delete(Qe),this.normalizedNames.delete(Qe)}}forEach(Ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Qe=>Ke(this.normalizedNames.get(Qe),this.headers.get(Qe)))}}class ye{encodeKey(Ke){return Ct(Ke)}encodeValue(Ke){return Ct(Ke)}decodeKey(Ke){return decodeURIComponent(Ke)}decodeValue(Ke){return decodeURIComponent(Ke)}}const He=/%(\d[a-f0-9])/gi,rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ct(jt){return encodeURIComponent(jt).replace(He,(Ke,Qe)=>{var Yt;return null!==(Yt=rt[Qe])&&void 0!==Yt?Yt:Ke})}function Re(jt){return`${jt}`}class Se{constructor(Ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ke.encoder||new ye,Ke.fromString){if(Ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ze(jt,Ke){const Qe=new Map;return jt.length>0&&jt.replace(/^\?/,"").split("&").forEach(zt=>{const Ie=zt.indexOf("="),[_e,We]=-1==Ie?[Ke.decodeKey(zt),""]:[Ke.decodeKey(zt.slice(0,Ie)),Ke.decodeValue(zt.slice(Ie+1))],Dt=Qe.get(_e)||[];Dt.push(We),Qe.set(_e,Dt)}),Qe}(Ke.fromString,this.encoder)}else Ke.fromObject?(this.map=new Map,Object.keys(Ke.fromObject).forEach(Qe=>{const Yt=Ke.fromObject[Qe],zt=Array.isArray(Yt)?Yt.map(Re):[Re(Yt)];this.map.set(Qe,zt)})):this.map=null}has(Ke){return this.init(),this.map.has(Ke)}get(Ke){this.init();const Qe=this.map.get(Ke);return Qe?Qe[0]:null}getAll(Ke){return this.init(),this.map.get(Ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ke,Qe){return this.clone({param:Ke,value:Qe,op:"a"})}appendAll(Ke){const Qe=[];return Object.keys(Ke).forEach(Yt=>{const zt=Ke[Yt];Array.isArray(zt)?zt.forEach(Ie=>{Qe.push({param:Yt,value:Ie,op:"a"})}):Qe.push({param:Yt,value:zt,op:"a"})}),this.clone(Qe)}set(Ke,Qe){return this.clone({param:Ke,value:Qe,op:"s"})}delete(Ke,Qe){return this.clone({param:Ke,value:Qe,op:"d"})}toString(){return this.init(),this.keys().map(Ke=>{const Qe=this.encoder.encodeKey(Ke);return this.map.get(Ke).map(Yt=>Qe+"="+this.encoder.encodeValue(Yt)).join("&")}).filter(Ke=>""!==Ke).join("&")}clone(Ke){const Qe=new Se({encoder:this.encoder});return Qe.cloneFrom=this.cloneFrom||this,Qe.updates=(this.updates||[]).concat(Ke),Qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ke=>this.map.set(Ke,this.cloneFrom.map.get(Ke))),this.updates.forEach(Ke=>{switch(Ke.op){case"a":case"s":const Qe=("a"===Ke.op?this.map.get(Ke.param):void 0)||[];Qe.push(Re(Ke.value)),this.map.set(Ke.param,Qe);break;case"d":if(void 0===Ke.value){this.map.delete(Ke.param);break}{let Yt=this.map.get(Ke.param)||[];const zt=Yt.indexOf(Re(Ke.value));-1!==zt&&Yt.splice(zt,1),Yt.length>0?this.map.set(Ke.param,Yt):this.map.delete(Ke.param)}}}),this.cloneFrom=this.updates=null)}}class gt{constructor(){this.map=new Map}set(Ke,Qe){return this.map.set(Ke,Qe),this}get(Ke){return this.map.has(Ke)||this.map.set(Ke,Ke.defaultValue()),this.map.get(Ke)}delete(Ke){return this.map.delete(Ke),this}has(Ke){return this.map.has(Ke)}keys(){return this.map.keys()}}function et(jt){return typeof ArrayBuffer<"u"&&jt instanceof ArrayBuffer}function Ze(jt){return typeof Blob<"u"&&jt instanceof Blob}function xt(jt){return typeof FormData<"u"&&jt instanceof FormData}class Oe{constructor(Ke,Qe,Yt,zt){let Ie;if(this.url=Qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ke.toUpperCase(),function Y(jt){switch(jt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zt?(this.body=void 0!==Yt?Yt:null,Ie=zt):Ie=Yt,Ie&&(this.reportProgress=!!Ie.reportProgress,this.withCredentials=!!Ie.withCredentials,Ie.responseType&&(this.responseType=Ie.responseType),Ie.headers&&(this.headers=Ie.headers),Ie.context&&(this.context=Ie.context),Ie.params&&(this.params=Ie.params)),this.headers||(this.headers=new we),this.context||(this.context=new gt),this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=Qe;else{const We=Qe.indexOf("?");this.urlWithParams=Qe+(-1===We?"?":We<Qe.length-1?"&":"")+_e}}else this.params=new Se,this.urlWithParams=Qe}serializeBody(){return null===this.body?null:et(this.body)||Ze(this.body)||xt(this.body)||function Be(jt){return typeof URLSearchParams<"u"&&jt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:Ze(this.body)?this.body.type||null:et(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ke={}){var Qe;const Yt=Ke.method||this.method,zt=Ke.url||this.url,Ie=Ke.responseType||this.responseType,_e=void 0!==Ke.body?Ke.body:this.body,We=void 0!==Ke.withCredentials?Ke.withCredentials:this.withCredentials,Dt=void 0!==Ke.reportProgress?Ke.reportProgress:this.reportProgress;let st=Ke.headers||this.headers,on=Ke.params||this.params;const ot=null!==(Qe=Ke.context)&&void 0!==Qe?Qe:this.context;return void 0!==Ke.setHeaders&&(st=Object.keys(Ke.setHeaders).reduce((je,ve)=>je.set(ve,Ke.setHeaders[ve]),st)),Ke.setParams&&(on=Object.keys(Ke.setParams).reduce((je,ve)=>je.set(ve,Ke.setParams[ve]),on)),new Oe(Yt,zt,_e,{params:on,headers:st,context:ot,reportProgress:Dt,responseType:Ie,withCredentials:We})}}var Pe=(()=>((Pe=Pe||{})[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe))();class Ce{constructor(Ke,Qe=200,Yt="OK"){this.headers=Ke.headers||new we,this.status=void 0!==Ke.status?Ke.status:Qe,this.statusText=Ke.statusText||Yt,this.url=Ke.url||null,this.ok=this.status>=200&&this.status<300}}class Ue extends Ce{constructor(Ke={}){super(Ke),this.type=Pe.ResponseHeader}clone(Ke={}){return new Ue({headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class ht extends Ce{constructor(Ke={}){super(Ke),this.type=Pe.Response,this.body=void 0!==Ke.body?Ke.body:null}clone(Ke={}){return new ht({body:void 0!==Ke.body?Ke.body:this.body,headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class _t extends Ce{constructor(Ke){super(Ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ke.url||"(unknown url)"}`:`Http failure response for ${Ke.url||"(unknown url)"}: ${Ke.status} ${Ke.statusText}`,this.error=Ke.error||null}}function ct(jt,Ke){return{body:Ke,headers:jt.headers,context:jt.context,observe:jt.observe,params:jt.params,reportProgress:jt.reportProgress,responseType:jt.responseType,withCredentials:jt.withCredentials}}let wt=(()=>{class jt{constructor(Qe){this.handler=Qe}request(Qe,Yt,zt={}){let Ie;if(Qe instanceof Oe)Ie=Qe;else{let Dt,st;Dt=zt.headers instanceof we?zt.headers:new we(zt.headers),zt.params&&(st=zt.params instanceof Se?zt.params:new Se({fromObject:zt.params})),Ie=new Oe(Qe,Yt,void 0!==zt.body?zt.body:null,{headers:Dt,context:zt.context,params:st,reportProgress:zt.reportProgress,responseType:zt.responseType||"json",withCredentials:zt.withCredentials})}const _e=(0,ee.of)(Ie).pipe((0,$e.b)(Dt=>this.handler.handle(Dt)));if(Qe instanceof Oe||"events"===zt.observe)return _e;const We=_e.pipe((0,xe.h)(Dt=>Dt instanceof ht));switch(zt.observe||"body"){case"body":switch(Ie.responseType){case"arraybuffer":return We.pipe((0,me.U)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dt.body}));case"blob":return We.pipe((0,me.U)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof Blob))throw new Error("Response is not a Blob.");return Dt.body}));case"text":return We.pipe((0,me.U)(Dt=>{if(null!==Dt.body&&"string"!=typeof Dt.body)throw new Error("Response is not a string.");return Dt.body}));default:return We.pipe((0,me.U)(Dt=>Dt.body))}case"response":return We;default:throw new Error(`Unreachable: unhandled observe type ${zt.observe}}`)}}delete(Qe,Yt={}){return this.request("DELETE",Qe,Yt)}get(Qe,Yt={}){return this.request("GET",Qe,Yt)}head(Qe,Yt={}){return this.request("HEAD",Qe,Yt)}jsonp(Qe,Yt){return this.request("JSONP",Qe,{params:(new Se).append(Yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Qe,Yt={}){return this.request("OPTIONS",Qe,Yt)}patch(Qe,Yt,zt={}){return this.request("PATCH",Qe,ct(zt,Yt))}post(Qe,Yt,zt={}){return this.request("POST",Qe,ct(zt,Yt))}put(Qe,Yt,zt={}){return this.request("PUT",Qe,ct(zt,Yt))}}return jt.\u0275fac=function(Qe){return new(Qe||jt)(y.LFG(Ve))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac}),jt})();function pt(jt,Ke){return Ke(jt)}const lt=new y.OlP("HTTP_INTERCEPTOR_FNS");let Xt=(()=>{class jt extends Ve{constructor(Qe,Yt){super(),this.backend=Qe,this.injector=Yt,this.chain=null}handle(Qe){if(null===this.chain){const Yt=Array.from(new Set(this.injector.get(lt)));this.chain=Yt.reduceRight((zt,Ie)=>function Le(jt,Ke,Qe){return(Yt,zt)=>Qe.runInContext(()=>Ke(Yt,Ie=>jt(Ie,zt)))}(zt,Ie,this.injector),pt)}return this.chain(Qe,Yt=>this.backend.handle(Yt))}}return jt.\u0275fac=function(Qe){return new(Qe||jt)(y.LFG(Fe),y.LFG(y.lqb))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const hr=/^\)\]\}',?\n/;let tr=(()=>{class jt{constructor(Qe){this.xhrFactory=Qe}handle(Qe){if("JSONP"===Qe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new de.y(Yt=>{const zt=this.xhrFactory.build();if(zt.open(Qe.method,Qe.urlWithParams),Qe.withCredentials&&(zt.withCredentials=!0),Qe.headers.forEach((ve,ut)=>zt.setRequestHeader(ve,ut.join(","))),Qe.headers.has("Accept")||zt.setRequestHeader("Accept","application/json, text/plain, */*"),!Qe.headers.has("Content-Type")){const ve=Qe.detectContentTypeHeader();null!==ve&&zt.setRequestHeader("Content-Type",ve)}if(Qe.responseType){const ve=Qe.responseType.toLowerCase();zt.responseType="json"!==ve?ve:"text"}const Ie=Qe.serializeBody();let _e=null;const We=()=>{if(null!==_e)return _e;const ve=zt.statusText||"OK",ut=new we(zt.getAllResponseHeaders()),Rt=function Cr(jt){return"responseURL"in jt&&jt.responseURL?jt.responseURL:/^X-Request-URL:/m.test(jt.getAllResponseHeaders())?jt.getResponseHeader("X-Request-URL"):null}(zt)||Qe.url;return _e=new Ue({headers:ut,status:zt.status,statusText:ve,url:Rt}),_e},Dt=()=>{let{headers:ve,status:ut,statusText:Rt,url:ln}=We(),Tn=null;204!==ut&&(Tn=typeof zt.response>"u"?zt.responseText:zt.response),0===ut&&(ut=Tn?200:0);let qn=ut>=200&&ut<300;if("json"===Qe.responseType&&"string"==typeof Tn){const fr=Tn;Tn=Tn.replace(hr,"");try{Tn=""!==Tn?JSON.parse(Tn):null}catch(zr){Tn=fr,qn&&(qn=!1,Tn={error:zr,text:Tn})}}qn?(Yt.next(new ht({body:Tn,headers:ve,status:ut,statusText:Rt,url:ln||void 0})),Yt.complete()):Yt.error(new _t({error:Tn,headers:ve,status:ut,statusText:Rt,url:ln||void 0}))},st=ve=>{const{url:ut}=We(),Rt=new _t({error:ve,status:zt.status||0,statusText:zt.statusText||"Unknown Error",url:ut||void 0});Yt.error(Rt)};let on=!1;const ot=ve=>{on||(Yt.next(We()),on=!0);let ut={type:Pe.DownloadProgress,loaded:ve.loaded};ve.lengthComputable&&(ut.total=ve.total),"text"===Qe.responseType&&zt.responseText&&(ut.partialText=zt.responseText),Yt.next(ut)},je=ve=>{let ut={type:Pe.UploadProgress,loaded:ve.loaded};ve.lengthComputable&&(ut.total=ve.total),Yt.next(ut)};return zt.addEventListener("load",Dt),zt.addEventListener("error",st),zt.addEventListener("timeout",st),zt.addEventListener("abort",st),Qe.reportProgress&&(zt.addEventListener("progress",ot),null!==Ie&&zt.upload&&zt.upload.addEventListener("progress",je)),zt.send(Ie),Yt.next({type:Pe.Sent}),()=>{zt.removeEventListener("error",st),zt.removeEventListener("abort",st),zt.removeEventListener("load",Dt),zt.removeEventListener("timeout",st),Qe.reportProgress&&(zt.removeEventListener("progress",ot),null!==Ie&&zt.upload&&zt.upload.removeEventListener("progress",je)),zt.readyState!==zt.DONE&&zt.abort()}})}}return jt.\u0275fac=function(Qe){return new(Qe||jt)(y.LFG(_.JF))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const vn=new y.OlP("XSRF_ENABLED"),bi=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mi=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xi{}let Hn=(()=>{class jt{constructor(Qe,Yt,zt){this.doc=Qe,this.platform=Yt,this.cookieName=zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Qe=this.doc.cookie||"";return Qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(Qe,this.cookieName),this.lastCookieString=Qe),this.lastToken}}return jt.\u0275fac=function(Qe){return new(Qe||jt)(y.LFG(_.K0),y.LFG(y.Lbi),y.LFG(bi))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac}),jt})();function Gn(jt,Ke){const Qe=jt.url.toLowerCase();if(!(0,y.f3M)(vn)||"GET"===jt.method||"HEAD"===jt.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return Ke(jt);const Yt=(0,y.f3M)(xi).getToken(),zt=(0,y.f3M)(mi);return null!=Yt&&!jt.headers.has(zt)&&(jt=jt.clone({headers:jt.headers.set(zt,Yt)})),Ke(jt)}function ci(...jt){const Ke=[wt,tr,Xt,{provide:Ve,useExisting:Xt},{provide:Fe,useExisting:tr},{provide:lt,useValue:Gn,multi:!0},{provide:vn,useValue:!0},{provide:xi,useClass:Hn}];for(const Qe of jt)Ke.push(...Qe.\u0275providers);return(0,y.MR2)(Ke)}},4650:(gn,mt,H)=>{"use strict";H.d(mt,{$8M:()=>eo,$WT:()=>ir,$Z:()=>qf,AFp:()=>UE,ALo:()=>c,AaK:()=>Ve,BQk:()=>ap,CHM:()=>L,CRH:()=>vE,CZH:()=>p_,CqO:()=>lv,D6c:()=>xw,DdM:()=>i_,EJc:()=>GI,EpF:()=>om,F$t:()=>Ty,F4k:()=>am,FYo:()=>$c,FiY:()=>gi,G48:()=>fw,Gf:()=>mE,GfV:()=>Bf,GkF:()=>vu,Gpc:()=>ge,Hsn:()=>dm,JOm:()=>Uo,KtG:()=>ne,LFG:()=>Ir,LMc:()=>Mw,Lbi:()=>jI,Lck:()=>Jv,MMx:()=>ev,MR2:()=>ku,NdJ:()=>by,OlP:()=>ki,Oqu:()=>fg,P3R:()=>Zd,PXZ:()=>ow,Q6J:()=>Ey,QGY:()=>Cy,Qsj:()=>rh,R0b:()=>ed,RDi:()=>Lh,RIp:()=>Uh,Rgc:()=>Oi,SBq:()=>ic,Sil:()=>KI,Suo:()=>yE,TTD:()=>uo,TgZ:()=>op,X6Q:()=>hw,XFs:()=>vn,Xpm:()=>qn,Xts:()=>kf,Y36:()=>Uc,YKP:()=>ml,YNc:()=>rm,Yjl:()=>vr,Yz7:()=>Tt,Z0I:()=>Sn,ZZ4:()=>Z0,_Bn:()=>Dh,_UZ:()=>im,_Vd:()=>qa,_uU:()=>bv,aQg:()=>X0,c2e:()=>HI,cJS:()=>St,cg1:()=>Mm,dDg:()=>nw,dqk:()=>Hn,eJc:()=>k0,ekj:()=>bm,eoX:()=>YE,f3M:()=>yr,g9A:()=>jE,h0i:()=>Qa,hij:()=>Am,iGM:()=>gE,iPO:()=>cw,ifc:()=>Dt,ip1:()=>$E,jDz:()=>Af,kL8:()=>Pm,lG2:()=>Vn,lqb:()=>Ll,lri:()=>KE,n5z:()=>Yc,oAB:()=>bt,oxw:()=>uv,q4F:()=>Op,qLn:()=>pu,qOj:()=>mf,qZA:()=>Rd,rWj:()=>qE,s9C:()=>hm,sBO:()=>pw,s_b:()=>$a,soG:()=>g_,tb:()=>XE,tp0:()=>Bs,uIk:()=>vh,vHH:()=>Re,vpe:()=>xn,wAp:()=>kr,xi3:()=>G,xp6:()=>ah,ynx:()=>sm,z2F:()=>m_,zSh:()=>jh,zs3:()=>zu});var _=H(7579),y=H(727),ee=H(9751),de=H(6451),$e=H(3099);function xe(n){for(let i in n)if(n[i]===xe)return i;throw Error("Could not find renamed property on target object.")}function me(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Fe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const we=xe({__forward_ref__:xe});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return Ve(this())},n}function ye(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(we)&&n.__forward_ref__===ge}function He(n){return n&&!!n.\u0275providers}const Ct="https://g.co/ng/security#xss";class Re extends Error{constructor(i,o){super(Se(i,o)),this.code=i}}function Se(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function gt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}function xt(n,i){throw new Re(-201,!1)}function lt(n,i){null==n&&function vt(n,i,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function Tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function cn(n){return zn(n,En)||zn(n,Cr)}function Sn(n){return null!==cn(n)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function nn(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(tr))?n[hr]:null}const En=xe({\u0275prov:xe}),hr=xe({\u0275inj:xe}),Cr=xe({ngInjectableDef:xe}),tr=xe({ngInjectorDef:xe});var vn=(()=>((vn=vn||{})[vn.Default=0]="Default",vn[vn.Host=1]="Host",vn[vn.Self=2]="Self",vn[vn.SkipSelf=4]="SkipSelf",vn[vn.Optional=8]="Optional",vn))();let jn;function br(n){const i=jn;return jn=n,i}function mi(n,i,o){const d=cn(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&vn.Optional?null:void 0!==i?i:void xt(Ve(n))}const Hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sn={},ci="__NG_DI_FLAG__",Dr="ngTempTokenPath",si="ngTokenPath",oi=/\n/gm,yi="\u0275",Ur="__source";let vi;function lr(n){const i=vi;return vi=n,i}function sr(n,i=vn.Default){if(void 0===vi)throw new Re(-203,!1);return null===vi?mi(n,void 0,i):vi.get(n,i&vn.Optional?null:void 0,i)}function Ir(n,i=vn.Default){return(function bi(){return jn}()||sr)(ye(n),i)}function yr(n,i=vn.Default){return Ir(n,jt(i))}function jt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ke(n){const i=[];for(let o=0;o<n.length;o++){const d=ye(n[o]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,!1);let h,v=vn.Default;for(let D=0;D<d.length;D++){const N=d[D],V=Yt(N);"number"==typeof V?-1===V?h=N.token:v|=V:h=N}i.push(Ir(h,v))}else i.push(Ir(d))}return i}function Qe(n,i){return n[ci]=i,n.prototype[ci]=i,n}function Yt(n){return n[ci]}function _e(n){return{toString:n}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),Dt=(()=>{return(n=Dt||(Dt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dt;var n})();const st={},on=[],ot=xe({\u0275cmp:xe}),je=xe({\u0275dir:xe}),ve=xe({\u0275pipe:xe}),ut=xe({\u0275mod:xe}),Rt=xe({\u0275fac:xe}),ln=xe({__NG_ELEMENT_ID__:xe});let Tn=0;function qn(n){return _e(()=>{const i=Ds(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Dt.Emulated,id:"c"+Tn++,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null};Fi(o);const d=n.dependencies;return o.directiveDefs=Vi(d,!1),o.pipeDefs=Vi(d,!0),o})}function zr(n){return Nn(n)||or(n)}function $t(n){return null!==n}function bt(n){return _e(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function On(n,i){if(null==n)return st;const o={};for(const d in n)if(n.hasOwnProperty(d)){let h=n[d],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),o[h]=d,i&&(i[h]=v)}return o}function Vn(n){return _e(()=>{const i=Ds(n);return Fi(i),i})}function vr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nn(n){return n[ot]||null}function or(n){return n[je]||null}function rr(n){return n[ve]||null}function ir(n){const i=Nn(n)||or(n)||rr(n);return null!==i&&i.standalone}function Xn(n,i){const o=n[ut]||null;if(!o&&!0===i)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return o}function Ds(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:On(n.inputs,i),outputs:On(n.outputs)}}function Fi(n){var i;null===(i=n.features)||void 0===i||i.forEach(o=>o(n))}function Vi(n,i){if(!n)return null;const o=i?rr:zr;return()=>("function"==typeof n?n():n).map(d=>o(d)).filter($t)}const ji=0,In=1,nr=2,ei=3,qi=4,Pr=5,_i=6,Li=7,Lr=8,se=9,Ee=10,Ge=11,pe=12,Ye=13,qe=14,Nt=15,At=16,Ht=17,Qt=18,dn=19,Yn=20,Wn=21,pr=22,Bi=1,dt=2,tt=7,Et=8,qt=9,tn=10;function gr(n){return Array.isArray(n)&&"object"==typeof n[Bi]}function mr(n){return Array.isArray(n)&&!0===n[Bi]}function Xr(n){return 0!=(4&n.flags)}function ys(n){return n.componentOffset>-1}function Oo(n){return 1==(1&n.flags)}function fi(n){return!!n.template}function Ts(n){return 0!=(256&n[nr])}function Qr(n,i){return n.hasOwnProperty(Rt)?n[Rt]:null}class ks{constructor(i,o,d){this.previousValue=i,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function uo(){return ho}function ho(n){return n.type.prototype.ngOnChanges&&(n.setInput=fo),fa}function fa(){const n=ta(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===st)n.previous=i;else for(let d in i)o[d]=i[d];n.current=null,this.ngOnChanges(i)}}function fo(n,i,o,d){const h=this.declaredInputs[o],v=ta(n)||function No(n,i){return n[vs]=i}(n,{previous:st,current:null}),D=v.current||(v.current={}),N=v.previous,V=N[h];D[h]=new ks(V&&V.currentValue,i,N===st),n[d]=i}uo.ngInherit=!0;const vs="__ngSimpleChanges__";function ta(n){return n[vs]||null}const zi=function(n,i,o){};function Ri(n){for(;Array.isArray(n);)n=n[ji];return n}function go(n,i){return Ri(i[n])}function Pi(n,i){return Ri(i[n.index])}function el(n,i){return n.data[i]}function Xi(n,i){const o=i[n];return gr(o)?o:o[ji]}function Gi(n){return 64==(64&n[nr])}function Ns(n,i){return null==i?null:n[i]}function To(n){n[Qt]=0}function ia(n,i){n[Pr]+=i;let o=n,d=n[ei];for(;null!==d&&(1===i&&1===o[Pr]||-1===i&&0===o[Pr]);)d[Pr]+=i,o=d,d=d[ei]}const wr={lFrame:os(null),bindingsEnabled:!0};function T(){return wr.bindingsEnabled}function M(){return wr.lFrame.lView}function F(){return wr.lFrame.tView}function L(n){return wr.lFrame.contextLView=n,n[Lr]}function ne(n){return wr.lFrame.contextLView=null,n}function ft(){let n=mn();for(;null!==n&&64===n.type;)n=n.parent;return n}function mn(){return wr.lFrame.currentTNode}function ti(n,i){const o=wr.lFrame;o.currentTNode=n,o.isParent=i}function Qi(){return wr.lFrame.isParent}function ds(){wr.lFrame.isParent=!1}function ts(){const n=wr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function oa(){return wr.lFrame.bindingIndex++}function Sa(n,i){const o=wr.lFrame;o.bindingIndex=o.bindingRootIndex=n,ns(i)}function ns(n){wr.lFrame.currentDirectiveIndex=n}function nl(){return wr.lFrame.currentQueryIndex}function Aa(n){wr.lFrame.currentQueryIndex=n}function zo(n){const i=n[In];return 2===i.type?i.declTNode:1===i.type?n[_i]:null}function Fo(n,i,o){if(o&vn.SkipSelf){let h=i,v=n;for(;!(h=h.parent,null!==h||o&vn.Host||(h=zo(v),null===h||(v=v[Nt],10&h.type))););if(null===h)return!1;i=h,n=v}const d=wr.lFrame=ga();return d.currentTNode=i,d.lView=n,!0}function rl(n){const i=ga(),o=n[In];wr.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ga(){const n=wr.lFrame,i=null===n?null:n.child;return null===i?os(n):i}function os(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function xo(){const n=wr.lFrame;return wr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Go=xo;function Zs(){const n=xo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function as(){return wr.lFrame.selectedIndex}function Fs(n){wr.lFrame.selectedIndex=n}function Br(){const n=wr.lFrame;return el(n.tView,n.selectedIndex)}function Tr(n,i){for(let X=i.directiveStart,ce=i.directiveEnd;X<ce;X++){const at=n.data[X].type.prototype,{ngAfterContentInit:Ft,ngAfterContentChecked:un,ngAfterViewInit:Dn,ngAfterViewChecked:Kn,ngOnDestroy:Er}=at;var o,d,h,v,D,N,V;Ft&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-X,Ft),un&&((null!==(d=n.contentHooks)&&void 0!==d?d:n.contentHooks=[]).push(X,un),(null!==(h=n.contentCheckHooks)&&void 0!==h?h:n.contentCheckHooks=[]).push(X,un)),Dn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-X,Dn),Kn&&((null!==(D=n.viewHooks)&&void 0!==D?D:n.viewHooks=[]).push(X,Kn),(null!==(N=n.viewCheckHooks)&&void 0!==N?N:n.viewCheckHooks=[]).push(X,Kn)),null!=Er&&(null!==(V=n.destroyHooks)&&void 0!==V?V:n.destroyHooks=[]).push(X,Er)}}function zl(n,i,o){Q(n,i,3,o)}function _l(n,i,o,d){(3&n[nr])===o&&Q(n,i,o,d)}function B(n,i){let o=n[nr];(3&o)===i&&(o&=2047,o+=1,n[nr]=o)}function Q(n,i,o,d){const v=null!=d?d:-1,D=i.length-1;let N=0;for(let V=void 0!==d?65535&n[Qt]:0;V<D;V++)if("number"==typeof i[V+1]){if(N=i[V],null!=d&&N>=d)break}else i[V]<0&&(n[Qt]+=65536),(N<v||-1==v)&&(j(n,o,i,V),n[Qt]=(4294901760&n[Qt])+V+2),V++}function j(n,i,o,d){const h=o[d]<0,v=o[d+1],N=n[h?-o[d]:o[d]];if(h){if(n[nr]>>11<n[Qt]>>16&&(3&n[nr])===i){n[nr]+=2048,zi(4,N,v);try{v.call(N)}finally{zi(5,N,v)}}}else{zi(4,N,v);try{v.call(N)}finally{zi(5,N,v)}}}const ie=-1;class Me{constructor(i,o,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Ei(n,i,o){let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const v=o[d++],D=o[d++],N=o[d++];n.setAttribute(i,D,N,v)}else{const v=h,D=o[++d];Wo(v)?n.setProperty(i,v,D):n.setAttribute(i,v,D),d++}}return d}function $i(n){return 3===n||4===n||6===n}function Wo(n){return 64===n.charCodeAt(0)}function yo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let d=0;d<i.length;d++){const h=i[d];"number"==typeof h?o=h:0===o||Ko(n,o,h,null,-1===o||2===o?i[++d]:null)}}return n}function Ko(n,i,o,d,h){let v=0,D=n.length;if(-1===i)D=-1;else for(;v<n.length;){const N=n[v++];if("number"==typeof N){if(N===i){D=-1;break}if(N>i){D=v-1;break}}}for(;v<n.length;){const N=n[v];if("number"==typeof N)break;if(N===o){if(null===d)return void(null!==h&&(n[v+1]=h));if(d===n[v+1])return void(n[v+2]=h)}v++,null!==d&&v++,null!==h&&v++}-1!==D&&(n.splice(D,0,i),v=D+1),n.splice(v++,0,o),null!==d&&n.splice(v++,0,d),null!==h&&n.splice(v++,0,h)}function _s(n){return n!==ie}function Xs(n){return 32767&n}function Qs(n,i){let o=function Ls(n){return n>>16}(n),d=i;for(;o>0;)d=d[Nt],o--;return d}let il=!0;function El(n){const i=il;return il=n,i}const qo=255,Kc=5;let Wi=0;const vo={};function oc(n,i){const o=hn(n,i);if(-1!==o)return o;const d=i[In];d.firstCreatePass&&(n.injectorIndex=i.length,ac(d.data,n),ac(i,null),ac(d.blueprint,null));const h=Ji(n,i),v=n.injectorIndex;if(_s(h)){const D=Xs(h),N=Qs(h,i),V=N[In].data;for(let X=0;X<8;X++)i[v+X]=N[D+X]|V[D+X]}return i[v+8]=h,v}function ac(n,i){n.push(0,0,0,0,0,0,0,0,i)}function hn(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ji(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,h=i;for(;null!==h;){if(d=Rc(h),null===d)return ie;if(o++,h=h[Nt],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return ie}function hi(n,i,o){!function Js(n,i,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(ln)&&(d=o[ln]),null==d&&(d=o[ln]=Wi++);const h=d&qo;i.data[n+(h>>Kc)]|=1<<h}(n,i,o)}function $n(n,i,o){if(o&vn.Optional||void 0!==n)return n;xt()}function ar(n,i,o,d){if(o&vn.Optional&&void 0===d&&(d=null),!(o&(vn.Self|vn.Host))){const h=n[se],v=br(void 0);try{return h?h.get(i,d,o&vn.Optional):mi(i,d,o&vn.Optional)}finally{br(v)}}return $n(d,0,o)}function lc(n,i,o,d=vn.Default,h){if(null!==n){if(1024&i[nr]){const D=function wl(n,i,o,d,h){let v=n,D=i;for(;null!==v&&null!==D&&1024&D[nr]&&!(256&D[nr]);){const N=Ln(v,D,o,d|vn.Self,vo);if(N!==vo)return N;let V=v.parent;if(!V){const X=D[Wn];if(X){const ce=X.get(o,vo,d);if(ce!==vo)return ce}V=Rc(D),D=D[Nt]}v=V}return h}(n,i,o,d,vo);if(D!==vo)return D}const v=Ln(n,i,o,d,vo);if(v!==vo)return v}return ar(i,o,d,h)}function Ln(n,i,o,d,h){const v=function sl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ln)?n[ln]:void 0;return"number"==typeof i?i>=0?i&qo:Fd:i}(o);if("function"==typeof v){if(!Fo(i,n,d))return d&vn.Host?$n(h,0,d):ar(i,o,d,h);try{const D=v(d);if(null!=D||d&vn.Optional)return D;xt()}finally{Go()}}else if("number"==typeof v){let D=null,N=hn(n,i),V=ie,X=d&vn.Host?i[At][_i]:null;for((-1===N||d&vn.SkipSelf)&&(V=-1===N?Ji(n,i):i[N+8],V!==ie&&Il(d,!1)?(D=i[In],N=Xs(V),i=Qs(V,i)):N=-1);-1!==N;){const ce=i[In];if(cc(v,N,ce.data)){const Ae=Lt(N,i,o,D,d,X);if(Ae!==vo)return Ae}V=i[N+8],V!==ie&&Il(d,i[In].data[N+8]===X)&&cc(v,N,i)?(D=ce,N=Xs(V),i=Qs(V,i)):N=-1}}return h}function Lt(n,i,o,d,h,v){const D=i[In],N=D.data[n+8],ce=rn(N,D,o,null==d?ys(N)&&il:d!=D&&0!=(3&N.type),h&vn.Host&&v===N);return null!==ce?ni(i,D,ce,N):vo}function rn(n,i,o,d,h){const v=n.providerIndexes,D=i.data,N=1048575&v,V=n.directiveStart,ce=v>>20,at=h?N+ce:n.directiveEnd;for(let Ft=d?N:N+ce;Ft<at;Ft++){const un=D[Ft];if(Ft<V&&o===un||Ft>=V&&un.type===o)return Ft}if(h){const Ft=D[V];if(Ft&&fi(Ft)&&Ft.type===o)return V}return null}function ni(n,i,o,d){let h=n[o];const v=i.data;if(function Vt(n){return n instanceof Me}(h)){const D=h;D.resolving&&function Y(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${o}`)}(gt(v[o]));const N=El(D.canSeeViewProviders);D.resolving=!0;const V=D.injectImpl?br(D.injectImpl):null;Fo(n,d,vn.Default);try{h=n[o]=D.factory(void 0,v,n,d),i.firstCreatePass&&o>=d.directiveStart&&function Hl(n,i,o){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:v}=i.type.prototype;if(d){var D,N;const Ae=ho(i);(null!==(D=o.preOrderHooks)&&void 0!==D?D:o.preOrderHooks=[]).push(n,Ae),(null!==(N=o.preOrderCheckHooks)&&void 0!==N?N:o.preOrderCheckHooks=[]).push(n,Ae)}var V,X,ce;h&&(null!==(V=o.preOrderHooks)&&void 0!==V?V:o.preOrderHooks=[]).push(0-n,h),v&&((null!==(X=o.preOrderHooks)&&void 0!==X?X:o.preOrderHooks=[]).push(n,v),(null!==(ce=o.preOrderCheckHooks)&&void 0!==ce?ce:o.preOrderCheckHooks=[]).push(n,v))}(o,v[o],i)}finally{null!==V&&br(V),El(N),D.resolving=!1,Go()}}return h}function cc(n,i,o){return!!(o[i+(n>>Kc)]&1<<n)}function Il(n,i){return!(n&vn.Self||n&vn.Host&&i)}class Ma{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,d){return lc(this._tNode,this._lView,i,jt(d),o)}}function Fd(){return new Ma(ft(),M())}function Yc(n){return _e(()=>{const i=n.prototype.constructor,o=i[Rt]||Bo(i),d=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==d;){const v=h[Rt]||Bo(h);if(v&&v!==o)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function Bo(n){return ze(n)?()=>{const i=Bo(ye(n));return i&&i()}:Qr(n)}function Rc(n){const i=n[In],o=i.type;return 2===o?i.declTNode:1===o?n[_i]:null}function eo(n){return function qc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const d=o.length;let h=0;for(;h<d;){const v=o[h];if($i(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<d&&"string"==typeof o[h];)h++;else{if(v===i)return o[h+1];h+=2}}}return null}(ft(),n)}const ur="__parameters__";function Qn(n,i,o){return _e(()=>{const d=function ai(n){return function(...o){if(n){const d=n(...o);for(const h in d)this[h]=d[h]}}}(i);function h(...v){if(this instanceof h)return d.apply(this,v),this;const D=new h(...v);return N.annotation=D,N;function N(V,X,ce){const Ae=V.hasOwnProperty(ur)?V[ur]:Object.defineProperty(V,ur,{value:[]})[ur];for(;Ae.length<=ce;)Ae.push(null);return(Ae[ce]=Ae[ce]||[]).push(D),V}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class ki{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Tt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(n,i){n.forEach(o=>Array.isArray(o)?xr(o,i):i(o))}function qr(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Pt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ii(n,i){const o=[];for(let d=0;d<n;d++)o.push(i);return o}function li(n,i,o){let d=S(n,i);return d>=0?n[1|d]=o:(d=~d,function la(n,i,o,d){let h=n.length;if(h==i)n.push(o,d);else if(1===h)n.push(d,n[0]),n[0]=o;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=o,n[i+1]=d}}(n,d,i,o)),d}function Rr(n,i){const o=S(n,i);if(o>=0)return n[1|o]}function S(n,i){return function w(n,i,o){let d=0,h=n.length>>o;for(;h!==d;){const v=d+(h-d>>1),D=n[v<<o];if(i===D)return v<<o;D>i?h=v:d=v+1}return~(h<<o)}(n,i,1)}const gi=Qe(Qn("Optional"),8),Bs=Qe(Qn("SkipSelf"),4);var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();const za=new Map;let Qo=0;const It="__ngContext__";function Ut(n,i){gr(i)?(n[It]=i[Yn],function Ga(n){za.set(n[Yn],n)}(i)):n[It]=i}let Io;function ru(n,i){return Io(n,i)}function io(n){const i=n[ei];return mr(i)?i[ei]:i}function ui(n){return ll(n[Ye])}function Di(n){return ll(n[qi])}function ll(n){for(;null!==n&&!mr(n);)n=n[qi];return n}function _a(n,i,o,d,h){if(null!=d){let v,D=!1;mr(d)?v=d:gr(d)&&(D=!0,d=d[ji]);const N=Ri(d);0===n&&null!==o?null==h?gc(i,o,N):Pl(i,o,N,h||null,!0):1===n&&null!==o?Pl(i,o,N,h||null,!0):2===n?function dd(n,i,o){const d=iu(n,i);d&&function Oh(n,i,o,d){n.removeChild(i,o,d)}(n,d,i,o)}(i,N,D):3===n&&i.destroyNode(N),null!=v&&function Dp(n,i,o,d,h){const v=o[tt];v!==Ri(o)&&_a(i,n,d,v,h);for(let N=tn;N<o.length;N++){const V=o[N];vc(V[In],V,n,i,d,v)}}(i,n,v,o,h)}}function Vd(n,i,o){return n.createElement(i,o)}function sd(n,i){const o=n[qt],d=o.indexOf(i),h=i[ei];512&i[nr]&&(i[nr]&=-513,ia(h,-1)),o.splice(d,1)}function cl(n,i){if(n.length<=tn)return;const o=tn+i,d=n[o];if(d){const h=d[Ht];null!==h&&h!==n&&sd(h,d),i>0&&(n[o-1][qi]=d[qi]);const v=Pt(n,tn+i);!function bu(n,i){vc(n,i,i[Ge],2,null,null),i[ji]=null,i[_i]=null}(d[In],d);const D=v[dn];null!==D&&D.detachView(v[In]),d[ei]=null,d[qi]=null,d[nr]&=-65}return d}function jd(n,i){if(!(128&i[nr])){const o=i[Ge];o.destroyNode&&vc(n,i,o,3,null,null),function Mh(n){let i=n[Ye];if(!i)return od(n[In],n);for(;i;){let o=null;if(gr(i))o=i[Ye];else{const d=i[tn];d&&(o=d)}if(!o){for(;i&&!i[qi]&&i!==n;)gr(i)&&od(i[In],i),i=i[ei];null===i&&(i=n),gr(i)&&od(i[In],i),o=i&&i[qi]}i=o}}(i)}}function od(n,i){if(!(128&i[nr])){i[nr]&=-65,i[nr]|=128,function Wa(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const h=i[o[d]];if(!(h instanceof Me)){const v=o[d+1];if(Array.isArray(v))for(let D=0;D<v.length;D+=2){const N=h[v[D]],V=v[D+1];zi(4,N,V);try{V.call(N)}finally{zi(5,N,V)}}else{zi(4,h,v);try{v.call(h)}finally{zi(5,h,v)}}}}}(n,i),function gs(n,i){const o=n.cleanup,d=i[Li];let h=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const D=o[v+3];D>=0?d[h=D]():d[h=-D].unsubscribe(),v+=2}else{const D=d[h=o[v+1]];o[v].call(D)}if(null!==d){for(let v=h+1;v<d.length;v++)(0,d[v])();i[Li]=null}}(n,i),1===i[In].type&&i[Ge].destroy();const o=i[Ht];if(null!==o&&mr(i[ei])){o!==i[ei]&&sd(o,i);const d=i[dn];null!==d&&d.detachView(n)}!function P(n){za.delete(n[Yn])}(i)}}function Oa(n,i,o){return function Lc(n,i,o){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return o[ji];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:v}=n.data[d.directiveStart+h];if(v===Dt.None||v===Dt.Emulated)return null}return Pi(d,o)}}(n,i.parent,o)}function Pl(n,i,o,d,h){n.insertBefore(i,o,d,h)}function gc(n,i,o){n.appendChild(i,o)}function mc(n,i,o,d,h){null!==d?Pl(n,i,o,d,h):gc(n,i,o)}function iu(n,i){return n.parentNode(i)}function ad(n,i,o){return ld(n,i,o)}let cd,Yr,ou,ld=function yc(n,i,o){return 40&n.type?Pi(n,o):null};function wo(n,i,o,d){const h=Oa(n,d,i),v=i[Ge],N=ad(d.parent||i[_i],d,i);if(null!=h)if(Array.isArray(o))for(let V=0;V<o.length;V++)mc(v,h,o[V],N,!1);else mc(v,h,o,N,!1);void 0!==cd&&cd(v,d,i,o,h)}function Du(n,i){if(null!==i){const o=i.type;if(3&o)return Pi(i,n);if(4&o)return Xl(-1,n[i.index]);if(8&o){const d=i.child;if(null!==d)return Du(n,d);{const h=n[i.index];return mr(h)?Xl(-1,h):Ri(h)}}if(32&o)return ru(i,n)()||Ri(n[i.index]);{const d=ud(n,i);return null!==d?Array.isArray(d)?d[0]:Du(io(n[At]),d):Du(n,i.next)}}return null}function ud(n,i){return null!==i?n[At][_i].projection[i.projection]:null}function Xl(n,i){const o=tn+n+1;if(o<i.length){const d=i[o],h=d[In].firstChild;if(null!==h)return Du(d,h)}return i[tt]}function Tu(n,i,o,d,h,v,D){for(;null!=o;){const N=d[o.index],V=o.type;if(D&&0===i&&(N&&Ut(Ri(N),d),o.flags|=2),32!=(32&o.flags))if(8&V)Tu(n,i,o.child,d,h,v,!1),_a(i,n,h,N,v);else if(32&V){const X=ru(o,d);let ce;for(;ce=X();)_a(i,n,h,ce,v);_a(i,n,h,N,v)}else 16&V?Nh(n,i,d,o,h,v):_a(i,n,h,N,v);o=D?o.projectionNext:o.next}}function vc(n,i,o,d,h,v){Tu(o,d,n.firstChild,i,h,v,!1)}function Nh(n,i,o,d,h,v){const D=o[At],V=D[_i].projection[d.projection];if(Array.isArray(V))for(let X=0;X<V.length;X++)_a(i,n,h,V[X],v);else Tu(n,i,V,D[ei],h,v,!0)}function js(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function hd(n,i,o){const{mergedAttrs:d,classes:h,styles:v}=o;null!==d&&Ei(n,i,d),null!==h&&js(n,i,h),null!==v&&function Tp(n,i,o){n.setAttribute(i,"style",o)}(n,i,v)}function Lh(n){Yr=n}function Gd(n){var i;return(null===(i=function zd(){if(void 0===ou&&(ou=null,Hn.trustedTypes))try{ou=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ou}())||void 0===i?void 0:i.createScriptURL(n))||n}class fd{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}function ca(n){return n instanceof fd?n.changingThisBreaksApplicationSecurity:n}function kl(n,i){const o=function Pf(n){return n instanceof fd&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ct})`)}return o===i}const cu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ls=(()=>((ls=ls||{})[ls.NONE=0]="NONE",ls[ls.HTML=1]="HTML",ls[ls.STYLE=2]="STYLE",ls[ls.SCRIPT=3]="SCRIPT",ls[ls.URL=4]="URL",ls[ls.RESOURCE_URL=5]="RESOURCE_URL",ls))();function Bc(n){const i=Xd();return i?i.sanitize(ls.URL,n)||"":kl(n,"URL")?ca(n):function uu(n){return(n=String(n)).match(cu)?n:"unsafe:"+n}(ue(n))}function tc(n){const i=Xd();if(i)return Gd(i.sanitize(ls.RESOURCE_URL,n)||"");if(kl(n,"ResourceURL"))return Gd(ca(n));throw new Re(904,!1)}function Zd(n,i,o){return function vd(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tc:Bc}(i,o)(n)}function Xd(){const n=M();return n&&n[pe]}const kf=new ki("ENVIRONMENT_INITIALIZER"),Qd=new ki("INJECTOR",-1),$h=new ki("INJECTOR_DEF_TYPES");class Jd{get(i,o=sn){if(o===sn){const d=new Error(`NullInjectorError: No provider for ${Ve(i)}!`);throw d.name="NullInjectorError",d}return o}}function ku(n){return{\u0275providers:n}}function Uh(...n){return{\u0275providers:bg(0,n),\u0275fromNgModule:!0}}function bg(n,...i){const o=[],d=new Set;let h;return xr(i,v=>{const D=v;Vh(D,o,[],d)&&(h||(h=[]),h.push(D))}),void 0!==h&&bs(h,o),o}function bs(n,i){for(let o=0;o<n.length;o++){const{providers:h}=n[o];_d(h,v=>{i.push(v)})}}function Vh(n,i,o,d){if(!(n=ye(n)))return!1;let h=null,v=nn(n);const D=!v&&Nn(n);if(v||D){if(D&&!D.standalone)return!1;h=n}else{const V=n.ngModule;if(v=nn(V),!v)return!1;h=V}const N=d.has(h);if(D){if(N)return!1;if(d.add(h),D.dependencies){const V="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const X of V)Vh(X,i,o,d)}}else{if(!v)return!1;{if(null!=v.imports&&!N){let X;d.add(h);try{xr(v.imports,ce=>{Vh(ce,i,o,d)&&(X||(X=[]),X.push(ce))})}finally{}void 0!==X&&bs(X,i)}if(!N){const X=Qr(h)||(()=>new h);i.push({provide:h,useFactory:X,deps:on},{provide:$h,useValue:h,multi:!0},{provide:kf,useValue:()=>Ir(h),multi:!0})}const V=v.providers;null==V||N||_d(V,ce=>{i.push(ce)})}}return h!==n&&void 0!==n.providers}function _d(n,i){for(let o of n)He(o)&&(o=o.\u0275providers),Array.isArray(o)?_d(o,i):i(o)}const nc=xe({provide:String,useValue:xe});function Ed(n){return null!==n&&"object"==typeof n&&nc in n}function Nu(n){return"function"==typeof n}const jh=new ki("Set Injector scope."),eh={},Rp={};let du;function hu(){return void 0===du&&(du=new Jd),du}class Ll{}class Hh extends Ll{get destroyed(){return this._destroyed}constructor(i,o,d,h){super(),this.parent=o,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(i,D=>this.processProvider(D)),this.records.set(Qd,nh(void 0,this)),h.has("environment")&&this.records.set(Ll,nh(void 0,this));const v=this.records.get(jh);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get($h.multi,on,vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=lr(this),d=br(void 0);try{return i()}finally{lr(o),br(d)}}get(i,o=sn,d=vn.Default){this.assertNotDestroyed(),d=jt(d);const h=lr(this),v=br(void 0);try{if(!(d&vn.SkipSelf)){let N=this.records.get(i);if(void 0===N){const V=function Fu(n){return"function"==typeof n||"object"==typeof n&&n instanceof ki}(i)&&cn(i);N=V&&this.injectableDefInScope(V)?nh(th(i),eh):null,this.records.set(i,N)}if(null!=N)return this.hydrate(i,N)}return(d&vn.Self?hu():this.parent).get(i,o=d&vn.Optional&&o===sn?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Dr]=D[Dr]||[]).unshift(Ve(i)),h)throw D;return function zt(n,i,o,d){const h=n[Dr];throw i[Ur]&&h.unshift(i[Ur]),n.message=function Ie(n,i,o,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==yi?n.slice(2):n;let h=Ve(i);if(Array.isArray(i))h=i.map(Ve).join(" -> ");else if("object"==typeof i){let v=[];for(let D in i)if(i.hasOwnProperty(D)){let N=i[D];v.push(D+":"+("string"==typeof N?JSON.stringify(N):Ve(N)))}h=`{${v.join(", ")}}`}return`${o}${d?"("+d+")":""}[${h}]: ${n.replace(oi,"\n  ")}`}("\n"+n.message,h,o,d),n[si]=h,n[Dr]=null,n}(D,i,"R3InjectorError",this.source)}throw D}finally{br(v),lr(h)}}resolveInjectorInitializers(){const i=lr(this),o=br(void 0);try{const d=this.get(kf.multi,on,vn.Self);for(const h of d)h()}finally{lr(i),br(o)}}toString(){const i=[],o=this.records;for(const d of o.keys())i.push(Ve(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(i){let o=Nu(i=ye(i))?i:ye(i&&i.provide);const d=function Nf(n){return Ed(n)?nh(void 0,n.useValue):nh(Ff(n),eh)}(i);if(Nu(i)||!0!==i.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=nh(void 0,eh,!0),h.factory=()=>Ke(h.multi),this.records.set(o,h)),o=i,h.multi.push(i)}this.records.set(o,d)}hydrate(i,o){return o.value===eh&&(o.value=Rp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Mp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ye(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function th(n){const i=cn(n),o=null!==i?i.factory:Qr(n);if(null!==o)return o;if(n instanceof ki)throw new Re(204,!1);if(n instanceof Function)return function Tg(n){const i=n.length;if(i>0)throw Ii(i,"?"),new Re(204,!1);const o=function wn(n){return n&&(n[En]||n[Cr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Re(204,!1)}function Ff(n,i,o){let d;if(Nu(n)){const h=ye(n);return Qr(h)||th(h)}if(Ed(n))d=()=>ye(n.useValue);else if(function Id(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Ke(n.deps||[]));else if(function xp(n){return!(!n||!n.useExisting)}(n))d=()=>Ir(ye(n.useExisting));else{const h=ye(n&&(n.useClass||n.provide));if(!function zh(n){return!!n.deps}(n))return Qr(h)||th(h);d=()=>new h(...Ke(n.deps))}return d}function nh(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Lu(n,i){for(const o of n)Array.isArray(o)?Lu(o,i):o&&He(o)?Lu(o.\u0275providers,i):i(o)}class Sg{}class Lf{}class Wh{resolveComponentFactory(i){throw function Gh(n){const i=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let qa=(()=>{class n{}return n.NULL=new Wh,n})();function Bu(){return rc(ft(),M())}function rc(n,i){return new ic(Pi(n,i))}let ic=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Bu,n})();function fu(n){return n instanceof ic?n.nativeElement:n}class $c{}let rh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Pp(){const n=M(),o=Xi(ft().index,n);return(gr(o)?o:n)[Ge]}(),n})(),dl=(()=>{class n{}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:()=>null}),n})();class Bf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Op=new Bf("15.2.9"),ih={},Kh="ngOriginalError";function wd(n){return n[Kh]}class pu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&wd(i);for(;o&&wd(o);)o=wd(o);return o||null}}function Na(n){return n instanceof Function?n():n}function kp(n,i,o){let d=n.length;for(;;){const h=n.indexOf(i,o);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const v=i.length;if(h+v===d||n.charCodeAt(h+v)<=32)return h}o=h+1}}const Yh="ng-template";function Np(n,i,o){let d=0,h=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&h){const D=n[d++];if(o&&"class"===v&&-1!==kp(D.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function Fp(n){return 4===n.type&&n.value!==Yh}function jf(n,i,o){return i===(4!==n.type||o?n.value:Yh)}function Lp(n,i,o){let d=4;const h=n.attrs||[],v=function Zh(n){for(let i=0;i<n.length;i++)if($i(n[i]))return i;return n.length}(h);let D=!1;for(let N=0;N<i.length;N++){const V=i[N];if("number"!=typeof V){if(!D)if(4&d){if(d=2|1&d,""!==V&&!jf(n,V,o)||""===V&&1===i.length){if(fl(d))return!1;D=!0}}else{const X=8&d?V:i[++N];if(8&d&&null!==n.attrs){if(!Np(n.attrs,X,o)){if(fl(d))return!1;D=!0}continue}const Ae=Hf(8&d?"class":V,h,Fp(n),o);if(-1===Ae){if(fl(d))return!1;D=!0;continue}if(""!==X){let at;at=Ae>v?"":h[Ae+1].toLowerCase();const Ft=8&d?at:null;if(Ft&&-1!==kp(Ft,X,0)||2&d&&X!==at){if(fl(d))return!1;D=!0}}}}else{if(!D&&!fl(d)&&!fl(V))return!1;if(D&&fl(V))continue;D=!1,d=V|1&d}}return fl(d)||D}function fl(n){return 0==(1&n)}function Hf(n,i,o,d){if(null===i)return-1;let h=0;if(d||!o){let v=!1;for(;h<i.length;){const D=i[h];if(D===n)return h;if(3===D||6===D)v=!0;else{if(1===D||2===D){let N=i[++h];for(;"string"==typeof N;)N=i[++h];continue}if(4===D)break;if(0===D){h+=4;continue}}h+=v?1:2}return-1}return function oh(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===i)return o;o++}return-1}(i,n)}function Cd(n,i,o=!1){for(let d=0;d<i.length;d++)if(Lp(n,i[d],o))return!0;return!1}function Uu(n,i){e:for(let o=0;o<i.length;o++){const d=i[o];if(n.length===d.length){for(let h=0;h<n.length;h++)if(n[h]!==d[h])continue e;return!0}}return!1}function Bp(n,i){return n?":not("+i.trim()+")":i}function bd(n){let i=n[0],o=1,d=2,h="",v=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&d){const N=n[++o];h+="["+D+(N.length>0?'="'+N+'"':"")+"]"}else 8&d?h+="."+D:4&d&&(h+=" "+D);else""!==h&&!fl(D)&&(i+=Bp(v,h),h=""),d=D,v=v||!fl(d);o++}return""!==h&&(i+=Bp(v,h)),i}const Zr={};function ah(n){lh(F(),M(),as()+n,!1)}function lh(n,i,o,d){if(!d)if(3==(3&i[nr])){const v=n.preOrderCheckHooks;null!==v&&zl(i,v,o)}else{const v=n.preOrderHooks;null!==v&&_l(i,v,0,o)}Fs(o)}function jp(n,i=null,o=null,d){const h=Xh(n,i,o,d);return h.resolveInjectorInitializers(),h}function Xh(n,i=null,o=null,d,h=new Set){const v=[o||on,Uh(n)];return d=d||("object"==typeof n?void 0:Ve(n)),new Hh(v,i||hu(),d||null,h)}let zu=(()=>{class n{static create(o,d){if(Array.isArray(o))return jp({name:""},d,o,"");{var h;const v=null!==(h=o.name)&&void 0!==h?h:"";return jp({name:v},o.parent,o.providers,v)}}}return n.THROW_IF_NOT_FOUND=sn,n.NULL=new Jd,n.\u0275prov=Tt({token:n,providedIn:"any",factory:()=>Ir(Qd)}),n.__NG_ELEMENT_ID__=-1,n})();function Uc(n,i=vn.Default){const o=M();return null===o?Ir(n,i):lc(ft(),o,ye(n),i)}function qf(){throw new Error("invalid")}function Zp(n,i){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const v=o[d+1];if(-1!==v){const D=n.data[v];Aa(o[d]),D.contentQueries(2,i[v],v)}}}function nf(n,i,o,d,h,v,D,N,V,X,ce){const Ae=i.blueprint.slice();return Ae[ji]=h,Ae[nr]=76|d,(null!==ce||n&&1024&n[nr])&&(Ae[nr]|=1024),To(Ae),Ae[ei]=Ae[Nt]=n,Ae[Lr]=o,Ae[Ee]=D||n&&n[Ee],Ae[Ge]=N||n&&n[Ge],Ae[pe]=V||n&&n[pe]||null,Ae[se]=X||n&&n[se]||null,Ae[_i]=v,Ae[Yn]=function nu(){return Qo++}(),Ae[Wn]=ce,Ae[At]=2==i.type?n[At]:Ae,Ae}function Gu(n,i,o,d,h){let v=n.data[i];if(null===v)v=function Xp(n,i,o,d,h){const v=mn(),D=Qi(),V=n.data[i]=function Xf(n,i,o,d,h,v){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?v:v&&v.parent,o,i,d,h);return null===n.firstChild&&(n.firstChild=V),null!==v&&(D?null==v.child&&null!==V.parent&&(v.child=V):null===v.next&&(v.next=V,V.prev=v)),V}(n,i,o,d,h),function yl(){return wr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=o,v.value=d,v.attrs=h;const D=function Nr(){const n=wr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===D?-1:D.injectorIndex}return ti(v,!0),v}function hh(n,i,o,d){if(0===o)return-1;const h=i.length;for(let v=0;v<o;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return h}function Qp(n,i,o){rl(i);try{const d=n.viewQuery;null!==d&&Ad(1,d,o);const h=n.template;null!==h&&$g(n,i,h,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Zp(n,i),n.staticViewQueries&&Ad(2,n.viewQuery,o);const v=n.components;null!==v&&function Bg(n,i){for(let o=0;o<i.length;o++)Ca(n,i[o])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[nr]&=-5,Zs()}}function rf(n,i,o,d){const h=i[nr];if(128!=(128&h)){rl(i);try{To(i),function qs(n){return wr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&$g(n,i,o,2,d);const D=3==(3&h);if(D){const X=n.preOrderCheckHooks;null!==X&&zl(i,X,null)}else{const X=n.preOrderHooks;null!==X&&_l(i,X,0,null),B(i,0)}if(function cy(n){for(let i=ui(n);null!==i;i=Di(i)){if(!i[dt])continue;const o=i[qt];for(let d=0;d<o.length;d++){const h=o[d];512&h[nr]||ia(h[ei],1),h[nr]|=512}}}(i),function ly(n){for(let i=ui(n);null!==i;i=Di(i))for(let o=tn;o<i.length;o++){const d=i[o],h=d[In];Gi(d)&&rf(h,d,h.template,d[Lr])}}(i),null!==n.contentQueries&&Zp(n,i),D){const X=n.contentCheckHooks;null!==X&&zl(i,X)}else{const X=n.contentHooks;null!==X&&_l(i,X,1),B(i,1)}!function Yp(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const h=o[d];if(h<0)Fs(~h);else{const v=h,D=o[++d],N=o[++d];Sa(D,v),N(2,i[v])}}}finally{Fs(-1)}}(n,i);const N=n.components;null!==N&&function ry(n,i){for(let o=0;o<i.length;o++)sg(n,i[o])}(i,N);const V=n.viewQuery;if(null!==V&&Ad(2,V,d),D){const X=n.viewCheckHooks;null!==X&&zl(i,X)}else{const X=n.viewHooks;null!==X&&_l(i,X,2),B(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[nr]&=-41,512&i[nr]&&(i[nr]&=-513,ia(i[ei],-1))}finally{Zs()}}}function $g(n,i,o,d,h){const v=as(),D=2&d;try{Fs(-1),D&&i.length>pr&&lh(n,i,pr,!1),zi(D?2:0,h),o(d,h)}finally{Fs(v),zi(D?3:1,h)}}function Wu(n,i,o){if(Xr(i)){const h=i.directiveEnd;for(let v=i.directiveStart;v<h;v++){const D=n.data[v];D.contentQueries&&D.contentQueries(1,o[v],v)}}}function Ku(n,i,o){T()&&(function iy(n,i,o,d){const h=o.directiveStart,v=o.directiveEnd;ys(o)&&function ig(n,i,o){const d=Pi(i,n),h=af(o),v=n[Ee],D=jc(n,nf(n,h,null,o.onPush?32:16,d,i,v,v.createRenderer(d,o),null,null,null));n[i.index]=D}(i,o,n.data[h+o.componentOffset]),n.firstCreatePass||oc(o,i),Ut(d,i);const D=o.initialInputs;for(let N=h;N<v;N++){const V=n.data[N],X=ni(i,n,N,o);Ut(X,i),null!==D&&Gg(0,N-h,X,V,0,D),fi(V)&&(Xi(o.index,i)[Lr]=ni(i,n,N,o))}}(n,i,o,Pi(o,i)),64==(64&o.flags)&&tg(n,i,o))}function sf(n,i,o=Pi){const d=i.localNames;if(null!==d){let h=i.index+1;for(let v=0;v<d.length;v+=2){const D=d[v+1],N=-1===D?o(i,n):n[D];n[h++]=N}}}function af(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Yf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Yf(n,i,o,d,h,v,D,N,V,X){const ce=pr+d,Ae=ce+h,at=function sc(n,i){const o=[];for(let d=0;d<i;d++)o.push(d<n?null:Zr);return o}(ce,Ae),Ft="function"==typeof X?X():X;return at[In]={type:n,blueprint:at,template:o,queries:null,viewQuery:N,declTNode:i,data:at.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:V,consts:Ft,incompleteFirstPass:!1}}function Zf(n,i,o,d){const h=ag(i);null===o?h.push(d):(h.push(o),n.firstCreatePass&&df(n).push(d,h.length-1))}function Vg(n,i,o,d){for(let h in n)if(n.hasOwnProperty(h)){o=null===o?{}:o;const v=n[h];null===d?lf(o,i,h,v):d.hasOwnProperty(h)&&lf(o,i,d[h],v)}return o}function lf(n,i,o,d){n.hasOwnProperty(o)?n[o].push(i,d):n[o]=[i,d]}function Za(n,i,o,d,h,v,D,N){const V=Pi(i,o);let ce,X=i.inputs;!N&&null!=X&&(ce=X[d])?(ff(n,o,ce,d,h),ys(i)&&function Qf(n,i){const o=Xi(i,n);16&o[nr]||(o[nr]|=32)}(o,i.index)):3&i.type&&(d=function Hg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),h=null!=D?D(h,i.value||"",d):h,v.setProperty(V,d,h))}function cf(n,i,o,d){if(T()){const h=null===d?null:{"":-1},v=function ng(n,i){const o=n.directiveRegistry;let d=null,h=null;if(o)for(let D=0;D<o.length;D++){const N=o[D];if(Cd(i,N.selectors,!1))if(d||(d=[]),fi(N))if(null!==N.findHostDirectiveDefs){const V=[];h=h||new Map,N.findHostDirectiveDefs(N,V,h),d.unshift(...V,N),rg(n,i,V.length)}else d.unshift(N),rg(n,i,0);else{var v;h=h||new Map,null===(v=N.findHostDirectiveDefs)||void 0===v||v.call(N,N,d,h),d.push(N)}}return null===d?null:[d,h]}(n,o);let D,N;null===v?D=N=null:[D,N]=v,null!==D&&eg(n,i,o,D,h,N),h&&function sy(n,i,o){if(i){const d=n.localNames=[];for(let h=0;h<i.length;h+=2){const v=o[i[h+1]];if(null==v)throw new Re(-301,!1);d.push(i[h],v)}}}(o,d,h)}o.mergedAttrs=yo(o.mergedAttrs,o.attrs)}function eg(n,i,o,d,h,v){for(let Ae=0;Ae<d.length;Ae++)hi(oc(o,i),n,d[Ae].type);!function oy(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,d.length);for(let Ae=0;Ae<d.length;Ae++){const at=d[Ae];at.providersResolver&&at.providersResolver(at)}let D=!1,N=!1,V=hh(n,i,d.length,null);for(let Ae=0;Ae<d.length;Ae++){const at=d[Ae];o.mergedAttrs=yo(o.mergedAttrs,at.hostAttrs),ay(n,o,i,V,at),La(V,at,h),null!==at.contentQueries&&(o.flags|=4),(null!==at.hostBindings||null!==at.hostAttrs||0!==at.hostVars)&&(o.flags|=64);const Ft=at.type.prototype;var X,ce;!D&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((null!==(X=n.preOrderHooks)&&void 0!==X?X:n.preOrderHooks=[]).push(o.index),D=!0),N||!Ft.ngOnChanges&&!Ft.ngDoCheck||((null!==(ce=n.preOrderCheckHooks)&&void 0!==ce?ce:n.preOrderCheckHooks=[]).push(o.index),N=!0),V++}!function jg(n,i,o){const h=i.directiveEnd,v=n.data,D=i.attrs,N=[];let V=null,X=null;for(let ce=i.directiveStart;ce<h;ce++){const Ae=v[ce],at=o?o.get(Ae):null,un=at?at.outputs:null;V=Vg(Ae.inputs,ce,V,at?at.inputs:null),X=Vg(Ae.outputs,ce,X,un);const Dn=null===V||null===D||Fp(i)?null:Wg(V,ce,D);N.push(Dn)}null!==V&&(V.hasOwnProperty("class")&&(i.flags|=8),V.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=N,i.inputs=V,i.outputs=X}(n,o,v)}function tg(n,i,o){const d=o.directiveStart,h=o.directiveEnd,v=o.index,D=function Ha(){return wr.lFrame.currentDirectiveIndex}();try{Fs(v);for(let N=d;N<h;N++){const V=n.data[N],X=i[N];ns(N),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&ep(V,X)}}finally{Fs(-1),ns(D)}}function ep(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function rg(n,i,o){var d;i.componentOffset=o,(null!==(d=n.components)&&void 0!==d?d:n.components=[]).push(i.index)}function La(n,i,o){if(o){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)o[i.exportAs[d]]=n;fi(i)&&(o[""]=n)}}function ay(n,i,o,d,h){n.data[d]=h;const v=h.factory||(h.factory=Qr(h.type)),D=new Me(v,fi(h),Uc);n.blueprint[d]=D,o[d]=D,function Jf(n,i,o,d,h){const v=h.hostBindings;if(v){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const N=~i.index;(function zg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(D)!=N&&D.push(N),D.push(o,d,v)}}(n,i,d,hh(n,o,h.hostVars,Zr),h)}function gl(n,i,o,d,h,v){const D=Pi(n,i);!function uf(n,i,o,d,h,v,D){if(null==v)n.removeAttribute(i,h,o);else{const N=null==D?ue(v):D(v,d||"",h);n.setAttribute(i,h,N,o)}}(i[Ge],D,v,n.value,o,d,h)}function Gg(n,i,o,d,h,v){const D=v[i];if(null!==D){const N=d.setInput;for(let V=0;V<D.length;){const X=D[V++],ce=D[V++],Ae=D[V++];null!==N?d.setInput(o,Ae,X,ce):o[ce]=Ae}}}function Wg(n,i,o){let d=null,h=0;for(;h<o.length;){const v=o[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const D=n[v];for(let N=0;N<D.length;N+=2)if(D[N]===i){d.push(v,D[N+1],o[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Kg(n,i,o,d){return[n,!0,!1,i,null,0,d,o,null,null]}function sg(n,i){const o=Xi(i,n);if(Gi(o)){const d=o[In];48&o[nr]?rf(d,o,d.template,o[Lr]):o[Pr]>0&&Vc(o)}}function Vc(n){for(let d=ui(n);null!==d;d=Di(d))for(let h=tn;h<d.length;h++){const v=d[h];if(Gi(v))if(512&v[nr]){const D=v[In];rf(D,v,D.template,v[Lr])}else v[Pr]>0&&Vc(v)}const o=n[In].components;if(null!==o)for(let d=0;d<o.length;d++){const h=Xi(o[d],n);Gi(h)&&h[Pr]>0&&Vc(h)}}function Ca(n,i){const o=Xi(i,n),d=o[In];(function ba(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(d,o),Qp(d,o,o[Lr])}function jc(n,i){return n[Ye]?n[qe][qi]=i:n[Ye]=i,n[qe]=i,i}function mu(n){for(;n;){n[nr]|=32;const i=io(n);if(Ts(n)&&!i)return n;n=i}return null}function ph(n,i,o,d=!0){const h=i[Ee];h.begin&&h.begin();try{rf(n,i,n.template,o)}catch(D){throw d&&Hc(i,D),D}finally{h.end&&h.end()}}function Ad(n,i,o){Aa(0),i(n,o)}function ag(n){return n[Li]||(n[Li]=[])}function df(n){return n.cleanup||(n.cleanup=[])}function Hc(n,i){const o=n[se],d=o?o.get(pu,null):null;d&&d.handleError(i)}function ff(n,i,o,d,h){for(let v=0;v<o.length;){const D=o[v++],N=o[v++],V=i[D],X=n.data[D];null!==X.setInput?X.setInput(V,h,d,N):V[N]=h}}function gh(n,i,o){let d=o?n.styles:null,h=o?n.classes:null,v=0;if(null!==i)for(let D=0;D<i.length;D++){const N=i[D];"number"==typeof N?v=N:1==v?h=Fe(h,N):2==v&&(d=Fe(d,N+": "+i[++D]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=h:n.classesWithoutHost=h}function pf(n,i,o,d,h=!1){for(;null!==o;){const v=i[o.index];if(null!==v&&d.push(Ri(v)),mr(v))for(let N=tn;N<v.length;N++){const V=v[N],X=V[In].firstChild;null!==X&&pf(V[In],V,X,d)}const D=o.type;if(8&D)pf(n,i,o.child,d);else if(32&D){const N=ru(o,i);let V;for(;V=N();)d.push(V)}else if(16&D){const N=ud(i,o);if(Array.isArray(N))d.push(...N);else{const V=io(i[At]);pf(V[In],V,N,d,!0)}}o=h?o.projectionNext:o.next}return d}class xd{get rootNodes(){const i=this._lView,o=i[In];return pf(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(i){this._lView[Lr]=i}get destroyed(){return 128==(128&this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ei];if(mr(i)){const o=i[Et],d=o?o.indexOf(this):-1;d>-1&&(cl(i,d),Pt(o,d))}this._attachedToViewContainer=!1}jd(this._lView[In],this._lView)}onDestroy(i){Zf(this._lView[In],this._lView,null,i)}markForCheck(){mu(this._cdRefInjectingView||this._lView)}detach(){this._lView[nr]&=-65}reattach(){this._lView[nr]|=64}detectChanges(){ph(this._lView[In],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bp(n,i){vc(n,i,i[Ge],2,null,null)}(this._lView[In],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=i}}class uy extends xd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ph(i[In],i,i[Lr],!1)}checkNoChanges(){}get context(){return null}}class gf extends qa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Nn(i);return new zc(o,this.ngModule)}}function mh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Yg{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,d){d=jt(d);const h=this.injector.get(i,ih,d);return h!==ih||o===ih?h:this.parentInjector.get(i,o,d)}}class zc extends Lf{get inputs(){return mh(this.componentDef.inputs)}get outputs(){return mh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Fa(n){return n.map(bd).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,d,h){var v;let D=(h=h||this.ngModule)instanceof Ll?h:null===(v=h)||void 0===v?void 0:v.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const N=D?new Yg(i,D):i,V=N.get($c,null);if(null===V)throw new Re(407,!1);const X=N.get(dl,null),ce=V.createRenderer(null,this.componentDef),Ae=this.componentDef.selectors[0][0]||"div",at=d?function Ug(n,i,o){return n.selectRootElement(i,o===Dt.ShadowDom)}(ce,d,this.componentDef.encapsulation):Vd(ce,Ae,function tp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Ae)),Ft=this.componentDef.onPush?288:272,un=Yf(0,null,null,1,0,null,null,null,null,null),Dn=nf(null,un,null,Ft,null,null,V,ce,X,N,null);let Kn,Er;rl(Dn);try{const Hr=this.componentDef;let _n,di=null;Hr.findHostDirectiveDefs?(_n=[],di=new Map,Hr.findHostDirectiveDefs(Hr,_n,di),_n.push(Hr)):_n=[Hr];const so=function hy(n,i){const o=n[In],d=pr;return n[d]=i,Gu(o,d,2,"#host",null)}(Dn,at),ea=function Zg(n,i,o,d,h,v,D,N){const V=h[In];!function cg(n,i,o,d){for(const h of n)i.mergedAttrs=yo(i.mergedAttrs,h.hostAttrs);null!==i.mergedAttrs&&(gh(i,i.mergedAttrs,!0),null!==o&&hd(d,o,i))}(d,n,i,D);const X=v.createRenderer(i,o),ce=nf(h,af(o),null,o.onPush?32:16,h[n.index],n,v,X,N||null,null,null);return V.firstCreatePass&&rg(V,n,d.length-1),jc(h,ce),h[n.index]=ce}(so,at,Hr,_n,Dn,V,ce);Er=el(un,pr),at&&function ug(n,i,o,d){if(d)Ei(n,o,["ng-version",Op.full]);else{const{attrs:h,classes:v}=function $p(n){const i=[],o=[];let d=1,h=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===h?""!==v&&i.push(v,n[++d]):8===h&&o.push(v);else{if(!fl(h))break;h=v}d++}return{attrs:i,classes:o}}(i.selectors[0]);h&&Ei(n,o,h),v&&v.length>0&&js(n,o,v.join(" "))}}(ce,Hr,at,d),void 0!==o&&function py(n,i,o){const d=n.projection=[];for(let h=0;h<i.length;h++){const v=o[h];d.push(null!=v?Array.from(v):null)}}(Er,this.ngContentSelectors,o),Kn=function fy(n,i,o,d,h,v){const D=ft(),N=h[In],V=Pi(D,h);eg(N,h,D,o,null,d);for(let ce=0;ce<o.length;ce++)Ut(ni(h,N,D.directiveStart+ce,D),h);tg(N,h,D),V&&Ut(V,h);const X=ni(h,N,D.directiveStart+D.componentOffset,D);if(n[Lr]=h[Lr]=X,null!==v)for(const ce of v)ce(X,i);return Wu(N,D,n),X}(ea,Hr,_n,di,Dn,[dg]),Qp(un,Dn,null)}finally{Zs()}return new lg(this.componentType,Kn,rc(Er,Dn),Dn,Er)}}class lg extends Sg{constructor(i,o,d,h,v){super(),this.location=d,this._rootLView=h,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new uy(h),this.componentType=i}setInput(i,o){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[i])){const v=this._rootLView;ff(v[In],v,h,i,o),mu(Xi(this._tNode.index,v))}}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function dg(){const n=ft();Tr(M()[In],n)}function mf(n){let i=function Xg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const d=[n];for(;i;){let h;if(fi(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Re(903,!1);h=i.\u0275dir}if(h){if(o){d.push(h);const D=n;D.inputs=yh(n.inputs),D.declaredInputs=yh(n.declaredInputs),D.outputs=yh(n.outputs);const N=h.hostBindings;N&&a(n,N);const V=h.viewQuery,X=h.contentQueries;if(V&&Qg(n,V),X&&u(n,X),me(n.inputs,h.inputs),me(n.declaredInputs,h.declaredInputs),me(n.outputs,h.outputs),fi(h)&&h.data.animation){const ce=n.data;ce.animation=(ce.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let D=0;D<v.length;D++){const N=v[D];N&&N.ngInherit&&N(n),N===mf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function gy(n){let i=0,o=null;for(let d=n.length-1;d>=0;d--){const h=n[d];h.hostVars=i+=h.hostVars,h.hostAttrs=yo(h.hostAttrs,o=yo(o,h.hostAttrs))}}(d)}function yh(n){return n===st?{}:n===on?[]:n}function Qg(n,i){const o=n.viewQuery;n.viewQuery=o?(d,h)=>{i(d,h),o(d,h)}:i}function u(n,i){const o=n.contentQueries;n.contentQueries=o?(d,h,v)=>{i(d,h,v),o(d,h,v)}:i}function a(n,i){const o=n.hostBindings;n.hostBindings=o?(d,h)=>{i(d,h),o(d,h)}:i}function Kt(n){return!!jr(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function jr(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cs(n,i,o){return n[i]=o}function Ci(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function vh(n,i,o,d){const h=M();return Ci(h,oa(),i)&&(F(),gl(Br(),h,n,i,o,d)),vh}function yu(n,i,o,d){return Ci(n,oa(),o)?i+ue(o)+d:Zr}function rm(n,i,o,d,h,v,D,N){const V=M(),X=F(),ce=n+pr,Ae=X.firstCreatePass?function E_(n,i,o,d,h,v,D,N,V){const X=i.consts,ce=Gu(i,n,4,D||null,Ns(X,N));cf(i,o,ce,Ns(X,V)),Tr(i,ce);const Ae=ce.tView=Yf(2,ce,d,h,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,X);return null!==i.queries&&(i.queries.template(i,ce),Ae.queries=i.queries.embeddedTView(ce)),ce}(ce,X,V,i,o,d,h,v,D):X.data[ce];ti(Ae,!1);const at=V[Ge].createComment("");wo(X,V,at,Ae),Ut(at,V),jc(V,V[ce]=Kg(at,V,at,Ae)),Oo(Ae)&&Ku(X,V,Ae),null!=D&&sf(V,Ae,N)}function Ey(n,i,o){const d=M();return Ci(d,oa(),i)&&Za(F(),Br(),d,n,i,d[Ge],o,!1),Ey}function hg(n,i,o,d,h){const D=h?"class":"style";ff(n,o,i.inputs[D],D,d)}function op(n,i,o,d){const h=M(),v=F(),D=pr+n,N=h[Ge],V=v.firstCreatePass?function Iy(n,i,o,d,h,v){const D=i.consts,V=Gu(i,n,2,d,Ns(D,h));return cf(i,o,V,Ns(D,v)),null!==V.attrs&&gh(V,V.attrs,!1),null!==V.mergedAttrs&&gh(V,V.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,V),V}(D,v,h,i,o,d):v.data[D],X=h[D]=Vd(N,i,function mo(){return wr.lFrame.currentNamespace}()),ce=Oo(V);return ti(V,!0),hd(N,X,V),32!=(32&V.flags)&&wo(v,h,X,V),0===function sa(){return wr.lFrame.elementDepthCount}()&&Ut(X,h),function b(){wr.lFrame.elementDepthCount++}(),ce&&(Ku(v,h,V),Wu(v,V,h)),null!==d&&sf(h,V),op}function Rd(){let n=ft();Qi()?ds():(n=n.parent,ti(n,!1));const i=n;!function q(){wr.lFrame.elementDepthCount--}();const o=F();return o.firstCreatePass&&(Tr(o,n),Xr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Wr(n){return 0!=(8&n.flags)}(i)&&hg(o,i,M(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Fr(n){return 0!=(16&n.flags)}(i)&&hg(o,i,M(),i.stylesWithoutHost,!1),Rd}function im(n,i,o,d){return op(n,i,o,d),Rd(),im}function sm(n,i,o){const d=M(),h=F(),v=n+pr,D=h.firstCreatePass?function wy(n,i,o,d,h){const v=i.consts,D=Ns(v,d),N=Gu(i,n,8,"ng-container",D);return null!==D&&gh(N,D,!0),cf(i,o,N,Ns(v,h)),null!==i.queries&&i.queries.elementStart(i,N),N}(v,h,d,i,o):h.data[v];ti(D,!0);const N=d[v]=d[Ge].createComment("");return wo(h,d,N,D),Ut(N,d),Oo(D)&&(Ku(h,d,D),Wu(h,D,d)),null!=o&&sf(d,D),sm}function ap(){let n=ft();const i=F();return Qi()?ds():(n=n.parent,ti(n,!1)),i.firstCreatePass&&(Tr(i,n),Xr(n)&&i.queries.elementEnd(n)),ap}function vu(n,i,o){return sm(n,i,o),ap(),vu}function om(){return M()}function Cy(n){return!!n&&"function"==typeof n.then}function am(n){return!!n&&"function"==typeof n.subscribe}const lv=am;function by(n,i,o,d){const h=M(),v=F(),D=ft();return function cm(n,i,o,d,h,v,D){const N=Oo(d),X=n.firstCreatePass&&df(n),ce=i[Lr],Ae=ag(i);let at=!0;if(3&d.type||D){const Dn=Pi(d,i),Kn=D?D(Dn):Dn,Er=Ae.length,Hr=D?di=>D(Ri(di[d.index])):d.index;let _n=null;if(!D&&N&&(_n=function w_(n,i,o,d){const h=n.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const D=h[v];if(D===o&&h[v+1]===d){const N=i[Li],V=h[v+2];return N.length>V?N[V]:null}"string"==typeof D&&(v+=2)}return null}(n,i,h,d.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=v,_n.__ngLastListenerFn__=v,at=!1;else{v=um(d,i,ce,v,!1);const di=o.listen(Kn,h,v);Ae.push(v,di),X&&X.push(h,Hr,Er,Er+1)}}else v=um(d,i,ce,v,!1);const Ft=d.outputs;let un;if(at&&null!==Ft&&(un=Ft[h])){const Dn=un.length;if(Dn)for(let Kn=0;Kn<Dn;Kn+=2){const so=i[un[Kn]][un[Kn+1]].subscribe(v),ea=Ae.length;Ae.push(v,so),X&&X.push(h,d.index,ea,-(ea+1))}}}(v,h,h[Ge],D,n,i,d),by}function cv(n,i,o,d){try{return zi(6,i,o),!1!==o(d)}catch(h){return Hc(n,h),!1}finally{zi(7,i,o)}}function um(n,i,o,d,h){return function v(D){if(D===Function)return d;mu(n.componentOffset>-1?Xi(n.index,i):i);let V=cv(i,o,d,D),X=v.__ngNextListenerFn__;for(;X;)V=cv(i,o,X,D)&&V,X=X.__ngNextListenerFn__;return h&&!1===V&&(D.preventDefault(),D.returnValue=!1),V}}function uv(n=1){return function hs(n){return(wr.lFrame.contextLView=function xa(n,i){for(;n>0;)i=i[Nt],n--;return i}(n,wr.lFrame.contextLView))[Lr]}(n)}function Dy(n,i){let o=null;const d=function gu(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let h=0;h<i.length;h++){const v=i[h];if("*"!==v){if(null===d?Cd(n,v,!0):Uu(d,v))return h}else o=h}return o}function Ty(n){const i=M()[At][_i];if(!i.projection){const d=i.projection=Ii(n?n.length:1,null),h=d.slice();let v=i.child;for(;null!==v;){const D=n?Dy(v,n):0;null!==D&&(h[D]?h[D].projectionNext=v:d[D]=v,h[D]=v),v=v.next}}}function dm(n,i=0,o){const d=M(),h=F(),v=Gu(h,pr+n,16,null,o||null);null===v.projection&&(v.projection=i),ds(),32!=(32&v.flags)&&function kh(n,i,o){Nh(i[Ge],0,i,o,Oa(n,o,i),ad(o.parent||i[_i],o,i))}(h,d,v)}function hm(n,i,o){return Sy(n,"",i,"",o),hm}function Sy(n,i,o,d,h){const v=M(),D=yu(v,i,o,d);return D!==Zr&&Za(F(),Br(),v,n,D,v[Ge],h,!1),Sy}function ym(n,i){return n<<17|i<<2}function qu(n){return n>>17&32767}function vm(n){return 2|n}function Yu(n){return(131068&n)>>2}function Ay(n,i){return-131069&n|i<<2}function xy(n){return 1|n}function _m(n,i,o,d,h){const v=n[o+1],D=null===i;let N=d?qu(v):Yu(v),V=!1;for(;0!==N&&(!1===V||D);){const ce=n[N+1];gv(n[N],i)&&(V=!0,n[N+1]=d?xy(ce):vm(ce)),N=d?qu(ce):Yu(ce)}V&&(n[o+1]=d?vm(v):xy(v))}function gv(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&S(n,i)>=0}function bm(n,i){return function Wc(n,i,o,d){const h=M(),v=F(),D=function Ys(n){const i=wr.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);v.firstUpdatePass&&function By(n,i,o,d){const h=n.data;if(null===h[o+1]){const v=h[as()],D=function Ly(n,i){return i>=n.expandoStartIndex}(n,o);(function Sm(n,i){return 0!=(n.flags&(i?8:16))})(v,d)&&null===i&&!D&&(i=!1),i=function _v(n,i,o,d){const h=function xs(n){const i=wr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=d?i.residualClasses:i.residualStyles;if(null===h)0===(d?i.classBindings:i.styleBindings)&&(o=Md(o=Tm(null,n,i,o,d),i.attrs,d),v=null);else{const D=i.directiveStylingLast;if(-1===D||n[D]!==h)if(o=Tm(h,n,i,o,d),null===v){let V=function Dm(n,i,o){const d=o?i.classBindings:i.styleBindings;if(0!==Yu(d))return n[qu(d)]}(n,i,d);void 0!==V&&Array.isArray(V)&&(V=Tm(null,n,i,V[1],d),V=Md(V,i.attrs,d),function Ni(n,i,o,d){n[qu(o?i.classBindings:i.styleBindings)]=d}(n,i,d,V))}else v=function Ev(n,i,o){let d;const h=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<h;v++)d=Md(d,n[v].hostAttrs,o);return Md(d,i.attrs,o)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),o}(h,v,i,d),function My(n,i,o,d,h,v){let D=v?i.classBindings:i.styleBindings,N=qu(D),V=Yu(D);n[d]=o;let ce,X=!1;if(Array.isArray(o)?(ce=o[1],(null===ce||S(o,ce)>0)&&(X=!0)):ce=o,h)if(0!==V){const at=qu(n[N+1]);n[d+1]=ym(at,N),0!==at&&(n[at+1]=Ay(n[at+1],d)),n[N+1]=function cp(n,i){return 131071&n|i<<17}(n[N+1],d)}else n[d+1]=ym(N,0),0!==N&&(n[N+1]=Ay(n[N+1],d)),N=d;else n[d+1]=ym(V,0),0===N?N=d:n[V+1]=Ay(n[V+1],d),V=d;X&&(n[d+1]=vm(n[d+1])),_m(n,ce,d,!0),_m(n,ce,d,!1),function Py(n,i,o,d,h){const v=h?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&S(v,i)>=0&&(o[d+1]=xy(o[d+1]))}(i,ce,n,d,v),D=ym(N,V),v?i.classBindings=D:i.styleBindings=D}(h,v,i,o,D,d)}}(v,n,D,d),i!==Zr&&Ci(h,D,i)&&function $y(n,i,o,d,h,v,D,N){if(!(3&i.type))return;const V=n.data,X=V[N+1],ce=function C_(n){return 1==(1&n)}(X)?wv(V,i,o,h,Yu(X),D):void 0;_f(ce)||(_f(v)||function pv(n){return 2==(2&n)}(X)&&(v=wv(V,null,o,h,N,D)),function _c(n,i,o,d,h){if(i)h?n.addClass(o,d):n.removeClass(o,d);else{let v=-1===d.indexOf("-")?void 0:Uo.DashCase;null==h?n.removeStyle(o,d,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=Uo.Important),n.setStyle(o,d,h,v))}}(d,D,go(as(),o),h,v))}(v,v.data[as()],h,h[Ge],n,h[D+1]=function Cv(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ve(ca(n)))),n}(i,o),d,D)}(n,i,null,!0),bm}function Tm(n,i,o,d,h){let v=null;const D=o.directiveEnd;let N=o.directiveStylingLast;for(-1===N?N=o.directiveStart:N++;N<D&&(v=i[N],d=Md(d,v.hostAttrs,h),v!==n);)N++;return null!==n&&(o.directiveStylingLast=N),d}function Md(n,i,o){const d=o?1:2;let h=-1;if(null!==i)for(let v=0;v<i.length;v++){const D=i[v];"number"==typeof D?h=D:h===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),li(n,D,!!o||i[++v]))}return void 0===n?null:n}function wv(n,i,o,d,h,v){const D=null===i;let N;for(;h>0;){const V=n[h],X=Array.isArray(V),ce=X?V[1]:V,Ae=null===ce;let at=o[h+1];at===Zr&&(at=Ae?on:void 0);let Ft=Ae?Rr(at,d):ce===d?at:void 0;if(X&&!_f(Ft)&&(Ft=Rr(V,d)),_f(Ft)&&(N=Ft,D))return N;const un=n[h+1];h=D?qu(un):Yu(un)}if(null!==i){let V=v?i.residualClasses:i.residualStyles;null!=V&&(N=Rr(V,d))}return N}function _f(n){return void 0!==n}function bv(n,i=""){const o=M(),d=F(),h=n+pr,v=d.firstCreatePass?Gu(d,h,1,i,null):d.data[h],D=o[h]=function ql(n,i){return n.createText(i)}(o[Ge],i);wo(d,o,D,v),ti(v,!1)}function fg(n){return Am("",n,""),fg}function Am(n,i,o){const d=M(),h=yu(d,n,i,o);return h!==Zr&&function Vl(n,i,o){const d=go(i,n);!function Yl(n,i,o){n.setValue(i,o)}(n[Ge],d,o)}(d,as(),h),Am}const If=void 0;var Gy=["en",[["a","p"],["AM","PM"],If],[["AM","PM"],If,If],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],If,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],If,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",If,"{1} 'at' {0}",If],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zy(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let wf={};function Mm(n){const i=function Om(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=fp(i);if(o)return o;const d=i.split("-")[0];if(o=fp(d),o)return o;if("en"===d)return Gy;throw new Re(701,!1)}function Pm(n){return Mm(n)[kr.PluralCase]}function fp(n){return n in wf||(wf[n]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[n]),wf[n]}var kr=(()=>((kr=kr||{})[kr.LocaleId=0]="LocaleId",kr[kr.DayPeriodsFormat=1]="DayPeriodsFormat",kr[kr.DayPeriodsStandalone=2]="DayPeriodsStandalone",kr[kr.DaysFormat=3]="DaysFormat",kr[kr.DaysStandalone=4]="DaysStandalone",kr[kr.MonthsFormat=5]="MonthsFormat",kr[kr.MonthsStandalone=6]="MonthsStandalone",kr[kr.Eras=7]="Eras",kr[kr.FirstDayOfWeek=8]="FirstDayOfWeek",kr[kr.WeekendRange=9]="WeekendRange",kr[kr.DateFormat=10]="DateFormat",kr[kr.TimeFormat=11]="TimeFormat",kr[kr.DateTimeFormat=12]="DateTimeFormat",kr[kr.NumberSymbols=13]="NumberSymbols",kr[kr.NumberFormats=14]="NumberFormats",kr[kr.CurrencyCode=15]="CurrencyCode",kr[kr.CurrencySymbol=16]="CurrencySymbol",kr[kr.CurrencyName=17]="CurrencyName",kr[kr.Currencies=18]="Currencies",kr[kr.Directionality=19]="Directionality",kr[kr.PluralCase=20]="PluralCase",kr[kr.ExtraData=21]="ExtraData",kr))();const pp="en-US";let mp=pp;function Ig(n,i,o,d,h){if(n=ye(n),Array.isArray(n))for(let v=0;v<n.length;v++)Ig(n[v],i,o,d,h);else{const v=F(),D=M();let N=Nu(n)?n:ye(n.provide),V=Ff(n);const X=ft(),ce=1048575&X.providerIndexes,Ae=X.directiveStart,at=X.providerIndexes>>20;if(Nu(n)||!n.multi){const Ft=new Me(V,h,Uc),un=Hm(N,i,h?ce:ce+at,Ae);-1===un?(hi(oc(X,D),v,N),Jy(v,n,i.length),i.push(N),X.directiveStart++,X.directiveEnd++,h&&(X.providerIndexes+=1048576),o.push(Ft),D.push(Ft)):(o[un]=Ft,D[un]=Ft)}else{const Ft=Hm(N,i,ce+at,Ae),un=Hm(N,i,ce,ce+at),Kn=un>=0&&o[un];if(h&&!Kn||!h&&!(Ft>=0&&o[Ft])){hi(oc(X,D),v,N);const Er=function Qv(n,i,o,d,h){const v=new Me(n,o,Uc);return v.multi=[],v.index=i,v.componentProviders=0,Xv(v,h,d&&!o),v}(h?y0:zm,o.length,h,d,V);!h&&Kn&&(o[un].providerFactory=Er),Jy(v,n,i.length,0),i.push(N),X.directiveStart++,X.directiveEnd++,h&&(X.providerIndexes+=1048576),o.push(Er),D.push(Er)}else Jy(v,n,Ft>-1?Ft:un,Xv(o[h?un:Ft],V,!h&&d));!h&&d&&Kn&&o[un].componentProviders++}}}function Jy(n,i,o,d){const h=Nu(i),v=function Dg(n){return!!n.useClass}(i);if(h||v){const V=(v?ye(i.useClass):i).prototype.ngOnDestroy;if(V){const X=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const ce=X.indexOf(o);-1===ce?X.push(o,[d,V]):X[ce+1].push(d,V)}else X.push(o,V)}}}function Xv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Hm(n,i,o,d){for(let h=o;h<d;h++)if(i[h]===n)return h;return-1}function zm(n,i,o,d){return Gm(this.multi,[])}function y0(n,i,o,d){const h=this.multi;let v;if(this.providerFactory){const D=this.providerFactory.componentProviders,N=ni(o,o[In],this.providerFactory.index,d);v=N.slice(0,D),Gm(h,v);for(let V=D;V<N.length;V++)v.push(N[V])}else v=[],Gm(h,v);return v}function Gm(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Dh(n,i=[]){return o=>{o.providersResolver=(d,h)=>function Eg(n,i,o){const d=F();if(d.firstCreatePass){const h=fi(n);Ig(o,d.data,d.blueprint,h,!0),Ig(i,d.data,d.blueprint,h,!1)}}(d,h?h(n):n,i)}}class Qa{}class ml{}function Jv(n,i){return new Ip(n,null!=i?i:null)}class Ip extends Qa{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gf(this);const d=Xn(i);this._bootstrapComponents=Na(d.bootstrap),this._r3Injector=Xh(i,o,[{provide:Qa,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],Ve(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Sf extends ml{constructor(i){super(),this.moduleType=i}create(i){return new Ip(this.moduleType,i)}}class jl extends Qa{constructor(i,o,d){super(),this.componentFactoryResolver=new gf(this),this.instance=null;const h=new Hh([...i,{provide:Qa,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],o||hu(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ev(n,i,o=null){return new jl(n,i,o).injector}let tv=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const d=bg(0,o.type),h=d.length>0?ev([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Tt({token:n,providedIn:"environment",factory:()=>new n(Ir(Ll))}),n})();function Af(n){n.getStandaloneInjector=i=>i.get(tv).getOrCreateStandaloneInjector(n)}function i_(n,i,o){const d=ts()+n,h=M();return h[d]===Zr?cs(h,d,o?i.call(o):i()):function Rs(n,i){return n[i]}(h,d)}function r(n,i,o,d,h,v,D){const N=i+o;return function Ms(n,i,o,d){const h=Ci(n,i,o);return Ci(n,i+1,d)||h}(n,N,h,v)?cs(n,N+2,D?d.call(D,h,v):d(h,v)):function wp(n,i){const o=n[i];return o===Zr?void 0:o}(n,N+2)}function c(n,i){const o=F();let d;const h=n+pr;var v;o.firstCreatePass?(d=function f(n,i){if(i)for(let o=i.length-1;o>=0;o--){const d=i[o];if(n===d.name)return d}}(i,o.pipeRegistry),o.data[h]=d,d.onDestroy&&(null!==(v=o.destroyHooks)&&void 0!==v?v:o.destroyHooks=[]).push(h,d.onDestroy)):d=o.data[h];const D=d.factory||(d.factory=Qr(d.type)),N=br(Uc);try{const V=El(!1),X=D();return El(V),function I_(n,i,o,d){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=d}(o,M(),h,X),X}finally{br(N)}}function G(n,i,o,d){const h=n+pr,v=M(),D=function ss(n,i){return n[i]}(v,h);return function Ot(n,i){return n[In].data[i].pure}(v,h)?r(v,ts(),i,D.transform,o,d,D):D.transform(o,d)}function bn(n){return i=>{setTimeout(n,void 0,i)}}const xn=class an extends _.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,d){let h=i,v=o||(()=>null),D=d;if(i&&"object"==typeof i){var N,V,X;const Ae=i;h=null===(N=Ae.next)||void 0===N?void 0:N.bind(Ae),v=null===(V=Ae.error)||void 0===V?void 0:V.bind(Ae),D=null===(X=Ae.complete)||void 0===X?void 0:X.bind(Ae)}this.__isAsync&&(v=bn(v),h&&(h=bn(h)),D&&(D=bn(D)));const ce=super.subscribe({next:h,error:v,complete:D});return i instanceof y.w0&&i.add(ce),ce}};function dr(){return this._results[Symbol.iterator]()}class ri{get changes(){return this._changes||(this._changes=new xn)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ri.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=dr)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const d=this;d.dirty=!1;const h=function Kr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wl(n,i,o){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let h=n[d],v=i[d];if(o&&(h=o(h),v=o(v)),v!==h)return!1}return!0}(d._results,h,o))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ps,n})();const ii=Oi,Ba=class extends ii{constructor(i,o,d){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(i,o){const d=this._declarationTContainer.tView,h=nf(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,o||null);h[Ht]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[dn];return null!==D&&(h[dn]=D.createEmbeddedView(d)),Qp(d,h,i),new xd(h)}};function Ps(){return ws(ft(),M())}function ws(n,i){return 4&n.type?new Ba(i,n,rc(n,i)):null}let $a=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ah,n})();function Ah(){return hE(ft(),M())}const gI=$a,uE=class extends gI{constructor(i,o,d){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=d}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ji(this._hostTNode,this._hostLView);if(_s(i)){const o=Qs(i,this._hostLView),d=Xs(i);return new Ma(o[In].data[d+8],o)}return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=dE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(i,o,d){let h,v;"number"==typeof d?h=d:null!=d&&(h=d.index,v=d.injector);const D=i.createEmbeddedView(o||{},v);return this.insert(D,h),D}createComponent(i,o,d,h,v){const D=i&&!function Dl(n){return"function"==typeof n}(i);let N;if(D)N=o;else{const Ae=o||{};N=Ae.index,d=Ae.injector,h=Ae.projectableNodes,v=Ae.environmentInjector||Ae.ngModuleRef}const V=D?i:new zc(Nn(i)),X=d||this.parentInjector;if(!v&&null==V.ngModule){const at=(D?X:this.parentInjector).get(Ll,null);at&&(v=at)}const ce=V.create(X,h,void 0,v);return this.insert(ce.hostView,N),ce}insert(i,o){const d=i._lView,h=d[In];if(function Va(n){return mr(n[ei])}(d)){const ce=this.indexOf(i);if(-1!==ce)this.detach(ce);else{const Ae=d[ei],at=new uE(Ae,Ae[_i],Ae[ei]);at.detach(at.indexOf(i))}}const v=this._adjustIndex(o),D=this._lContainer;!function Ml(n,i,o,d){const h=tn+d,v=o.length;d>0&&(o[h-1][qi]=i),d<v-tn?(i[qi]=o[h],qr(o,tn+d,i)):(o.push(i),i[qi]=null),i[ei]=o;const D=i[Ht];null!==D&&o!==D&&function Ph(n,i){const o=n[qt];i[At]!==i[ei][ei][At]&&(n[dt]=!0),null===o?n[qt]=[i]:o.push(i)}(D,i);const N=i[dn];null!==N&&N.insertView(n),i[nr]|=64}(h,d,D,v);const N=Xl(v,D),V=d[Ge],X=iu(V,D[tt]);return null!==X&&function Rh(n,i,o,d,h,v){d[ji]=h,d[_i]=i,vc(n,d,o,1,h,v)}(h,D[_i],V,d,X,N),i.attachToViewContainerRef(),qr(A0(D),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=dE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),d=cl(this._lContainer,o);d&&(Pt(A0(this._lContainer),o),jd(d[In],d))}detach(i){const o=this._adjustIndex(i,-1),d=cl(this._lContainer,o);return d&&null!=Pt(A0(this._lContainer),o)?new xd(d):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function dE(n){return n[Et]}function A0(n){return n[Et]||(n[Et]=[])}function hE(n,i){let o;const d=i[n.index];if(mr(d))o=d;else{let h;if(8&n.type)h=Ri(d);else{const v=i[Ge];h=v.createComment("");const D=Pi(n,i);Pl(v,iu(v,D),h,function Ol(n,i){return n.nextSibling(i)}(v,D),!1)}i[n.index]=o=Kg(d,i,h,n),jc(i,o)}return new uE(o,n,i)}class x0{constructor(i){this.queryList=i,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const d=null!==i.contentQueries?i.contentQueries[0]:o.length,h=[];for(let v=0;v<d;v++){const D=o.getByIndex(v);h.push(this.queries[D.indexInDeclarationView].clone())}return new R0(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==IE(i,o).matches&&this.queries[o].setDirty()}}class fE{constructor(i,o,d=null){this.predicate=i,this.flags=o,this.read=d}}class M0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let d=0;d<this.length;d++){const h=null!==o?o.length:0,v=this.getByIndex(d).embeddedTView(i,h);v&&(v.indexInDeclarationView=d,null!==o?o.push(v):o=[v])}return null!==o?new M0(o):null}template(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class P0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new P0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const v=d[h];this.matchTNodeWithReadOption(i,o,mI(o,v)),this.matchTNodeWithReadOption(i,o,rn(o,i,v,!1,!1))}else d===Oi?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,rn(o,i,d,!1,!1))}matchTNodeWithReadOption(i,o,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ic||h===$a||h===Oi&&4&o.type)this.addMatch(o.index,-2);else{const v=rn(o,i,h,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,d)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function mI(n,i){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===i)return o[d+1];return null}function vI(n,i,o,d){return-1===o?function yI(n,i){return 11&n.type?rc(n,i):4&n.type?ws(n,i):null}(i,n):-2===o?function _I(n,i,o){return o===ic?rc(i,n):o===Oi?ws(i,n):o===$a?hE(i,n):void 0}(n,i,d):ni(n,n[In],o,i)}function pE(n,i,o,d){const h=i[dn].queries[d];if(null===h.matches){const v=n.data,D=o.matches,N=[];for(let V=0;V<D.length;V+=2){const X=D[V];N.push(X<0?null:vI(i,v[X],D[V+1],o.metadata.read))}h.matches=N}return h.matches}function O0(n,i,o,d){const h=n.queries.getByIndex(o),v=h.matches;if(null!==v){const D=pE(n,i,h,o);for(let N=0;N<v.length;N+=2){const V=v[N];if(V>0)d.push(D[N/2]);else{const X=v[N+1],ce=i[-V];for(let Ae=tn;Ae<ce.length;Ae++){const at=ce[Ae];at[Ht]===at[ei]&&O0(at[In],at,X,d)}if(null!==ce[qt]){const Ae=ce[qt];for(let at=0;at<Ae.length;at++){const Ft=Ae[at];O0(Ft[In],Ft,X,d)}}}}}return d}function gE(n){const i=M(),o=F(),d=nl();Aa(d+1);const h=IE(o,d);if(n.dirty&&function Do(n){return 4==(4&n[nr])}(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const v=h.crossesNgTemplate?O0(o,i,d,[]):pE(o,i,h,d);n.reset(v,fu),n.notifyOnChanges()}return!0}return!1}function mE(n,i,o){const d=F();d.firstCreatePass&&(EE(d,new fE(n,i,o),-1),2==(2&i)&&(d.staticViewQueries=!0)),_E(d,M(),i)}function yE(n,i,o,d){const h=F();if(h.firstCreatePass){const v=ft();EE(h,new fE(i,o,d),v.index),function II(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(h,n),2==(2&o)&&(h.staticContentQueries=!0)}_E(h,M(),o)}function vE(){return function EI(n,i){return n[dn].queries[i].queryList}(M(),nl())}function _E(n,i,o){const d=new ri(4==(4&o));Zf(n,i,d,d.destroy),null===i[dn]&&(i[dn]=new R0),i[dn].queries.push(new x0(d))}function EE(n,i,o){null===n.queries&&(n.queries=new M0),n.queries.track(new P0(i,o))}function IE(n,i){return n.queries.getByIndex(i)}function k0(n){return!!Xn(n)}function f_(...n){}const $E=new ki("Application Initializer");let p_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const v=this.appInits[h]();if(Cy(v))o.push(v);else if(lv(v)){const D=new Promise((N,V)=>{v.subscribe({complete:N,error:V})});o.push(D)}}Promise.all(o).then(()=>{d()}).catch(h=>{this.reject(h)}),0===o.length&&d(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ir($E,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new ki("AppId",{providedIn:"root",factory:function VE(){return`${$0()}${$0()}${$0()}`}});function $0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jE=new ki("Platform Initializer"),jI=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let HI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const g_=new ki("LocaleId",{providedIn:"root",factory:()=>yr(g_,vn.Optional|vn.SkipSelf)||function zI(){return typeof $localize<"u"&&$localize.locale||pp}()}),GI=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let KI=(()=>{class n{compileModuleSync(o){return new Sf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),v=Na(Xn(o).declarations).reduce((D,N)=>{const V=Nn(N);return V&&D.push(new zc(V)),D},[]);return new WI(d,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZI=(()=>Promise.resolve(0))();function U0(n){typeof Zone>"u"?ZI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ed{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&o,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function XI(){let n=Hn.requestAnimationFrame,i=Hn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ew(n){const i=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j0(n),n.isCheckStableRunning=!0,V0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,h,v,D,N)=>{try{return GE(n),o.invokeTask(h,v,D,N)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),WE(n)}},onInvoke:(o,d,h,v,D,N,V)=>{try{return GE(n),o.invoke(h,v,D,N,V)}finally{n.shouldCoalesceRunChangeDetection&&i(),WE(n)}},onHasTask:(o,d,h,v)=>{o.hasTask(h,v),d===h&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,j0(n),V0(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,d,h,v)=>(o.handleError(h,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ed.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(ed.isInAngularZone())throw new Re(909,!1)}run(i,o,d){return this._inner.run(i,o,d)}runTask(i,o,d,h){const v=this._inner,D=v.scheduleEventTask("NgZoneEvent: "+h,i,QI,f_,f_);try{return v.runTask(D,o,d)}finally{v.cancelTask(D)}}runGuarded(i,o,d){return this._inner.runGuarded(i,o,d)}runOutsideAngular(i){return this._outer.run(i)}}const QI={};function V0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function GE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WE(n){n._nesting--,V0(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(i,o,d){return i.apply(o,d)}runGuarded(i,o,d){return i.apply(o,d)}runOutsideAngular(i){return i()}runTask(i,o,d,h){return i.apply(o,d)}}const KE=new ki(""),qE=new ki("");let H0,nw=(()=>{class n{constructor(o,d,h){this._ngZone=o,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H0||(function rw(n){H0=n}(h),h.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ed.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,h){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==v),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:h})}whenStable(o,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,h){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ir(ed),Ir(YE),Ir(qE))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})(),YE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){var h,v;return null!==(h=null===(v=H0)||void 0===v?void 0:v.findTestabilityInTree(this,o,d))&&void 0!==h?h:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xf=!1;let Cp=null;const z0=new ki("PlatformDestroyListeners"),XE=new ki("appBootstrapListener");class ow{constructor(i,o){this.name=i,this.token=o}}function cw(n){const{rootComponent:i,appProviders:o,platformProviders:d}=n;xf&&void 0!==i&&function $f(n){if(function Uf(n){if(!Nn(n))throw new Re(906,`The ${gt(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!Nn(n).standalone)throw new Re(907,`The ${gt(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${gt(n)} component has the \`standalone: true\` flag in the decorator.`)}(i);const h=function lw(n=[]){if(Cp)return Cp;const i=function JE(n=[],i){return zu.create({name:i,providers:[{provide:jh,useValue:"platform"},{provide:z0,useValue:new Set([()=>Cp=null])},...n]})}(n);return Cp=i,function QE(n){const i=n.get(jE,null);i&&i.forEach(o=>o())}(i),i}(d),v=function nI(n,i){let o;return o="noop"===n?new tw:("zone.js"===n?void 0:n)||new ed(i),o}("zone.js",function tI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return v.run(()=>{const N=ev([{provide:ed,useValue:v},...o||[]],h,"Environment Injector"),V=N.get(pu,null);if(xf&&!V)throw new Re(402,"No `ErrorHandler` found in the Dependency Injection tree.");let X;v.runOutsideAngular(()=>{X=v.onError.subscribe({next:at=>{V.handleError(at)}})});const ce=()=>N.destroy(),Ae=h.get(z0);return Ae.add(ce),N.onDestroy(()=>{X.unsubscribe(),Ae.delete(ce)}),function rI(n,i,o){try{const d=o();return Cy(d)?d.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(V,v,()=>{const at=N.get(p_);return at.runInitializers(),at.donePromise.then(()=>{!function kv(n){lt(n,"Expected localeId to be defined"),"string"==typeof n&&(mp=n.toLowerCase().replace(/_/g,"-"))}(N.get(g_,pp)||pp);const un=N.get(m_);return void 0!==i&&un.bootstrap(i),un})})})}let m_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,d,h){this._zone=o,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ee.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),D=new ee.y(N=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{ed.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{ed.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{V.unsubscribe(),X.unsubscribe()}});this.isStable=(0,de.T)(v,D.pipe((0,$e.B)()))}bootstrap(o,d){xf&&this.warnIfDestroyed();const h=o instanceof Lf;if(!this._injector.get(p_).done){const Ft="Cannot bootstrap as there are still asynchronous initializers running."+(!h&&ir(o)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Re(405,xf&&Ft)}let D;D=h?o:this._injector.get(qa).resolveComponentFactory(o),this.componentTypes.push(D.componentType);const N=function sw(n){return n.isBoundToModule}(D)?void 0:this._injector.get(Qa),X=D.create(zu.NULL,[],d||D.selector,N),ce=X.location.nativeElement,Ae=X.injector.get(KE,null);return null==Ae||Ae.registerApplication(ce),X.onDestroy(()=>{this.detachView(X.hostView),y_(this.components,X),null==Ae||Ae.unregisterApplication(ce)}),this._loadComponent(X),X}tick(){if(xf&&this.warnIfDestroyed(),this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){xf&&this.warnIfDestroyed();const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){xf&&this.warnIfDestroyed();const d=o;y_(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const d=this._injector.get(XE,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return xf&&this.warnIfDestroyed(),this._destroyListeners.push(o),()=>y_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){xf&&this._destroyed&&console.warn(Se(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(o){return new(o||n)(Ir(ed),Ir(Ll),Ir(pu))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function hw(){return!1}function fw(){}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(n){return function mw(n,i,o){if(ys(n)&&!o){const d=Xi(n.index,i);return new xd(d,d)}return 47&n.type?new xd(i[At],i):null}(ft(),M(),16==(16&n))}class cI{constructor(){}supports(i){return Kt(i)}create(i){return new ww(i)}}const Iw=(n,i)=>i;class ww{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Iw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,d=this._removalsHead,h=0,v=null;for(;o||d;){const D=!d||o&&o.currentIndex<dI(d,h,v)?o:d,N=dI(D,h,v),V=D.currentIndex;if(D===d)h--,d=d._nextRemoved;else if(o=o._next,null==D.previousIndex)h++;else{v||(v=[]);const X=N-h,ce=V-h;if(X!=ce){for(let at=0;at<X;at++){const Ft=at<v.length?v[at]:v[at]=0,un=Ft+at;ce<=un&&un<X&&(v[at]=Ft+1)}v[D.previousIndex]=ce-X}}N!==V&&i(D,N,V)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Kt(i))throw new Re(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,v,D,o=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let N=0;N<this.length;N++)v=i[N],D=this._trackByFn(N,v),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,v,D,N)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,D,N),d=!0),o=o._next}else h=0,function Un(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let d;for(;!(d=o.next()).done;)i(d.value)}}(i,N=>{D=this._trackByFn(h,N),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,N,D,h)),Object.is(o.item,N)||this._addIdentityChange(o,N)):(o=this._mismatch(o,N,D,h),d=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,d,h){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,v,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,v,h)):i=this._addAfter(new Cw(o,d),v,h),i}_verifyReinsertion(i,o,d,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,v=i._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(i,o,d),this._addToMoves(i,d),i}_moveAfter(i,o,d){return this._unlink(i),this._insertAfter(i,o,d),this._addToMoves(i,d),i}_addAfter(i,o,d){return this._insertAfter(i,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,d){const h=null===o?this._itHead:o._next;return i._next=h,i._prev=o,null===h?this._itTail=i:h._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new uI),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,d=i._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Cw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const o=i._prevDup,d=i._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class uI{constructor(){this.map=new Map}put(i){const o=i.trackById;let d=this.map.get(o);d||(d=new bw,this.map.set(o,d)),d.add(i)}get(i,o){const h=this.map.get(i);return h?h.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dI(n,i,o){const d=n.previousIndex;if(null===d)return d;let h=0;return o&&d<o.length&&(h=o[d]),d+i+h}class hI{constructor(){}supports(i){return i instanceof Map||jr(i)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||jr(i)))throw new Re(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(h,d);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const d=i._prev;return o._next=i,o._prev=d,i._prev=o,d&&(d._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,o);const v=h._prev,D=h._next;return v&&(v._next=D),D&&(D._prev=v),h._next=null,h._prev=null,h}const d=new Tw(i);return this._records.set(i,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(d=>o(i[d],d))}}class Tw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fI(){return new Z0([new cI])}let Z0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(null!=d){const h=d.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||fI()),deps:[[n,new Bs,new gi]]}}find(o){const d=this.factories.find(h=>h.supports(o));if(null!=d)return d;throw new Re(901,!1)}}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:fI}),n})();function pI(){return new X0([new hI])}let X0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(d){const h=d.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||pI()),deps:[[n,new Bs,new gi]]}}find(o){const d=this.factories.find(h=>h.supports(o));if(d)return d;throw new Re(901,!1)}}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:pI}),n})();function xw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Mw(n,i){const o=Nn(n),d=i.elementInjector||hu();return new zc(o).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(gn,mt,H)=>{"use strict";H.d(mt,{qu:()=>sa,NI:()=>At,u:()=>lo,sg:()=>Os,u5:()=>W,JU:()=>rt,a5:()=>bi,JJ:()=>Hn,JL:()=>Gn,F:()=>Ye,On:()=>qt,UX:()=>fe,kI:()=>Ce,_Y:()=>tn});var _=H(4650),y=H(6895),ee=H(8996),de=H(9751),$e=H(4742),xe=H(8421),me=H(7669),Ve=H(5403),Fe=H(3268),we=H(1810),ye=H(4004);let ze=(()=>{class M{constructor(L,ne){this._renderer=L,this._elementRef=ne,this.onChange=ft=>{},this.onTouched=()=>{}}setProperty(L,ne){this._renderer.setProperty(this._elementRef.nativeElement,L,ne)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(_.Qsj),_.Y36(_.SBq))},M.\u0275dir=_.lG2({type:M}),M})(),He=(()=>{class M extends ze{}return M.\u0275fac=function(){let F;return function(ne){return(F||(F=_.n5z(M)))(ne||M)}}(),M.\u0275dir=_.lG2({type:M,features:[_.qOj]}),M})();const rt=new _.OlP("NgValueAccessor"),Se={provide:rt,useExisting:(0,_.Gpc)(()=>Y),multi:!0},gt=new _.OlP("CompositionEventMode");let Y=(()=>{class M extends ze{constructor(L,ne,ft){super(L,ne),this._compositionMode=ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const M=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(gt,8))},M.\u0275dir=_.lG2({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ne){1&L&&_.NdJ("input",function(mn){return ne._handleInput(mn.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(mn){return ne._compositionEnd(mn.target.value)})},features:[_._Bn([Se]),_.qOj]}),M})();const et=!1;function Ze(M){return null==M||("string"==typeof M||Array.isArray(M))&&0===M.length}function xt(M){return null!=M&&"number"==typeof M.length}const Be=new _.OlP("NgValidators"),Oe=new _.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(F){return function Ue(M){return F=>{if(Ze(F.value)||Ze(M))return null;const L=parseFloat(F.value);return!isNaN(L)&&L<M?{min:{min:M,actual:F.value}}:null}}(F)}static max(F){return function ht(M){return F=>{if(Ze(F.value)||Ze(M))return null;const L=parseFloat(F.value);return!isNaN(L)&&L>M?{max:{max:M,actual:F.value}}:null}}(F)}static required(F){return function _t(M){return Ze(M.value)?{required:!0}:null}(F)}static requiredTrue(F){return function ct(M){return!0===M.value?null:{required:!0}}(F)}static email(F){return function wt(M){return Ze(M.value)||Pe.test(M.value)?null:{email:!0}}(F)}static minLength(F){return function pt(M){return F=>Ze(F.value)||!xt(F.value)?null:F.value.length<M?{minlength:{requiredLength:M,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function ke(M){return F=>xt(F.value)&&F.value.length>M?{maxlength:{requiredLength:M,actualLength:F.value.length}}:null}(F)}static pattern(F){return function Le(M){if(!M)return Ne;let F,L;return"string"==typeof M?(L="","^"!==M.charAt(0)&&(L+="^"),L+=M,"$"!==M.charAt(M.length-1)&&(L+="$"),F=new RegExp(L)):(L=M.toString(),F=M),ne=>{if(Ze(ne.value))return null;const ft=ne.value;return F.test(ft)?null:{pattern:{requiredPattern:L,actualValue:ft}}}}(F)}static nullValidator(F){return null}static compose(F){return Te(F)}static composeAsync(F){return cn(F)}}function Ne(M){return null}function lt(M){return null!=M}function vt(M){const F=(0,_.QGY)(M)?(0,ee.D)(M):M;if(et&&!(0,_.CqO)(F)){let L="Expected async validator to return Promise or Observable.";throw"object"==typeof M&&(L+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,L)}return F}function Xt(M){let F={};return M.forEach(L=>{F=null!=L?{...F,...L}:F}),0===Object.keys(F).length?null:F}function Bt(M,F){return F.map(L=>L(M))}function Tt(M){return M.map(F=>function yn(M){return!M.validate}(F)?F:L=>F.validate(L))}function Te(M){if(!M)return null;const F=M.filter(lt);return 0==F.length?null:function(L){return Xt(Bt(L,F))}}function St(M){return null!=M?Te(Tt(M)):null}function cn(M){if(!M)return null;const F=M.filter(lt);return 0==F.length?null:function(L){return function ge(...M){const F=(0,me.jO)(M),{args:L,keys:ne}=(0,$e.D)(M),ft=new de.y(mn=>{const{length:Nr}=L;if(!Nr)return void mn.complete();const ti=new Array(Nr);let Qi=Nr,ds=Nr;for(let Ao=0;Ao<Nr;Ao++){let Si=!1;(0,xe.Xf)(L[Ao]).subscribe((0,Ve.x)(mn,ja=>{Si||(Si=!0,ds--),ti[Ao]=ja},()=>Qi--,void 0,()=>{(!Qi||!Si)&&(ds||mn.next(ne?(0,we.n)(ne,ti):ti),mn.complete())}))}});return F?ft.pipe((0,Fe.Z)(F)):ft}(Bt(L,F).map(vt)).pipe((0,ye.U)(Xt))}}function Sn(M){return null!=M?cn(Tt(M)):null}function zn(M,F){return null===M?[F]:Array.isArray(M)?[...M,F]:[M,F]}function wn(M){return M._rawValidators}function nn(M){return M._rawAsyncValidators}function En(M){return M?Array.isArray(M)?M:[M]:[]}function hr(M,F){return Array.isArray(M)?M.includes(F):M===F}function Cr(M,F){const L=En(F);return En(M).forEach(ft=>{hr(L,ft)||L.push(ft)}),L}function tr(M,F){return En(F).filter(L=>!hr(M,L))}class vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,L){return!!this.control&&this.control.hasError(F,L)}getError(F,L){return this.control?this.control.getError(F,L):null}}class jn extends vn{get formDirective(){return null}get path(){return null}}class bi extends vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(F){this._cd=F}get isTouched(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.touched)}get isUntouched(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.untouched)}get isPristine(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.pristine)}get isDirty(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.dirty)}get isValid(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.valid)}get isInvalid(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.invalid)}get isPending(){var F,L;return!(null===(F=this._cd)||void 0===F||null===(L=F.control)||void 0===L||!L.pending)}get isSubmitted(){var F;return!(null===(F=this._cd)||void 0===F||!F.submitted)}}let Hn=(()=>{class M extends br{constructor(L){super(L)}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(bi,2))},M.\u0275dir=_.lG2({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ne){2&L&&_.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[_.qOj]}),M})(),Gn=(()=>{class M extends br{constructor(L){super(L)}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(jn,10))},M.\u0275dir=_.lG2({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,ne){2&L&&_.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[_.qOj]}),M})();function Mi(M,F){return M?`with name: '${F}'`:`at index: ${F}`}const Qe=!1,Yt="VALID",zt="INVALID",Ie="PENDING",_e="DISABLED";function We(M){return(ot(M)?M.validators:M)||null}function st(M,F){return(ot(F)?F.asyncValidators:M)||null}function ot(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}function je(M,F,L){const ne=M.controls;if(!(F?Object.keys(ne):ne).length)throw new _.vHH(1e3,Qe?function yr(M){return`\n    There are no form controls registered with this ${M?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!ne[L])throw new _.vHH(1001,Qe?function jt(M,F){return`Cannot find form control ${Mi(M,F)}`}(F,L):"")}function ve(M,F,L){M._forEachChild((ne,ft)=>{if(void 0===L[ft])throw new _.vHH(1002,Qe?function Ke(M,F){return`Must supply a value for form control ${Mi(M,F)}`}(F,ft):"")})}class ut{constructor(F,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Yt}get invalid(){return this.status===zt}get pending(){return this.status==Ie}get disabled(){return this.status===_e}get enabled(){return this.status!==_e}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(Cr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Cr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(tr(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(tr(F,this._rawAsyncValidators))}hasValidator(F){return hr(this._rawValidators,F)}hasAsyncValidator(F){return hr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Ie,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const L=this._parentMarkedDirty(F.onlySelf);this.status=_e,this.errors=null,this._forEachChild(ne=>{ne.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:L}),this._onDisabledChange.forEach(ne=>ne(!0))}enable(F={}){const L=this._parentMarkedDirty(F.onlySelf);this.status=Yt,this._forEachChild(ne=>{ne.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:L}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===Ie)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_e:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Ie,this._hasOwnPendingAsyncValidator=!0;const L=vt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,L={}){this.errors=F,this._updateControlsErrors(!1!==L.emitEvent)}get(F){let L=F;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ne,ft)=>ne&&ne._find(ft),this)}getError(F,L){const ne=L?this.get(L):this;return ne&&ne.errors?ne.errors[F]:null}hasError(F,L){return!!this.getError(F,L)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?_e:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ie)?Ie:this._anyControlsHaveStatus(zt)?zt:Yt}_anyControlsHaveStatus(F){return this._anyControls(L=>L.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){ot(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Dt(M){return Array.isArray(M)?St(M):M||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function on(M){return Array.isArray(M)?Sn(M):M||null}(this._rawAsyncValidators)}}class Rt extends ut{constructor(F,L,ne){super(We(L),st(ne,L)),this.controls=F,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,L){return this.controls[F]?this.controls[F]:(this.controls[F]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(F,L,ne={}){this.registerControl(F,L),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(F,L={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(F,L,ne={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],L&&this.registerControl(F,L),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,L={}){ve(this,!0,F),Object.keys(F).forEach(ne=>{je(this,!0,ne),this.controls[ne].setValue(F[ne],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(F,L={}){null!=F&&(Object.keys(F).forEach(ne=>{const ft=this.controls[ne];ft&&ft.patchValue(F[ne],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(F={},L={}){this._forEachChild((ne,ft)=>{ne.reset(F[ft],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(F,L,ne)=>(F[ne]=L.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(L,ne)=>!!ne._syncPendingControls()||L);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(L=>{const ne=this.controls[L];ne&&F(ne,L)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[L,ne]of Object.entries(this.controls))if(this.contains(L)&&F(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ne,ft)=>((ne.enabled||this.disabled)&&(L[ft]=ne.value),L))}_reduceChildren(F,L){let ne=F;return this._forEachChild((ft,mn)=>{ne=L(ne,ft,mn)}),ne}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class qn extends Rt{}const zr=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$t}),$t="always";function bt(M,F){return[...F.path,M]}function Jt(M,F,L=$t){var ne,ft;Nn(M,F),F.valueAccessor.writeValue(M.value),(M.disabled||"always"===L)&&(null===(ne=(ft=F.valueAccessor).setDisabledState)||void 0===ne||ne.call(ft,M.disabled)),function rr(M,F){F.valueAccessor.registerOnChange(L=>{M._pendingValue=L,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&Xn(M,F)})}(M,F),function Ds(M,F){const L=(ne,ft)=>{F.valueAccessor.writeValue(ne),ft&&F.viewToModelUpdate(ne)};M.registerOnChange(L),F._registerOnDestroy(()=>{M._unregisterOnChange(L)})}(M,F),function ir(M,F){F.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&Xn(M,F),"submit"!==M.updateOn&&M.markAsTouched()})}(M,F),function vr(M,F){if(F.valueAccessor.setDisabledState){const L=ne=>{F.valueAccessor.setDisabledState(ne)};M.registerOnDisabledChange(L),F._registerOnDestroy(()=>{M._unregisterOnDisabledChange(L)})}}(M,F)}function On(M,F,L=!0){const ne=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(ne),F.valueAccessor.registerOnTouched(ne)),or(M,F),M&&(F._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function Vn(M,F){M.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(F)})}function Nn(M,F){const L=wn(M);null!==F.validator?M.setValidators(zn(L,F.validator)):"function"==typeof L&&M.setValidators([L]);const ne=nn(M);null!==F.asyncValidator?M.setAsyncValidators(zn(ne,F.asyncValidator)):"function"==typeof ne&&M.setAsyncValidators([ne]);const ft=()=>M.updateValueAndValidity();Vn(F._rawValidators,ft),Vn(F._rawAsyncValidators,ft)}function or(M,F){let L=!1;if(null!==M){if(null!==F.validator){const ft=wn(M);if(Array.isArray(ft)&&ft.length>0){const mn=ft.filter(Nr=>Nr!==F.validator);mn.length!==ft.length&&(L=!0,M.setValidators(mn))}}if(null!==F.asyncValidator){const ft=nn(M);if(Array.isArray(ft)&&ft.length>0){const mn=ft.filter(Nr=>Nr!==F.asyncValidator);mn.length!==ft.length&&(L=!0,M.setAsyncValidators(mn))}}}const ne=()=>{};return Vn(F._rawValidators,ne),Vn(F._rawAsyncValidators,ne),L}function Xn(M,F){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function Fi(M,F){Nn(M,F)}function Pr(M,F){if(!M.hasOwnProperty("model"))return!1;const L=M.model;return!!L.isFirstChange()||!Object.is(F,L.currentValue)}function Li(M,F){M._syncPendingControls(),F.forEach(L=>{const ne=L.control;"submit"===ne.updateOn&&ne._pendingChange&&(L.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}function Lr(M,F){if(!F)return null;let L,ne,ft;return Array.isArray(F),F.forEach(mn=>{mn.constructor===Y?L=mn:function _i(M){return Object.getPrototypeOf(M.constructor)===He}(mn)?ne=mn:ft=mn}),ft||ne||L||null}const Ge={provide:jn,useExisting:(0,_.Gpc)(()=>Ye)},pe=(()=>Promise.resolve())();let Ye=(()=>{class M extends jn{constructor(L,ne,ft){super(),this.callSetDisabledState=ft,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new Rt({},St(L),Sn(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){pe.then(()=>{const ne=this._findContainer(L.path);L.control=ne.registerControl(L.name,L.control),Jt(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){pe.then(()=>{const ne=this._findContainer(L.path);ne&&ne.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){pe.then(()=>{const ne=this._findContainer(L.path),ft=new Rt({});Fi(ft,L),ne.registerControl(L.name,ft),ft.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){pe.then(()=>{const ne=this._findContainer(L.path);ne&&ne.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ne){pe.then(()=>{this.form.get(L.path).setValue(ne)})}setValue(L){this.control.setValue(L)}onSubmit(L){var ne;return this.submitted=!0,Li(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(ne=L.target)||void 0===ne?void 0:ne.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(Be,10),_.Y36(Oe,10),_.Y36(zr,8))},M.\u0275dir=_.lG2({type:M,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,ne){1&L&&_.NdJ("submit",function(mn){return ne.onSubmit(mn)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ge]),_.qOj]}),M})();function qe(M,F){const L=M.indexOf(F);L>-1&&M.splice(L,1)}function Nt(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}const At=class extends ut{constructor(F=null,L,ne){super(We(L),st(ne,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ot(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Nt(F)?F.value:F)}setValue(F,L={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(F,L={}){this.setValue(F,L)}reset(F=this.defaultValue,L={}){this._applyFormState(F),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){qe(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){qe(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Nt(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},tt={provide:bi,useExisting:(0,_.Gpc)(()=>qt)},Et=(()=>Promise.resolve())();let qt=(()=>{class M extends bi{constructor(L,ne,ft,mn,Nr,ti){super(),this._changeDetectorRef=Nr,this.callSetDisabledState=ti,this.control=new At,this._registered=!1,this.update=new _.vpe,this._parent=L,this._setValidators(ne),this._setAsyncValidators(ft),this.valueAccessor=Lr(0,mn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ne=L.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Pr(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Et.then(()=>{var ne;this.control.setValue(L,{emitViewToModelChange:!1}),null===(ne=this._changeDetectorRef)||void 0===ne||ne.markForCheck()})}_updateDisabled(L){const ne=L.isDisabled.currentValue,ft=0!==ne&&(0,_.D6c)(ne);Et.then(()=>{var mn;ft&&!this.control.disabled?this.control.disable():!ft&&this.control.disabled&&this.control.enable(),null===(mn=this._changeDetectorRef)||void 0===mn||mn.markForCheck()})}_getPath(L){return this._parent?bt(L,this._parent):[L]}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(jn,9),_.Y36(Be,10),_.Y36(Oe,10),_.Y36(rt,10),_.Y36(_.sBO,8),_.Y36(zr,8))},M.\u0275dir=_.lG2({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([tt]),_.qOj,_.TTD]}),M})(),tn=(()=>{class M{}return M.\u0275fac=function(L){return new(L||M)},M.\u0275dir=_.lG2({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})(),ys=(()=>{class M{}return M.\u0275fac=function(L){return new(L||M)},M.\u0275mod=_.oAB({type:M}),M.\u0275inj=_.cJS({}),M})();const jo=new _.OlP("NgModelWithFormControlWarning"),oo={provide:jn,useExisting:(0,_.Gpc)(()=>Os)};let Os=(()=>{class M extends jn{constructor(L,ne,ft){super(),this.callSetDisabledState=ft,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(L),this._setAsyncValidators(ne)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ne=this.form.get(L.path);return Jt(ne,L,this.callSetDisabledState),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ne}getControl(L){return this.form.get(L.path)}removeControl(L){On(L.control||null,L,!1),function se(M,F){const L=M.indexOf(F);L>-1&&M.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ne){this.form.get(L.path).setValue(ne)}onSubmit(L){var ne;return this.submitted=!0,Li(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(ne=L.target)||void 0===ne?void 0:ne.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ne=L.control,ft=this.form.get(L.path);ne!==ft&&(On(ne||null,L),(M=>M instanceof At)(ft)&&(Jt(ft,L,this.callSetDisabledState),L.control=ft))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ne=this.form.get(L.path);Fi(ne,L),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ne=this.form.get(L.path);ne&&function Vi(M,F){return or(M,F)}(ne,L)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nn(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}}return M.\u0275fac=function(L){return new(L||M)(_.Y36(Be,10),_.Y36(Oe,10),_.Y36(zr,8))},M.\u0275dir=_.lG2({type:M,selectors:[["","formGroup",""]],hostBindings:function(L,ne){1&L&&_.NdJ("submit",function(mn){return ne.onSubmit(mn)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([oo]),_.qOj,_.TTD]}),M})();const Ja={provide:bi,useExisting:(0,_.Gpc)(()=>lo)};let lo=(()=>{class M extends bi{set isDisabled(L){}constructor(L,ne,ft,mn,Nr){super(),this._ngModelWarningConfig=Nr,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ne),this._setAsyncValidators(ft),this.valueAccessor=Lr(0,mn)}ngOnChanges(L){this._added||this._setUpControl(),Pr(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return M._ngModelWarningSentOnce=!1,M.\u0275fac=function(L){return new(L||M)(_.Y36(jn,13),_.Y36(Be,10),_.Y36(Oe,10),_.Y36(rt,10),_.Y36(jo,8))},M.\u0275dir=_.lG2({type:M,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Ja]),_.qOj,_.TTD]}),M})(),To=(()=>{class M{}return M.\u0275fac=function(L){return new(L||M)},M.\u0275mod=_.oAB({type:M}),M.\u0275inj=_.cJS({imports:[ys]}),M})();class ia extends ut{constructor(F,L,ne){super(We(L),st(ne,L)),this.controls=F,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,L={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(F,L,ne={}){this.controls.splice(F,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(F,L={}){let ne=this._adjustIndex(F);ne<0&&(ne=0),this.controls[ne]&&this.controls[ne]._registerOnCollectionChange(()=>{}),this.controls.splice(ne,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(F,L,ne={}){let ft=this._adjustIndex(F);ft<0&&(ft=0),this.controls[ft]&&this.controls[ft]._registerOnCollectionChange(()=>{}),this.controls.splice(ft,1),L&&(this.controls.splice(ft,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,L={}){ve(this,!1,F),F.forEach((ne,ft)=>{je(this,!1,ft),this.at(ft).setValue(ne,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(F,L={}){null!=F&&(F.forEach((ne,ft)=>{this.at(ft)&&this.at(ft).patchValue(ne,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(F=[],L={}){this._forEachChild((ne,ft)=>{ne.reset(F[ft],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((L,ne)=>!!ne._syncPendingControls()||L,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((L,ne)=>{F(L,ne)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(L=>L.enabled&&F(L))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){var L;return null!==(L=this.at(F))&&void 0!==L?L:null}}function pa(M){return!!M&&(void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn)}let sa=(()=>{class M{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new M;return L.useNonNullable=!0,L}group(L,ne=null){const ft=this._reduceControls(L);let mn={};return pa(ne)?mn=ne:null!==ne&&(mn.validators=ne.validator,mn.asyncValidators=ne.asyncValidator),new Rt(ft,mn)}record(L,ne=null){const ft=this._reduceControls(L);return new qn(ft,ne)}control(L,ne,ft){let mn={};return this.useNonNullable?(pa(ne)?mn=ne:(mn.validators=ne,mn.asyncValidators=ft),new At(L,{...mn,nonNullable:!0})):new At(L,ne,ft)}array(L,ne,ft){const mn=L.map(Nr=>this._createControl(Nr));return new ia(mn,ne,ft)}_reduceControls(L){const ne={};return Object.keys(L).forEach(ft=>{ne[ft]=this._createControl(L[ft])}),ne}_createControl(L){return L instanceof At||L instanceof ut?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return M.\u0275fac=function(L){return new(L||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),W=(()=>{class M{static withConfig(L){var ne;return{ngModule:M,providers:[{provide:zr,useValue:null!==(ne=L.callSetDisabledState)&&void 0!==ne?ne:$t}]}}}return M.\u0275fac=function(L){return new(L||M)},M.\u0275mod=_.oAB({type:M}),M.\u0275inj=_.cJS({imports:[To]}),M})(),fe=(()=>{class M{static withConfig(L){var ne,ft;return{ngModule:M,providers:[{provide:jo,useValue:null!==(ne=L.warnOnNgModelWithFormControl)&&void 0!==ne?ne:"always"},{provide:zr,useValue:null!==(ft=L.callSetDisabledState)&&void 0!==ft?ft:$t}]}}}return M.\u0275fac=function(L){return new(L||M)},M.\u0275mod=_.oAB({type:M}),M.\u0275inj=_.cJS({imports:[To]}),M})()},1481:(gn,mt,H)=>{"use strict";H.d(mt,{Cg:()=>St,Dx:()=>Gn});var _=H(6895),y=H(4650);class ee extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends ee{static makeCurrent(){(0,_.HT)(new de)}onAndCancel(je,ve,ut){return je.addEventListener(ve,ut,!1),()=>{je.removeEventListener(ve,ut,!1)}}dispatchEvent(je,ve){je.dispatchEvent(ve)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,ve){return(ve=ve||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,ve){return"window"===ve?window:"document"===ve?je:"body"===ve?je.body:null}getBaseHref(je){const ve=function xe(){return $e=$e||document.querySelector("base"),$e?$e.getAttribute("href"):null}();return null==ve?null:function Ve(ot){me=me||document.createElement("a"),me.setAttribute("href",ot);const je=me.pathname;return"/"===je.charAt(0)?je:`/${je}`}(ve)}resetBaseElement(){$e=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,_.Mx)(document.cookie,je)}}let me,$e=null,ze=(()=>{class ot{build(){return new XMLHttpRequest}}return ot.\u0275fac=function(ve){return new(ve||ot)},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const He=new y.OlP("EventManagerPlugins");let rt=(()=>{class ot{constructor(ve,ut){this._zone=ut,this._eventNameToPlugin=new Map,ve.forEach(Rt=>{Rt.manager=this}),this._plugins=ve.slice().reverse()}addEventListener(ve,ut,Rt){return this._findPluginFor(ut).addEventListener(ve,ut,Rt)}addGlobalEventListener(ve,ut,Rt){return this._findPluginFor(ut).addGlobalEventListener(ve,ut,Rt)}getZone(){return this._zone}_findPluginFor(ve){const ut=this._eventNameToPlugin.get(ve);if(ut)return ut;const Rt=this._plugins;for(let ln=0;ln<Rt.length;ln++){const Tn=Rt[ln];if(Tn.supports(ve))return this._eventNameToPlugin.set(ve,Tn),Tn}throw new Error(`No event manager plugin found for event ${ve}`)}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(He),y.LFG(y.R0b))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Ct{constructor(je){this._doc=je}addGlobalEventListener(je,ve,ut){const Rt=(0,_.q)().getGlobalEventTarget(this._doc,je);if(!Rt)throw new Error(`Unsupported event target ${Rt} for event ${ve}`);return this.addEventListener(Rt,ve,ut)}}let Re=(()=>{class ot{constructor(){this.usageCount=new Map}addStyles(ve){for(const ut of ve)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(ve){for(const ut of ve)0===this.changeUsageCount(ut,-1)&&this.onStyleRemoved(ut)}onStyleRemoved(ve){}onStyleAdded(ve){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ve,ut){var Rt;const ln=this.usageCount;let Tn=null!==(Rt=ln.get(ve))&&void 0!==Rt?Rt:0;return Tn+=ut,Tn>0?ln.set(ve,Tn):ln.delete(ve),Tn}ngOnDestroy(){for(const ve of this.getAllStyles())this.onStyleRemoved(ve);this.usageCount.clear()}}return ot.\u0275fac=function(ve){return new(ve||ot)},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Se=(()=>{class ot extends Re{constructor(ve){super(),this.doc=ve,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ve){for(const ut of this.hostNodes)this.addStyleToHost(ut,ve)}onStyleRemoved(ve){const ut=this.styleRef,Rt=ut.get(ve);null==Rt||Rt.forEach(ln=>ln.remove()),ut.delete(ve)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ve){this.hostNodes.add(ve);for(const ut of this.getAllStyles())this.addStyleToHost(ve,ut)}removeHost(ve){this.hostNodes.delete(ve)}addStyleToHost(ve,ut){const Rt=this.doc.createElement("style");Rt.textContent=ut,ve.appendChild(Rt);const ln=this.styleRef.get(ut);ln?ln.push(Rt):this.styleRef.set(ut,[Rt])}resetHostNodes(){const ve=this.hostNodes;ve.clear(),ve.add(this.doc.head)}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(_.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gt=/%COMP%/g,Oe=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ue(ot,je){return je.flat(100).map(ve=>ve.replace(gt,ot))}function ht(ot){return je=>{if("__ngUnwrap__"===je)return ot;!1===ot(je)&&(je.preventDefault(),je.returnValue=!1)}}let _t=(()=>{class ot{constructor(ve,ut,Rt,ln){this.eventManager=ve,this.sharedStylesHost=ut,this.appId=Rt,this.removeStylesOnCompDestory=ln,this.rendererByCompId=new Map,this.defaultRenderer=new ct(ve)}createRenderer(ve,ut){if(!ve||!ut)return this.defaultRenderer;const Rt=this.getOrCreateRenderer(ve,ut);return Rt instanceof lt?Rt.applyToHost(ve):Rt instanceof Ne&&Rt.applyStyles(),Rt}getOrCreateRenderer(ve,ut){const Rt=this.rendererByCompId;let ln=Rt.get(ut.id);if(!ln){const Tn=this.eventManager,qn=this.sharedStylesHost,fr=this.removeStylesOnCompDestory;switch(ut.encapsulation){case y.ifc.Emulated:ln=new lt(Tn,qn,ut,this.appId,fr);break;case y.ifc.ShadowDom:return new Le(Tn,qn,ve,ut);default:ln=new Ne(Tn,qn,ut,fr)}ln.onDestroy=()=>Rt.delete(ut.id),Rt.set(ut.id,ln)}return ln}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(rt),y.LFG(Se),y.LFG(y.AFp),y.LFG(Oe))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class ct{constructor(je){this.eventManager=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(je,ve){return ve?document.createElementNS(ue[ve]||ve,je):document.createElement(je)}createComment(je){return document.createComment(je)}createText(je){return document.createTextNode(je)}appendChild(je,ve){(ke(je)?je.content:je).appendChild(ve)}insertBefore(je,ve,ut){je&&(ke(je)?je.content:je).insertBefore(ve,ut)}removeChild(je,ve){je&&je.removeChild(ve)}selectRootElement(je,ve){let ut="string"==typeof je?document.querySelector(je):je;if(!ut)throw new Error(`The selector "${je}" did not match any elements`);return ve||(ut.textContent=""),ut}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,ve,ut,Rt){if(Rt){ve=Rt+":"+ve;const ln=ue[Rt];ln?je.setAttributeNS(ln,ve,ut):je.setAttribute(ve,ut)}else je.setAttribute(ve,ut)}removeAttribute(je,ve,ut){if(ut){const Rt=ue[ut];Rt?je.removeAttributeNS(Rt,ve):je.removeAttribute(`${ut}:${ve}`)}else je.removeAttribute(ve)}addClass(je,ve){je.classList.add(ve)}removeClass(je,ve){je.classList.remove(ve)}setStyle(je,ve,ut,Rt){Rt&(y.JOm.DashCase|y.JOm.Important)?je.style.setProperty(ve,ut,Rt&y.JOm.Important?"important":""):je.style[ve]=ut}removeStyle(je,ve,ut){ut&y.JOm.DashCase?je.style.removeProperty(ve):je.style[ve]=""}setProperty(je,ve,ut){je[ve]=ut}setValue(je,ve){je.nodeValue=ve}listen(je,ve,ut){return"string"==typeof je?this.eventManager.addGlobalEventListener(je,ve,ht(ut)):this.eventManager.addEventListener(je,ve,ht(ut))}}function ke(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class Le extends ct{constructor(je,ve,ut,Rt){super(je),this.sharedStylesHost=ve,this.hostEl=ut,this.shadowRoot=ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ln=Ue(Rt.id,Rt.styles);for(const Tn of ln){const qn=document.createElement("style");qn.textContent=Tn,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}appendChild(je,ve){return super.appendChild(this.nodeOrShadowRoot(je),ve)}insertBefore(je,ve,ut){return super.insertBefore(this.nodeOrShadowRoot(je),ve,ut)}removeChild(je,ve){return super.removeChild(this.nodeOrShadowRoot(je),ve)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends ct{constructor(je,ve,ut,Rt,ln=ut.id){super(je),this.sharedStylesHost=ve,this.removeStylesOnCompDestory=Rt,this.rendererUsageCount=0,this.styles=Ue(ln,ut.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var je;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(je=this.onDestroy)||void 0===je||je.call(this))}}class lt extends Ne{constructor(je,ve,ut,Rt,ln){const Tn=Rt+"-"+ut.id;super(je,ve,ut,ln,Tn),this.contentAttr=function Pe(ot){return"_ngcontent-%COMP%".replace(gt,ot)}(Tn),this.hostAttr=function Ce(ot){return"_nghost-%COMP%".replace(gt,ot)}(Tn)}applyToHost(je){this.applyStyles(),this.setAttribute(je,this.hostAttr,"")}createElement(je,ve){const ut=super.createElement(je,ve);return super.setAttribute(ut,this.contentAttr,""),ut}}let vt=(()=>{class ot extends Ct{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,ut,Rt){return ve.addEventListener(ut,Rt,!1),()=>this.removeEventListener(ve,ut,Rt)}removeEventListener(ve,ut,Rt){return ve.removeEventListener(ut,Rt)}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(_.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Xt=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yn={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Tt=(()=>{class ot extends Ct{constructor(ve){super(ve)}supports(ve){return null!=ot.parseEventName(ve)}addEventListener(ve,ut,Rt){const ln=ot.parseEventName(ut),Tn=ot.eventCallback(ln.fullKey,Rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ve,ln.domEventName,Tn))}static parseEventName(ve){const ut=ve.toLowerCase().split("."),Rt=ut.shift();if(0===ut.length||"keydown"!==Rt&&"keyup"!==Rt)return null;const ln=ot._normalizeKey(ut.pop());let Tn="",qn=ut.indexOf("code");if(qn>-1&&(ut.splice(qn,1),Tn="code."),Xt.forEach(zr=>{const $t=ut.indexOf(zr);$t>-1&&(ut.splice($t,1),Tn+=zr+".")}),Tn+=ln,0!=ut.length||0===ln.length)return null;const fr={};return fr.domEventName=Rt,fr.fullKey=Tn,fr}static matchEventFullKeyCode(ve,ut){let Rt=Bt[ve.key]||ve.key,ln="";return ut.indexOf("code.")>-1&&(Rt=ve.code,ln="code."),!(null==Rt||!Rt)&&(Rt=Rt.toLowerCase()," "===Rt?Rt="space":"."===Rt&&(Rt="dot"),Xt.forEach(Tn=>{Tn!==Rt&&(0,yn[Tn])(ve)&&(ln+=Tn+".")}),ln+=Rt,ln===ut)}static eventCallback(ve,ut,Rt){return ln=>{ot.matchEventFullKeyCode(ln,ve)&&Rt.runGuarded(()=>ut(ln))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(_.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac}),ot})();function St(ot,je){return(0,y.iPO)({rootComponent:ot,...Sn(je)})}function Sn(ot){var je;return{appProviders:[...jn,...null!==(je=null==ot?void 0:ot.providers)&&void 0!==je?je:[]],platformProviders:hr}}const hr=[{provide:y.Lbi,useValue:_.bD},{provide:y.g9A,useValue:function wn(){de.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function En(){return(0,y.RDi)(document),document},deps:[]}],jn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function nn(){return new y.qLn},deps:[]},{provide:He,useClass:vt,multi:!0,deps:[_.K0,y.R0b,y.Lbi]},{provide:He,useClass:Tt,multi:!0,deps:[_.K0]},{provide:_t,useClass:_t,deps:[rt,Se,y.AFp,Oe]},{provide:y.FYo,useExisting:_t},{provide:Re,useExisting:Se},{provide:Se,useClass:Se,deps:[_.K0]},{provide:rt,useClass:rt,deps:[He,y.R0b]},{provide:_.JF,useClass:ze,deps:[]},[]];let Gn=(()=>{class ot{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return ot.\u0275fac=function(ve){return new(ve||ot)(y.LFG(_.K0))},ot.\u0275prov=y.Yz7({token:ot,factory:function(ve){let ut=null;return ut=ve?new ve:function Hn(){return new Gn((0,y.LFG)(_.K0))}(),ut},providedIn:"root"}),ot})();typeof window<"u"&&window},1194:(gn,mt,H)=>{"use strict";H.d(mt,{gz:()=>Ss,y6:()=>ta,OD:()=>At,eC:()=>nn,wN:()=>Js,F0:()=>rn,rH:()=>sl,Bz:()=>qr,Hx:()=>Ke,bU:()=>aa});var _=H(4650),y=H(8996),ee=H(9646),de=H(1135),$e=H(6805),xe=H(9751),me=H(4742),Ve=H(4671),Fe=H(3268),we=H(7669),ge=H(1810),ye=H(5403),ze=H(9672);function He(...S){const x=(0,we.yG)(S),w=(0,we.jO)(S),{args:O,keys:z}=(0,me.D)(S);if(0===O.length)return(0,y.D)([],x);const re=new xe.y(function rt(S,x,w=Ve.y){return O=>{Ct(x,()=>{const{length:z}=S,re=new Array(z);let ae=z,nt=z;for(let kt=0;kt<z;kt++)Ct(x,()=>{const fn=(0,y.D)(S[kt],x);let Bn=!1;fn.subscribe((0,ye.x)(O,Mn=>{re[kt]=Mn,Bn||(Bn=!0,nt--),nt||O.next(w(re.slice()))},()=>{--ae||O.complete()}))},O)},O)}}(O,x,z?ae=>(0,ge.n)(z,ae):Ve.y));return w?re.pipe((0,Fe.Z)(w)):re}function Ct(S,x,w){S?(0,ze.f)(w,S,x):x()}var Re=H(7272),Se=H(8421);function ue(S){return new xe.y(x=>{(0,Se.Xf)(S()).subscribe(x)})}var gt=H(9635),Y=H(576);function et(S,x){const w=(0,Y.m)(S)?S:()=>S,O=z=>z.error(w());return new xe.y(x?z=>x.schedule(O,0,z):O)}var Ze=H(515),xt=H(727),Be=H(4482);function Oe(){return(0,Be.e)((S,x)=>{let w=null;S._refCount++;const O=(0,ye.x)(x,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const z=S._connection,re=w;w=null,z&&(!re||z===re)&&z.unsubscribe(),x.unsubscribe()});S.subscribe(O),O.closed||(w=S.connect())})}class Pe extends xe.y{constructor(x,w){super(),this.source=x,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Be.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new xt.w0;const w=this.getSubject();x.add(this.source.subscribe((0,ye.x)(w,void 0,()=>{this._teardown(),w.complete()},O=>{this._teardown(),w.error(O)},()=>this._teardown()))),x.closed&&(this._connection=null,x=xt.w0.EMPTY)}return x}refCount(){return Oe()(this)}}var Ce=H(7579),Ue=H(6895),ht=H(4004),_t=H(3900),ct=H(5698),wt=H(8675),pt=H(9300),ke=H(5577),Le=H(590),Ne=H(4351),lt=H(8505);function vt(S){return(0,Be.e)((x,w)=>{let re,O=null,z=!1;O=x.subscribe((0,ye.x)(w,void 0,void 0,ae=>{re=(0,Se.Xf)(S(ae,vt(S)(x))),O?(O.unsubscribe(),O=null,re.subscribe(w)):z=!0})),z&&(O.unsubscribe(),O=null,re.subscribe(w))})}var Xt=H(5026);function Bt(S){return S<=0?()=>Ze.E:(0,Be.e)((x,w)=>{let O=[];x.subscribe((0,ye.x)(w,z=>{O.push(z),S<O.length&&O.shift()},()=>{for(const z of O)w.next(z);w.complete()},void 0,()=>{O=null}))})}var yn=H(8068),Tt=H(6590);function Te(S,x){const w=arguments.length>=2;return O=>O.pipe(S?(0,pt.h)((z,re)=>S(z,re,O)):Ve.y,Bt(1),w?(0,Tt.d)(x):(0,yn.T)(()=>new $e.K))}function Sn(S){return(0,Be.e)((x,w)=>{try{x.subscribe(w)}finally{w.add(S)}})}var zn=H(8189),wn=H(1481);const nn="primary",En=Symbol("RouteTitle");class hr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w[0]:w}return null}getAll(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Cr(S){return new hr(S)}function tr(S,x,w){const O=w.path.split("/");if(O.length>S.length||"full"===w.pathMatch&&(x.hasChildren()||O.length<S.length))return null;const z={};for(let re=0;re<O.length;re++){const ae=O[re],nt=S[re];if(ae.startsWith(":"))z[ae.substring(1)]=nt;else if(ae!==nt.path)return null}return{consumed:S.slice(0,O.length),posParams:z}}function jn(S,x){const w=S?Object.keys(S):void 0,O=x?Object.keys(x):void 0;if(!w||!O||w.length!=O.length)return!1;let z;for(let re=0;re<w.length;re++)if(z=w[re],!bi(S[z],x[z]))return!1;return!0}function bi(S,x){if(Array.isArray(S)&&Array.isArray(x)){if(S.length!==x.length)return!1;const w=[...S].sort(),O=[...x].sort();return w.every((z,re)=>O[re]===z)}return S===x}function br(S){return Array.prototype.concat.apply([],S)}function mi(S){return S.length>0?S[S.length-1]:null}function Hn(S,x){for(const w in S)S.hasOwnProperty(w)&&x(S[w],w)}function Gn(S){return(0,_.CqO)(S)?S:(0,_.QGY)(S)?(0,y.D)(Promise.resolve(S)):(0,ee.of)(S)}const en=!1,pn={exact:function si(S,x,w){if(!yr(S.segments,x.segments)||!vi(S.segments,x.segments,w)||S.numberOfChildren!==x.numberOfChildren)return!1;for(const O in x.children)if(!S.children[O]||!si(S.children[O],x.children[O],w))return!1;return!0},subset:yi},sn={exact:function Dr(S,x){return jn(S,x)},subset:function oi(S,x){return Object.keys(x).length<=Object.keys(S).length&&Object.keys(x).every(w=>bi(S[w],x[w]))},ignored:()=>!0};function ci(S,x,w){return pn[w.paths](S.root,x.root,w.matrixParams)&&sn[w.queryParams](S.queryParams,x.queryParams)&&!("exact"===w.fragment&&S.fragment!==x.fragment)}function yi(S,x,w){return Ur(S,x,x.segments,w)}function Ur(S,x,w,O){if(S.segments.length>w.length){const z=S.segments.slice(0,w.length);return!(!yr(z,w)||x.hasChildren()||!vi(z,w,O))}if(S.segments.length===w.length){if(!yr(S.segments,w)||!vi(S.segments,w,O))return!1;for(const z in x.children)if(!S.children[z]||!yi(S.children[z],x.children[z],O))return!1;return!0}{const z=w.slice(0,S.segments.length),re=w.slice(S.segments.length);return!!(yr(S.segments,z)&&vi(S.segments,z,O)&&S.children[nn])&&Ur(S.children[nn],x,re,O)}}function vi(S,x,w){return x.every((O,z)=>sn[w](S[z].parameters,O.parameters))}class lr{constructor(x=new sr([],{}),w={},O=null){this.root=x,this.queryParams=w,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class sr{constructor(x,w){this.segments=x,this.children=w,this.parent=null,Hn(w,(O,z)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class Ir{constructor(x,w){this.path=x,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}toString(){return je(this)}}function yr(S,x){return S.length===x.length&&S.every((w,O)=>w.path===x[O].path)}let Ke=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return new Qe},providedIn:"root"}),S})();class Qe{parse(x){const w=new $t(x);return new lr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(x){const w=`/${Ie(x.root,!0)}`,O=function ut(S){const x=Object.keys(S).map(w=>{const O=S[w];return Array.isArray(O)?O.map(z=>`${We(w)}=${We(z)}`).join("&"):`${We(w)}=${We(O)}`}).filter(w=>!!w);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${w}${O}${"string"==typeof x.fragment?`#${function Dt(S){return encodeURI(S)}(x.fragment)}`:""}`}}const Yt=new Qe;function zt(S){return S.segments.map(x=>je(x)).join("/")}function Ie(S,x){if(!S.hasChildren())return zt(S);if(x){const w=S.children[nn]?Ie(S.children[nn],!1):"",O=[];return Hn(S.children,(z,re)=>{re!==nn&&O.push(`${re}:${Ie(z,!1)}`)}),O.length>0?`${w}(${O.join("//")})`:w}{const w=function jt(S,x){let w=[];return Hn(S.children,(O,z)=>{z===nn&&(w=w.concat(x(O,z)))}),Hn(S.children,(O,z)=>{z!==nn&&(w=w.concat(x(O,z)))}),w}(S,(O,z)=>z===nn?[Ie(S.children[nn],!1)]:[`${z}:${Ie(O,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[nn]?`${zt(S)}/${w[0]}`:`${zt(S)}/(${w.join("//")})`}}function _e(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function We(S){return _e(S).replace(/%3B/gi,";")}function st(S){return _e(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function on(S){return decodeURIComponent(S)}function ot(S){return on(S.replace(/\+/g,"%20"))}function je(S){return`${st(S.path)}${function ve(S){return Object.keys(S).map(x=>`;${st(x)}=${st(S[x])}`).join("")}(S.parameters)}`}const Rt=/^[^\/()?;=#]+/;function ln(S){const x=S.match(Rt);return x?x[0]:""}const Tn=/^[^=?&#]+/,fr=/^[^&#]+/;class $t{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(x.length>0||Object.keys(w).length>0)&&(O[nn]=new sr(x,w)),O}parseSegment(){const x=ln(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new _.vHH(4009,en);return this.capture(x),new Ir(on(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const w=ln(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const z=ln(this.remaining);z&&(O=z,this.capture(O))}x[on(w)]=on(O)}parseQueryParam(x){const w=function qn(S){const x=S.match(Tn);return x?x[0]:""}(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const ae=function zr(S){const x=S.match(fr);return x?x[0]:""}(this.remaining);ae&&(O=ae,this.capture(O))}const z=ot(w),re=ot(O);if(x.hasOwnProperty(z)){let ae=x[z];Array.isArray(ae)||(ae=[ae],x[z]=ae),ae.push(re)}else x[z]=re}parseParens(x){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=ln(this.remaining),z=this.remaining[O.length];if("/"!==z&&")"!==z&&";"!==z)throw new _.vHH(4010,en);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):x&&(re=nn);const ae=this.parseChildren();w[re]=1===Object.keys(ae).length?ae[nn]:new sr([],ae),this.consumeOptional("//")}return w}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new _.vHH(4011,en)}}function bt(S){return S.segments.length>0?new sr([],{[nn]:S}):S}function Jt(S){const x={};for(const O of Object.keys(S.children)){const re=Jt(S.children[O]);(re.segments.length>0||re.hasChildren())&&(x[O]=re)}return function On(S){if(1===S.numberOfChildren&&S.children[nn]){const x=S.children[nn];return new sr(S.segments.concat(x.segments),x.children)}return S}(new sr(S.segments,x))}function Vn(S){return S instanceof lr}const vr=!1;function ir(S,x,w,O,z){var re;if(0===w.length)return Fi(x.root,x.root,x.root,O,z);const ae=function In(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ji(!0,0,S);let x=0,w=!1;const O=S.reduce((z,re,ae)=>{if("object"==typeof re&&null!=re){if(re.outlets){const nt={};return Hn(re.outlets,(kt,fn)=>{nt[fn]="string"==typeof kt?kt.split("/"):kt}),[...z,{outlets:nt}]}if(re.segmentPath)return[...z,re.segmentPath]}return"string"!=typeof re?[...z,re]:0===ae?(re.split("/").forEach((nt,kt)=>{0==kt&&"."===nt||(0==kt&&""===nt?w=!0:".."===nt?x++:""!=nt&&z.push(nt))}),z):[...z,re]},[]);return new ji(w,x,O)}(w);return ae.toRoot()?Fi(x.root,x.root,new sr([],{}),O,z):function nt(fn){var Bn;const Mn=function qi(S,x,w,O){if(S.isAbsolute)return new nr(x.root,!0,0);if(-1===O)return new nr(w,w===x.root,0);return function Pr(S,x,w){let O=S,z=x,re=w;for(;re>z;){if(re-=z,O=O.parent,!O)throw new _.vHH(4005,vr&&"Invalid number of '../'");z=O.segments.length}return new nr(O,!1,z-re)}(w,O+(Xn(S.commands[0])?0:1),S.numberOfDoubleDots)}(ae,x,null===(Bn=S.snapshot)||void 0===Bn?void 0:Bn._urlSegment,fn),gi=Mn.processChildren?Lr(Mn.segmentGroup,Mn.index,ae.commands):Li(Mn.segmentGroup,Mn.index,ae.commands);return Fi(x.root,Mn.segmentGroup,gi,O,z)}(null===(re=S.snapshot)||void 0===re?void 0:re._lastPathIndex)}function Xn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ds(S){return"object"==typeof S&&null!=S&&S.outlets}function Fi(S,x,w,O,z){let ae,re={};O&&Hn(O,(kt,fn)=>{re[fn]=Array.isArray(kt)?kt.map(Bn=>`${Bn}`):`${kt}`}),ae=S===x?w:Vi(S,x,w);const nt=bt(Jt(ae));return new lr(nt,re,z)}function Vi(S,x,w){const O={};return Hn(S.children,(z,re)=>{O[re]=z===x?w:Vi(z,x,w)}),new sr(S.segments,O)}class ji{constructor(x,w,O){if(this.isAbsolute=x,this.numberOfDoubleDots=w,this.commands=O,x&&O.length>0&&Xn(O[0]))throw new _.vHH(4003,vr&&"Root segment cannot have matrix parameters");const z=O.find(Ds);if(z&&z!==mi(O))throw new _.vHH(4004,vr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nr{constructor(x,w,O){this.segmentGroup=x,this.processChildren=w,this.index=O}}function Li(S,x,w){if(S||(S=new sr([],{})),0===S.segments.length&&S.hasChildren())return Lr(S,x,w);const O=function se(S,x,w){let O=0,z=x;const re={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(O>=w.length)return re;const ae=S.segments[z],nt=w[O];if(Ds(nt))break;const kt=`${nt}`,fn=O<w.length-1?w[O+1]:null;if(z>0&&void 0===kt)break;if(kt&&fn&&"object"==typeof fn&&void 0===fn.outlets){if(!Ye(kt,fn,ae))return re;O+=2}else{if(!Ye(kt,{},ae))return re;O++}z++}return{match:!0,pathIndex:z,commandIndex:O}}(S,x,w),z=w.slice(O.commandIndex);if(O.match&&O.pathIndex<S.segments.length){const re=new sr(S.segments.slice(0,O.pathIndex),{});return re.children[nn]=new sr(S.segments.slice(O.pathIndex),S.children),Lr(re,0,z)}return O.match&&0===z.length?new sr(S.segments,{}):O.match&&!S.hasChildren()?Ee(S,x,w):O.match?Lr(S,0,z):Ee(S,x,w)}function Lr(S,x,w){if(0===w.length)return new sr(S.segments,{});{const O=function _i(S){return Ds(S[0])?S[0].outlets:{[nn]:S}}(w),z={};if(!O[nn]&&S.children[nn]&&1===S.numberOfChildren&&0===S.children[nn].segments.length){const re=Lr(S.children[nn],x,w);return new sr(S.segments,re.children)}return Hn(O,(re,ae)=>{"string"==typeof re&&(re=[re]),null!==re&&(z[ae]=Li(S.children[ae],x,re))}),Hn(S.children,(re,ae)=>{void 0===O[ae]&&(z[ae]=re)}),new sr(S.segments,z)}}function Ee(S,x,w){const O=S.segments.slice(0,x);let z=0;for(;z<w.length;){const re=w[z];if(Ds(re)){const kt=Ge(re.outlets);return new sr(O,kt)}if(0===z&&Xn(w[0])){O.push(new Ir(S.segments[x].path,pe(w[0]))),z++;continue}const ae=Ds(re)?re.outlets[nn]:`${re}`,nt=z<w.length-1?w[z+1]:null;ae&&nt&&Xn(nt)?(O.push(new Ir(ae,pe(nt))),z+=2):(O.push(new Ir(ae,{})),z++)}return new sr(O,{})}function Ge(S){const x={};return Hn(S,(w,O)=>{"string"==typeof w&&(w=[w]),null!==w&&(x[O]=Ee(new sr([],{}),0,w))}),x}function pe(S){const x={};return Hn(S,(w,O)=>x[O]=`${w}`),x}function Ye(S,x,w){return S==w.path&&jn(x,w.parameters)}const qe="imperative";class Nt{constructor(x,w){this.id=x,this.url=w}}class At extends Nt{constructor(x,w,O="imperative",z=null){super(x,w),this.type=0,this.navigationTrigger=O,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ht extends Nt{constructor(x,w,O){super(x,w),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qt extends Nt{constructor(x,w,O,z){super(x,w),this.reason=O,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dn extends Nt{constructor(x,w,O,z){super(x,w),this.reason=O,this.code=z,this.type=16}}class Yn extends Nt{constructor(x,w,O,z){super(x,w),this.error=O,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends Nt{constructor(x,w,O,z){super(x,w),this.urlAfterRedirects=O,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends Nt{constructor(x,w,O,z){super(x,w),this.urlAfterRedirects=O,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends Nt{constructor(x,w,O,z,re){super(x,w),this.urlAfterRedirects=O,this.state=z,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bi extends Nt{constructor(x,w,O,z){super(x,w),this.urlAfterRedirects=O,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends Nt{constructor(x,w,O,z){super(x,w),this.urlAfterRedirects=O,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qt{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(x,w,O){this.routerEvent=x,this.position=w,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Oo=(()=>{class S{createUrlTree(w,O,z,re,ae,nt){return ir(w||O.root,z,re,ae,nt)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})(),Ts=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(x){return Oo.\u0275fac(x)},providedIn:"root"}),S})();class Hi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const w=this.pathFromRoot(x);return w.length>1?w[w.length-2]:null}children(x){const w=jo(x,this._root);return w?w.children.map(O=>O.value):[]}firstChild(x){const w=jo(x,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(x){const w=ua(x,this._root);return w.length<2?[]:w[w.length-2].children.map(z=>z.value).filter(z=>z!==x)}pathFromRoot(x){return ua(x,this._root).map(w=>w.value)}}function jo(S,x){if(S===x.value)return x;for(const w of x.children){const O=jo(S,w);if(O)return O}return null}function ua(S,x){if(S===x.value)return[x];for(const w of x.children){const O=ua(S,w);if(O.length)return O.unshift(x),O}return[]}class Yi{constructor(x,w){this.value=x,this.children=w}toString(){return`TreeNode(${this.value})`}}function oo(S){const x={};return S&&S.children.forEach(w=>x[w.value.outlet]=w),x}class Os extends Hi{constructor(x,w){super(x),this.snapshot=w,us(this,x)}toString(){return this.snapshot.toString()}}function Ta(S,x){const w=function ko(S,x){const ae=new Ja([],{},{},"",{},nn,x,null,S.root,-1,{});return new lo("",new Yi(ae,[]))}(S,x),O=new de.X([new Ir("",{})]),z=new de.X({}),re=new de.X({}),ae=new de.X({}),nt=new de.X(""),kt=new Ss(O,z,ae,nt,re,nn,x,w.root);return kt.snapshot=w.root,new Os(new Yi(kt,[]),w)}class Ss{constructor(x,w,O,z,re,ae,nt,kt){var fn,Bn;this.url=x,this.params=w,this.queryParams=O,this.fragment=z,this.data=re,this.outlet=ae,this.component=nt,this.title=null!==(fn=null===(Bn=this.data)||void 0===Bn?void 0:Bn.pipe((0,ht.U)(Mn=>Mn[En])))&&void 0!==fn?fn:(0,ee.of)(void 0),this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(x=>Cr(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(x=>Cr(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ao(S,x="emptyOnly"){const w=S.pathFromRoot;let O=0;if("always"!==x)for(O=w.length-1;O>=1;){const z=w[O],re=w[O-1];if(z.routeConfig&&""===z.routeConfig.path)O--;else{if(re.component)break;O--}}return function da(S){return S.reduce((x,w)=>{var O;return{params:{...x.params,...w.params},data:{...x.data,...w.data},resolve:{...w.data,...x.resolve,...null===(O=w.routeConfig)||void 0===O?void 0:O.data,...w._resolvedData}}},{params:{},data:{},resolve:{}})}(w.slice(O))}class Ja{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[En]}constructor(x,w,O,z,re,ae,nt,kt,fn,Bn,Mn){this.url=x,this.params=w,this.queryParams=O,this.fragment=z,this.data=re,this.outlet=ae,this.component=nt,this.routeConfig=kt,this._urlSegment=fn,this._lastPathIndex=Bn,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lo extends Hi{constructor(x,w){super(w),this.url=x,us(this,w)}toString(){return ha(this._root)}}function us(S,x){x.value._routerState=S,x.children.forEach(w=>us(S,w))}function ha(S){const x=S.children.length>0?` { ${S.children.map(ha).join(", ")} } `:"";return`${S.value}${x}`}function Ws(S){if(S.snapshot){const x=S.snapshot,w=S._futureSnapshot;S.snapshot=w,jn(x.queryParams,w.queryParams)||S.queryParams.next(w.queryParams),x.fragment!==w.fragment&&S.fragment.next(w.fragment),jn(x.params,w.params)||S.params.next(w.params),function vn(S,x){if(S.length!==x.length)return!1;for(let w=0;w<S.length;++w)if(!jn(S[w],x[w]))return!1;return!0}(x.url,w.url)||S.url.next(w.url),jn(x.data,w.data)||S.data.next(w.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function is(S,x){const w=jn(S.params,x.params)&&function Mi(S,x){return yr(S,x)&&S.every((w,O)=>jn(w.parameters,x[O].parameters))}(S.url,x.url);return w&&!(!S.parent!=!x.parent)&&(!S.parent||is(S.parent,x.parent))}function Ho(S,x,w){if(w&&S.shouldReuseRoute(x.value,w.value.snapshot)){const O=w.value;O._futureSnapshot=x.value;const z=function co(S,x,w){return x.children.map(O=>{for(const z of w.children)if(S.shouldReuseRoute(O.value,z.value.snapshot))return Ho(S,O,z);return Ho(S,O)})}(S,x,w);return new Yi(O,z)}{if(S.shouldAttach(x.value)){const re=S.retrieve(x.value);if(null!==re){const ae=re.route;return ae.value._futureSnapshot=x.value,ae.children=x.children.map(nt=>Ho(S,nt)),ae}}const O=function Qr(S){return new Ss(new de.X(S.url),new de.X(S.params),new de.X(S.queryParams),new de.X(S.fragment),new de.X(S.data),S.outlet,S.component,S)}(x.value),z=x.children.map(re=>Ho(S,re));return new Yi(O,z)}}const ks="ngNavigationCancelingError";function uo(S,x){const{redirectTo:w,navigationBehaviorOptions:O}=Vn(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,z=ho(!1,0,x);return z.url=w,z.navigationBehaviorOptions=O,z}function ho(S,x,w){const O=new Error("NavigationCancelingError: "+(S||""));return O[ks]=!0,O.cancellationCode=x,w&&(O.url=w),O}function fa(S){return fo(S)&&Vn(S.url)}function fo(S){return S&&S[ks]}class vs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ta,this.attachRef=null}}let ta=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,O){const z=this.getOrCreateContext(w);z.outlet=O,this.contexts.set(w,z)}onChildOutletDestroyed(w){const O=this.getContext(w);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let O=this.getContext(w);return O||(O=new vs,this.contexts.set(w,O)),O}getContext(w){return this.contexts.get(w)||null}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const No=!1;let na=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(ta),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(w){if(w.name){const{firstChange:O,previousValue:z}=w.name;if(O)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){var O;return(null===(O=this.parentContexts.getContext(w))||void 0===O?void 0:O.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,No);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,No);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,No);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,O){this.activated=w,this._activatedRoute=O,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,O){if(this.isActivated)throw new _.vHH(4013,No);this._activatedRoute=w;const z=this.location,ae=w.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,kt=new As(w,nt,z.injector);if(O&&function zi(S){return!!S.resolveComponentFactory}(O)){const fn=O.resolveComponentFactory(ae);this.activated=z.createComponent(fn,z.length,kt)}else this.activated=z.createComponent(ae,{index:z.length,injector:kt,environmentInjector:null!=O?O:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275dir=_.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),S})();class As{constructor(x,w,O){this.route=x,this.childContexts=w,this.parent=O}get(x,w){return x===Ss?this.route:x===ta?this.childContexts:this.parent.get(x,w)}}let Zi=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275cmp=_.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(w,O){1&w&&_._UZ(0,"router-outlet")},dependencies:[na],encapsulation:2}),S})();function bo(S,x){var w;return S.providers&&!S._injector&&(S._injector=(0,_.MMx)(S.providers,x,`Route: ${S.path}`)),null!==(w=S._injector)&&void 0!==w?w:x}function Do(S){const x=S.children&&S.children.map(Do),w=x?{...S,children:x}:{...S};return!w.component&&!w.loadComponent&&(x||w.loadChildren)&&w.outlet&&w.outlet!==nn&&(w.component=Zi),w}function Gi(S){return S.outlet||nn}function Va(S,x){const w=S.filter(O=>Gi(O)===x);return w.push(...S.filter(O=>Gi(O)!==x)),w}function Ns(S){var x;if(!S)return null;if(null!==(x=S.routeConfig)&&void 0!==x&&x._injector)return S.routeConfig._injector;for(let w=S.parent;w;w=w.parent){const O=w.routeConfig;if(null!=O&&O._loadedInjector)return O._loadedInjector;if(null!=O&&O._injector)return O._injector}return null}class ia{constructor(x,w,O,z){this.routeReuseStrategy=x,this.futureState=w,this.currState=O,this.forwardEvent=z}activate(x){const w=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,O,x),Ws(this.futureState.root),this.activateChildRoutes(w,O,x)}deactivateChildRoutes(x,w,O){const z=oo(w);x.children.forEach(re=>{const ae=re.value.outlet;this.deactivateRoutes(re,z[ae],O),delete z[ae]}),Hn(z,(re,ae)=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(x,w,O){const z=x.value,re=w?w.value:null;if(z===re)if(z.component){const ae=O.getContext(z.outlet);ae&&this.deactivateChildRoutes(x,w,ae.children)}else this.deactivateChildRoutes(x,w,O);else re&&this.deactivateRouteAndItsChildren(w,O)}deactivateRouteAndItsChildren(x,w){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,w):this.deactivateRouteAndOutlet(x,w)}detachAndStoreRouteSubtree(x,w){const O=w.getContext(x.value.outlet),z=O&&x.value.component?O.children:w,re=oo(x);for(const ae of Object.keys(re))this.deactivateRouteAndItsChildren(re[ae],z);if(O&&O.outlet){const ae=O.outlet.detach(),nt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:ae,route:x,contexts:nt})}}deactivateRouteAndOutlet(x,w){const O=w.getContext(x.value.outlet),z=O&&x.value.component?O.children:w,re=oo(x);for(const ae of Object.keys(re))this.deactivateRouteAndItsChildren(re[ae],z);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(x,w,O){const z=oo(w);x.children.forEach(re=>{this.activateRoutes(re,z[re.value.outlet],O),this.forwardEvent(new gr(re.value.snapshot))}),x.children.length&&this.forwardEvent(new tn(x.value.snapshot))}activateRoutes(x,w,O){const z=x.value,re=w?w.value:null;if(Ws(z),z===re)if(z.component){const nt=O.getOrCreateContext(z.outlet);this.activateChildRoutes(x,w,nt.children)}else this.activateChildRoutes(x,w,O);else if(z.component){const nt=O.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const kt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),nt.children.onOutletReAttached(kt.contexts),nt.attachRef=kt.componentRef,nt.route=kt.route.value,nt.outlet&&nt.outlet.attach(kt.componentRef,kt.route.value),Ws(kt.route.value),this.activateChildRoutes(x,null,nt.children)}else{var ae;const kt=Ns(z.snapshot),fn=null!==(ae=null==kt?void 0:kt.get(_._Vd))&&void 0!==ae?ae:null;nt.attachRef=null,nt.route=z,nt.resolver=fn,nt.injector=kt,nt.outlet&&nt.outlet.activateWith(z,nt.injector),this.activateChildRoutes(x,null,nt.children)}}else this.activateChildRoutes(x,null,O)}}class wr{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class So{constructor(x,w){this.component=x,this.route=w}}function pa(S,x,w){const O=S._root;return q(O,x?x._root:null,w,[O.value])}function b(S,x){const w=Symbol(),O=x.get(S,w);return O===w?"function"!=typeof S||(0,_.Z0I)(S)?x.get(S):S:O}function q(S,x,w,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const re=oo(x);return S.children.forEach(ae=>{(function T(S,x,w,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const re=S.value,ae=x?x.value:null,nt=w?w.getContext(S.value.outlet):null;if(ae&&re.routeConfig===ae.routeConfig){const kt=function W(S,x,w){if("function"==typeof w)return w(S,x);switch(w){case"pathParamsChange":return!yr(S.url,x.url);case"pathParamsOrQueryParamsChange":return!yr(S.url,x.url)||!jn(S.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!is(S,x)||!jn(S.queryParams,x.queryParams);default:return!is(S,x)}}(ae,re,re.routeConfig.runGuardsAndResolvers);kt?z.canActivateChecks.push(new wr(O)):(re.data=ae.data,re._resolvedData=ae._resolvedData),q(S,x,re.component?nt?nt.children:null:w,O,z),kt&&nt&&nt.outlet&&nt.outlet.isActivated&&z.canDeactivateChecks.push(new So(nt.outlet.component,ae))}else ae&&fe(x,nt,z),z.canActivateChecks.push(new wr(O)),q(S,null,re.component?nt?nt.children:null:w,O,z)})(ae,re[ae.value.outlet],w,O.concat([ae.value]),z),delete re[ae.value.outlet]}),Hn(re,(ae,nt)=>fe(ae,w.getContext(nt),z)),z}function fe(S,x,w){const O=oo(S),z=S.value;Hn(O,(re,ae)=>{fe(re,z.component?x?x.children.getContext(ae):null:x,w)}),w.canDeactivateChecks.push(new So(z.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,z))}function M(S){return"function"==typeof S}function ds(S){return S instanceof $e.K||"EmptyError"===(null==S?void 0:S.name)}const Ao=Symbol("INITIAL_VALUE");function Si(){return(0,_t.w)(S=>He(S.map(x=>x.pipe((0,ct.q)(1),(0,wt.O)(Ao)))).pipe((0,ht.U)(x=>{for(const w of x)if(!0!==w){if(w===Ao)return Ao;if(!1===w||w instanceof lr)return w}return!0}),(0,pt.h)(x=>x!==Ao),(0,ct.q)(1)))}function Ha(S){return(0,gt.z)((0,lt.b)(x=>{if(Vn(x))throw uo(0,x)}),(0,ht.U)(x=>!0===x))}const xs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nl(S,x,w,O,z){const re=Aa(S,x,w);return re.matched?function ns(S,x,w,O){const z=x.canMatch;if(!z||0===z.length)return(0,ee.of)(!0);const re=z.map(ae=>{const nt=b(ae,S);return Gn(function Nr(S){return S&&M(S.canMatch)}(nt)?nt.canMatch(x,w):S.runInContext(()=>nt(x,w)))});return(0,ee.of)(re).pipe(Si(),Ha())}(O=bo(x,O),x,w).pipe((0,ht.U)(ae=>!0===ae?re:{...xs})):(0,ee.of)(re)}function Aa(S,x,w){var O;if(""===x.path)return"full"===x.pathMatch&&(S.hasChildren()||w.length>0)?{...xs}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const re=(x.matcher||tr)(w,S,x);if(!re)return{...xs};const ae={};Hn(re.posParams,(kt,fn)=>{ae[fn]=kt.path});const nt=re.consumed.length>0?{...ae,...re.consumed[re.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:re.consumed,remainingSegments:w.slice(re.consumed.length),parameters:nt,positionalParamSegments:null!==(O=re.posParams)&&void 0!==O?O:{}}}function zo(S,x,w,O){if(w.length>0&&function ga(S,x,w){return w.some(O=>xo(S,x,O)&&Gi(O)!==nn)}(S,w,O)){const re=new sr(x,function rl(S,x,w,O){const z={};z[nn]=O,O._sourceSegment=S,O._segmentIndexShift=x.length;for(const re of w)if(""===re.path&&Gi(re)!==nn){const ae=new sr([],{});ae._sourceSegment=S,ae._segmentIndexShift=x.length,z[Gi(re)]=ae}return z}(S,x,O,new sr(w,S.children)));return re._sourceSegment=S,re._segmentIndexShift=x.length,{segmentGroup:re,slicedSegments:[]}}if(0===w.length&&function os(S,x,w){return w.some(O=>xo(S,x,O))}(S,w,O)){const re=new sr(S.segments,function Fo(S,x,w,O,z){const re={};for(const ae of O)if(xo(S,w,ae)&&!z[Gi(ae)]){const nt=new sr([],{});nt._sourceSegment=S,nt._segmentIndexShift=x.length,re[Gi(ae)]=nt}return{...z,...re}}(S,x,w,O,S.children));return re._sourceSegment=S,re._segmentIndexShift=x.length,{segmentGroup:re,slicedSegments:w}}const z=new sr(S.segments,S.children);return z._sourceSegment=S,z._segmentIndexShift=x.length,{segmentGroup:z,slicedSegments:w}}function xo(S,x,w){return(!(S.hasChildren()||x.length>0)||"full"!==w.pathMatch)&&""===w.path}function Go(S,x,w,O){return!!(Gi(S)===O||O!==nn&&xo(x,w,S))&&("**"===S.path||Aa(x,S,w).matched)}function Zs(S,x,w){return 0===x.length&&!S.children[w]}const hs=!1;class xa{constructor(x){this.segmentGroup=x||null}}class as{constructor(x){this.urlTree=x}}function Fs(S){return et(new xa(S))}function Br(S){return et(new as(S))}class vl{constructor(x,w,O,z,re){this.injector=x,this.configLoader=w,this.urlSerializer=O,this.urlTree=z,this.config=re,this.allowRedirects=!0}apply(){const x=zo(this.urlTree.root,[],[],this.config).segmentGroup,w=new sr(x.segments,x.children);return this.expandSegmentGroup(this.injector,this.config,w,nn).pipe((0,ht.U)(re=>this.createUrlTree(Jt(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vt(re=>{if(re instanceof as)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof xa?this.noMatchError(re):re}))}match(x){return this.expandSegmentGroup(this.injector,this.config,x.root,nn).pipe((0,ht.U)(z=>this.createUrlTree(Jt(z),x.queryParams,x.fragment))).pipe(vt(z=>{throw z instanceof xa?this.noMatchError(z):z}))}noMatchError(x){return new _.vHH(4002,hs)}createUrlTree(x,w,O){const z=bt(x);return new lr(z,w,O)}expandSegmentGroup(x,w,O,z){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(x,w,O).pipe((0,ht.U)(re=>new sr([],re))):this.expandSegment(x,O,w,O.segments,z,!0)}expandChildren(x,w,O){const z=[];for(const re of Object.keys(O.children))"primary"===re?z.unshift(re):z.push(re);return(0,y.D)(z).pipe((0,Ne.b)(re=>{const ae=O.children[re],nt=Va(w,re);return this.expandSegmentGroup(x,nt,ae,re).pipe((0,ht.U)(kt=>({segment:kt,outlet:re})))}),(0,Xt.R)((re,ae)=>(re[ae.outlet]=ae.segment,re),{}),Te())}expandSegment(x,w,O,z,re,ae){return(0,y.D)(O).pipe((0,Ne.b)(nt=>this.expandSegmentAgainstRoute(x,w,O,nt,z,re,ae).pipe(vt(fn=>{if(fn instanceof xa)return(0,ee.of)(null);throw fn}))),(0,Le.P)(nt=>!!nt),vt((nt,kt)=>{if(ds(nt))return Zs(w,z,re)?(0,ee.of)(new sr([],{})):Fs(w);throw nt}))}expandSegmentAgainstRoute(x,w,O,z,re,ae,nt){return Go(z,w,re,ae)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(x,w,z,re,ae):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,w,O,z,re,ae):Fs(w):Fs(w)}expandSegmentAgainstRouteUsingRedirect(x,w,O,z,re,ae){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,O,z,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(x,w,O,z,re,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,w,O,z){const re=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Br(re):this.lineralizeSegments(O,re).pipe((0,ke.z)(ae=>{const nt=new sr(ae,{});return this.expandSegment(x,nt,w,ae,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,w,O,z,re,ae){const{matched:nt,consumedSegments:kt,remainingSegments:fn,positionalParamSegments:Bn}=Aa(w,z,re);if(!nt)return Fs(w);const Mn=this.applyRedirectCommands(kt,z.redirectTo,Bn);return z.redirectTo.startsWith("/")?Br(Mn):this.lineralizeSegments(z,Mn).pipe((0,ke.z)(gi=>this.expandSegment(x,w,O,gi.concat(fn),ae,!1)))}matchSegmentAgainstRoute(x,w,O,z,re){return"**"===O.path?(x=bo(O,x),O.loadChildren?(O._loadedRoutes?(0,ee.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(x,O)).pipe((0,ht.U)(nt=>(O._loadedRoutes=nt.routes,O._loadedInjector=nt.injector,new sr(z,{})))):(0,ee.of)(new sr(z,{}))):nl(w,O,z,x).pipe((0,_t.w)(({matched:ae,consumedSegments:nt,remainingSegments:kt})=>{var fn;return ae?(x=null!==(fn=O._injector)&&void 0!==fn?fn:x,this.getChildConfig(x,O,z).pipe((0,ke.z)(Mn=>{var gi;const rs=null!==(gi=Mn.injector)&&void 0!==gi?gi:x,Bs=Mn.routes,{segmentGroup:ya,slicedSegments:Mo}=zo(w,nt,kt,Bs),Es=new sr(ya.segments,ya.children);if(0===Mo.length&&Es.hasChildren())return this.expandChildren(rs,Bs,Es).pipe((0,ht.U)(Jc=>new sr(nt,Jc)));if(0===Bs.length&&0===Mo.length)return(0,ee.of)(new sr(nt,{}));const Mr=Gi(O)===re;return this.expandSegment(rs,Es,Bs,Mo,Mr?nn:re,!0).pipe((0,ht.U)(_o=>new sr(nt.concat(_o.segments),_o.children)))}))):Fs(w)}))}getChildConfig(x,w,O){return w.children?(0,ee.of)({routes:w.children,injector:x}):w.loadChildren?void 0!==w._loadedRoutes?(0,ee.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Sa(S,x,w,O){const z=x.canLoad;if(void 0===z||0===z.length)return(0,ee.of)(!0);const re=z.map(ae=>{const nt=b(ae,S);return Gn(function L(S){return S&&M(S.canLoad)}(nt)?nt.canLoad(x,w):S.runInContext(()=>nt(x,w)))});return(0,ee.of)(re).pipe(Si(),Ha())}(x,w,O).pipe((0,ke.z)(z=>z?this.configLoader.loadChildren(x,w).pipe((0,lt.b)(re=>{w._loadedRoutes=re.routes,w._loadedInjector=re.injector})):function Ra(S){return et(ho(hs,3))}())):(0,ee.of)({routes:[],injector:x})}lineralizeSegments(x,w){let O=[],z=w.root;for(;;){if(O=O.concat(z.segments),0===z.numberOfChildren)return(0,ee.of)(O);if(z.numberOfChildren>1||!z.children[nn])return x.redirectTo,et(new _.vHH(4e3,hs));z=z.children[nn]}}applyRedirectCommands(x,w,O){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),x,O)}applyRedirectCreateUrlTree(x,w,O,z){const re=this.createSegmentGroup(x,w.root,O,z);return new lr(re,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(x,w){const O={};return Hn(x,(z,re)=>{if("string"==typeof z&&z.startsWith(":")){const nt=z.substring(1);O[re]=w[nt]}else O[re]=z}),O}createSegmentGroup(x,w,O,z){const re=this.createSegments(x,w.segments,O,z);let ae={};return Hn(w.children,(nt,kt)=>{ae[kt]=this.createSegmentGroup(x,nt,O,z)}),new sr(re,ae)}createSegments(x,w,O,z){return w.map(re=>re.path.startsWith(":")?this.findPosParam(x,re,z):this.findOrReturn(re,O))}findPosParam(x,w,O){const z=O[w.path.substring(1)];if(!z)throw new _.vHH(4001,hs);return z}findOrReturn(x,w){let O=0;for(const z of w){if(z.path===x.path)return w.splice(O),z;O++}return x}}class Tr{}class B{constructor(x,w,O,z,re,ae,nt){this.injector=x,this.rootComponentType=w,this.config=O,this.urlTree=z,this.url=re,this.paramsInheritanceStrategy=ae,this.urlSerializer=nt}recognize(){const x=zo(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,nn).pipe((0,ht.U)(w=>{if(null===w)return null;const O=new Ja([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new Yi(O,w),re=new lo(this.url,z);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(x){const w=x.value,O=ao(w,this.paramsInheritanceStrategy);w.params=Object.freeze(O.params),w.data=Object.freeze(O.data),x.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(x,w,O,z){return 0===O.segments.length&&O.hasChildren()?this.processChildren(x,w,O):this.processSegment(x,w,O,O.segments,z)}processChildren(x,w,O){return(0,y.D)(Object.keys(O.children)).pipe((0,Ne.b)(z=>{const re=O.children[z],ae=Va(w,z);return this.processSegmentGroup(x,ae,re,z)}),(0,Xt.R)((z,re)=>z&&re?(z.push(...re),z):null),function St(S,x=!1){return(0,Be.e)((w,O)=>{let z=0;w.subscribe((0,ye.x)(O,re=>{const ae=S(re,z++);(ae||x)&&O.next(re),!ae&&O.complete()}))})}(z=>null!==z),(0,Tt.d)(null),Te(),(0,ht.U)(z=>{if(null===z)return null;const re=Me(z);return function Q(S){S.sort((x,w)=>x.value.outlet===nn?-1:w.value.outlet===nn?1:x.value.outlet.localeCompare(w.value.outlet))}(re),re}))}processSegment(x,w,O,z,re){return(0,y.D)(w).pipe((0,Ne.b)(ae=>{var nt;return this.processSegmentAgainstRoute(null!==(nt=ae._injector)&&void 0!==nt?nt:x,ae,O,z,re)}),(0,Le.P)(ae=>!!ae),vt(ae=>{if(ds(ae))return Zs(O,z,re)?(0,ee.of)([]):(0,ee.of)(null);throw ae}))}processSegmentAgainstRoute(x,w,O,z,re){if(w.redirectTo||!Go(w,O,z,re))return(0,ee.of)(null);let ae;if("**"===w.path){var nt,kt;const fn=z.length>0?mi(z).parameters:{},Bn=Fn(O)+z.length,Mn=new Ja(z,fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wr(w),Gi(w),null!==(nt=null!==(kt=w.component)&&void 0!==kt?kt:w._loadedComponent)&&void 0!==nt?nt:null,w,Wt(O),Bn,Fr(w));ae=(0,ee.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]})}else ae=nl(O,w,z,x).pipe((0,ht.U)(({matched:fn,consumedSegments:Bn,remainingSegments:Mn,parameters:gi})=>{var rs,Bs;if(!fn)return null;const ya=Fn(O)+Bn.length;return{snapshot:new Ja(Bn,gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wr(w),Gi(w),null!==(rs=null!==(Bs=w.component)&&void 0!==Bs?Bs:w._loadedComponent)&&void 0!==rs?rs:null,w,Wt(O),ya,Fr(w)),consumedSegments:Bn,remainingSegments:Mn}}));return ae.pipe((0,_t.w)(fn=>{var Bn,Mn;if(null===fn)return(0,ee.of)(null);const{snapshot:gi,consumedSegments:rs,remainingSegments:Bs}=fn;x=null!==(Bn=w._injector)&&void 0!==Bn?Bn:x;const ya=null!==(Mn=w._loadedInjector)&&void 0!==Mn?Mn:x,Mo=function j(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(w),{segmentGroup:Es,slicedSegments:Mr}=zo(O,rs,Bs,Mo.filter(_o=>void 0===_o.redirectTo));if(0===Mr.length&&Es.hasChildren())return this.processChildren(ya,Mo,Es).pipe((0,ht.U)(_o=>null===_o?null:[new Yi(gi,_o)]));if(0===Mo.length&&0===Mr.length)return(0,ee.of)([new Yi(gi,[])]);const hc=Gi(w)===re;return this.processSegment(ya,Mo,Es,Mr,hc?nn:re).pipe((0,ht.U)(_o=>null===_o?null:[new Yi(gi,_o)]))}))}}function ie(S){const x=S.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function Me(S){const x=[],w=new Set;for(const O of S){if(!ie(O)){x.push(O);continue}const z=x.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==z?(z.children.push(...O.children),w.add(z)):x.push(O)}for(const O of w){const z=Me(O.children);x.push(new Yi(O.value,z))}return x.filter(O=>!w.has(O))}function Wt(S){let x=S;for(;x._sourceSegment;)x=x._sourceSegment;return x}function Fn(S){var x;let w=S,O=null!==(x=w._segmentIndexShift)&&void 0!==x?x:0;for(;w._sourceSegment;){var z;w=w._sourceSegment,O+=null!==(z=w._segmentIndexShift)&&void 0!==z?z:0}return O-1}function Wr(S){return S.data||{}}function Fr(S){return S.resolve||{}}function Ko(S){return"string"==typeof S.title||null===S.title}function _s(S){return(0,_t.w)(x=>{const w=S(x);return w?(0,y.D)(w).pipe((0,ht.U)(()=>x)):(0,ee.of)(x)})}const Ls=new _.OlP("ROUTES");let Qs=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,ee.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const O=Gn(w.loadComponent()).pipe((0,ht.U)(El),(0,lt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=re}),Sn(()=>{this.componentLoaders.delete(w)})),z=new Pe(O,()=>new Ce.x).pipe(Oe());return this.componentLoaders.set(w,z),z}loadChildren(w,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,ee.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const re=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,ht.U)(nt=>{this.onLoadEndListener&&this.onLoadEndListener(O);let kt,fn,Bn=!1;Array.isArray(nt)?fn=nt:(kt=nt.create(w).injector,fn=br(kt.get(Ls,[],_.XFs.Self|_.XFs.Optional)));return{routes:fn.map(Do),injector:kt}}),Sn(()=>{this.childrenLoaders.delete(O)})),ae=new Pe(re,()=>new Ce.x).pipe(Oe());return this.childrenLoaders.set(O,ae),ae}loadModuleFactoryOrRoutes(w){return Gn(w()).pipe((0,ht.U)(El),(0,ke.z)(O=>O instanceof _.YKP||Array.isArray(O)?(0,ee.of)(O):(0,y.D)(this.compiler.compileModuleAsync(O))))}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function El(S){return function il(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let qo=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.configLoader=(0,_.f3M)(Qs),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Ke),this.rootContexts=(0,_.f3M)(ta),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Et(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new tt(z))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var O;const z=++this.navigationId;null===(O=this.transitions)||void 0===O||O.next({...this.transitions.value,...w,id:z})}setupNavigations(w){return this.transitions=new de.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qe,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pt.h)(O=>0!==O.id),(0,ht.U)(O=>({...O,extractedUrl:w.urlHandlingStrategy.extract(O.rawUrl)})),(0,_t.w)(O=>{let z=!1,re=!1;return(0,ee.of)(O).pipe((0,lt.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_t.w)(ae=>{var nt;const kt=w.browserUrlTree.toString(),fn=!w.navigated||ae.extractedUrl.toString()!==kt||kt!==w.currentUrlTree.toString(),Bn=null!==(nt=ae.extras.onSameUrlNavigation)&&void 0!==nt?nt:w.onSameUrlNavigation;if(!fn&&"reload"!==Bn){const Mn="";return this.events.next(new dn(ae.id,w.serializeUrl(O.rawUrl),Mn,0)),w.rawUrlTree=ae.rawUrl,ae.resolve(null),Ze.E}if(w.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return Kc(ae.source)&&(w.browserUrlTree=ae.extractedUrl),(0,ee.of)(ae).pipe((0,_t.w)(Mn=>{var gi,rs;const Bs=null===(gi=this.transitions)||void 0===gi?void 0:gi.getValue();return this.events.next(new At(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),Mn.source,Mn.restoredState)),Bs!==(null===(rs=this.transitions)||void 0===rs?void 0:rs.getValue())?Ze.E:Promise.resolve(Mn)}),function mo(S,x,w,O){return(0,_t.w)(z=>function Lo(S,x,w,O,z){return new vl(S,x,w,O,z).apply()}(S,x,w,z.extractedUrl,O).pipe((0,ht.U)(re=>({...z,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,lt.b)(Mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects},O.urlAfterRedirects=Mn.urlAfterRedirects}),function _r(S,x,w,O,z){return(0,ke.z)(re=>function _l(S,x,w,O,z,re,ae="emptyOnly"){return new B(S,x,w,O,z,ae,re).recognize().pipe((0,_t.w)(nt=>null===nt?function zl(S){return new xe.y(x=>x.error(S))}(new Tr):(0,ee.of)(nt)))}(S,x,w,re.urlAfterRedirects,O.serialize(re.urlAfterRedirects),O,z).pipe((0,ht.U)(ae=>({...re,targetSnapshot:ae}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,lt.b)(Mn=>{if(O.targetSnapshot=Mn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!Mn.extras.skipLocationChange){const rs=w.urlHandlingStrategy.merge(Mn.urlAfterRedirects,Mn.rawUrl);w.setBrowserUrl(rs,Mn)}w.browserUrlTree=Mn.urlAfterRedirects}const gi=new Wn(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(gi)}));if(fn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:Mn,extractedUrl:gi,source:rs,restoredState:Bs,extras:ya}=ae,Mo=new At(Mn,this.urlSerializer.serialize(gi),rs,Bs);this.events.next(Mo);const Es=Ta(gi,this.rootComponentType).snapshot;return O={...ae,targetSnapshot:Es,urlAfterRedirects:gi,extras:{...ya,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(O)}{const Mn="";return this.events.next(new dn(ae.id,w.serializeUrl(O.extractedUrl),Mn,1)),w.rawUrlTree=ae.rawUrl,ae.resolve(null),Ze.E}}),(0,lt.b)(ae=>{const nt=new pr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(nt)}),(0,ht.U)(ae=>O={...ae,guards:pa(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),function ja(S,x){return(0,ke.z)(w=>{const{targetSnapshot:O,currentSnapshot:z,guards:{canActivateChecks:re,canDeactivateChecks:ae}}=w;return 0===ae.length&&0===re.length?(0,ee.of)({...w,guardsResult:!0}):function ts(S,x,w,O){return(0,y.D)(S).pipe((0,ke.z)(z=>function tl(S,x,w,O,z){const re=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,ee.of)(!0);const ae=re.map(nt=>{var kt;const fn=null!==(kt=Ns(x))&&void 0!==kt?kt:z,Bn=b(nt,fn);return Gn(function mn(S){return S&&M(S.canDeactivate)}(Bn)?Bn.canDeactivate(S,x,w,O):fn.runInContext(()=>Bn(S,x,w,O))).pipe((0,Le.P)())});return(0,ee.of)(ae).pipe(Si())}(z.component,z.route,w,x,O)),(0,Le.P)(z=>!0!==z,!0))}(ae,O,z,S).pipe((0,ke.z)(nt=>nt&&function F(S){return"boolean"==typeof S}(nt)?function Ks(S,x,w,O){return(0,y.D)(x).pipe((0,Ne.b)(z=>(0,Re.z)(function oa(S,x){return null!==S&&x&&x(new qt(S)),(0,ee.of)(!0)}(z.route.parent,O),function qs(S,x){return null!==S&&x&&x(new cr(S)),(0,ee.of)(!0)}(z.route,O),function yl(S,x,w){const O=x[x.length-1],re=x.slice(0,x.length-1).reverse().map(ae=>function sa(S){const x=S.routeConfig?S.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:S,guards:x}:null}(ae)).filter(ae=>null!==ae).map(ae=>ue(()=>{const nt=ae.guards.map(kt=>{var fn;const Bn=null!==(fn=Ns(ae.node))&&void 0!==fn?fn:w,Mn=b(kt,Bn);return Gn(function ft(S){return S&&M(S.canActivateChild)}(Mn)?Mn.canActivateChild(O,S):Bn.runInContext(()=>Mn(O,S))).pipe((0,Le.P)())});return(0,ee.of)(nt).pipe(Si())}));return(0,ee.of)(re).pipe(Si())}(S,z.path,w),function Ys(S,x,w){const O=x.routeConfig?x.routeConfig.canActivate:null;if(!O||0===O.length)return(0,ee.of)(!0);const z=O.map(re=>ue(()=>{var ae;const nt=null!==(ae=Ns(x))&&void 0!==ae?ae:w,kt=b(re,nt);return Gn(function ne(S){return S&&M(S.canActivate)}(kt)?kt.canActivate(x,S):nt.runInContext(()=>kt(x,S))).pipe((0,Le.P)())}));return(0,ee.of)(z).pipe(Si())}(S,z.route,w))),(0,Le.P)(z=>!0!==z,!0))}(O,re,S,x):(0,ee.of)(nt)),(0,ht.U)(nt=>({...w,guardsResult:nt})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,lt.b)(ae=>{if(O.guardsResult=ae.guardsResult,Vn(ae.guardsResult))throw uo(0,ae.guardsResult);const nt=new Gr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(nt)}),(0,pt.h)(ae=>!!ae.guardsResult||(w.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),_s(ae=>{if(ae.guards.canActivateChecks.length)return(0,ee.of)(ae).pipe((0,lt.b)(nt=>{const kt=new Bi(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(kt)}),(0,_t.w)(nt=>{let kt=!1;return(0,ee.of)(nt).pipe(function Ai(S,x){return(0,ke.z)(w=>{const{targetSnapshot:O,guards:{canActivateChecks:z}}=w;if(!z.length)return(0,ee.of)(w);let re=0;return(0,y.D)(z).pipe((0,Ne.b)(ae=>function Ei(S,x,w,O){const z=S.routeConfig,re=S._resolve;return void 0!==(null==z?void 0:z.title)&&!Ko(z)&&(re[En]=z.title),function $i(S,x,w,O){const z=function Wo(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,ee.of)({});const re={};return(0,y.D)(z).pipe((0,ke.z)(ae=>function yo(S,x,w,O){var z;const re=null!==(z=Ns(x))&&void 0!==z?z:O,ae=b(S,re);return Gn(ae.resolve?ae.resolve(x,w):re.runInContext(()=>ae(x,w)))}(S[ae],x,w,O).pipe((0,Le.P)(),(0,lt.b)(nt=>{re[ae]=nt}))),Bt(1),function cn(S){return(0,ht.U)(()=>S)}(re),vt(ae=>ds(ae)?Ze.E:et(ae)))}(re,S,x,O).pipe((0,ht.U)(ae=>(S._resolvedData=ae,S.data=ao(S,w).resolve,z&&Ko(z)&&(S.data[En]=z.title),null)))}(ae.route,O,S,x)),(0,lt.b)(()=>re++),Bt(1),(0,ke.z)(ae=>re===z.length?(0,ee.of)(w):Ze.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,lt.b)({next:()=>kt=!0,complete:()=>{kt||(w.restoreHistory(nt),this.cancelNavigationTransition(nt,"",2))}}))}),(0,lt.b)(nt=>{const kt=new dt(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(kt)}))}),_s(ae=>{const nt=kt=>{var fn;const Bn=[];null!==(fn=kt.routeConfig)&&void 0!==fn&&fn.loadComponent&&!kt.routeConfig._loadedComponent&&Bn.push(this.configLoader.loadComponent(kt.routeConfig).pipe((0,lt.b)(Mn=>{kt.component=Mn}),(0,ht.U)(()=>{})));for(const Mn of kt.children)Bn.push(...nt(Mn));return Bn};return He(nt(ae.targetSnapshot.root)).pipe((0,Tt.d)(),(0,ct.q)(1))}),_s(()=>this.afterPreactivation()),(0,ht.U)(ae=>{const nt=function Ua(S,x,w){const O=Ho(S,x._root,w?w._root:void 0);return new Os(O,x)}(w.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return O={...ae,targetRouterState:nt}}),(0,lt.b)(ae=>{w.currentUrlTree=ae.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),w.routerState=ae.targetRouterState,"deferred"===w.urlUpdateStrategy&&(ae.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,ae),w.browserUrlTree=ae.urlAfterRedirects)}),((S,x,w)=>(0,ht.U)(O=>(new ia(x,O.targetRouterState,O.currentRouterState,w).activate(S),O)))(this.rootContexts,w.routeReuseStrategy,ae=>this.events.next(ae)),(0,ct.q)(1),(0,lt.b)({next:ae=>{var nt;z=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Ht(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),null===(nt=w.titleStrategy)||void 0===nt||nt.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{z=!0}}),Sn(()=>{var ae;z||re||this.cancelNavigationTransition(O,"",1),(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.id)===O.id&&(this.currentNavigation=null)}),vt(ae=>{if(re=!0,fo(ae)){fa(ae)||(w.navigated=!0,w.restoreHistory(O,!0));const kt=new Qt(O.id,this.urlSerializer.serialize(O.extractedUrl),ae.message,ae.cancellationCode);if(this.events.next(kt),fa(ae)){const fn=w.urlHandlingStrategy.merge(ae.url,w.rawUrlTree),Bn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Kc(O.source)};w.scheduleNavigation(fn,qe,null,Bn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{var nt;w.restoreHistory(O,!0);const kt=new Yn(O.id,this.urlSerializer.serialize(O.extractedUrl),ae,null!==(nt=O.targetSnapshot)&&void 0!==nt?nt:void 0);this.events.next(kt);try{O.resolve(w.errorHandler(ae))}catch(fn){O.reject(fn)}}return Ze.E}))}))}cancelNavigationTransition(w,O,z){const re=new Qt(w.id,this.urlSerializer.serialize(w.extractedUrl),O,z);this.events.next(re),w.resolve(!1)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Kc(S){return S!==qe}let Wi=(()=>{class S{buildTitle(w){let O,z=w.root;for(;void 0!==z;){var re;O=null!==(re=this.getResolvedTitleForRoute(z))&&void 0!==re?re:O,z=z.children.find(ae=>ae.outlet===nn)}return O}getResolvedTitleForRoute(w){return w.data[En]}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(vo)},providedIn:"root"}),S})(),vo=(()=>{class S extends Wi{constructor(w){super(),this.title=w}updateTitle(w){const O=this.buildTitle(w);void 0!==O&&this.title.setTitle(O)}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(wn.Dx))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Js=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(ac)},providedIn:"root"}),S})();class oc{shouldDetach(x){return!1}store(x,w){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,w){return x.routeConfig===w.routeConfig}}let ac=(()=>{class S extends oc{}return S.\u0275fac=function(){let x;return function(O){return(x||(x=_.n5z(S)))(O||S)}}(),S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ji=new _.OlP("",{providedIn:"root",factory:()=>({})});let hi=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(qc)},providedIn:"root"}),S})(),qc=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,O){return w}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ar(S){throw S}function lc(S,x,w){return x.parse("/")}const Ln={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var w;if("computed"===this.canceledNavigationResolution)return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var w;this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(Ji,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ar,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(hi),this.routeReuseStrategy=(0,_.f3M)(Js),this.urlCreationStrategy=(0,_.f3M)(Ts),this.titleStrategy=(0,_.f3M)(Wi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=br(null!==(w=(0,_.f3M)(Ls,{optional:!0}))&&void 0!==w?w:[]),this.navigationTransitions=(0,_.f3M)(qo),this.urlSerializer=(0,_.f3M)(Ke),this.location=(0,_.f3M)(Ue.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ta(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(O=>{var z;this.lastSuccessfulId=O.id,this.currentPageId=null!==(z=this.browserPageId)&&void 0!==z?z:0},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qe,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const O="popstate"===w.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,O,w.state)},0)}))}navigateToSyncWithBrowser(w,O,z){const re={replaceUrl:!0},ae=null!=z&&z.navigationId?z:null;if(z){const kt={...z};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(re.state=kt)}const nt=this.parseUrl(w);this.scheduleNavigation(nt,O,ae,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(Do),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,O={}){const{relativeTo:z,queryParams:re,fragment:ae,queryParamsHandling:nt,preserveFragment:kt}=O,fn=kt?this.currentUrlTree.fragment:ae;let Bn=null;switch(nt){case"merge":Bn={...this.currentUrlTree.queryParams,...re};break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=re||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),this.urlCreationStrategy.createUrlTree(z,this.routerState,this.currentUrlTree,w,Bn,null!=fn?fn:null)}navigateByUrl(w,O={skipLocationChange:!1}){const z=Vn(w)?w:this.parseUrl(w),re=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(re,qe,null,O)}navigate(w,O={skipLocationChange:!1}){return function ni(S){for(let x=0;x<S.length;x++){const w=S[x];if(null==w)throw new _.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,O),O)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let O;try{O=this.urlSerializer.parse(w)}catch(z){O=this.malformedUriErrorHandler(z,this.urlSerializer,w)}return O}isActive(w,O){let z;if(z=!0===O?{...Ln}:!1===O?{...Lt}:O,Vn(w))return ci(this.currentUrlTree,w,z);const re=this.parseUrl(w);return ci(this.currentUrlTree,re,z)}removeEmptyProps(w){return Object.keys(w).reduce((O,z)=>{const re=w[z];return null!=re&&(O[z]=re),O},{})}scheduleNavigation(w,O,z,re,ae){if(this.disposed)return Promise.resolve(!1);let nt,kt,fn,Bn;if(ae?(nt=ae.resolve,kt=ae.reject,fn=ae.promise):fn=new Promise((gi,rs)=>{nt=gi,kt=rs}),"computed"===this.canceledNavigationResolution)if(z&&z.\u0275routerPageId)Bn=z.\u0275routerPageId;else{var Mn;Bn=(null!==(Mn=this.browserPageId)&&void 0!==Mn?Mn:0)+1}else Bn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Bn,source:O,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:re,resolve:nt,reject:kt,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(gi=>Promise.reject(gi))}setBrowserUrl(w,O){const z=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(z)||O.extras.replaceUrl){const ae={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(z,"",ae)}else{const re={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.go(z,"",re)}}restoreHistory(w,O=!1){if("computed"===this.canceledNavigationResolution){var z,re;const ae=null!==(z=this.browserPageId)&&void 0!==z?z:this.currentPageId,nt=this.currentPageId-ae;0!==nt?this.location.historyGo(nt):this.currentUrlTree===(null===(re=this.getCurrentNavigation())||void 0===re?void 0:re.finalUrl)&&0===nt&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,O){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:O}:{navigationId:w}}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),sl=(()=>{class S{constructor(w,O,z,re,ae,nt){var kt;this.router=w,this.route=O,this.tabIndexAttribute=z,this.renderer=re,this.el=ae,this.locationStrategy=nt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ce.x;const fn=null===(kt=ae.nativeElement.tagName)||void 0===kt?void 0:kt.toLowerCase();this.isAnchorElement="a"===fn||"area"===fn,this.isAnchorElement?this.subscription=w.events.subscribe(Bn=>{Bn instanceof Ht&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,_.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,_.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,_.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,O,z,re,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||O||z||re||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const O=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(w,O){const z=this.renderer,re=this.el.nativeElement;null!==O?z.setAttribute(re,w,O):z.removeAttribute(re,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(w){return new(w||S)(_.Y36(rn),_.Y36(Ss),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ue.S$))},S.\u0275dir=_.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,O){1&w&&_.NdJ("click",function(re){return O.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&w&&_.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),S})();class Ma{}let Bo=(()=>{class S{constructor(w,O,z,re,ae){this.router=w,this.injector=z,this.preloadingStrategy=re,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,pt.h)(w=>w instanceof Ht),(0,Ne.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,O){const z=[];for(const kt of O){var re,ae;kt.providers&&!kt._injector&&(kt._injector=(0,_.MMx)(kt.providers,w,`Route: ${kt.path}`));const fn=null!==(re=kt._injector)&&void 0!==re?re:w,Bn=null!==(ae=kt._loadedInjector)&&void 0!==ae?ae:fn;var nt;(kt.loadChildren&&!kt._loadedRoutes&&void 0===kt.canLoad||kt.loadComponent&&!kt._loadedComponent)&&z.push(this.preloadConfig(fn,kt)),(kt.children||kt._loadedRoutes)&&z.push(this.processRoutes(Bn,null!==(nt=kt.children)&&void 0!==nt?nt:kt._loadedRoutes))}return(0,y.D)(z).pipe((0,zn.J)())}preloadConfig(w,O){return this.preloadingStrategy.preload(O,()=>{let z;z=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(w,O):(0,ee.of)(null);const re=z.pipe((0,ke.z)(ae=>{var nt;return null===ae?(0,ee.of)(void 0):(O._loadedRoutes=ae.routes,O._loadedInjector=ae.injector,this.processRoutes(null!==(nt=ae.injector)&&void 0!==nt?nt:w,ae.routes))}));if(O.loadComponent&&!O._loadedComponent){const ae=this.loader.loadComponent(O);return(0,y.D)([re,ae]).pipe((0,zn.J)())}return re})}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(rn),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Ma),_.LFG(Qs))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const wl=new _.OlP("");let Rc=(()=>{class S{constructor(w,O,z,re,ae={}){this.urlSerializer=w,this.transitions=O,this.viewportScroller=z,this.zone=re,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof At?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ht&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof mr&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mr(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){var w,O;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(O=this.scrollEventsSubscription)||void 0===O||O.unsubscribe()}}return S.\u0275fac=function(w){_.$Z()},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();var eo=(()=>((eo=eo||{})[eo.COMPLETE=0]="COMPLETE",eo[eo.FAILED=1]="FAILED",eo[eo.REDIRECTING=2]="REDIRECTING",eo))();const ur=!1;function aa(S,...x){return(0,_.MR2)([{provide:Ls,multi:!0,useValue:S},ur?{provide:Qn,useValue:!0}:[],{provide:Ss,useFactory:Zc,deps:[rn]},{provide:_.tb,multi:!0,useFactory:fs},x.map(w=>w.\u0275providers)])}function Zc(S){return S.routerState.root}function ai(S,x){return{\u0275kind:S,\u0275providers:x}}const Qn=new _.OlP("",{providedIn:"root",factory:()=>!1});function fs(){const S=(0,_.f3M)(_.zs3);return x=>{var w,O;const z=S.get(_.z2F);if(x!==z.components[0])return;const re=S.get(rn),ae=S.get(Rn);1===S.get(Gl)&&re.initialNavigation(),null===(w=S.get(dc,null,_.XFs.Optional))||void 0===w||w.setUpPreloading(),null===(O=S.get(wl,null,_.XFs.Optional))||void 0===O||O.init(),re.resetRootComponentType(z.componentTypes[0]),ae.closed||(ae.next(),ae.complete(),ae.unsubscribe())}}const Rn=new _.OlP(ur?"bootstrap done indicator":"",{factory:()=>new Ce.x}),Gl=new _.OlP(ur?"initial navigation":"",{providedIn:"root",factory:()=>1});function Xc(){let S=[];return S=ur?[{provide:_.Xts,multi:!0,useFactory:()=>{const x=(0,_.f3M)(rn);return()=>x.events.subscribe(w=>{var O,z,re,ae;null===(O=(z=console).group)||void 0===O||O.call(z,`Router Event: ${w.constructor.name}`),console.log(function Xr(S){var x,w,O,z;if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${(null===(x=S.snapshot.routeConfig)||void 0===x?void 0:x.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(w=S.snapshot.routeConfig)||void 0===w?void 0:w.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(O=S.snapshot.routeConfig)||void 0===O?void 0:O.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(z=S.snapshot.routeConfig)||void 0===z?void 0:z.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(w)),console.log(w),null===(re=(ae=console).groupEnd)||void 0===re||re.call(ae)})}}]:[],ai(1,S)}const dc=new _.OlP(ur?"router preloader":"");function bl(S){return ai(0,[{provide:dc,useExisting:Bo},{provide:Ma,useExisting:S}])}const es=!1,Wl=new _.OlP(es?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Kr=[Ue.Ye,{provide:Ke,useClass:Qe},rn,ta,{provide:Ss,useFactory:Zc,deps:[rn]},Qs,es?{provide:Qn,useValue:!0}:[]];function xr(){return new _.PXZ("Router",rn)}let qr=(()=>{class S{constructor(w){}static forRoot(w,O){return{ngModule:S,providers:[Kr,es&&null!=O&&O.enableTracing?Xc().\u0275providers:[],{provide:Ls,multi:!0,useValue:w},{provide:Wl,useFactory:_u,deps:[[rn,new _.FiY,new _.tp0]]},{provide:Ji,useValue:O||{}},null!=O&&O.useHash?{provide:Ue.S$,useClass:Ue.Do}:{provide:Ue.S$,useClass:Ue.b0},{provide:wl,useFactory:()=>{const S=(0,_.f3M)(Ue.EM),x=(0,_.f3M)(_.R0b),w=(0,_.f3M)(Ji),O=(0,_.f3M)(qo),z=(0,_.f3M)(Ke);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Rc(z,O,S,x,w)}},null!=O&&O.preloadingStrategy?bl(O.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:xr},null!=O&&O.initialNavigation?la(O):[],[{provide:Yo,useFactory:fs},{provide:_.tb,multi:!0,useExisting:Yo}]]}}static forChild(w){return{ngModule:S,providers:[{provide:Ls,multi:!0,useValue:w}]}}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(Wl,8))},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({imports:[Zi]}),S})();function _u(S){if(es&&S)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function la(S){return["disabled"===S.initialNavigation?ai(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const x=(0,_.f3M)(rn);return()=>{x.setUpLocationChangeListener()}}},{provide:Gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ai(2,[{provide:Gl,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:x=>{const w=x.get(Ue.V_,Promise.resolve());return()=>w.then(()=>new Promise(O=>{const z=x.get(rn),re=x.get(Rn);(function ma(S,x){S.events.pipe((0,pt.h)(w=>w instanceof Ht||w instanceof Qt||w instanceof Yn||w instanceof dn),(0,ht.U)(w=>w instanceof Ht||w instanceof dn?eo.COMPLETE:w instanceof Qt&&(0===w.code||1===w.code)?eo.REDIRECTING:eo.FAILED),(0,pt.h)(w=>w!==eo.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{x()})})(z,()=>{O(!0)}),x.get(qo).afterPreactivation=()=>(O(!0),re.closed?(0,ee.of)(void 0):re),z.initialNavigation()}))}}]).\u0275providers:[]]}const Yo=new _.OlP(es?"Router Initializer":"")},3942:(gn,mt,H)=>{"use strict";H.d(mt,{Z:()=>rt});var _=H(2090),y=H(4859),ee=H(6881),de=H(1877);class $e{constructor(Re,Se){this._delegate=Re,this.firebase=Se,(0,ee._addComponent)(Re,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Re,Se=ee._DEFAULT_ENTRY_NAME){var ue;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Re);return!gt.isInitialized()&&"EXPLICIT"===(null===(ue=gt.getComponent())||void 0===ue?void 0:ue.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:Se})}_removeServiceInstance(Re,Se=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Se)}_addComponent(Re){(0,ee._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,ee._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),we=function Fe(){const Ct=function Ve(Ct){const Re={},Se={__esModule:!0,initializeApp:function Y(Be,Oe={}){const Pe=ee.initializeApp(Be,Oe);if((0,_.r3)(Re,Pe.name))return Re[Pe.name];const Ce=new Ct(Pe,Se);return Re[Pe.name]=Ce,Ce},app:gt,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function Ze(Be){const Oe=Be.name,Pe=Oe.replace("-compat","");if(ee._registerComponent(Be)&&"PUBLIC"===Be.type){const Ce=(Ue=gt())=>{if("function"!=typeof Ue[Pe])throw me.create("invalid-app-argument",{appName:Oe});return Ue[Pe]()};void 0!==Be.serviceProps&&(0,_.ZB)(Ce,Be.serviceProps),Se[Pe]=Ce,Ct.prototype[Pe]=function(...Ue){return this._getService.bind(this,Oe).apply(this,Be.multipleInstances?Ue:[])}}return"PUBLIC"===Be.type?Se[Pe]:null},removeApp:function ue(Be){delete Re[Be]},useAsService:function xt(Be,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:ee}};function gt(Be){if(!(0,_.r3)(Re,Be=Be||ee._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Be});return Re[Be]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function et(){return Object.keys(Re).map(Be=>Re[Be])}}),gt.App=Ct,Se}($e);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Re(Se){(0,_.ZB)(Ct,Se)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Ct}(),ge=new de.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=we;!function He(Ct){(0,ee.registerVersion)("@firebase/app-compat","0.2.9",Ct)}()},6881:(gn,mt,H)=>{"use strict";H.r(mt),H.d(mt,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>mi,_addComponent:()=>en,_addOrOverwriteComponent:()=>pn,_apps:()=>Hn,_clearComponents:()=>si,_components:()=>Gn,_getProvider:()=>ci,_registerComponent:()=>sn,_removeServiceInstance:()=>Dr,deleteApp:()=>Mi,getApp:()=>sr,getApps:()=>Ir,initializeApp:()=>lr,onLog:()=>Ke,registerVersion:()=>jt,setLogLevel:()=>Qe});var _=H(5861),y=H(4859),ee=H(1877),de=H(2090);const $e=($t,bt)=>bt.some(Jt=>$t instanceof Jt);let xe,me;const we=new WeakMap,ge=new WeakMap,ye=new WeakMap,ze=new WeakMap,He=new WeakMap;let Re={get($t,bt,Jt){if($t instanceof IDBTransaction){if("done"===bt)return ge.get($t);if("objectStoreNames"===bt)return $t.objectStoreNames||ye.get($t);if("store"===bt)return Jt.objectStoreNames[1]?void 0:Jt.objectStore(Jt.objectStoreNames[0])}return Y($t[bt])},set:($t,bt,Jt)=>($t[bt]=Jt,!0),has:($t,bt)=>$t instanceof IDBTransaction&&("done"===bt||"store"===bt)||bt in $t};function gt($t){return"function"==typeof $t?function ue($t){return $t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($t)?function(...bt){return $t.apply(et(this),bt),Y(we.get(this))}:function(...bt){return Y($t.apply(et(this),bt))}:function(bt,...Jt){const On=$t.call(et(this),bt,...Jt);return ye.set(On,bt.sort?bt.sort():[bt]),Y(On)}}($t):($t instanceof IDBTransaction&&function Ct($t){if(ge.has($t))return;const bt=new Promise((Jt,On)=>{const Vn=()=>{$t.removeEventListener("complete",vr),$t.removeEventListener("error",Nn),$t.removeEventListener("abort",Nn)},vr=()=>{Jt(),Vn()},Nn=()=>{On($t.error||new DOMException("AbortError","AbortError")),Vn()};$t.addEventListener("complete",vr),$t.addEventListener("error",Nn),$t.addEventListener("abort",Nn)});ge.set($t,bt)}($t),$e($t,function Ve(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($t,Re):$t)}function Y($t){if($t instanceof IDBRequest)return function rt($t){const bt=new Promise((Jt,On)=>{const Vn=()=>{$t.removeEventListener("success",vr),$t.removeEventListener("error",Nn)},vr=()=>{Jt(Y($t.result)),Vn()},Nn=()=>{On($t.error),Vn()};$t.addEventListener("success",vr),$t.addEventListener("error",Nn)});return bt.then(Jt=>{Jt instanceof IDBCursor&&we.set(Jt,$t)}).catch(()=>{}),He.set(bt,$t),bt}($t);if(ze.has($t))return ze.get($t);const bt=gt($t);return bt!==$t&&(ze.set($t,bt),He.set(bt,$t)),bt}const et=$t=>He.get($t),Be=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Pe=new Map;function Ce($t,bt){if(!($t instanceof IDBDatabase)||bt in $t||"string"!=typeof bt)return;if(Pe.get(bt))return Pe.get(bt);const Jt=bt.replace(/FromIndex$/,""),On=bt!==Jt,Vn=Oe.includes(Jt);if(!(Jt in(On?IDBIndex:IDBObjectStore).prototype)||!Vn&&!Be.includes(Jt))return;const vr=function(){var Nn=(0,_.Z)(function*(or,...rr){const ir=this.transaction(or,Vn?"readwrite":"readonly");let Xn=ir.store;return On&&(Xn=Xn.index(rr.shift())),(yield Promise.all([Xn[Jt](...rr),Vn&&ir.done]))[0]});return function(rr){return Nn.apply(this,arguments)}}();return Pe.set(bt,vr),vr}!function Se($t){Re=$t(Re)}($t=>({...$t,get:(bt,Jt,On)=>Ce(bt,Jt)||$t.get(bt,Jt,On),has:(bt,Jt)=>!!Ce(bt,Jt)||$t.has(bt,Jt)}));class Ue{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(Jt=>{if(function ht($t){const bt=$t.getComponent();return"VERSION"===(null==bt?void 0:bt.type)}(Jt)){const On=Jt.getImmediate();return`${On.library}/${On.version}`}return null}).filter(Jt=>Jt).join(" ")}}const _t="@firebase/app",wt=new ee.Yd("@firebase/app"),mi="[DEFAULT]",xi={[_t]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hn=new Map,Gn=new Map;function en($t,bt){try{$t.container.addComponent(bt)}catch(Jt){wt.debug(`Component ${bt.name} failed to register with FirebaseApp ${$t.name}`,Jt)}}function pn($t,bt){$t.container.addOrOverwriteComponent(bt)}function sn($t){const bt=$t.name;if(Gn.has(bt))return wt.debug(`There were multiple attempts to register component ${bt}.`),!1;Gn.set(bt,$t);for(const Jt of Hn.values())en(Jt,$t);return!0}function ci($t,bt){const Jt=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return Jt&&Jt.triggerHeartbeat(),$t.container.getProvider(bt)}function Dr($t,bt,Jt=mi){ci($t,bt).clearInstance(Jt)}function si(){Gn.clear()}const yi=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(bt,Jt,On){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},Jt),this._name=Jt.name,this._automaticDataCollectionEnabled=Jt.automaticDataCollectionEnabled,this._container=On,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const vi="9.21.0";function lr($t,bt={}){let Jt=$t;"object"!=typeof bt&&(bt={name:bt});const On=Object.assign({name:mi,automaticDataCollectionEnabled:!1},bt),Vn=On.name;if("string"!=typeof Vn||!Vn)throw yi.create("bad-app-name",{appName:String(Vn)});if(Jt||(Jt=(0,de.aH)()),!Jt)throw yi.create("no-options");const vr=Hn.get(Vn);if(vr){if((0,de.vZ)(Jt,vr.options)&&(0,de.vZ)(On,vr.config))return vr;throw yi.create("duplicate-app",{appName:Vn})}const Nn=new y.H0(Vn);for(const rr of Gn.values())Nn.addComponent(rr);const or=new Ur(Jt,On,Nn);return Hn.set(Vn,or),or}function sr($t=mi){const bt=Hn.get($t);if(!bt&&$t===mi)return lr();if(!bt)throw yi.create("no-app",{appName:$t});return bt}function Ir(){return Array.from(Hn.values())}function Mi($t){return yr.apply(this,arguments)}function yr(){return(yr=(0,_.Z)(function*($t){const bt=$t.name;Hn.has(bt)&&(Hn.delete(bt),yield Promise.all($t.container.getProviders().map(Jt=>Jt.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function jt($t,bt,Jt){var On;let Vn=null!==(On=xi[$t])&&void 0!==On?On:$t;Jt&&(Vn+=`-${Jt}`);const vr=Vn.match(/\s|\//),Nn=bt.match(/\s|\//);if(vr||Nn){const or=[`Unable to register library "${Vn}" with version "${bt}":`];return vr&&or.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),vr&&Nn&&or.push("and"),Nn&&or.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void wt.warn(or.join(" "))}sn(new y.wA(`${Vn}-version`,()=>({library:Vn,version:bt}),"VERSION"))}function Ke($t,bt){if(null!==$t&&"function"!=typeof $t)throw yi.create("invalid-log-argument");(0,ee.Am)($t,bt)}function Qe($t){(0,ee.Ub)($t)}const Yt="firebase-heartbeat-database",zt=1,Ie="firebase-heartbeat-store";let _e=null;function We(){return _e||(_e=function Ze($t,bt,{blocked:Jt,upgrade:On,blocking:Vn,terminated:vr}={}){const Nn=indexedDB.open($t,bt),or=Y(Nn);return On&&Nn.addEventListener("upgradeneeded",rr=>{On(Y(Nn.result),rr.oldVersion,rr.newVersion,Y(Nn.transaction),rr)}),Jt&&Nn.addEventListener("blocked",rr=>Jt(rr.oldVersion,rr.newVersion,rr)),or.then(rr=>{vr&&rr.addEventListener("close",()=>vr()),Vn&&rr.addEventListener("versionchange",ir=>Vn(ir.oldVersion,ir.newVersion,ir))}).catch(()=>{}),or}(Yt,zt,{upgrade:($t,bt)=>{0===bt&&$t.createObjectStore(Ie)}}).catch($t=>{throw yi.create("idb-open",{originalErrorMessage:$t.message})})),_e}function st(){return(st=(0,_.Z)(function*($t){try{return(yield We()).transaction(Ie).objectStore(Ie).get(je($t))}catch(bt){if(bt instanceof de.ZR)wt.warn(bt.message);else{const Jt=yi.create("idb-get",{originalErrorMessage:null==bt?void 0:bt.message});wt.warn(Jt.message)}}})).apply(this,arguments)}function on($t,bt){return ot.apply(this,arguments)}function ot(){return(ot=(0,_.Z)(function*($t,bt){try{const On=(yield We()).transaction(Ie,"readwrite");return yield On.objectStore(Ie).put(bt,je($t)),On.done}catch(Jt){if(Jt instanceof de.ZR)wt.warn(Jt.message);else{const On=yi.create("idb-set",{originalErrorMessage:null==Jt?void 0:Jt.message});wt.warn(On.message)}}})).apply(this,arguments)}function je($t){return`${$t.name}!${$t.options.appId}`}class Rt{constructor(bt){this.container=bt,this._heartbeatsCache=null;const Jt=this.container.getProvider("app").getImmediate();this._storage=new qn(Jt),this._heartbeatsCachePromise=this._storage.read().then(On=>(this._heartbeatsCache=On,On))}triggerHeartbeat(){var bt=this;return(0,_.Z)(function*(){const On=bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vn=ln();if(null===bt._heartbeatsCache&&(bt._heartbeatsCache=yield bt._heartbeatsCachePromise),bt._heartbeatsCache.lastSentHeartbeatDate!==Vn&&!bt._heartbeatsCache.heartbeats.some(vr=>vr.date===Vn))return bt._heartbeatsCache.heartbeats.push({date:Vn,agent:On}),bt._heartbeatsCache.heartbeats=bt._heartbeatsCache.heartbeats.filter(vr=>{const Nn=new Date(vr.date).valueOf();return Date.now()-Nn<=2592e6}),bt._storage.overwrite(bt._heartbeatsCache)})()}getHeartbeatsHeader(){var bt=this;return(0,_.Z)(function*(){if(null===bt._heartbeatsCache&&(yield bt._heartbeatsCachePromise),null===bt._heartbeatsCache||0===bt._heartbeatsCache.heartbeats.length)return"";const Jt=ln(),{heartbeatsToSend:On,unsentEntries:Vn}=function Tn($t,bt=1024){const Jt=[];let On=$t.slice();for(const Vn of $t){const vr=Jt.find(Nn=>Nn.agent===Vn.agent);if(vr){if(vr.dates.push(Vn.date),fr(Jt)>bt){vr.dates.pop();break}}else if(Jt.push({agent:Vn.agent,dates:[Vn.date]}),fr(Jt)>bt){Jt.pop();break}On=On.slice(1)}return{heartbeatsToSend:Jt,unsentEntries:On}}(bt._heartbeatsCache.heartbeats),vr=(0,de.L)(JSON.stringify({version:2,heartbeats:On}));return bt._heartbeatsCache.lastSentHeartbeatDate=Jt,Vn.length>0?(bt._heartbeatsCache.heartbeats=Vn,yield bt._storage.overwrite(bt._heartbeatsCache)):(bt._heartbeatsCache.heartbeats=[],bt._storage.overwrite(bt._heartbeatsCache)),vr})()}}function ln(){return(new Date).toISOString().substring(0,10)}class qn{constructor(bt){this.app=bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var bt=this;return(0,_.Z)(function*(){return(yield bt._canUseIndexedDBPromise)&&(yield function Dt($t){return st.apply(this,arguments)}(bt.app))||{heartbeats:[]}})()}overwrite(bt){var Jt=this;return(0,_.Z)(function*(){var On;if(yield Jt._canUseIndexedDBPromise){const vr=yield Jt.read();return on(Jt.app,{lastSentHeartbeatDate:null!==(On=bt.lastSentHeartbeatDate)&&void 0!==On?On:vr.lastSentHeartbeatDate,heartbeats:bt.heartbeats})}})()}add(bt){var Jt=this;return(0,_.Z)(function*(){var On;if(yield Jt._canUseIndexedDBPromise){const vr=yield Jt.read();return on(Jt.app,{lastSentHeartbeatDate:null!==(On=bt.lastSentHeartbeatDate)&&void 0!==On?On:vr.lastSentHeartbeatDate,heartbeats:[...vr.heartbeats,...bt.heartbeats]})}})()}}function fr($t){return(0,de.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function zr($t){sn(new y.wA("platform-logger",bt=>new Ue(bt),"PRIVATE")),sn(new y.wA("heartbeat",bt=>new Rt(bt),"PRIVATE")),jt(_t,"0.9.9",$t),jt(_t,"0.9.9","esm2017"),jt("fire-js","")}("")},4859:(gn,mt,H)=>{"use strict";H.d(mt,{H0:()=>Ve,wA:()=>ee,zt:()=>$e});var _=H(5861),y=H(2090);class ee{constructor(we,ge,ye){this.name=we,this.instanceFactory=ge,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(we){return this.instantiationMode=we,this}setMultipleInstances(we){return this.multipleInstances=we,this}setServiceProps(we){return this.serviceProps=we,this}setInstanceCreatedCallback(we){return this.onInstanceCreated=we,this}}const de="[DEFAULT]";class $e{constructor(we,ge){this.name=we,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(we){const ge=this.normalizeInstanceIdentifier(we);if(!this.instancesDeferred.has(ge)){const ye=new y.BH;if(this.instancesDeferred.set(ge,ye),this.isInitialized(ge)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ge});ze&&ye.resolve(ze)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(we){var ge;const ye=this.normalizeInstanceIdentifier(null==we?void 0:we.identifier),ze=null!==(ge=null==we?void 0:we.optional)&&void 0!==ge&&ge;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(He){if(ze)return null;throw He}}getComponent(){return this.component}setComponent(we){if(we.name!==this.name)throw Error(`Mismatching Component ${we.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=we,this.shouldAutoInitialize()){if(function me(Fe){return"EAGER"===Fe.instantiationMode}(we))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[ge,ye]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ge);try{const He=this.getOrInitializeService({instanceIdentifier:ze});ye.resolve(He)}catch{}}}}clearInstance(we=de){this.instancesDeferred.delete(we),this.instancesOptions.delete(we),this.instances.delete(we)}delete(){var we=this;return(0,_.Z)(function*(){const ge=Array.from(we.instances.values());yield Promise.all([...ge.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ge.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(we=de){return this.instances.has(we)}getOptions(we=de){return this.instancesOptions.get(we)||{}}initialize(we={}){const{options:ge={}}=we,ye=this.normalizeInstanceIdentifier(we.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ye,options:ge});for(const[He,rt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(He)&&rt.resolve(ze);return ze}onInit(we,ge){var ye;const ze=this.normalizeInstanceIdentifier(ge),He=null!==(ye=this.onInitCallbacks.get(ze))&&void 0!==ye?ye:new Set;He.add(we),this.onInitCallbacks.set(ze,He);const rt=this.instances.get(ze);return rt&&we(rt,ze),()=>{He.delete(we)}}invokeOnInitCallbacks(we,ge){const ye=this.onInitCallbacks.get(ge);if(ye)for(const ze of ye)try{ze(we,ge)}catch{}}getOrInitializeService({instanceIdentifier:we,options:ge={}}){let ye=this.instances.get(we);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=we,Fe===de?void 0:Fe),options:ge}),this.instances.set(we,ye),this.instancesOptions.set(we,ge),this.invokeOnInitCallbacks(ye,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,ye)}catch{}var Fe;return ye||null}normalizeInstanceIdentifier(we=de){return this.component?this.component.multipleInstances?we:de:we}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(we){this.name=we,this.providers=new Map}addComponent(we){const ge=this.getProvider(we.name);if(ge.isComponentSet())throw new Error(`Component ${we.name} has already been registered with ${this.name}`);ge.setComponent(we)}addOrOverwriteComponent(we){this.getProvider(we.name).isComponentSet()&&this.providers.delete(we.name),this.addComponent(we)}getProvider(we){if(this.providers.has(we))return this.providers.get(we);const ge=new $e(we,this);return this.providers.set(we,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,mt,H)=>{"use strict";H.d(mt,{Am:()=>Fe,Ub:()=>Ve,Yd:()=>me,in:()=>y});const _=[];var y=(()=>{return(we=y||(y={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",y;var we})();const ee={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},de=y.INFO,$e={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},xe=(we,ge,...ye)=>{if(ge<we.logLevel)return;const ze=(new Date).toISOString(),He=$e[ge];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[He](`[${ze}]  ${we.name}:`,...ye)};class me{constructor(ge){this.name=ge,this._logLevel=de,this._logHandler=xe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in y))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?ee[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...ge),this._logHandler(this,y.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...ge),this._logHandler(this,y.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,y.INFO,...ge),this._logHandler(this,y.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,y.WARN,...ge),this._logHandler(this,y.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...ge),this._logHandler(this,y.ERROR,...ge)}}function Ve(we){_.forEach(ge=>{ge.setLogLevel(we)})}function Fe(we,ge){for(const ye of _){let ze=null;ge&&ge.level&&(ze=ee[ge.level]),ye.userLogHandler=null===we?null:(He,rt,...Ct)=>{const Re=Ct.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");rt>=(null!=ze?ze:He.logLevel)&&we({level:y[rt].toLowerCase(),message:Re,args:Ct,type:He.name})}}}},650:(gn,mt,H)=>{"use strict";H.d(mt,{Br:()=>go,dr:()=>yi,oU:()=>vi,cs:()=>No,YG:()=>yr,Sm:()=>jt,PM:()=>Ke,hM:()=>We,W2:()=>st,x4:()=>on,Mj:()=>ot,IJ:()=>je,W4:()=>ve,zq:()=>ut,jY:()=>ln,Gu:()=>Tn,gu:()=>qn,Xz:()=>fr,pK:()=>bt,Ie:()=>Jt,Q$:()=>rr,q_:()=>ir,ki:()=>Zi,I_:()=>Lr,jP:()=>fo,Nd:()=>qe,VI:()=>Nt,cJ:()=>At,GO:()=>Ht,g2:()=>tt,wd:()=>qt,sr:()=>gr,Pc:()=>sa,r4:()=>ia,SH:()=>Hi,YI:()=>As,QI:()=>mi,j9:()=>xi,yF:()=>Do});var _=H(5861),y=H(4650),ee=H(433),de=H(655),$e=H(8421),xe=H(9751),me=H(5577),Ve=H(1144),Fe=H(576),we=H(3268);const ge=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],ze=["on","off"];function He(b,q,T,W){if((0,Fe.m)(T)&&(W=T,T=void 0),W)return He(b,q,T).pipe((0,we.Z)(W));const[fe,M]=function Se(b){return(0,Fe.m)(b.addEventListener)&&(0,Fe.m)(b.removeEventListener)}(b)?ye.map(F=>L=>b[F](q,L,T)):function Ct(b){return(0,Fe.m)(b.addListener)&&(0,Fe.m)(b.removeListener)}(b)?ge.map(rt(b,q)):function Re(b){return(0,Fe.m)(b.on)&&(0,Fe.m)(b.off)}(b)?ze.map(rt(b,q)):[];if(!fe&&(0,Ve.z)(b))return(0,me.z)(F=>He(F,q,T))((0,$e.Xf)(b));if(!fe)throw new TypeError("Invalid event target");return new xe.y(F=>{const L=(...ne)=>F.next(1<ne.length?ne:ne[0]);return fe(L),()=>M(L)})}function rt(b,q){return T=>W=>b[T](q,W)}var ue=H(7579),gt=H(1135),Y=H(1194),Oe=(H(9613),H(3551),H(1138),H(1898),H(5273)),Pe=H(3577),Ce=H(3982),Ue=H(9866),_t=(H(8126),H(2583)),pt=(H(3457),H(4349),H(4083)),Le=H(9300),Ne=H(3900),lt=H(1884),vt=H(6895);const Bt=Oe.i,Te=["*"];function zn(b,q){if(1&b&&(y.TgZ(0,"div",1),y.GkF(1,2),y.qZA()),2&b){const T=y.oxw();y.xp6(1),y.Q6J("ngTemplateOutlet",T.template)}}const nn=b=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(b):"function"==typeof requestAnimationFrame?requestAnimationFrame(b):setTimeout(b);let En=(()=>{class b{constructor(T,W){this.injector=T,this.el=W,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,hr(this.el)}handleValueChange(T,W){T===this.el.nativeElement&&(W!==this.lastValue&&(this.lastValue=W,this.onChange(W)),hr(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),hr(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(ee.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>hr(this.el)));const W=T.control;W&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(M=>{if(typeof W[M]<"u"){const F=W[M].bind(W);W[M]=(...L)=>{F(...L),hr(this.el)}}})}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,hostBindings:function(T,W){1&T&&y.NdJ("ionBlur",function(M){return W._handleBlurEvent(M.target)})}}),b})();const hr=b=>{nn(()=>{const q=b.nativeElement,T=null!=q.value&&q.value.toString().length>0,W=Cr(q);tr(q,W);const fe=q.closest("ion-item");fe&&tr(fe,T?[...W,"item-has-value"]:W)})},Cr=b=>{const q=b.classList,T=[];for(let W=0;W<q.length;W++){const fe=q.item(W);null!==fe&&vn(fe,"ng-")&&T.push(`ion-${fe.substring(3)}`)}return T},tr=(b,q)=>{const T=b.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...q)},vn=(b,q)=>b.substring(0,q.length)===q;let mi=(()=>{class b extends En{constructor(T,W){super(T,W)}_handleChangeEvent(T){this.handleValueChange(T,T.value)}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(T,W){1&T&&y.NdJ("ionChange",function(M){return W._handleChangeEvent(M.target)})},features:[y._Bn([{provide:ee.JU,useExisting:b,multi:!0}]),y.qOj]}),b})(),xi=(()=>{class b extends En{constructor(T,W){super(T,W)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,W){1&T&&y.NdJ("ionInput",function(M){return W._handleInputEvent(M.target)})},features:[y._Bn([{provide:ee.JU,useExisting:b,multi:!0}]),y.qOj]}),b})();const Hn=(b,q)=>{const T=b.prototype;q.forEach(W=>{Object.defineProperty(T,W,{get(){return this.el[W]},set(fe){this.z.runOutsideAngular(()=>this.el[W]=fe)}})})},Gn=(b,q)=>{const T=b.prototype;q.forEach(W=>{T[W]=function(){const fe=arguments;return this.z.runOutsideAngular(()=>this.el[W].apply(this.el,fe))}})},en=(b,q,T)=>{T.forEach(W=>b[W]=He(q,W))};function sn(b){return function(T){const{defineCustomElementFn:W,inputs:fe,methods:M}=b;return void 0!==W&&W(),fe&&Hn(T,fe),M&&Gn(T,M),T}}let yi=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({})],b),b})(),vi=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],b),b})(),yr=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionFocus","ionBlur"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],b),b})(),jt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["collapse"]})],b),b})(),Ke=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],b),b})(),We=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","disabled","mode","outline"]})],b),b})(),st=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],b),b})(),on=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],b),b})(),ot=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","datetime","disabled","mode"]})],b),b})(),je=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],b),b})(),ve=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionFocus","ionBlur"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],b),b})(),ut=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["activated","side"]})],b),b})(),ln=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["fixed"]})],b),b})(),Tn=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["collapse","mode","translucent"]})],b),b})(),qn=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],b),b})(),fr=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["alt","src"]})],b),b})(),bt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),Jt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],b),b})(),rr=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","mode","position"]})],b),b})(),ir=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],b),b})(),Lr=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],b),b})(),qe=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({})],b),b})(),Nt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),At=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionChange"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],b),b})(),Ht=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["disabled","layout","mode","type","value"]})],b),b})(),tt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement,en(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],b),b})(),qt=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","size"]})],b),b})(),gr=(()=>{let b=class{constructor(T,W,fe){this.z=fe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["color","mode"]})],b),b})(),mr=(()=>{class b{get(T,W){const fe=ys();return fe?fe.get(T,W):null}getBoolean(T,W){const fe=ys();return!!fe&&fe.getBoolean(T,W)}getNumber(T,W){const fe=ys();return fe?fe.getNumber(T,W):0}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Xr=new y.OlP("USERCONFIG"),ys=()=>{if(typeof window<"u"){const b=window.Ionic;if(null!=b&&b.config)return b.config}return null};let Oo=(()=>{class b{constructor(T,W){this.doc=T,this.backButton=new ue.x,this.keyboardDidShow=new ue.x,this.keyboardDidHide=new ue.x,this.pause=new ue.x,this.resume=new ue.x,this.resize=new ue.x,W.run(()=>{var fe;let M;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(F,L){return this.subscribe(ne=>ne.register(F,ft=>W.run(()=>L(ft))))},Ts(this.pause,T,"pause"),Ts(this.resume,T,"resume"),Ts(this.backButton,T,"ionBackButton"),Ts(this.resize,this.win,"resize"),Ts(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ts(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(F=>{M=F}),null!==(fe=this.win)&&void 0!==fe&&fe.cordova?T.addEventListener("deviceready",()=>{M("cordova")},{once:!0}):M("dom")})}is(T){return(0,Oe.a)(this.win,T)}platforms(){return(0,Oe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return fi(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,W;return null===(T=(W=this.win).matchMedia)||void 0===T?void 0:T.call(W,"(orientation: portrait)").matches}testUserAgent(T){const W=this.win.navigator;return!!(null!=W&&W.userAgent&&W.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return b.\u0275fac=function(T){return new(T||b)(y.LFG(vt.K0),y.LFG(y.R0b))},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const fi=(b,q)=>{q=q.replace(/[[\]\\]/g,"\\$&");const W=new RegExp("[\\?&]"+q+"=([^&#]*)").exec(b);return W?decodeURIComponent(W[1].replace(/\+/g," ")):null},Ts=(b,q,T)=>{q&&q.addEventListener(T,W=>{b.next(null!=W?W.detail:void 0)})};let Hi=(()=>{class b{constructor(T,W,fe,M){this.location=W,this.serializer=fe,this.router=M,this.direction=ua,this.animated=Yi,this.guessDirection="forward",this.lastNavId=-1,M&&M.events.subscribe(F=>{if(F instanceof Y.OD){const L=F.restoredState?F.restoredState.navigationId:F.id;this.guessDirection=L<this.lastNavId?"back":"forward",this.guessAnimation=F.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?F.id:L}}),T.backButton.subscribeWithPriority(0,F=>{this.pop(),F()})}navigateForward(T,W={}){return this.setDirection("forward",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}navigateBack(T,W={}){return this.setDirection("back",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}navigateRoot(T,W={}){return this.setDirection("root",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,_.Z)(function*(){let W=T.topOutlet;for(;W&&!(yield W.pop());)W=W.parentOutlet})()}setDirection(T,W,fe,M){this.direction=T,this.animated=jo(T,W,fe),this.animationBuilder=M}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let W,T="root";const fe=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,W=this.guessAnimation):(W=this.animated,T=this.direction),this.direction=ua,this.animated=Yi,this.animationBuilder=void 0,{direction:T,animation:W,animationBuilder:fe}}navigate(T,W){if(Array.isArray(T))return this.router.navigate(T,W);{const fe=this.serializer.parse(T.toString());return void 0!==W.queryParams&&(fe.queryParams={...W.queryParams}),void 0!==W.fragment&&(fe.fragment=W.fragment),this.router.navigateByUrl(fe,W)}}}return b.\u0275fac=function(T){return new(T||b)(y.LFG(Oo),y.LFG(vt.Ye),y.LFG(Y.Hx),y.LFG(Y.F0,8))},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const jo=(b,q,T)=>{if(!1!==q){if(void 0!==T)return T;if("forward"===b||"back"===b)return b;if("root"===b&&!0===q)return"forward"}},ua="auto",Yi=void 0;class oo{constructor(q={}){this.data=q}get(q){return this.data[q]}}let Os=(()=>{class b{constructor(){this.zone=(0,y.f3M)(y.R0b),this.applicationRef=(0,y.f3M)(y.z2F)}create(T,W,fe){return new Ta(T,W,this.applicationRef,this.zone,fe)}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})();class Ta{constructor(q,T,W,fe,M){this.environmentInjector=q,this.injector=T,this.applicationRef=W,this.zone=fe,this.elementReferenceKey=M,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(q,T,W,fe){return this.zone.run(()=>new Promise(M=>{const F={...W};void 0!==this.elementReferenceKey&&(F[this.elementReferenceKey]=q),M(ko(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,q,T,F,fe))}))}removeViewFromDom(q,T){return this.zone.run(()=>new Promise(W=>{const fe=this.elRefMap.get(T);if(fe){fe.destroy(),this.elRefMap.delete(T);const M=this.elEventsMap.get(T);M&&(M(),this.elEventsMap.delete(T))}W()}))}}const ko=(b,q,T,W,fe,M,F,L,ne,ft)=>{const mn=y.zs3.create({providers:Ja(ne),parent:T}),Nr=(0,y.LMc)(L,{environmentInjector:q,elementInjector:mn}),ti=Nr.instance,Qi=Nr.location.nativeElement;if(ne&&Object.assign(ti,ne),ft)for(const Ao of ft)Qi.classList.add(Ao);const ds=ao(b,ti,Qi);return F.appendChild(Qi),W.attachView(Nr.hostView),fe.set(Qi,Nr),M.set(Qi,ds),Qi},Ss=[Ue.L,Ue.a,Ue.b,Ue.c,Ue.d],ao=(b,q,T)=>b.run(()=>{const W=Ss.filter(fe=>"function"==typeof q[fe]).map(fe=>{const M=F=>q[fe](F.detail);return T.addEventListener(fe,M),()=>T.removeEventListener(fe,M)});return()=>W.forEach(fe=>fe())}),da=new y.OlP("NavParamsToken"),Ja=b=>[{provide:da,useValue:b},{provide:oo,useFactory:lo,deps:[da]}],lo=b=>new oo(b),ha=(b,q)=>((b=b.filter(T=>T.stackId!==q.stackId)).push(q),b),Ua=(b,q)=>{const T=b.createUrlTree(["."],{relativeTo:q});return b.serializeUrl(T)},co=(b,q)=>{if(!b)return;const T=Qr(q);for(let W=0;W<T.length;W++){if(W>=b.length)return T[W];if(T[W]!==b[W])return}},Qr=b=>b.split("/").map(q=>q.trim()).filter(q=>""!==q),ks=b=>{b&&(b.ref.destroy(),b.unlistenEvents())};class uo{constructor(q,T,W,fe,M,F){this.containerEl=T,this.router=W,this.navCtrl=fe,this.zone=M,this.location=F,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==q?Qr(q):void 0}createView(q,T){var W;const fe=Ua(this.router,T),M=null==q||null===(W=q.location)||void 0===W?void 0:W.nativeElement,F=ao(this.zone,q.instance,M);return{id:this.nextId++,stackId:co(this.tabsPrefix,fe),unlistenEvents:F,element:M,ref:q,url:fe}}getExistingView(q){const T=Ua(this.router,q),W=this.views.find(fe=>fe.url===T);return W&&W.ref.changeDetectorRef.reattach(),W}setActive(q){var T,W,fe;const M=this.navCtrl.consumeTransition();let{direction:F,animation:L,animationBuilder:ne}=M;const ft=this.activeView,mn=((b,q)=>!q||b.stackId!==q.stackId)(q,ft);mn&&(F="back",L=void 0);const Nr=this.views.slice();let ti;const Qi=this.router;Qi.getCurrentNavigation?ti=Qi.getCurrentNavigation():null!==(T=Qi.navigations)&&void 0!==T&&T.value&&(ti=Qi.navigations.value),null!==(W=ti)&&void 0!==W&&null!==(fe=W.extras)&&void 0!==fe&&fe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ds=this.views.includes(q),Ao=this.insertView(q,F);ds||q.ref.changeDetectorRef.detectChanges();const Si=q.animationBuilder;return void 0===ne&&"back"===F&&!mn&&void 0!==Si&&(ne=Si),ft&&(ft.animationBuilder=ne),this.zone.runOutsideAngular(()=>this.wait(()=>(ft&&ft.ref.changeDetectorRef.detach(),q.ref.changeDetectorRef.reattach(),this.transition(q,ft,L,this.canGoBack(1),!1,ne).then(()=>ho(q,Ao,Nr,this.location,this.zone)).then(()=>({enteringView:q,direction:F,animation:L,tabSwitch:mn})))))}canGoBack(q,T=this.getActiveStackId()){return this.getStack(T).length>q}pop(q,T=this.getActiveStackId()){return this.zone.run(()=>{const W=this.getStack(T);if(W.length<=q)return Promise.resolve(!1);const fe=W[W.length-q-1];let M=fe.url;const F=fe.savedData;if(F){var L,ne;const mn=F.get("primary");null!=mn&&null!==(L=mn.route)&&void 0!==L&&null!==(ne=L._routerState)&&void 0!==ne&&ne.snapshot.url&&(M=mn.route._routerState.snapshot.url)}const{animationBuilder:ft}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(M,{...fe.savedExtras,animation:ft}).then(()=>!0)})}startBackTransition(){const q=this.activeView;if(q){const T=this.getStack(q.stackId),W=T[T.length-2],fe=W.animationBuilder;return this.wait(()=>this.transition(W,q,"back",this.canGoBack(2),!0,fe))}return Promise.resolve()}endBackTransition(q){q?(this.skipTransition=!0,this.pop(1)):this.activeView&&fa(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(q){const T=this.getStack(q);return T.length>0?T[T.length-1]:void 0}getRootUrl(q){const T=this.getStack(q);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ks),this.activeView=void 0,this.views=[]}getStack(q){return this.views.filter(T=>T.stackId===q)}insertView(q,T){return this.activeView=q,this.views=((b,q,T)=>"root"===T?ha(b,q):"forward"===T?((b,q)=>(b.indexOf(q)>=0?b=b.filter(W=>W.stackId!==q.stackId||W.id<=q.id):b.push(q),b))(b,q):((b,q)=>b.indexOf(q)>=0?b.filter(W=>W.stackId!==q.stackId||W.id<=q.id):ha(b,q))(b,q))(this.views,q,T),this.views.slice()}transition(q,T,W,fe,M,F){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===q)return Promise.resolve(!1);const L=q?q.element:void 0,ne=T?T.element:void 0,ft=this.containerEl;return L&&L!==ne&&(L.classList.add("ion-page"),L.classList.add("ion-page-invisible"),L.parentElement!==ft&&ft.appendChild(L),ft.commit)?ft.commit(L,ne,{duration:void 0===W?0:void 0,direction:W,showGoBack:fe,progressAnimation:M,animationBuilder:F}):Promise.resolve(!1)}wait(q){var T=this;return(0,_.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const W=T.runningTask=q();return W.finally(()=>T.runningTask=void 0),W})()}}const ho=(b,q,T,W,fe)=>"function"==typeof requestAnimationFrame?new Promise(M=>{requestAnimationFrame(()=>{fa(b,q,T,W,fe),M()})}):Promise.resolve(),fa=(b,q,T,W,fe)=>{fe.run(()=>T.filter(M=>!q.includes(M)).forEach(ks)),q.forEach(M=>{const L=W.path().split("?")[0].split("#")[0];if(M!==b&&M.url!==L){const ne=M.element;ne.setAttribute("aria-hidden","true"),ne.classList.add("ion-page-hidden"),M.ref.changeDetectorRef.detach()}})};let fo=(()=>{class b{constructor(T,W,fe,M,F,L,ne,ft){this.parentOutlet=ft,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new gt.X(null),this.stackEvents=new y.vpe,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Y.y6),this.location=(0,y.f3M)(y.s_b),this.environmentInjector=(0,y.f3M)(y.lqb),this.config=(0,y.f3M)(mr),this.navCtrl=(0,y.f3M)(Hi),this.nativeEl=M.nativeElement,this.name=T||Y.eC,this.tabsPrefix="true"===W?Ua(F,ne):void 0,this.stackCtrl=new uo(this.tabsPrefix,this.nativeEl,F,this.navCtrl,L,fe),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:W=>this.stackCtrl.endBackTransition(W)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Pe.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,W){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const W=this.getContext();this.activatedView.savedData=new Map(W.children.contexts);const fe=this.activatedView.savedData.get("primary");if(fe&&W.route&&(fe.route={...W.route}),this.activatedView.savedExtras={},W.route){const M=W.route.snapshot;this.activatedView.savedExtras.queryParams=M.queryParams,this.activatedView.savedExtras.fragment=M.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,W){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let fe,M=this.stackCtrl.getExistingView(T);if(M){fe=this.activated=M.ref;const L=M.savedData;L&&(this.getContext().children.contexts=L),this.updateActivatedRouteProxy(fe.instance,T)}else{var F;const L=T._futureSnapshot,ne=this.parentContexts.getOrCreateContext(this.name).children,ft=new gt.X(null),mn=this.createActivatedRouteProxy(ft,T),Nr=new vs(mn,ne,this.location.injector),ti=null!==(F=L.routeConfig.component)&&void 0!==F?F:L.component;fe=this.activated=this.location.createComponent(ti,{index:this.location.length,injector:Nr,environmentInjector:null!=W?W:this.environmentInjector}),ft.next(fe.instance),M=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(fe.instance,mn),this.currentActivatedRoute$.next({component:fe.instance,activatedRoute:T})}this.activatedView=M,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(M).then(L=>{this.activateEvents.emit(fe.instance),this.stackEvents.emit(L)})}canGoBack(T=1,W){return this.stackCtrl.canGoBack(T,W)}pop(T=1,W){return this.stackCtrl.pop(T,W)}getLastUrl(T){const W=this.stackCtrl.getLastUrl(T);return W?W.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,W){const fe=new Y.gz;return fe._futureSnapshot=W._futureSnapshot,fe._routerState=W._routerState,fe.snapshot=W.snapshot,fe.outlet=W.outlet,fe.component=W.component,fe._paramMap=this.proxyObservable(T,"paramMap"),fe._queryParamMap=this.proxyObservable(T,"queryParamMap"),fe.url=this.proxyObservable(T,"url"),fe.params=this.proxyObservable(T,"params"),fe.queryParams=this.proxyObservable(T,"queryParams"),fe.fragment=this.proxyObservable(T,"fragment"),fe.data=this.proxyObservable(T,"data"),fe}proxyObservable(T,W){return T.pipe((0,Le.h)(fe=>!!fe),(0,Ne.w)(fe=>this.currentActivatedRoute$.pipe((0,Le.h)(M=>null!==M&&M.component===fe),(0,Ne.w)(M=>M&&M.activatedRoute[W]),(0,lt.x)())))}updateActivatedRouteProxy(T,W){const fe=this.proxyMap.get(T);if(!fe)throw new Error("Could not find activated route proxy for view");fe._futureSnapshot=W._futureSnapshot,fe._routerState=W._routerState,fe.snapshot=W.snapshot,fe.outlet=W.outlet,fe.component=W.component,this.currentActivatedRoute$.next({component:T,activatedRoute:W})}}return b.\u0275fac=function(T){return new(T||b)(y.$8M("name"),y.$8M("tabs"),y.Y36(vt.Ye),y.Y36(y.SBq),y.Y36(Y.F0),y.Y36(y.R0b),y.Y36(Y.gz),y.Y36(b,12))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class vs{constructor(q,T,W){this.route=q,this.childContexts=T,this.parent=W}get(q,T){return q===Y.gz?this.route:q===Y.y6?this.childContexts:this.parent.get(q,T)}}let No=(()=>{class b{constructor(T,W,fe){this.routerOutlet=T,this.navCtrl=W,this.config=fe}onClick(T){var W;const fe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(W=this.routerOutlet)&&void 0!==W&&W.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),T.preventDefault()):null!=fe&&(this.navCtrl.navigateBack(fe,{animation:this.routerAnimation}),T.preventDefault())}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(fo,8),y.Y36(Hi),y.Y36(mr))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-back-button"]],hostBindings:function(T,W){1&T&&y.NdJ("click",function(M){return W.onClick(M)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),b})(),As=(()=>{class b{constructor(T,W,fe,M,F){this.locationStrategy=T,this.navCtrl=W,this.elementRef=fe,this.router=M,this.routerLink=F,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const W=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=W}}onClick(T){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),T.preventDefault()}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(vt.S$),y.Y36(Hi),y.Y36(y.SBq),y.Y36(Y.F0),y.Y36(Y.rH,8))},b.\u0275dir=y.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,W){1&T&&y.NdJ("click",function(M){return W.onClick(M)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[y.TTD]}),b})(),Zi=(()=>{let b=class{constructor(T,W,fe){this.z=fe,this.isCmpOpen=!1,this.el=W.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,T.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,T.detectChanges()}),en(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-modal"]],contentQueries:function(T,W,fe){if(1&T&&y.Suo(fe,y.Rgc,5),2&T){let M;y.iGM(M=y.CRH())&&(W.template=M.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(T,W){1&T&&y.YNc(0,zn,2,1,"div",0),2&T&&y.Q6J("ngIf",W.isCmpOpen||W.keepContentsMounted)},dependencies:[vt.O5,vt.tP],encapsulation:2,changeDetection:0}),b=(0,de.gn)([sn({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],b),b})();class Ri{constructor(q){this.ctrl=q}create(q){return this.ctrl.create(q||{})}dismiss(q,T,W){return this.ctrl.dismiss(q,T,W)}getTop(){return this.ctrl.getTop()}}let go=(()=>{class b extends Ri{constructor(){super(_t.a)}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),ss=(()=>{class b extends Ri{constructor(){super(_t.m),this.angularDelegate=(0,y.f3M)(Os),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})(),Xi=(()=>{class b extends Ri{constructor(){super(_t.c),this.angularDelegate=(0,y.f3M)(Os),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})(),Do=(()=>{class b extends Ri{constructor(){super(_t.t)}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class ia{shouldDetach(q){return!1}shouldAttach(q){return!1}store(q,T){}retrieve(q){return null}shouldReuseRoute(q,T){if(q.routeConfig!==T.routeConfig)return!1;const W=q.params,fe=T.params,M=Object.keys(W),F=Object.keys(fe);if(M.length!==F.length)return!1;for(const L of M)if(fe[L]!==W[L])return!1;return!0}}const wr=(b,q,T)=>()=>{if(q.defaultView&&typeof window<"u"){(0,Ce.s)({...b,_zoneGate:M=>T.run(M)});const fe="__zone_symbol__addEventListener"in q.body?"__zone_symbol__addEventListener":"addEventListener";return function Xt(){var b=[];if(typeof window<"u"){var q=window;(!q.customElements||q.Element&&(!q.Element.prototype.closest||!q.Element.prototype.matches||!q.Element.prototype.remove||!q.Element.prototype.getRootNode))&&b.push(H.e(6748).then(H.t.bind(H,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||q.NodeList&&!q.NodeList.prototype.forEach||!q.fetch||!function(){try{var W=new URL("b","http://a");return W.pathname="c%20d","http://a/c%20d"===W.href&&W.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&b.push(H.e(2214).then(H.t.bind(H,4144,23)))}return Promise.all(b)}().then(()=>((b,q)=>typeof window>"u"?Promise.resolve():(0,pt.p)().then(()=>(Bt(),(0,pt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),q))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nn,jmp:M=>T.runOutsideAngular(M),ael(M,F,L,ne){M[fe](F,L,ne)},rel(M,F,L,ne){M.removeEventListener(F,L,ne)}}))}};let sa=(()=>{class b{static forRoot(T){return{ngModule:b,providers:[{provide:Xr,useValue:T},{provide:y.ip1,useFactory:wr,multi:!0,deps:[Xr,vt.K0,y.R0b]}]}}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275mod=y.oAB({type:b}),b.\u0275inj=y.cJS({providers:[Os,ss,Xi],imports:[vt.ez]}),b})()},259:(gn,mt,H)=>{"use strict";H.d(mt,{C6:()=>_.getApps,Mq:()=>_.getApp,ZR:()=>_.FirebaseError});var _=H(6881);(0,_.registerVersion)("firebase","9.21.0","app")},9260:(gn,mt,H)=>{"use strict";H.d(mt,{Z:()=>_.Z});var _=H(3942);_.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(gn,mt,H)=>{"use strict";H.r(mt);var _=H(5861),y=H(3942),ee=H(2090),de=H(6881),$e=H(655),xe=H(1877),me=H(4859);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye_EMAIL_SIGNIN="EMAIL_SIGNIN",ye_PASSWORD_RESET="PASSWORD_RESET",ye_RECOVER_EMAIL="RECOVER_EMAIL",ye_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ye_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ye_VERIFY_EMAIL="VERIFY_EMAIL";const rt=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ct=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new xe.Yd("@firebase/auth");function Y(C,...g){ue.logLevel<=xe.in.ERROR&&ue.error(`Auth (${de.SDK_VERSION}): ${C}`,...g)}function et(C,...g){throw Oe(C,...g)}function Ze(C,...g){return Oe(C,...g)}function xt(C,g,m){const A=Object.assign(Object.assign({},Ct()),{[g]:m});return new ee.LL("auth","Firebase",A).create(g,{appName:C.name})}function Be(C,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&et(C,"argument-error"),xt(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(C,...g){if("string"!=typeof C){const m=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(m,...A)}return Re.create(C,...g)}function Pe(C,g,...m){if(!C)throw Oe(g,...m)}function Ce(C){const g="INTERNAL ASSERTION FAILED: "+C;throw Y(g),new Error(g)}function Ue(C,g){C||Ce(g)}function ht(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function _t(){return"http:"===ct()||"https:"===ct()}function ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ke{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ue(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(C,g){Ue(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Ne{static initialize(g,m,A){this.fetchImpl=g,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new ke(3e4,6e4);function Xt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Bt(C,g,m,A){return yn.apply(this,arguments)}function yn(){return(yn=(0,_.Z)(function*(C,g,m,A,K={}){return Tt(C,K,(0,_.Z)(function*(){let oe={},Je={};A&&("GET"===g?Je=A:oe={body:JSON.stringify(A)});const yt=(0,ee.xO)(Object.assign({key:C.config.apiKey},Je)).slice(1),Zt=yield C._getAdditionalHeaders();return Zt["Content-Type"]="application/json",C.languageCode&&(Zt["X-Firebase-Locale"]=C.languageCode),Ne.fetch()(Sn(C,C.config.apiHost,m,yt),Object.assign({method:g,headers:Zt,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Tt(C,g,m){return Te.apply(this,arguments)}function Te(){return(Te=(0,_.Z)(function*(C,g,m){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},lt),g);try{const K=new zn(C),oe=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Je=yield oe.json();if("needConfirmation"in Je)throw wn(C,"account-exists-with-different-credential",Je);if(oe.ok&&!("errorMessage"in Je))return Je;{const yt=oe.ok?Je.errorMessage:Je.error.message,[Zt,Pn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw wn(C,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Zt)throw wn(C,"email-already-in-use",Je);if("USER_DISABLED"===Zt)throw wn(C,"user-disabled",Je);const Jn=A[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(Pn)throw xt(C,Jn,Pn);et(C,Jn)}}catch(K){if(K instanceof ee.ZR)throw K;et(C,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function St(C,g,m,A){return cn.apply(this,arguments)}function cn(){return(cn=(0,_.Z)(function*(C,g,m,A,K={}){const oe=yield Bt(C,g,m,A,K);return"mfaPendingCredential"in oe&&et(C,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Sn(C,g,m,A){const K=`${g}${m}?${A}`;return C.config.emulator?Le(C.config,K):`${C.config.apiScheme}://${K}`}class zn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(Ze(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(C,g,m){const A={appName:C.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const K=Ze(C,g,A);return K.customData._tokenResponse=m,K}function En(){return(En=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function jn(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function mi(){return(mi=(0,_.Z)(function*(C,g=!1){const m=(0,ee.m9)(C),A=yield m.getIdToken(g),K=Hn(A);Pe(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const oe="object"==typeof K.firebase?K.firebase:void 0,Je=null==oe?void 0:oe.sign_in_provider;return{claims:K,token:A,authTime:jn(xi(K.auth_time)),issuedAtTime:jn(xi(K.iat)),expirationTime:jn(xi(K.exp)),signInProvider:Je||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function xi(C){return 1e3*Number(C)}function Hn(C){const[g,m,A]=C.split(".");if(void 0===g||void 0===m||void 0===A)return Y("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,ee.tV)(m);return K?JSON.parse(K):(Y("Failed to decode base64 JWT payload"),null)}catch(K){return Y("Caught error parsing JWT payload as JSON",null==K?void 0:K.toString()),null}}function en(C,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,_.Z)(function*(C,g,m=!1){if(m)return g;try{return yield g}catch(A){throw A instanceof ee.ZR&&function sn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}class ci{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),A)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Dr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(C){return oi.apply(this,arguments)}function oi(){return oi=(0,_.Z)(function*(C){var g;const m=C.auth,A=yield C.getIdToken(),K=yield en(C,function tr(C,g){return vn.apply(this,arguments)}(m,{idToken:A}));Pe(null==K?void 0:K.users.length,m,"internal-error");const oe=K.users[0];C._notifyReloadListener(oe);const Je=null!==(g=oe.providerUserInfo)&&void 0!==g&&g.length?function lr(C){return C.map(g=>{var{providerId:m}=g,A=(0,$e._T)(g,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(oe.providerUserInfo):[],yt=function vi(C,g){return[...C.filter(A=>!g.some(K=>K.providerId===A.providerId)),...g]}(C.providerData,Je),Jn=!!C.isAnonymous&&!(C.email&&oe.passwordHash||null!=yt&&yt.length),er={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:yt,metadata:new Dr(oe.createdAt,oe.lastLoginAt),isAnonymous:Jn};Object.assign(C,er)}),oi.apply(this,arguments)}function Ur(){return(Ur=(0,_.Z)(function*(C){const g=(0,ee.m9)(C);yield si(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(C,g){const m=yield Tt(C,{},(0,_.Z)(function*(){const A=(0,ee.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:oe}=C.config,Je=Sn(C,K,"/v1/token",`key=${oe}`),yt=yield C._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(Je,{method:"POST",headers:yt,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Pe(g.idToken,"internal-error"),Pe(typeof g.idToken<"u","internal-error"),Pe(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Gn(C){const g=Hn(C);return Pe(g,"internal-error"),Pe(typeof g.exp<"u","internal-error"),Pe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var A=this;return(0,_.Z)(function*(){return Pe(!A.accessToken||A.refreshToken,g,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var A=this;return(0,_.Z)(function*(){const{accessToken:K,refreshToken:oe,expiresIn:Je}=yield function sr(C,g){return Ir.apply(this,arguments)}(g,m);A.updateTokensAndExpiration(K,oe,Number(Je))})()}updateTokensAndExpiration(g,m,A){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,m){const{refreshToken:A,accessToken:K,expirationTime:oe}=m,Je=new Mi;return A&&(Pe("string"==typeof A,"internal-error",{appName:g}),Je.refreshToken=A),K&&(Pe("string"==typeof K,"internal-error",{appName:g}),Je.accessToken=K),oe&&(Pe("number"==typeof oe,"internal-error",{appName:g}),Je.expirationTime=oe),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Mi,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function yr(C,g){Pe("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class jt{constructor(g){var{uid:m,auth:A,stsTokenManager:K}=g,oe=(0,$e._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Dr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,_.Z)(function*(){const A=yield en(m,m.stsTokenManager.getToken(m.auth,g));return Pe(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(g){return function br(C){return mi.apply(this,arguments)}(this,g)}reload(){return function yi(C){return Ur.apply(this,arguments)}(this)}_assign(g){this!==g&&(Pe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new jt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var A=this;return(0,_.Z)(function*(){let K=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),K=!0),m&&(yield si(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,_.Z)(function*(){const m=yield g.getIdToken();return yield en(g,function nn(C,g){return En.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var A,K,oe,Je,yt,Zt,Pn,Jn;const er=null!==(A=m.displayName)&&void 0!==A?A:void 0,Ki=null!==(K=m.email)&&void 0!==K?K:void 0,ka=null!==(oe=m.phoneNumber)&&void 0!==oe?oe:void 0,Ru=null!==(Je=m.photoURL)&&void 0!==Je?Je:void 0,ec=null!==(yt=m.tenantId)&&void 0!==yt?yt:void 0,ls=null!==(Zt=m._redirectEventId)&&void 0!==Zt?Zt:void 0,qd=null!==(Pn=m.createdAt)&&void 0!==Pn?Pn:void 0,Mu=null!==(Jn=m.lastLoginAt)&&void 0!==Jn?Jn:void 0,{uid:Bc,emailVerified:tc,isAnonymous:Pu,providerData:Yd,stsTokenManager:yd}=m;Pe(Bc&&yd,g,"internal-error");const vd=Mi.fromJSON(this.name,yd);Pe("string"==typeof Bc,g,"internal-error"),yr(er,g.name),yr(Ki,g.name),Pe("boolean"==typeof tc,g,"internal-error"),Pe("boolean"==typeof Pu,g,"internal-error"),yr(ka,g.name),yr(Ru,g.name),yr(ec,g.name),yr(ls,g.name),yr(qd,g.name),yr(Mu,g.name);const Zd=new jt({uid:Bc,auth:g,email:Ki,emailVerified:tc,displayName:er,isAnonymous:Pu,photoURL:Ru,phoneNumber:ka,tenantId:ec,stsTokenManager:vd,createdAt:qd,lastLoginAt:Mu});return Yd&&Array.isArray(Yd)&&(Zd.providerData=Yd.map(Ou=>Object.assign({},Ou))),ls&&(Zd._redirectEventId=ls),Zd}static _fromIdTokenResponse(g,m,A=!1){return(0,_.Z)(function*(){const K=new Mi;K.updateFromServerResponse(m);const oe=new jt({uid:m.localId,auth:g,stsTokenManager:K,isAnonymous:A});return yield si(oe),oe})()}}const Ke=new Map;function Qe(C){Ue(C instanceof Function,"Expected a class definition");let g=Ke.get(C);return g?(Ue(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,Ke.set(C,g),g)}const zt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,A){var K=this;return(0,_.Z)(function*(){K.storage[m]=A})()}_get(m){var A=this;return(0,_.Z)(function*(){const K=A.storage[m];return void 0===K?null:K})()}_remove(m){var A=this;return(0,_.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return C.type="NONE",C})();function Ie(C,g,m){return`firebase:${C}:${g}:${m}`}class _e{constructor(g,m,A){this.persistence=g,this.auth=m,this.userKey=A;const{config:K,name:oe}=this.auth;this.fullUserKey=Ie(this.userKey,K.apiKey,oe),this.fullPersistenceKey=Ie("persistence",K.apiKey,oe),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?jt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,_.Z)(function*(){if(m.persistence===g)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,A="authUser"){return(0,_.Z)(function*(){if(!m.length)return new _e(Qe(zt),g,A);const K=(yield Promise.all(m.map(function(){var Pn=(0,_.Z)(function*(Jn){if(yield Jn._isAvailable())return Jn});return function(Jn){return Pn.apply(this,arguments)}}()))).filter(Pn=>Pn);let oe=K[0]||Qe(zt);const Je=Ie(A,g.config.apiKey,g.name);let yt=null;for(const Pn of m)try{const Jn=yield Pn._get(Je);if(Jn){const er=jt._fromJSON(g,Jn);Pn!==oe&&(yt=er),oe=Pn;break}}catch{}const Zt=K.filter(Pn=>Pn._shouldAllowMigration);return oe._shouldAllowMigration&&Zt.length?(oe=Zt[0],yt&&(yield oe._set(Je,yt.toJSON())),yield Promise.all(m.map(function(){var Pn=(0,_.Z)(function*(Jn){if(Jn!==oe)try{yield Jn._remove(Je)}catch{}});return function(Jn){return Pn.apply(this,arguments)}}())),new _e(oe,g,A)):new _e(oe,g,A)})()}}function We(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ot(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Dt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ve(g))return"Blackberry";if(ut(g))return"Webos";if(st(g))return"Safari";if((g.includes("chrome/")||on(g))&&!g.includes("edge/"))return"Chrome";if(je(g))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Dt(C=(0,ee.z$)()){return/firefox\//i.test(C)}function st(C=(0,ee.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function on(C=(0,ee.z$)()){return/crios\//i.test(C)}function ot(C=(0,ee.z$)()){return/iemobile/i.test(C)}function je(C=(0,ee.z$)()){return/android/i.test(C)}function ve(C=(0,ee.z$)()){return/blackberry/i.test(C)}function ut(C=(0,ee.z$)()){return/webos/i.test(C)}function Rt(C=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function fr(C=(0,ee.z$)()){return Rt(C)||je(C)||ut(C)||ve(C)||/windows phone/i.test(C)||ot(C)}function $t(C,g=[]){let m;switch(C){case"Browser":m=We((0,ee.z$)());break;case"Worker":m=`${We((0,ee.z$)())}-${C}`;break;default:m=C}const A=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${A}`}function Jt(){return(Jt=(0,_.Z)(function*(C){return(yield Bt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function On(C,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,_.Z)(function*(C,g){return Bt(C,"GET","/v2/recaptchaConfig",Xt(C,g))})).apply(this,arguments)}function vr(C){return void 0!==C&&void 0!==C.getResponse}function Nn(C){return void 0!==C&&void 0!==C.enterprise}class or{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function ir(C){return new Promise((g,m)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=g,A.onerror=K=>{const oe=Ze("internal-error");oe.customData=K,m(oe)},A.type="text/javascript",A.charset="UTF-8",function rr(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(A)})}function Xn(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Vi="NO_RECAPTCHA";class ji{constructor(g){this.type="recaptcha-enterprise",this.auth=Pr(g)}verify(g="verify",m=!1){var A=this;return(0,_.Z)(function*(){function oe(){return oe=(0,_.Z)(function*(yt){if(!m){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var Zt=(0,_.Z)(function*(Pn,Jn){On(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(er=>{if(void 0!==er.recaptchaKey){const Ki=new or(er);return null==yt.tenantId?yt._agentRecaptchaConfig=Ki:yt._tenantRecaptchaConfigs[yt.tenantId]=Ki,Pn(Ki.siteKey)}Jn(new Error("recaptcha Enterprise site key undefined"))}).catch(er=>{Jn(er)})});return function(Pn,Jn){return Zt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Je(yt,Zt,Pn){const Jn=window.grecaptcha;Nn(Jn)?Jn.enterprise.ready(()=>{Jn.enterprise.execute(yt,{action:g}).then(er=>{Zt(er)}).catch(()=>{Zt(Vi)})}):Pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,Zt)=>{(function K(yt){return oe.apply(this,arguments)})(A.auth).then(Pn=>{if(!m&&Nn(window.grecaptcha))Je(Pn,yt,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));ir("https://www.google.com/recaptcha/enterprise.js?render="+Pn).then(()=>{Je(Pn,yt,Zt)}).catch(Jn=>{Zt(Jn)})}}).catch(Pn=>{Zt(Pn)})})})()}}function In(C,g,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,_.Z)(function*(C,g,m,A=!1){const K=new ji(C);let oe;try{oe=yield K.verify(m)}catch{oe=yield K.verify(m,!0)}const Je=Object.assign({},g);return Object.assign(Je,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}class ei{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const A=oe=>new Promise((Je,yt)=>{try{Je(g(oe))}catch(Zt){yt(Zt)}});A.onAbort=m,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,_.Z)(function*(){if(m.auth.currentUser===g)return;const A=[];try{for(const K of m.queue)yield K(g),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const oe of A)try{oe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==K?void 0:K.message})}})()}}class qi{constructor(g,m,A,K){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.beforeStateQueue=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(g,m){var A=this;return m&&(this._popupRedirectResolver=Qe(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var K,oe;if(!A._deleted&&(A.persistenceManager=yield _e.create(A,g),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,_.Z)(function*(){var A;const K=yield m.assertedPersistence.getCurrentUser();let oe=K,Je=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const yt=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,Zt=null==oe?void 0:oe._redirectEventId,Pn=yield m.tryRedirectSignIn(g);(!yt||yt===Zt)&&null!=Pn&&Pn.user&&(oe=Pn.user,Je=!0)}if(!oe)return m.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Je)try{yield m.beforeStateQueue.runMiddleware(oe)}catch(yt){oe=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(yt))}return oe?m.reloadAndSetCurrentUserOrClear(oe):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===oe._redirectEventId?m.directlySetCurrentUser(oe):m.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(g){var m=this;return(0,_.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,_.Z)(function*(){try{yield si(g)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){const A=g?(0,ee.m9)(g):null;return A&&Pe(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(g,m=!1){var A=this;return(0,_.Z)(function*(){if(!A._deleted)return g&&Pe(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),m||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,_.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Qe(g))}))}initializeRecaptchaConfig(){var g=this;return(0,_.Z)(function*(){const m=yield On(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new or(m);null==g.tenantId?g._agentRecaptchaConfig=A:g._tenantRecaptchaConfigs[g.tenantId]=A,A.emailPasswordEnabled&&new ji(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ee.LL("auth","Firebase",g())}onAuthStateChanged(g,m,A){return this.registerStateListener(this.authStateSubscription,g,m,A)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,A){return this.registerStateListener(this.idTokenSubscription,g,m,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var A=this;return(0,_.Z)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(m);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const A=g&&Qe(g)||m._popupRedirectResolver;Pe(A,m,"argument-error"),m.redirectPersistenceManager=yield _e.create(m,[Qe(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,_.Z)(function*(){var A,K;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===g?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,_.Z)(function*(){if(g===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,A,K){if(this._deleted)return()=>{};const oe="function"==typeof m?m:m.next.bind(m),Je=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(Je,this,"internal-error"),Je.then(()=>oe(this.currentUser)),"function"==typeof m?g.addObserver(m,A,K):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,_.Z)(function*(){var m;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const oe=yield g._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var g=this;return(0,_.Z)(function*(){var m;const A=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=A&&A.error&&function gt(C,...g){ue.logLevel<=xe.in.WARN&&ue.warn(`Auth (${de.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function Pr(C){return(0,ee.m9)(C)}class _i{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ee.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ee(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function pe(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class qe{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,m){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Nt(C,g){return At.apply(this,arguments)}function At(){return(At=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:resetPassword",Xt(C,g))})).apply(this,arguments)}function Ht(C,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yn(){return(Yn=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",Xt(C,g))})).apply(this,arguments)}function Wn(C,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithPassword",Xt(C,g))})).apply(this,arguments)}function Gr(C,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:sendOobCode",Xt(C,g))})).apply(this,arguments)}function tt(){return(tt=(0,_.Z)(function*(C,g){return Gr(C,g)})).apply(this,arguments)}function Et(C,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(C,g){return Gr(C,g)})).apply(this,arguments)}function tn(C,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,_.Z)(function*(C,g){return Gr(C,g)})).apply(this,arguments)}function mr(){return(mr=(0,_.Z)(function*(C,g){return Gr(C,g)})).apply(this,arguments)}function ys(){return(ys=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithEmailLink",Xt(C,g))})).apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithEmailLink",Xt(C,g))})).apply(this,arguments)}class Ts extends qe{constructor(g,m,A,K=null){super("password",A),this._email=g,this._password=m,this._tenantId=K}static _fromEmailAndPassword(g,m){return new Ts(g,m,"password")}static _fromEmailAndCode(g,m,A=null){return new Ts(g,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,_.Z)(function*(){var A;switch(m.signInMethod){case"password":const K={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=g._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const oe=yield In(g,K,"signInWithPassword");return Wn(g,oe)}return Wn(g,K).catch(function(){var oe=(0,_.Z)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield In(g,K,"signInWithPassword");return Wn(g,yt)}return Promise.reject(Je)});return function(Je){return oe.apply(this,arguments)}}());case"emailLink":return function Xr(C,g){return ys.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:et(g,"internal-error")}})()}_linkToIdToken(g,m){var A=this;return(0,_.Z)(function*(){switch(A.signInMethod){case"password":return Ht(g,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Oo(C,g){return fi.apply(this,arguments)}(g,{idToken:m,email:A._email,oobCode:A._password});default:et(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Hi(C,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithIdp",Xt(C,g))})).apply(this,arguments)}class Yi extends qe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Yi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):et("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K}=m,oe=(0,$e._T)(m,["providerId","signInMethod"]);if(!A||!K)return null;const Je=new Yi(A,K);return Je.idToken=oe.idToken||void 0,Je.accessToken=oe.accessToken||void 0,Je.secret=oe.secret,Je.nonce=oe.nonce,Je.pendingToken=oe.pendingToken||null,Je}_getIdTokenResponse(g){return Hi(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,Hi(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,ee.xO)(m)}return g}}function Os(){return(Os=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:sendVerificationCode",Xt(C,g))})).apply(this,arguments)}function ko(){return(ko=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithPhoneNumber",Xt(C,g))})).apply(this,arguments)}function ao(){return(ao=(0,_.Z)(function*(C,g){const m=yield St(C,"POST","/v1/accounts:signInWithPhoneNumber",Xt(C,g));if(m.temporaryProof)throw wn(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const da={USER_NOT_FOUND:"user-not-found"};function lo(){return(lo=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithPhoneNumber",Xt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),da)})).apply(this,arguments)}class us extends qe{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new us({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new us({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Ta(C,g){return ko.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Ss(C,g){return ao.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ja(C,g){return lo.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:A,verificationCode:K}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:A,code:K}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:A,phoneNumber:K,temporaryProof:oe}=g;return A||m||K||oe?new us({verificationId:m,verificationCode:A,phoneNumber:K,temporaryProof:oe}):null}}class is{constructor(g){var m,A,K,oe,Je,yt;const Zt=(0,ee.zd)((0,ee.pd)(g)),Pn=null!==(m=Zt.apiKey)&&void 0!==m?m:null,Jn=null!==(A=Zt.oobCode)&&void 0!==A?A:null,er=function ha(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Zt.mode)&&void 0!==K?K:null);Pe(Pn&&Jn&&er,"argument-error"),this.apiKey=Pn,this.operation=er,this.code=Jn,this.continueUrl=null!==(oe=Zt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Je=Zt.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(yt=Zt.tenantId)&&void 0!==yt?yt:null}static parseLink(g){const m=function Ws(C){const g=(0,ee.zd)((0,ee.pd)(C)).link,m=g?(0,ee.zd)((0,ee.pd)(g)).deep_link_id:null,A=(0,ee.zd)((0,ee.pd)(C)).deep_link_id;return(A?(0,ee.zd)((0,ee.pd)(A)).link:null)||A||m||g||C}(g);try{return new is(m)}catch{return null}}}let Ho=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,A){return Ts._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const K=is.parseLink(A);return Pe(K,"argument-error"),Ts._fromEmailAndCode(m,K.code,K.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class co{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Qr extends co{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ks extends Qr{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),Yi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Pe(g.idToken||g.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ks.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ks.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:oe,nonce:Je,providerId:yt}=g;if(!A&&!K&&!m&&!oe||!yt)return null;try{return new ks(yt)._credential({idToken:m,accessToken:A,nonce:Je,pendingToken:oe})}catch{return null}}}let uo=(()=>{class C extends Qr{constructor(){super("facebook.com")}static credential(m){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ho=(()=>{class C extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:K}=m;if(!A&&!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),fa=(()=>{class C extends Qr{constructor(){super("github.com")}static credential(m){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class vs extends qe{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Hi(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,Hi(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K,pendingToken:oe}=m;return A&&K&&oe&&A===K?new vs(A,oe):null}static _create(g,m){return new vs(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class No extends co{constructor(g){Pe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return No.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return No.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=vs.fromJSON(g);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:A}=g;if(!m||!A)return null;try{return vs._create(A,m)}catch{return null}}}let na=(()=>{class C extends Qr{constructor(){super("twitter.com")}static credential(m,A){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=m;if(!A||!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function As(C,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signUp",Xt(C,g))})).apply(this,arguments)}class Zi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,A,K=!1){return(0,_.Z)(function*(){const oe=yield jt._fromIdTokenResponse(g,A,K),Je=bo(A);return new Zi({user:oe,providerId:Je,_tokenResponse:A,operationType:m})})()}static _forOperation(g,m,A){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const K=bo(A);return new Zi({user:g,providerId:K,_tokenResponse:A,operationType:m})})()}}function bo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function po(){return(po=(0,_.Z)(function*(C){var g;const m=Pr(C);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Zi({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield As(m,{returnSecureToken:!0}),K=yield Zi._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class go extends ee.ZR{constructor(g,m,A,K){var oe;super(m.code,m.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,go.prototype),this.customData={appName:g.name,tenantId:null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,m,A,K){return new go(g,m,A,K)}}function Pi(C,g,m,A){return("reauthenticate"===g?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?go._fromErrorAndOperation(C,oe,g,A):oe})}function ra(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function ss(){return ss=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C);yield Gi(!0,m,g);const{providerUserInfo:A}=yield function hr(C,g){return Cr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),K=ra(A||[]);return m.providerData=m.providerData.filter(oe=>K.has(oe.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ss.apply(this,arguments)}function Xi(C,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,_.Z)(function*(C,g,m=!1){const A=yield en(C,g._linkToIdToken(C.auth,yield C.getIdToken()),m);return Zi._forOperation(C,"link",A)})).apply(this,arguments)}function Gi(C,g,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,_.Z)(function*(C,g,m){yield si(g);const K=!1===C?"provider-already-linked":"no-such-provider";Pe(ra(g.providerData).has(m)===C,g.auth,K)})).apply(this,arguments)}function Ns(C,g){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(C,g,m=!1){const{auth:A}=C,K="reauthenticate";try{const oe=yield en(C,Pi(A,K,g,C),m);Pe(oe.idToken,A,"internal-error");const Je=Hn(oe.idToken);Pe(Je,A,"internal-error");const{sub:yt}=Je;return Pe(C.uid===yt,A,"user-mismatch"),Zi._forOperation(C,K,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&et(A,"user-mismatch"),oe}})).apply(this,arguments)}function ia(C,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,_.Z)(function*(C,g,m=!1){const A="signIn",K=yield Pi(C,A,g),oe=yield Zi._fromIdTokenResponse(C,A,K);return m||(yield C._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function So(C,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,_.Z)(function*(C,g){return ia(Pr(C),g)})).apply(this,arguments)}function sa(C,g){return b.apply(this,arguments)}function b(){return(b=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C);return yield Gi(!1,m,g.providerId),Xi(m,g)})).apply(this,arguments)}function q(C,g){return T.apply(this,arguments)}function T(){return(T=(0,_.Z)(function*(C,g){return Ns((0,ee.m9)(C),g)})).apply(this,arguments)}function fe(){return(fe=(0,_.Z)(function*(C,g){return St(C,"POST","/v1/accounts:signInWithCustomToken",Xt(C,g))})).apply(this,arguments)}function F(){return F=(0,_.Z)(function*(C,g){const m=Pr(C),A=yield function W(C,g){return fe.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),K=yield Zi._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(K.user),K}),F.apply(this,arguments)}class L{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?ne._fromServerResponse(g,m):"totpInfo"in m?ft._fromServerResponse(g,m):et(g,"internal-error")}}class ne extends L{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new ne(m)}}class ft extends L{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new ft(m)}}function mn(C,g,m){var A;Pe((null===(A=m.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),Pe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function ti(){return ti=(0,_.Z)(function*(C,g,m){var A;const K=Pr(C),oe={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Je=yield In(K,oe,"getOobCode",!0);m&&mn(K,Je,m),yield Et(K,Je)}else m&&mn(K,oe,m),yield Et(K,oe).catch(function(){var Je=(0,_.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Zt=yield In(K,oe,"getOobCode",!0);m&&mn(K,Zt,m),yield Et(K,Zt)}});return function(yt){return Je.apply(this,arguments)}}())}),ti.apply(this,arguments)}function ds(){return(ds=(0,_.Z)(function*(C,g,m){yield Nt((0,ee.m9)(C),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Si(){return Si=(0,_.Z)(function*(C,g){yield function dn(C,g){return Yn.apply(this,arguments)}((0,ee.m9)(C),{oobCode:g})}),Si.apply(this,arguments)}function ja(C,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C),A=yield Nt(m,{oobCode:g}),K=A.requestType;switch(Pe(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(A.mfaInfo,m,"internal-error");default:Pe(A.email,m,"internal-error")}let oe=null;return A.mfaInfo&&(oe=L._fromServerResponse(Pr(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:K}})).apply(this,arguments)}function qs(){return(qs=(0,_.Z)(function*(C,g){const{data:m}=yield ja((0,ee.m9)(C),g);return m.email})).apply(this,arguments)}function Ys(){return Ys=(0,_.Z)(function*(C,g,m){var A;const K=Pr(C),oe={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let Je;if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Pn=yield In(K,oe,"signUpPassword");Je=As(K,Pn)}else Je=As(K,oe).catch(function(){var Pn=(0,_.Z)(function*(Jn){if("auth/missing-recaptcha-token"===Jn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const er=yield In(K,oe,"signUpPassword");return As(K,er)}return Promise.reject(Jn)});return function(Jn){return Pn.apply(this,arguments)}}());const yt=yield Je.catch(Pn=>Promise.reject(Pn)),Zt=yield Zi._fromIdTokenResponse(K,"signIn",yt);return yield K._updateCurrentUser(Zt.user),Zt}),Ys.apply(this,arguments)}function Sa(){return Sa=(0,_.Z)(function*(C,g,m){var A;const K=Pr(C),oe={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Je(yt,Zt){Pe(Zt.handleCodeInApp,K,"argument-error"),Zt&&mn(K,yt,Zt)}if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const yt=yield In(K,oe,"getOobCode",!0);Je(yt,m),yield tn(K,yt)}else Je(oe,m),yield tn(K,oe).catch(function(){var yt=(0,_.Z)(function*(Zt){if("auth/missing-recaptcha-token"!==Zt.code)return Promise.reject(Zt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pn=yield In(K,oe,"getOobCode",!0);Je(Pn,m),yield tn(K,Pn)}});return function(Zt){return yt.apply(this,arguments)}}())}),Sa.apply(this,arguments)}function xs(){return(xs=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),K=Ho.credentialWithLink(g,m||ht());return Pe(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),So(A,K)})).apply(this,arguments)}function Aa(){return(Aa=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:createAuthUri",Xt(C,g))})).apply(this,arguments)}function Fo(){return Fo=(0,_.Z)(function*(C,g){const A={identifier:g,continueUri:_t()?ht():"http://localhost"},{signinMethods:K}=yield function nl(C,g){return Aa.apply(this,arguments)}((0,ee.m9)(C),A);return K||[]}),Fo.apply(this,arguments)}function ga(){return ga=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C),K={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&mn(m.auth,K,g);const{email:oe}=yield function dt(C,g){return tt.apply(this,arguments)}(m.auth,K);oe!==C.email&&(yield C.reload())}),ga.apply(this,arguments)}function xo(){return xo=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};m&&mn(A.auth,oe,m);const{email:Je}=yield function gr(C,g){return mr.apply(this,arguments)}(A.auth,oe);Je!==C.email&&(yield C.reload())}),xo.apply(this,arguments)}function Zs(){return(Zs=(0,_.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xa(){return xa=(0,_.Z)(function*(C,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const A=(0,ee.m9)(C),oe={idToken:yield A.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Je=yield en(A,function Go(C,g){return Zs.apply(this,arguments)}(A.auth,oe));A.displayName=Je.displayName||null,A.photoURL=Je.photoUrl||null;const yt=A.providerData.find(({providerId:Zt})=>"password"===Zt);yt&&(yt.displayName=A.displayName,yt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Je)}),xa.apply(this,arguments)}function Br(C,g,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,_.Z)(function*(C,g,m){const{auth:A}=C,oe={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(oe.email=g),m&&(oe.password=m);const Je=yield en(C,Ht(A,oe));yield C._updateTokensIfNecessary(Je,!0)})).apply(this,arguments)}class Lo{constructor(g,m,A={}){this.isNewUser=g,this.providerId=m,this.profile=A}}class vl extends Lo{constructor(g,m,A,K){super(g,m,A),this.username=K}}class mo extends Lo{constructor(g,m){super(g,"facebook.com",m)}}class Hl extends vl{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Tr extends Lo{constructor(g,m){super(g,"google.com",m)}}class zl extends vl{constructor(g,m,A){super(g,"twitter.com",m,A)}}function _l(C){const{user:g,_tokenResponse:m}=C;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ra(C){var g,m;if(!C)return null;const{providerId:A}=C,K=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},oe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&null!=C&&C.idToken){const Je=null===(m=null===(g=Hn(C.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Je)return new Lo(oe,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!A)return null;switch(A){case"facebook.com":return new mo(oe,K);case"github.com":return new Hl(oe,K);case"google.com":return new Tr(oe,K);case"twitter.com":return new zl(oe,K,C.screenName||null);case"custom":case"anonymous":return new Lo(oe,null);default:return new Lo(oe,A,K)}}(m)}class Fr{constructor(g,m,A){this.type=g,this.credential=m,this.auth=A}static _fromIdtoken(g,m){return new Fr("enroll",g,m)}static _fromMfaPendingCredential(g){return new Fr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,A;if(null!=g&&g.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Fr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return Fr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class _r{constructor(g,m,A){this.session=g,this.hints=m,this.signInResolver=A}static _fromError(g,m){const A=Pr(g),K=m.customData._serverResponse,oe=(K.mfaInfo||[]).map(yt=>L._fromServerResponse(A,yt));Pe(K.mfaPendingCredential,A,"internal-error");const Je=Fr._fromMfaPendingCredential(K.mfaPendingCredential);return new _r(Je,oe,function(){var yt=(0,_.Z)(function*(Zt){const Pn=yield Zt._process(A,Je);delete K.mfaInfo,delete K.mfaPendingCredential;const Jn=Object.assign(Object.assign({},K),{idToken:Pn.idToken,refreshToken:Pn.refreshToken});switch(m.operationType){case"signIn":const er=yield Zi._fromIdTokenResponse(A,m.operationType,Jn);return yield A._updateCurrentUser(er.user),er;case"reauthenticate":return Pe(m.user,A,"internal-error"),Zi._forOperation(m.user,m.operationType,Jn);default:et(A,"internal-error")}});return function(Zt){return yt.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,_.Z)(function*(){return m.signInResolver(g)})()}}class _s{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>L._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new _s(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Fr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var A=this;return(0,_.Z)(function*(){const K=g,oe=yield A.getSession(),Je=yield en(A.user,K._process(A.user.auth,oe,m));return yield A.user._updateTokensIfNecessary(Je),A.user.reload()})()}unenroll(g){var m=this;return(0,_.Z)(function*(){const A="string"==typeof g?g:g.uid,K=yield m.user.getIdToken();try{const oe=yield en(m.user,function Ko(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(C,g))}(m.user.auth,{idToken:K,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Je})=>Je!==A),yield m.user._updateTokensIfNecessary(oe),yield m.user.reload()}catch(oe){throw oe}})()}}const Xs=new WeakMap,Qs="__sak";class il{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Qs,"1"),this.storage.removeItem(Qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wi=(()=>{class C extends il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function El(){const C=(0,ee.z$)();return st(C)||Rt(C)}()&&function zr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),oe=this.localCache[A];K!==oe&&m(A,oe,K)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((yt,Zt,Pn)=>{this.notifyListeners(yt,Pn)});const K=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(K);if(m.newValue!==yt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!A)return}const oe=()=>{const yt=this.storage.getItem(K);!A&&this.localCache[K]===yt||this.notifyListeners(K,yt)},Je=this.storage.getItem(K);!function qn(){return(0,ee.w1)()&&10===document.documentMode}()||Je===m.newValue||m.newValue===m.oldValue?oe():setTimeout(oe,10)}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var K=()=>super._set,oe=this;return(0,_.Z)(function*(){yield K().call(oe,m,A),oe.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,K=this;return(0,_.Z)(function*(){const oe=yield A().call(K,m);return K.localCache[m]=JSON.stringify(oe),oe})()}_remove(m){var A=()=>super._remove,K=this;return(0,_.Z)(function*(){yield A().call(K,m),delete K.localCache[m]})()}}return C.type="LOCAL",C})(),Js=(()=>{class C extends il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return C.type="SESSION",C})();let ac=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(oe=>oe.isListeningto(m));if(A)return A;const K=new C(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,_.Z)(function*(){const K=m,{eventId:oe,eventType:Je,data:yt}=K.data,Zt=A.handlersMap[Je];if(null==Zt||!Zt.size)return;K.ports[0].postMessage({status:"ack",eventId:oe,eventType:Je});const Pn=Array.from(Zt).map(function(){var er=(0,_.Z)(function*(Ki){return Ki(K.origin,yt)});return function(Ki){return er.apply(this,arguments)}}()),Jn=yield function oc(C){return Promise.all(C.map(function(){var g=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return g.apply(this,arguments)}}()))}(Pn);K.ports[0].postMessage({status:"done",eventId:oe,eventType:Je,response:Jn})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function hn(C="",g=10){let m="";for(let A=0;A<g;A++)m+=Math.floor(10*Math.random());return C+m}class Ji{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,A=50){var K=this;return(0,_.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Je,yt;return new Promise((Zt,Pn)=>{const Jn=hn("",20);oe.port1.start();const er=setTimeout(()=>{Pn(new Error("unsupported_event"))},A);yt={messageChannel:oe,onMessage(Ki){const ka=Ki;if(ka.data.eventId===Jn)switch(ka.data.status){case"ack":clearTimeout(er),Je=setTimeout(()=>{Pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),Zt(ka.data.response);break;default:clearTimeout(er),clearTimeout(Je),Pn(new Error("invalid_response"))}}},K.handlers.add(yt),oe.port1.addEventListener("message",yt.onMessage),K.target.postMessage({eventType:g,eventId:Jn,data:m},[oe.port2])}).finally(()=>{yt&&K.removeMessageHandler(yt)})})()}}function hi(){return window}function $n(){return typeof hi().WorkerGlobalScope<"u"&&"function"==typeof hi().importScripts}function lc(){return(lc=(0,_.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rn="firebaseLocalStorageDb",ni=1,sl="firebaseLocalStorage",cc="fbase_key";class Il{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ma(C,g){return C.transaction([sl],g?"readwrite":"readonly").objectStore(sl)}function Yc(){const C=indexedDB.open(rn,ni);return new Promise((g,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(sl,{keyPath:cc})}catch(K){m(K)}}),C.addEventListener("success",(0,_.Z)(function*(){const A=C.result;A.objectStoreNames.contains(sl)?g(A):(A.close(),yield function Fd(){const C=indexedDB.deleteDatabase(rn);return new Il(C).toPromise()}(),g(yield Yc()))}))})}function Bo(C,g,m){return wl.apply(this,arguments)}function wl(){return(wl=(0,_.Z)(function*(C,g,m){const A=Ma(C,!0).put({[cc]:g,value:m});return new Il(A).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,_.Z)(function*(C,g){const m=Ma(C,!1).get(g),A=yield new Il(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ma(C,g){const m=Ma(C,!0).delete(g);return new Il(m).toPromise()}const ai=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield Yc()),m.db})()}_withRetries(m){var A=this;return(0,_.Z)(function*(){let K=0;for(;;)try{const oe=yield A._openDb();return yield m(oe)}catch(oe){if(K++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return $n()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=ac._getInstance(function Lt(){return $n()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,_.Z)(function*(K,oe){return{keyProcessed:(yield m._poll()).includes(oe.key)}});return function(K,oe){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,_.Z)(function*(K,oe){return["keyChanged"]});return function(K,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var A,K;if(m.activeServiceWorker=yield function ar(){return lc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ji(m.activeServiceWorker);const oe=yield m.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(K=oe[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,_.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Ln(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Yc();return yield Bo(m,Qs,"1"),yield ma(m,Qs),!0}catch{}return!1})()}_withPendingWrite(m){var A=this;return(0,_.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var K=this;return(0,_.Z)(function*(){return K._withPendingWrite((0,_.Z)(function*(){return yield K._withRetries(oe=>Bo(oe,m,A)),K.localCache[m]=A,K.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,_.Z)(function*(){const K=yield A._withRetries(oe=>function Rc(C,g){return eo.apply(this,arguments)}(oe,m));return A.localCache[m]=K,K})()}_remove(m){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(K=>ma(K,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const A=yield m._withRetries(Je=>{const yt=Ma(Je,!1).getAll();return new Il(yt).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const K=[],oe=new Set;for(const{fbase_key:Je,value:yt}of A)oe.add(Je),JSON.stringify(m.localCache[Je])!==JSON.stringify(yt)&&(m.notifyListeners(Je,yt),K.push(Je));for(const Je of Object.keys(m.localCache))m.localCache[Je]&&!oe.has(Je)&&(m.notifyListeners(Je,null),K.push(Je));return K})()}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Rn=1e12;class Gl{constructor(g){this.auth=g,this.counter=Rn,this._widgets=new Map}render(g,m){const A=this.counter;return this._widgets.set(A,new uc(g,this.auth.name,m||{})),this.counter++,A}reset(g){var m;const A=g||Rn;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Rn))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,_.Z)(function*(){var A;return null===(A=m._widgets.get(g||Rn))||void 0===A||A.execute(),""})()}}class uc{constructor(g,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof g?document.getElementById(g):g;Pe(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cl(C){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xc=Xn("rcb"),dc=new ke(3e4,6e4);class Pc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=hi().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Pe(function Qc(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&vr(hi().grecaptcha)?Promise.resolve(hi().grecaptcha):new Promise((A,K)=>{const oe=hi().setTimeout(()=>{K(Ze(g,"network-request-failed"))},dc.get());hi()[Xc]=()=>{hi().clearTimeout(oe),delete hi()[Xc];const yt=hi().grecaptcha;if(!yt||!vr(yt))return void K(Ze(g,"internal-error"));const Zt=yt.render;yt.render=(Pn,Jn)=>{const er=Zt(Pn,Jn);return this.counter++,er},this.hostLanguage=m,A(yt)},ir(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:Xc,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(oe),K(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=hi().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cs{load(g){return(0,_.Z)(function*(){return new Gl(g)})()}clearedOneInstance(){}}const es="recaptcha",Dl={theme:"light",type:"image"};class Wl{constructor(g,m=Object.assign({},Dl),A){this.parameters=m,this.type=es,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(A),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof g?document.getElementById(g):g;Pe(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cs:new Pc,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(m)||new Promise(oe=>{const Je=yt=>{yt&&(g.tokenChangeListeners.delete(Je),oe(yt))};g.tokenChangeListeners.add(Je),g.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof g)g(m);else if("string"==typeof g){const A=hi()[g];"function"==typeof A&&A(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){Pe(_t()&&!$n(),g.auth,"internal-error"),yield function Kr(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function bt(C){return Jt.apply(this,arguments)}(g.auth);Pe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=us._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Pt(){return(Pt=(0,_.Z)(function*(C,g,m){const A=Pr(C),K=yield Yo(A,g,(0,ee.m9)(m));return new xr(K,oe=>So(A,oe))})).apply(this,arguments)}function to(){return(to=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);yield Gi(!1,A,"phone");const K=yield Yo(A.auth,g,(0,ee.m9)(m));return new xr(K,oe=>sa(A,oe))})).apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),K=yield Yo(A.auth,g,(0,ee.m9)(m));return new xr(K,oe=>q(A,oe))})).apply(this,arguments)}function Yo(C,g,m){return li.apply(this,arguments)}function li(){return li=(0,_.Z)(function*(C,g,m){var A;const K=yield m.verify();try{let oe;if(Pe("string"==typeof K,C,"argument-error"),Pe(m.type===es,C,"argument-error"),oe="string"==typeof g?{phoneNumber:g}:g,"session"in oe){const Je=oe.session;if("phoneNumber"in oe)return Pe("enroll"===Je.type,C,"internal-error"),(yield function Ei(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:start",Xt(C,g))}(C,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Pe("signin"===Je.type,C,"internal-error");const yt=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return Pe(yt,C,"missing-multi-factor-info"),(yield function Qn(C,g){return Bt(C,"POST","/v2/accounts/mfaSignIn:start",Xt(C,g))}(C,{mfaPendingCredential:Je.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function oo(C,g){return Os.apply(this,arguments)}(C,{phoneNumber:oe.phoneNumber,recaptchaToken:K});return Je}}finally{m._reset()}}),li.apply(this,arguments)}function S(){return(S=(0,_.Z)(function*(C,g){yield Xi((0,ee.m9)(C),g)})).apply(this,arguments)}let x=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=Pr(m)}verifyPhoneNumber(m,A){return Yo(this.auth,m,(0,ee.m9)(A))}static credential(m,A){return us._fromVerification(m,A)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:K}=m;return A&&K?us._fromTokenResponse(A,K):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function w(C,g){return g?Qe(g):(Pe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class O extends qe{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Hi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Hi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Hi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function z(C){return ia(C.auth,new O(C),C.bypassAuthState)}function re(C){const{auth:g,user:m}=C;return Pe(m,g,"internal-error"),Ns(m,new O(C),C.bypassAuthState)}function ae(C){return nt.apply(this,arguments)}function nt(){return(nt=(0,_.Z)(function*(C){const{auth:g,user:m}=C;return Pe(m,g,"internal-error"),Xi(m,new O(C),C.bypassAuthState)})).apply(this,arguments)}class kt{constructor(g,m,A,K,oe=!1){this.auth=g,this.resolver=A,this.user=K,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,_.Z)(function*(A,K){g.pendingPromise={resolve:A,reject:K};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(oe){g.reject(oe)}});return function(A,K){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,_.Z)(function*(){const{urlResponse:A,sessionId:K,postBody:oe,tenantId:Je,error:yt,type:Zt}=g;if(yt)return void m.reject(yt);const Pn={auth:m.auth,requestUri:A,sessionId:K,tenantId:Je||void 0,postBody:oe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Zt)(Pn))}catch(Jn){m.reject(Jn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return z;case"linkViaPopup":case"linkViaRedirect":return ae;case"reauthViaPopup":case"reauthViaRedirect":return re;default:et(this.auth,"internal-error")}}resolve(g){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fn=new ke(2e3,1e4);function Mn(){return(Mn=(0,_.Z)(function*(C,g,m){const A=Pr(C);Be(C,g,co);const K=w(A,m);return new Mo(A,"signInViaPopup",g,K).executeNotNull()})).apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);Be(A.auth,g,co);const K=w(A.auth,m);return new Mo(A.auth,"reauthViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}function ya(){return(ya=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);Be(A.auth,g,co);const K=w(A.auth,m);return new Mo(A.auth,"linkViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}let Mo=(()=>{class C extends kt{constructor(m,A,K,oe,Je){super(m,A,oe,Je),this.provider=K,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const A=yield m.execute();return Pe(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,_.Z)(function*(){Ue(1===m.filter.length,"Popup operations only handle one event");const A=hn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(Ze(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,fn.get())};m()}}return C.currentPopupAction=null,C})();const Es="pendingRedirect",Mr=new Map;class hc extends kt{constructor(g,m,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,_.Z)(function*(){let A=Mr.get(m.auth._key());if(!A){try{const oe=(yield function _o(C,g){return Jc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;A=()=>Promise.resolve(oe)}catch(K){A=()=>Promise.reject(K)}Mr.set(m.auth._key(),A)}return m.bypassAuthState||Mr.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,A=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(A,g);if("unknown"!==g.type){if(g.eventId){const K=yield A.auth._redirectUserForId(g.eventId);if(K)return A.user=K,m().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Jc(){return(Jc=(0,_.Z)(function*(C,g){const m=td(g),A=Zo(C);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(m));return yield A._remove(m),K})).apply(this,arguments)}function $o(C,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,_.Z)(function*(C,g){return Zo(C)._set(td(g),"true")})).apply(this,arguments)}function Ld(C,g){Mr.set(C._key(),g)}function Zo(C){return Qe(C._redirectPersistence)}function td(C){return Ie(Es,C.config.apiKey,C.name)}function nd(C,g,m){return function rd(C,g,m){return Eu.apply(this,arguments)}(C,g,m)}function Eu(){return(Eu=(0,_.Z)(function*(C,g,m){const A=Pr(C);Be(C,g,co),yield A._initializationPromise;const K=w(A,m);return yield $o(K,A),K._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Bd(C,g,m){return function Oc(C,g,m){return kc.apply(this,arguments)}(C,g,m)}function kc(){return(kc=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);Be(A.auth,g,co),yield A.auth._initializationPromise;const K=w(A.auth,m);yield $o(K,A.auth);const oe=yield Sl(A);return K._openRedirect(A.auth,g,"reauthViaRedirect",oe)})).apply(this,arguments)}function Nc(C,g,m){return function Iu(C,g,m){return $s.apply(this,arguments)}(C,g,m)}function $s(){return($s=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);Be(A.auth,g,co),yield A.auth._initializationPromise;const K=w(A.auth,m);yield Gi(!1,A,g.providerId),yield $o(K,A.auth);const oe=yield Sl(A);return K._openRedirect(A.auth,g,"linkViaRedirect",oe)})).apply(this,arguments)}function al(){return(al=(0,_.Z)(function*(C,g){return yield Pr(C)._initializationPromise,eu(C,g,!1)})).apply(this,arguments)}function eu(C,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,_.Z)(function*(C,g,m=!1){const A=Pr(C),K=w(A,g),Je=yield new hc(A,K,m).execute();return Je&&!m&&(delete Je.user._redirectEventId,yield A._persistUserIfCurrent(Je.user),yield A._setRedirectUser(null,g)),Je})).apply(this,arguments)}function Sl(C){return Us.apply(this,arguments)}function Us(){return(Us=(0,_.Z)(function*(C){const g=hn(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Al{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(m=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function fc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var A;if(g.error&&!ps(g)){const K=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(Ze(this.auth,K))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const A=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(g))}saveEventToCache(g){this.cachedEventUids.add(va(g)),this.lastProcessedEventTime=Date.now()}}function va(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function ps({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Jr(C){return no.apply(this,arguments)}function no(){return(no=(0,_.Z)(function*(C,g={}){return Bt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const wu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xl=/^https?/;function ro(){return(ro=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Jr(C);for(const m of g)try{if(Fc(m))return}catch{}et(C,"unauthorized-domain")})).apply(this,arguments)}function Fc(C){const g=ht(),{protocol:m,hostname:A}=new URL(g);if(C.startsWith("chrome-extension://")){const Je=new URL(C);return""===Je.hostname&&""===A?"chrome-extension:"===m&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Je.hostname===A}if(!xl.test(m))return!1;if(wu.test(C))return A===C;const K=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const pc=new ke(3e4,6e4);function Uo(){const C=hi().___jsl;if(null!=C&&C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Xo=null;const tu=new ke(5e3,15e3),za="__/auth/iframe",Qo="emulator/auth/iframe",nu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ga=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $d(C){const g=C.config;Pe(g.authDomain,C,"auth-domain-config-required");const m=g.emulator?Le(g,Qo):`https://${C.config.authDomain}/${za}`,A={apiKey:g.apiKey,appName:C.name,v:de.SDK_VERSION},K=Ga.get(C.config.apiHost);K&&(A.eid=K);const oe=C._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${m}?${(0,ee.xO)(A).slice(1)}`}function $(){return $=(0,_.Z)(function*(C){const g=yield function Eo(C){return Xo=Xo||function Pa(C){return new Promise((g,m)=>{var A,K,oe;function Je(){Uo(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Uo(),m(Ze(C,"network-request-failed"))},timeout:pc.get()})}if(null!==(K=null===(A=hi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)g(gapi.iframes.getContext());else{if(null===(oe=hi().gapi)||void 0===oe||!oe.load){const yt=Xn("iframefcb");return hi()[yt]=()=>{gapi.load?Je():m(Ze(C,"network-request-failed"))},ir(`https://apis.google.com/js/api.js?onload=${yt}`).catch(Zt=>m(Zt))}Je()}}).catch(g=>{throw Xo=null,g})}(C),Xo}(C),m=hi().gapi;return Pe(m,C,"internal-error"),g.open({where:document.body,url:$d(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nu,dontclear:!0},A=>new Promise(function(){var K=(0,_.Z)(function*(oe,Je){yield A.restyle({setHideOnLeave:!1});const yt=Ze(C,"network-request-failed"),Zt=hi().setTimeout(()=>{Je(yt)},tu.get());function Pn(){hi().clearTimeout(Zt),oe(A)}A.ping(Pn).then(Pn,()=>{Je(yt)})});return function(oe,Je){return K.apply(this,arguments)}}()))}),$.apply(this,arguments)}const Z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},be=500,it=600,It="_blank",Ut="http://localhost";class kn{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $r="__/auth/handler",Or="emulator/auth/handler",Po=encodeURIComponent("fac");function Is(C,g,m,A,K,oe){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,_.Z)(function*(C,g,m,A,K,oe){Pe(C.config.authDomain,C,"auth-domain-config-required"),Pe(C.config.apiKey,C,"invalid-api-key");const Je={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:A,v:de.SDK_VERSION,eventId:K};if(g instanceof co){g.setDefaultLanguage(C.languageCode),Je.providerId=g.providerId||"",(0,ee.xb)(g.getCustomParameters())||(Je.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Jn,er]of Object.entries(oe||{}))Je[Jn]=er}if(g instanceof Qr){const Jn=g.getScopes().filter(er=>""!==er);Jn.length>0&&(Je.scopes=Jn.join(","))}C.tenantId&&(Je.tid=C.tenantId);const yt=Je;for(const Jn of Object.keys(yt))void 0===yt[Jn]&&delete yt[Jn];const Zt=yield C._getAppCheckToken(),Pn=Zt?`#${Po}=${encodeURIComponent(Zt)}`:"";return`${function Vs({config:C}){return C.emulator?Le(C,Or):`https://${C.authDomain}/${$r}`}(C)}?${(0,ee.xO)(yt).slice(1)}${Pn}`})).apply(this,arguments)}const Kl="webStorageSupport",Io=class wi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Js,this._completeRedirectFn=eu,this._overrideRedirectResult=Ld}_openPopup(g,m,A,K){var oe=this;return(0,_.Z)(function*(){var Je;Ue(null===(Je=oe.eventManagers[g._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const yt=yield Is(g,m,A,ht(),K);return function An(C,g,m,A=be,K=it){const oe=Math.max((window.screen.availHeight-K)/2,0).toString(),Je=Math.max((window.screen.availWidth-A)/2,0).toString();let yt="";const Zt=Object.assign(Object.assign({},Z),{width:A.toString(),height:K.toString(),top:oe,left:Je}),Pn=(0,ee.z$)().toLowerCase();m&&(yt=on(Pn)?It:m),Dt(Pn)&&(g=g||Ut,Zt.scrollbars="yes");const Jn=Object.entries(Zt).reduce((Ki,[ka,Ru])=>`${Ki}${ka}=${Ru},`,"");if(function Tn(C=(0,ee.z$)()){var g;return Rt(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Pn)&&"_self"!==yt)return function Zn(C,g){const m=document.createElement("a");m.href=C,m.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(g||"",yt),new kn(null);const er=window.open(g||"",yt,Jn);Pe(er,C,"popup-blocked");try{er.focus()}catch{}return new kn(er)}(g,yt,hn())})()}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe._originValidation(g),function qc(C){hi().location.href=C}(yield Is(g,m,A,ht(),K)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:K,promise:oe}=this.eventManagers[m];return K?Promise.resolve(K):(Ue(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(g);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(g){var m=this;return(0,_.Z)(function*(){const A=yield function P(C){return $.apply(this,arguments)}(g),K=new Al(g);return A.register("authEvent",oe=>(Pe(null==oe?void 0:oe.authEvent,g,"invalid-auth-event"),{status:K.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:K},m.iframes[g._key()]=A,K})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Kl,{type:Kl},K=>{var oe;const Je=null===(oe=null==K?void 0:K[0])||void 0===oe?void 0:oe[Kl];void 0!==Je&&m(!!Je),et(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vr(C){return ro.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return fr()||st()||Rt()}};class ru{constructor(g){this.factorId=g}_process(g,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,A);case"signin":return this._finalizeSignIn(g,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}class Ud extends ru{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ud(g)}_finalizeEnroll(g,m,A){return function $i(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(C,g))}(g,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Mc(C,g){return Bt(C,"POST","/v2/accounts/mfaSignIn:finalize",Xt(C,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let io=(()=>{class C{constructor(){}static assertion(m){return Ud._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var ll="@firebase/auth";class ql{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(A=>{g((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ml(){return window}(0,ee.Pz)("authIdTokenMaxAge"),function xh(C){(0,de._registerComponent)(new me.wA("auth",(g,{options:m})=>{const A=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),oe=g.getProvider("app-check-internal"),{apiKey:Je,authDomain:yt}=A.options;Pe(Je&&!Je.includes(":"),"invalid-api-key",{appName:A.name}),Pe(!(null!=yt&&yt.includes(":")),"argument-error",{appName:A.name});const Zt={apiKey:Je,authDomain:yt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(C)},Pn=new qi(A,K,oe,Zt);return function Lr(C,g){const m=(null==g?void 0:g.persistence)||[],A=(Array.isArray(m)?m:[m]).map(Qe);null!=g&&g.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(Pn,m),Pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,A)=>{g.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new me.wA("auth-internal",g=>{const m=Pr(g.getProvider("auth").getImmediate());return new ql(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(ll,"0.23.1",function Yl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,de.registerVersion)(ll,"0.23.1","esm2017")}("Browser");const Ph=2e3;function cl(){return cl=(0,_.Z)(function*(C,g,m){var A;const{BuildInfo:K}=Ml();Ue(g.sessionId,"AuthEvent did not contain a session ID");const oe=yield function Pl(C){return gc.apply(this,arguments)}(g.sessionId),Je={};return Rt()?Je.ibi=K.packageName:je()?Je.apn=K.packageName:et(C,"operation-not-supported-in-this-environment"),K.displayName&&(Je.appDisplayName=K.displayName),Je.sessionId=oe,Is(C,m,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,Je)}),cl.apply(this,arguments)}function od(){return(od=(0,_.Z)(function*(C){const{BuildInfo:g}=Ml(),m={};Rt()?m.iosBundleId=g.packageName:je()?m.androidPackageName=g.packageName:et(C,"operation-not-supported-in-this-environment"),yield Jr(C,m)})).apply(this,arguments)}function Oa(){return(Oa=(0,_.Z)(function*(C,g,m){const{cordova:A}=Ml();let K=()=>{};try{yield new Promise((oe,Je)=>{let yt=null;function Zt(){var er;oe();const Ki=null===(er=A.plugins.browsertab)||void 0===er?void 0:er.close;"function"==typeof Ki&&Ki(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Pn(){yt||(yt=window.setTimeout(()=>{Je(Ze(C,"redirect-cancelled-by-user"))},Ph))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&Pn()}g.addPassiveListener(Zt),document.addEventListener("resume",Pn,!1),je()&&document.addEventListener("visibilitychange",Jn,!1),K=()=>{g.removePassiveListener(Zt),document.removeEventListener("resume",Pn,!1),document.removeEventListener("visibilitychange",Jn,!1),yt&&window.clearTimeout(yt)}})}finally{K()}})).apply(this,arguments)}function gc(){return(gc=(0,_.Z)(function*(C){const g=function mc(C){if(Ue(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),m=new Uint8Array(g);for(let A=0;A<C.length;A++)m[A]=C.charCodeAt(A);return m}(C),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Oh=20;class Ea extends Al{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function ad(C){return yc.apply(this,arguments)}function yc(){return(yc=(0,_.Z)(function*(C){const g=yield Zl()._get(wo(C));return g&&(yield Zl()._remove(wo(C))),g})).apply(this,arguments)}function cd(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Oh;m++){const A=Math.floor(Math.random()*g.length);C.push(g.charAt(A))}return C.join("")}function Zl(){return Qe(Wi)}function wo(C){return Ie("authEvent",C.config.apiKey,C.name)}function Xl(C){if(null==C||!C.includes("?"))return{};const[g,...m]=C.split("?");return(0,ee.zd)(m.join("?"))}const vc=class Tu{constructor(){this._redirectPersistence=Js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=eu,this._overrideRedirectResult=Ld}_initialize(g){var m=this;return(0,_.Z)(function*(){const A=g._key();let K=m.eventManagers.get(A);return K||(K=new Ea(g),m.eventManagers.set(A,K),m.attachCallbackListeners(g,K)),K})()}_openPopup(g){et(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){!function Lc(C){var g,m,A,K,oe,Je,yt,Zt,Pn,Jn;const er=Ml();Pe("function"==typeof(null===(g=null==er?void 0:er.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pe(typeof(null===(m=null==er?void 0:er.BuildInfo)||void 0===m?void 0:m.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pe("function"==typeof(null===(oe=null===(K=null===(A=null==er?void 0:er.cordova)||void 0===A?void 0:A.plugins)||void 0===K?void 0:K.browsertab)||void 0===oe?void 0:oe.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(Zt=null===(yt=null===(Je=null==er?void 0:er.cordova)||void 0===Je?void 0:Je.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===Zt?void 0:Zt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(Jn=null===(Pn=null==er?void 0:er.cordova)||void 0===Pn?void 0:Pn.InAppBrowser)||void 0===Jn?void 0:Jn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Je=yield oe._initialize(g);yield Je.initialized(),Je.resetRedirect(),function ol(){Mr.clear()}(),yield oe._originValidation(g);const yt=function iu(C,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:cd(),postBody:null,tenantId:C.tenantId,error:Ze(C,"no-auth-event")}}(g,A,K);yield function Ol(C,g){return Zl()._set(wo(C),g)}(g,yt);const Zt=yield function sd(C,g,m){return cl.apply(this,arguments)}(g,yt,m),Pn=yield function gs(C){const{cordova:g}=Ml();return new Promise(m=>{g.plugins.browsertab.isAvailable(A=>{let K=null;A?g.plugins.browsertab.openUrl(C):K=g.InAppBrowser.open(C,function ln(C=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(K)})})}(Zt);return function Wa(C,g,m){return Oa.apply(this,arguments)}(g,Je,Pn)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jd(C){return od.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:A,handleOpenURL:K,BuildInfo:oe}=Ml(),Je=setTimeout((0,_.Z)(function*(){yield ad(g),m.onEvent(kh())}),500),yt=function(){var Jn=(0,_.Z)(function*(er){clearTimeout(Je);const Ki=yield ad(g);let ka=null;Ki&&null!=er&&er.url&&(ka=function ld(C,g){var m,A;const K=function ud(C){const g=Xl(C),m=g.link?decodeURIComponent(g.link):void 0,A=Xl(m).link,K=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Xl(K).link||K||A||m||C}(g);if(K.includes("/__/auth/callback")){const oe=Xl(K),Je=oe.firebaseError?function Du(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,yt=null===(A=null===(m=null==Je?void 0:Je.code)||void 0===m?void 0:m.split("auth/"))||void 0===A?void 0:A[1],Zt=yt?Ze(yt):null;return Zt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:K,postBody:null}}return null}(Ki,er.url)),m.onEvent(ka||kh())});return function(Ki){return Jn.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,yt);const Zt=K,Pn=`${oe.packageName.toLowerCase()}://`;Ml().handleOpenURL=function(){var Jn=(0,_.Z)(function*(er){if(er.toLowerCase().startsWith(Pn)&&yt({url:er}),"function"==typeof Zt)try{Zt(er)}catch(Ki){console.error(Ki)}});return function(er){return Jn.apply(this,arguments)}}()}};function kh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}const Tp=1e3;function js(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Ql(C=(0,ee.z$)()){return!("file:"!==js()&&"ionic:"!==js()&&"capacitor:"!==js()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mf(){try{const C=self.localStorage,g=hn();if(C)return C.setItem(g,"1"),C.removeItem(g),!function Su(C=(0,ee.z$)()){return function Ia(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Hd(C=(0,ee.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ee.hl)()}catch{return Fh()&&(0,ee.hl)()}return!1}function Fh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yr(){return(function hd(){return"http:"===js()||"https:"===js()}()||(0,ee.ru)()||Ql())&&!function su(){return(0,ee.b$)()||(0,ee.UG)()}()&&Mf()&&!Fh()}function Lh(){return Ql()&&typeof document<"u"}function ou(){return(ou=(0,_.Z)(function*(){return!!Lh()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},Tp);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const wa={LOCAL:"local",NONE:"none",SESSION:"session"},Ec=Pe,Gd="persistence";function xu(C){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,_.Z)(function*(C){yield C._initializationPromise;const g=Wd(),m=Ie(Gd,C.config.apiKey,C.name);g&&g.setItem(m,C._getPersistence())})).apply(this,arguments)}function Wd(){var C;try{return(null===(C=function zd(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const wc=Pe;class ca{constructor(){this.browserResolver=Qe(Io),this.cordovaResolver=Qe(vc),this.underlyingResolver=null,this._redirectPersistence=Js,this._completeRedirectFn=eu,this._overrideRedirectResult=Ld}_initialize(g){var m=this;return(0,_.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(g,m,A,K)})()}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(g,m,A,K)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Lh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Au(){return ou.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function kl(C){return C.unwrap()}function Sp(C){return Ap(C)}function Ap(C){const{_tokenResponse:g}=C instanceof ee.ZR?C.customData:C;if(!g)return null;if(!(C instanceof ee.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return x.credentialFromResult(C);const m=g.providerId;if(!m||m===Fe.PASSWORD)return null;let A;switch(m){case Fe.GOOGLE:A=ho;break;case Fe.FACEBOOK:A=uo;break;case Fe.GITHUB:A=fa;break;case Fe.TWITTER:A=na;break;default:const{oauthIdToken:K,oauthAccessToken:oe,oauthTokenSecret:Je,pendingToken:yt,nonce:Zt}=g;return oe||Je||K||yt?yt?m.startsWith("saml.")?vs._create(m,yt):Yi._fromParams({providerId:m,signInMethod:m,pendingToken:yt,idToken:K,accessToken:oe}):new ks(m).credential({idToken:K,accessToken:oe,rawNonce:Zt}):null}return C instanceof ee.ZR?A.credentialFromError(C):A.credentialFromResult(C)}function Ka(C,g){return g.catch(m=>{throw m instanceof ee.ZR&&function Kd(C,g){var m;const A=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new pd(C,function Ai(C,g){var m;const A=(0,ee.m9)(C),K=g;return Pe(g.customData.operationType,A,"argument-error"),Pe(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),_r._fromError(A,K)}(C,g));else if(A){const K=Ap(g),oe=g;K&&(oe.credential=K,oe.tenantId=A.tenantId||void 0,oe.email=A.email||void 0,oe.phoneNumber=A.phoneNumber||void 0)}}(C,m),m}).then(m=>{const K=m.user;return{operationType:m.operationType,credential:Sp(m),additionalUserInfo:_l(m),user:Nl.getOrCreate(K)}})}function ms(C,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,_.Z)(function*(C,g){const m=yield g;return{verificationId:m.verificationId,confirm:A=>Ka(C,m.confirm(A))}})).apply(this,arguments)}class pd{constructor(g,m){this.resolver=m,this.auth=function Pf(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ka(kl(this.auth),this.resolver.resolveSignIn(g))}}class Nl{constructor(g){this._delegate=g,this.multiFactor=function Ls(C){const g=(0,ee.m9)(C);return Xs.has(g)||Xs.set(g,_s._fromUser(g)),Xs.get(g)}(g)}static getOrCreate(g){return Nl.USER_MAP.has(g)||Nl.USER_MAP.set(g,new Nl(g)),Nl.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,_.Z)(function*(){return Ka(m.auth,sa(m._delegate,g))})()}linkWithPhoneNumber(g,m){var A=this;return(0,_.Z)(function*(){return ms(A.auth,function Ii(C,g,m){return to.apply(this,arguments)}(A._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,_.Z)(function*(){return Ka(m.auth,function Bs(C,g,m){return ya.apply(this,arguments)}(m._delegate,g,ca))})()}linkWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield xu(Pr(m.auth)),Nc(m._delegate,g,ca)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,_.Z)(function*(){return Ka(m.auth,q(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return ms(this.auth,function _u(C,g,m){return la.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Ka(this.auth,function gi(C,g,m){return rs.apply(this,arguments)}(this._delegate,g,ca))}reauthenticateWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield xu(Pr(m.auth)),Bd(m._delegate,g,ca)})()}sendEmailVerification(g){return function rl(C,g){return ga.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,_.Z)(function*(){return yield function el(C,g){return ss.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function as(C,g){return Br((0,ee.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function Fs(C,g){return Br((0,ee.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Rr(C,g){return S.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function hs(C,g){return xa.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function os(C,g,m){return xo.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nl.USER_MAP=new WeakMap;const gd=Pe;let cu=(()=>{class C{constructor(m,A){if(this.app=m,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=m.options;gd(K,"invalid-api-key",{appName:m.name}),gd(K,"invalid-api-key",{appName:m.name});const oe=typeof window<"u"?ca:void 0;this._delegate=A.initialize({options:{persistence:Fl(K,m.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,A){!function se(C,g,m){const A=Pr(C);Pe(A._canInitEmulator,A,"emulator-config-failed"),Pe(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const K=!(null==m||!m.disableWarnings),oe=Ee(g),{host:Je,port:yt}=function Ge(C){const g=Ee(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const oe=K[1];return{host:oe,port:pe(A.substr(oe.length+1))}}{const[oe,Je]=A.split(":");return{host:oe,port:pe(Je)}}}(g);A.config.emulator={url:`${oe}//${Je}${null===yt?"":`:${yt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Je,port:yt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Ye(){function C(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,m,A)}applyActionCode(m){return function Ao(C,g){return Si.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ja(this._delegate,m)}confirmPasswordReset(m,A){return function Qi(C,g,m){return ds.apply(this,arguments)}(this._delegate,m,A)}createUserWithEmailAndPassword(m,A){var K=this;return(0,_.Z)(function*(){return Ka(K._delegate,function oa(C,g,m){return Ys.apply(this,arguments)}(K._delegate,m,A))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function zo(C,g){return Fo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ha(C,g){const m=is.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,_.Z)(function*(){gd(Yr(),m._delegate,"operation-not-supported-in-this-environment");const A=yield function id(C,g){return al.apply(this,arguments)}(m._delegate,ca);return A?Ka(m._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Nh(C,g){Pr(C)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,A,K){const{next:oe,error:Je,complete:yt}=uu(m,A,K);return this._delegate.onAuthStateChanged(oe,Je,yt)}onIdTokenChanged(m,A,K){const{next:oe,error:Je,complete:yt}=uu(m,A,K);return this._delegate.onIdTokenChanged(oe,Je,yt)}sendSignInLinkToEmail(m,A){return function tl(C,g,m){return Sa.apply(this,arguments)}(this._delegate,m,A)}sendPasswordResetEmail(m,A){return function Nr(C,g,m){return ti.apply(this,arguments)}(this._delegate,m,A||void 0)}setPersistence(m){var A=this;return(0,_.Z)(function*(){let K;switch(function fd(C,g){Ec(Object.values(wa).includes(g),C,"invalid-persistence-type"),(0,ee.b$)()?Ec(g!==wa.SESSION,C,"unsupported-persistence-type"):(0,ee.UG)()?Ec(g===wa.NONE,C,"unsupported-persistence-type"):Fh()?Ec(g===wa.NONE||g===wa.LOCAL&&(0,ee.hl)(),C,"unsupported-persistence-type"):Ec(g===wa.NONE||Mf(),C,"unsupported-persistence-type")}(A._delegate,m),m){case wa.SESSION:K=Js;break;case wa.LOCAL:K=(yield Qe(ai)._isAvailable())?ai:Wi;break;case wa.NONE:K=zt;break;default:return et("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ka(this._delegate,function Ri(C){return po.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ka(this._delegate,So(this._delegate,m))}signInWithCustomToken(m){return Ka(this._delegate,function M(C,g){return F.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,A){return Ka(this._delegate,function yl(C,g,m){return So((0,ee.m9)(C),Ho.credential(g,m))}(this._delegate,m,A))}signInWithEmailLink(m,A){return Ka(this._delegate,function ns(C,g,m){return xs.apply(this,arguments)}(this._delegate,m,A))}signInWithPhoneNumber(m,A){return ms(this._delegate,function qr(C,g,m){return Pt.apply(this,arguments)}(this._delegate,m,A))}signInWithPopup(m){var A=this;return(0,_.Z)(function*(){return gd(Yr(),A._delegate,"operation-not-supported-in-this-environment"),Ka(A._delegate,function Bn(C,g,m){return Mn.apply(this,arguments)}(A._delegate,m,ca))})()}signInWithRedirect(m){var A=this;return(0,_.Z)(function*(){return gd(Yr(),A._delegate,"operation-not-supported-in-this-environment"),yield xu(A._delegate),nd(A._delegate,m,ca)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ks(C,g){return qs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=wa,C})();function uu(C,g,m){let A=C;"function"!=typeof C&&({next:A,error:g,complete:m}=C);const K=A;return{next:Je=>K(Je&&Nl.getOrCreate(Je)),error:g,complete:m}}function Fl(C,g){const m=function au(C,g){const m=Wd();if(!m)return[];const A=Ie(Gd,C,g);switch(m.getItem(A)){case wa.NONE:return[zt];case wa.LOCAL:return[ai,Js];case wa.SESSION:return[Js];default:return[]}}(C,g);if(typeof self<"u"&&!m.includes(ai)&&m.push(ai),typeof window<"u")for(const A of[Wi,Js])m.includes(A)||m.push(A);return m.includes(zt)||m.push(zt),m}class ul{constructor(){this.providerId="phone",this._delegate=new x(kl(y.Z.auth()))}static credential(g,m){return x.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}ul.PHONE_SIGN_IN_METHOD=x.PHONE_SIGN_IN_METHOD,ul.PROVIDER_ID=x.PROVIDER_ID;const Jl=Pe;class Bh{constructor(g,m,A=y.Z.app()){var K;Jl(null===(K=A.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Wl(g,m,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Of(C){C.INTERNAL.registerComponent(new me.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new cu(m,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ye_EMAIL_SIGNIN,PASSWORD_RESET:ye_PASSWORD_RESET,RECOVER_EMAIL:ye_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ye_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ye_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ye_VERIFY_EMAIL}},EmailAuthProvider:Ho,FacebookAuthProvider:uo,GithubAuthProvider:fa,GoogleAuthProvider:ho,OAuthProvider:ks,SAMLAuthProvider:No,PhoneAuthProvider:ul,PhoneMultiFactorGenerator:io,RecaptchaVerifier:Bh,TwitterAuthProvider:na,Auth:cu,AuthCredential:qe,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.1")}(y.Z)},5861:(gn,mt,H)=>{"use strict";function _(ee,de,$e,xe,me,Ve,Fe){try{var we=ee[Ve](Fe),ge=we.value}catch(ye){return void $e(ye)}we.done?de(ge):Promise.resolve(ge).then(xe,me)}function y(ee){return function(){var de=this,$e=arguments;return new Promise(function(xe,me){var Ve=ee.apply(de,$e);function Fe(ge){_(Ve,xe,me,Fe,we,"next",ge)}function we(ge){_(Ve,xe,me,Fe,we,"throw",ge)}Fe(void 0)})}}H.d(mt,{Z:()=>y})}},gn=>{gn(gn.s=2295)}]);