"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6845],{6845:(k,l,r)=>{r.r(l),r.d(l,{TrackPage:()=>T});var s=r(6895),g=r(433),o=r(650),d=r(5861),t=r(4650),u=r(7542),p=r(1194);function f(e,a){if(1&e&&(t.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()),2&e){const n=a.$implicit;t.xp6(3),t.hij("@",n.author,""),t.xp6(2),t.Oqu(n.text),t.xp6(2),t.Oqu(n.score)}}let h=(()=>{class e{constructor(n,i){this.apiService=n,this.router=i,this.score=0}ngOnInit(){this.getComments()}sendComment(){var n=this;return(0,d.Z)(function*(){if(n.trackId&&n.author&&n.text&&n.score){let i={author:n.author,text:n.text,score:n.score};(yield n.apiService.insertComment(n.trackId,i))&&(n.getComments(),n.author=void 0,n.text=void 0,n.score=0)}})()}getComments(){var n=this;return(0,d.Z)(function*(){n.trackId&&(n.comments=yield n.apiService.getComments(n.trackId))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.j),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["comments"]],inputs:{trackId:"trackId"},standalone:!0,features:[t.jDz],decls:23,vars:8,consts:[["position","floating"],["type","text","aria-label","Autor",3,"ngModel","ngModelChange"],["aria-label","Comentario",3,"ngModel","ngModelChange"],["aria-label","Range with ticks",3,"ngModel","ticks","snaps","min","max","ngModelChange"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&(t.TgZ(0,"section")(1,"article")(2,"h2"),t._uU(3,"A\xf1adir comentarios"),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-label",0),t._uU(6,"Autor"),t.qZA(),t.TgZ(7,"ion-input",1),t.NdJ("ngModelChange",function(c){return i.author=c}),t.qZA()(),t.TgZ(8,"ion-item")(9,"ion-label",0),t._uU(10,"Comentario"),t.qZA(),t.TgZ(11,"ion-textarea",2),t.NdJ("ngModelChange",function(c){return i.text=c}),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label",0),t._uU(14,"Puntuaci\xf3n"),t.qZA(),t.TgZ(15,"ion-range",3),t.NdJ("ngModelChange",function(c){return i.score=c}),t.qZA()(),t.TgZ(16,"ion-button",4),t.NdJ("click",function(){return i.sendComment()}),t._uU(17,"A\xf1adir"),t.qZA()(),t.TgZ(18,"article")(19,"h2"),t._uU(20,"Comentarios"),t.qZA(),t.TgZ(21,"ion-list"),t.YNc(22,f,8,3,"ion-item",5),t.qZA()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",i.author),t.xp6(4),t.Q6J("ngModel",i.text),t.xp6(4),t.Q6J("ngModel",i.score)("ticks",!0)("snaps",!0)("min",0)("max",5),t.xp6(7),t.Q6J("ngForOf",i.comments))},dependencies:[o.Pc,o.YG,o.pK,o.Ie,o.Q$,o.q_,o.I_,o.g2,o.QI,o.j9,s.ez,s.sg,g.u5,g.JJ,g.On],styles:["section[_ngcontent-%COMP%]{width:100%}"]}),e})();function C(e,a){if(1&e&&(t.TgZ(0,"ion-title"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.track.name)}}function Z(e,a){if(1&e&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.qZA()()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.name)}}function _(e,a){if(1&e&&(t.TgZ(0,"div",5)(1,"div")(2,"ion-card"),t._UZ(3,"ion-img",6),t.qZA()(),t.TgZ(4,"div",7),t.YNc(5,Z,3,1,"div",8),t.TgZ(6,"div",9)(7,"div")(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div")(12,"span"),t._uU(13),t.qZA()()()()()),2&e){const n=t.oxw();t.xp6(3),t.s9C("src",n.track.album.images[0].url),t.xp6(2),t.Q6J("ngForOf",n.track.album.artists),t.xp6(4),t.hij("",t.xi3(10,4,n.track.duration_ms,"mm:ss")," min"),t.xp6(4),t.Oqu(n.track.album.release_date)}}let T=(()=>{class e{constructor(n,i){this.apiService=n,this.route=i,this.route.params.subscribe(m=>{this.trackId=m.id,console.log(this.trackId),this.trackId&&this.apiService.getTrack(this.trackId).subscribe(c=>{this.track=c,console.log(this.track)})})}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.j),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-track"]],standalone:!0,features:[t.jDz],decls:8,vars:3,consts:[["slot","start"],["defaultHref","/tracks"],[4,"ngIf"],["id","container",4,"ngIf"],[3,"trackId"],["id","container"],["alt","",3,"src"],["id","info"],[4,"ngFor","ngForOf"],["id","main-info"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.YNc(4,C,2,1,"ion-title",2),t.qZA()(),t.TgZ(5,"ion-content"),t.YNc(6,_,14,7,"div",3),t._UZ(7,"comments",4),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngIf",i.track),t.xp6(2),t.Q6J("ngIf",i.track),t.xp6(1),t.Q6J("trackId",i.trackId))},dependencies:[s.ez,s.sg,s.O5,s.uU,g.u5,o.Pc,o.oU,o.Sm,o.PM,o.W2,o.Gu,o.Xz,o.wd,o.sr,o.cs,h],styles:["ion-card[_ngcontent-%COMP%]{height:100%}ion-img[_ngcontent-%COMP%]{height:400px}#container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}#info[_ngcontent-%COMP%]{display:grid;align-items:center;max-width:450px}#info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:15px}#main-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#000;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#fff;text-align:center;border-radius:5px;margin:0 auto;padding:5px}comments[_ngcontent-%COMP%]{display:flex;width:80%;margin:0 auto;max-width:500px}"]}),e})()}}]);