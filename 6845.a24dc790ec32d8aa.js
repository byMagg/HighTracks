"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6845],{6845:(M,l,c)=>{c.r(l),c.d(l,{TrackPage:()=>v});var u=c(5861),m=c(6895),g=c(433),i=c(650),n=c(4650),d=c(8672),p=c(1194);function _(e,a){if(1&e&&(n.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.qZA()()()),2&e){const t=a.$implicit;n.xp6(3),n.hij("@",t.author,""),n.xp6(2),n.Oqu(t.text),n.xp6(2),n.Oqu(t.score)}}let h=(()=>{class e{constructor(t,o){this.apiService=t,this.router=o,this.score=0}ngOnInit(){this.getComments()}sendComment(){var t=this;return(0,u.Z)(function*(){if(t.trackId&&t.author&&t.text&&t.score){let o={author:t.author,text:t.text,score:t.score};(yield t.apiService.insertComment(t.trackId,o))&&(t.getComments(),t.author=void 0,t.text=void 0,t.score=0)}})()}getComments(){var t=this;return(0,u.Z)(function*(){t.trackId&&(t.comments=yield t.apiService.getComments(t.trackId))})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.j),n.Y36(p.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["comments"]],inputs:{trackId:"trackId"},standalone:!0,features:[n.jDz],decls:23,vars:8,consts:[["position","floating"],["type","text","aria-label","Autor",3,"ngModel","ngModelChange"],["aria-label","Comentario",3,"ngModel","ngModelChange"],["aria-label","Range with ticks",3,"ngModel","ticks","snaps","min","max","ngModelChange"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(n.TgZ(0,"section")(1,"article")(2,"h2"),n._uU(3,"A\xf1adir comentarios"),n.qZA(),n.TgZ(4,"ion-item")(5,"ion-label",0),n._uU(6,"Autor"),n.qZA(),n.TgZ(7,"ion-input",1),n.NdJ("ngModelChange",function(s){return o.author=s}),n.qZA()(),n.TgZ(8,"ion-item")(9,"ion-label",0),n._uU(10,"Comentario"),n.qZA(),n.TgZ(11,"ion-textarea",2),n.NdJ("ngModelChange",function(s){return o.text=s}),n.qZA()(),n.TgZ(12,"ion-item")(13,"ion-label",0),n._uU(14,"Puntuaci\xf3n"),n.qZA(),n.TgZ(15,"ion-range",3),n.NdJ("ngModelChange",function(s){return o.score=s}),n.qZA()(),n.TgZ(16,"ion-button",4),n.NdJ("click",function(){return o.sendComment()}),n._uU(17,"A\xf1adir"),n.qZA()(),n.TgZ(18,"article")(19,"h2"),n._uU(20,"Comentarios"),n.qZA(),n.TgZ(21,"ion-list"),n.YNc(22,_,8,3,"ion-item",5),n.qZA()()()),2&t&&(n.xp6(7),n.Q6J("ngModel",o.author),n.xp6(4),n.Q6J("ngModel",o.text),n.xp6(4),n.Q6J("ngModel",o.score)("ticks",!0)("snaps",!0)("min",0)("max",5),n.xp6(7),n.Q6J("ngForOf",o.comments))},dependencies:[i.Pc,i.YG,i.pK,i.Ie,i.Q$,i.q_,i.I_,i.g2,i.QI,i.j9,m.ez,m.sg,g.u5,g.JJ,g.On],styles:["section[_ngcontent-%COMP%]{width:100%}"]}),e})();function C(e,a){if(1&e&&(n.TgZ(0,"ion-title"),n._uU(1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.track.name)}}function Z(e,a){if(1&e&&n._UZ(0,"ion-img",10),2&e){const t=n.oxw(2);n.s9C("src",t.track.album.images[0].url)}}function x(e,a){if(1&e&&n._UZ(0,"ion-img",10),2&e){const t=n.oxw(2);n.Q6J("src","data:image/jpeg;base64,"+t.track.album.images[0].imageBase64String)}}function T(e,a){if(1&e&&(n.TgZ(0,"div")(1,"span"),n._uU(2),n.qZA()()),2&e){const t=a.$implicit;n.xp6(2),n.Oqu(t.name)}}function k(e,a){if(1&e&&(n.TgZ(0,"div",5)(1,"div")(2,"ion-card"),n.YNc(3,Z,1,1,"ion-img",6),n.YNc(4,x,1,1,"ion-img",6),n.qZA()(),n.TgZ(5,"div",7),n.YNc(6,T,3,1,"div",8),n.TgZ(7,"div",9)(8,"div")(9,"span"),n._uU(10),n.ALo(11,"date"),n.qZA()(),n.TgZ(12,"div")(13,"span"),n._uU(14),n.qZA()()()()()),2&e){const t=n.oxw();n.xp6(3),n.Q6J("ngIf",t.track.album.images[0].url),n.xp6(1),n.Q6J("ngIf",t.track.album.images[0].imageBase64String),n.xp6(2),n.Q6J("ngForOf",t.track.album.artists),n.xp6(4),n.hij("",n.xi3(11,5,t.track.duration_ms,"mm:ss")," min"),n.xp6(4),n.Oqu(t.track.album.release_date)}}let v=(()=>{class e{constructor(t,o){var r=this;this.apiService=t,this.route=o,this.route.params.subscribe(function(){var s=(0,u.Z)(function*(f){r.trackId=f.id,null!=r.trackId&&(r.track=yield r.apiService.getTrack(r.trackId))});return function(f){return s.apply(this,arguments)}}())}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.j),n.Y36(p.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-track"]],standalone:!0,features:[n.jDz],decls:8,vars:3,consts:[["slot","start"],["defaultHref","/tracks"],[4,"ngIf"],["id","container",4,"ngIf"],[3,"trackId"],["id","container"],[3,"src",4,"ngIf"],["id","info"],[4,"ngFor","ngForOf"],["id","main-info"],[3,"src"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-back-button",1),n.qZA(),n.YNc(4,C,2,1,"ion-title",2),n.qZA()(),n.TgZ(5,"ion-content"),n.YNc(6,k,15,8,"div",3),n._UZ(7,"comments",4),n.qZA()),2&t&&(n.xp6(4),n.Q6J("ngIf",o.track),n.xp6(2),n.Q6J("ngIf",o.track),n.xp6(1),n.Q6J("trackId",o.trackId))},dependencies:[m.ez,m.sg,m.O5,m.uU,g.u5,i.Pc,i.oU,i.Sm,i.PM,i.W2,i.Gu,i.Xz,i.wd,i.sr,i.cs,h],styles:["ion-card[_ngcontent-%COMP%]{height:100%}ion-img[_ngcontent-%COMP%]{height:400px}#container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}#info[_ngcontent-%COMP%]{display:grid;align-items:center;max-width:450px}#info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:15px}#main-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#000;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#fff;text-align:center;border-radius:5px;margin:0 auto;padding:5px}comments[_ngcontent-%COMP%]{display:flex;width:80%;margin:0 auto;max-width:500px}"]}),e})()}}]);