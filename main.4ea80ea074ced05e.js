(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(yn,gt,H)=>{"use strict";H.d(gt,{nm:()=>re});var _=H(4976);H(4650),H(259);var Y=H(5861),et=H(6881),Ze=H(4859),At=H(2090),$e=H(1877);const Oe=new Map,Pe={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function Ve(ut){return Oe.get(ut)||Object.assign({},Pe)}function _t(){return we}const ct="https://content-firebaseappcheck.googleapis.com/v1",ke="exchangeDebugToken",Le={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lt{constructor(tt,Et,qt,an,Un){if(this.operation=tt,this.retryPolicy=Et,this.getWaitDuration=qt,this.lowerBound=an,this.upperBound=Un,this.pending=null,this.nextErrorWaitInterval=an,an>Un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(tt){var Et=this;return(0,Y.Z)(function*(){Et.stop();try{Et.pending=new At.BH,yield function vt(ut){return new Promise(tt=>{setTimeout(tt,ut)})}(Et.getNextRun(tt)),Et.pending.resolve(),yield Et.pending.promise,Et.pending=new At.BH,yield Et.operation(),Et.pending.resolve(),yield Et.pending.promise,Et.process(!0).catch(()=>{})}catch(qt){Et.retryPolicy(qt)?Et.process(!1).catch(()=>{}):Et.stop()}})()}getNextRun(tt){if(tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Et}}}const $t=new At.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ln(ut,tt){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,Y.Z)(function*({url:ut,body:tt},Et){const qt={"Content-Type":"application/json"},an=Et.getImmediate({optional:!0});if(an){const $i=yield an.getHeartbeatsHeader();$i&&(qt["X-Firebase-Client"]=$i)}const Un={method:"POST",body:JSON.stringify(tt),headers:qt};let Vr,hr;try{Vr=yield fetch(ut,Un)}catch($i){throw $t.create("fetch-network-error",{originalErrorMessage:null==$i?void 0:$i.message})}if(200!==Vr.status)throw $t.create("fetch-status-error",{httpStatus:Vr.status});try{hr=yield Vr.json()}catch($i){throw $t.create("fetch-parse-error",{originalErrorMessage:null==$i?void 0:$i.message})}const xr=hr.ttl.match(/^([\d.]+)(s)$/);if(!xr||!xr[2]||isNaN(Number(xr[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${hr.ttl}`});const Rs=1e3*Number(xr[1]),fo=Date.now();return{token:hr.token,expireTimeMillis:fo+Rs,issuedAtTimeMillis:fo}})).apply(this,arguments)}const In="firebase-app-check-database",lr=1,Er="firebase-app-check-store";let br=null;function Ir(ut,tt){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Y.Z)(function*(ut,tt){const qt=(yield function cn(){return br||(br=new Promise((ut,tt)=>{try{const Et=indexedDB.open(In,lr);Et.onsuccess=qt=>{ut(qt.target.result)},Et.onerror=qt=>{var an;tt($t.create("storage-open",{originalErrorMessage:null===(an=qt.target.error)||void 0===an?void 0:an.message}))},Et.onupgradeneeded=qt=>{0===qt.oldVersion&&qt.target.result.createObjectStore(Er,{keyPath:"compositeKey"})}}catch(Et){tt($t.create("storage-open",{originalErrorMessage:null==Et?void 0:Et.message}))}}),br)}()).transaction(Er,"readwrite"),Un=qt.objectStore(Er).put({compositeKey:ut,value:tt});return new Promise((Vr,hr)=>{Un.onsuccess=xr=>{Vr()},qt.onerror=xr=>{var Rs;hr($t.create("storage-set",{originalErrorMessage:null===(Rs=xr.target.error)||void 0===Rs?void 0:Rs.message}))}})})).apply(this,arguments)}const Jr=new $e.Yd("@firebase/app-check");function ni(ut,tt){return(0,At.hl)()?function Zr(ut,tt){return Ir(function on(ut){return`${ut.options.appId}-${ut.name}`}(ut),tt)}(ut,tt).catch(Et=>{Jr.warn(`Failed to write token to IndexedDB. Error: ${Et}`)}):Promise.resolve()}function or(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,Y.Z)(function*(){const ut=_t();if(ut.enabled&&ut.token)return ut.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pr={error:"UNKNOWN_ERROR"};function mr(ut){return At.US.encodeString(JSON.stringify(ut),!1)}function Ht(ut){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Y.Z)(function*(ut,tt=!1){const Et=ut.app;!function Dt(ut){if(!Ve(ut).activated)throw $t.create("use-before-activation",{appName:ut.name})}(Et);const qt=Ve(Et);let Un,an=qt.token;if(an&&!ot(an)&&(qt.token=void 0,an=void 0),!an){const xr=yield qt.cachedTokenPromise;xr&&(ot(xr)?an=xr:yield ni(Et,void 0))}if(!tt&&an&&ot(an))return{token:an.token};let hr,Vr=!1;if(function xi(){return _t().enabled}()){qt.exchangeTokenPromise||(qt.exchangeTokenPromise=ln(function nn(ut,tt){const{projectId:Et,appId:qt,apiKey:an}=ut.options;return{url:`${ct}/projects/${Et}/apps/${qt}:${ke}?key=${an}`,body:{debug_token:tt}}}(Et,yield or()),ut.heartbeatServiceProvider).finally(()=>{qt.exchangeTokenPromise=void 0}),Vr=!0);const xr=yield qt.exchangeTokenPromise;return yield ni(Et,xr),qt.token=xr,{token:xr.token}}try{qt.exchangeTokenPromise||(qt.exchangeTokenPromise=qt.provider.getToken().finally(()=>{qt.exchangeTokenPromise=void 0}),Vr=!0),an=yield Ve(Et).exchangeTokenPromise}catch(xr){"appCheck/throttled"===xr.code?Jr.warn(xr.message):Jr.error(xr),Un=xr}return an?Un?hr=ot(an)?{token:an.token,internalError:Un}:gn(Un):(hr={token:an.token},qt.token=an,yield ni(Et,an)):hr=gn(Un),Vr&&function Ct(ut,tt){const Et=Ve(ut).tokenObservers;for(const qt of Et)try{"EXTERNAL"===qt.type&&null!=tt.error?qt.error(tt.error):qt.next(tt)}catch{}}(Et,hr),hr})).apply(this,arguments)}function Ce(ut,tt){const Et=Ve(ut),qt=Et.tokenObservers.filter(an=>an.next!==tt);0===qt.length&&Et.tokenRefresher&&Et.tokenRefresher.isRunning()&&Et.tokenRefresher.stop(),Et.tokenObservers=qt}function be(ut){const{app:tt}=ut,Et=Ve(tt);let qt=Et.tokenRefresher;qt||(qt=function We(ut){const{app:tt}=ut;return new lt((0,Y.Z)(function*(){let qt;if(qt=Ve(tt).token?yield Ht(ut,!0):yield Ht(ut),qt.error)throw qt.error;if(qt.internalError)throw qt.internalError}),()=>!0,()=>{const Et=Ve(tt);if(Et.token){let qt=Et.token.issuedAtTimeMillis+.5*(Et.token.expireTimeMillis-Et.token.issuedAtTimeMillis)+3e5;return qt=Math.min(qt,Et.token.expireTimeMillis-3e5),Math.max(0,qt-Date.now())}return 0},Le.RETRIAL_MIN_WAIT,Le.RETRIAL_MAX_WAIT)}(ut),Et.tokenRefresher=qt),!qt.isRunning()&&Et.isTokenAutoRefreshEnabled&&qt.start()}function ot(ut){return ut.expireTimeMillis-Date.now()>0}function gn(ut){return{token:mr(Pr),error:ut}}class Ye{constructor(tt,Et){this.app=tt,this.heartbeatServiceProvider=Et}_delete(){const{tokenObservers:tt}=Ve(this.app);for(const Et of tt)Ce(this.app,Et.next);return Promise.resolve()}}const Dr="app-check-internal";!function Xi(){(0,et._registerComponent)(new Ze.wA("app-check",ut=>function je(ut,tt){return new Ye(ut,tt)}(ut.getProvider("app").getImmediate(),ut.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ut,tt,Et)=>{ut.getProvider(Dr).initialize()})),(0,et._registerComponent)(new Ze.wA(Dr,ut=>function ye(ut){return{getToken:tt=>Ht(ut,tt),addTokenListener:tt=>function zt(ut,tt,Et,qt){const{app:an}=ut,Un=Ve(an);if(Un.tokenObservers=[...Un.tokenObservers,{next:Et,error:qt,type:tt}],Un.token&&ot(Un.token)){const hr=Un.token;Promise.resolve().then(()=>{Et({token:hr.token}),be(ut)}).catch(()=>{})}Un.cachedTokenPromise.then(()=>be(ut))}(ut,"INTERNAL",tt),removeTokenListener:tt=>Ce(ut.app,tt)}}(ut.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)("@firebase/app-check","0.7.0")}();class re{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},1205:(yn,gt,H)=>{"use strict";H.d(gt,{zQ:()=>ct,ww:()=>wt,rT:()=>we,f7:()=>ht,L6:()=>Oe,_Q:()=>Pe,lh:()=>Ve,Qv:()=>$e,nw:()=>_t});var _=H(4650),y=H(7579),ee=H(9646),he=H(9751),Be=H(8996),xe=H(6451),me=H(5363),Ue=H(3900),Ne=H(4004),_e=H(6063);class ge extends y.x{constructor(ke=1/0,Le=1/0,Fe=_e.l){super(),this._bufferSize=ke,this._windowTime=Le,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Le===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,Le)}next(ke){const{isStopped:Le,_buffer:Fe,_infiniteTimeWindow:lt,_timestampProvider:vt,_windowTime:Zt}=this;Le||(Fe.push(ke),!lt&&Fe.push(vt.now()+Zt)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const Le=this._innerSubscribe(ke),{_infiniteTimeWindow:Fe,_buffer:lt}=this,vt=lt.slice();for(let Zt=0;Zt<vt.length&&!ke.closed;Zt+=Fe?1:2)ke.next(vt[Zt]);return this._checkFinalizedStatuses(ke),Le}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:Le,_buffer:Fe,_infiniteTimeWindow:lt}=this,vt=(lt?1:2)*ke;if(ke<1/0&&vt<Fe.length&&Fe.splice(0,Fe.length-vt),!lt){const Zt=Le.now();let $t=0;for(let vn=1;vn<Fe.length&&Fe[vn]<=Zt;vn+=2)$t=vn;$t&&Fe.splice(0,$t+1)}}}var ve=H(3099);function ze(ft,ke,Le){let Fe,lt=!1;return ft&&"object"==typeof ft?({bufferSize:Fe=1/0,windowTime:ke=1/0,refCount:lt=!1,scheduler:Le}=ft):Fe=null!=ft?ft:1/0,(0,ve.B)({connector:()=>new ge(Fe,ke,Le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:lt})}var He=H(590),rt=H(576);function bt(ft,ke){return(0,rt.m)(ke)?(0,Ue.w)(()=>ft,ke):(0,Ue.w)(()=>ft)}var Re=H(9468),Se=H(9300),de=H(4976),pt=H(2011),Y=H(6895),et=H(6217),Ze=H(9260);const $e=new _.OlP("angularfire2.auth.use-emulator"),Oe=new _.OlP("angularfire2.auth.settings"),Pe=new _.OlP("angularfire2.auth.tenant-id"),we=new _.OlP("angularfire2.auth.langugage-code"),Ve=new _.OlP("angularfire2.auth.use-device-language"),ht=new _.OlP("angularfire.auth.persistence"),_t=(ft,ke,Le,Fe,lt,vt,Zt,$t)=>(0,pt.cc)(`${ft.name}.auth`,"AngularFireAuth",ft.name,()=>{const vn=ke.runOutsideAngular(()=>ft.auth());if(Le&&vn.useEmulator(...Le),Fe&&(vn.tenantId=Fe),vn.languageCode=lt,vt&&vn.useDeviceLanguage(),Zt)for(const[Dt,Te]of Object.entries(Zt))vn.settings[Dt]=Te;return $t&&vn.setPersistence($t),vn},[Le,Fe,lt,vt,Zt,$t]);let ct=(()=>{class ft{constructor(Le,Fe,lt,vt,Zt,$t,vn,Dt,Te,Tt,ln,Rn){const Kn=new y.x,Cn=(0,ee.of)(void 0).pipe((0,me.Q)(Zt.outsideAngular),(0,Ue.w)(()=>vt.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,3042)))),(0,Ne.U)(()=>(0,pt.on)(Le,vt,Fe)),(0,Ne.U)(nn=>_t(nn,vt,$t,Dt,Te,Tt,vn,ln)),ze({bufferSize:1,refCount:!1}));if((0,Y.PM)(lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{Cn.pipe((0,He.P)()).subscribe();const In=Cn.pipe((0,Ue.w)(Xn=>Xn.getRedirectResult().then(br=>br,()=>null)),de.iC,ze({bufferSize:1,refCount:!1})),lr=Cn.pipe((0,Ue.w)(Xn=>new he.y(br=>({unsubscribe:vt.runOutsideAngular(()=>Xn.onAuthStateChanged(cn=>br.next(cn),cn=>br.error(cn),()=>br.complete()))})))),Er=Cn.pipe((0,Ue.w)(Xn=>new he.y(br=>({unsubscribe:vt.runOutsideAngular(()=>Xn.onIdTokenChanged(cn=>br.next(cn),cn=>br.error(cn),()=>br.complete()))}))));this.authState=In.pipe(bt(lr),(0,Re.R)(Zt.outsideAngular),(0,me.Q)(Zt.insideAngular)),this.user=In.pipe(bt(Er),(0,Re.R)(Zt.outsideAngular),(0,me.Q)(Zt.insideAngular)),this.idToken=this.user.pipe((0,Ue.w)(Xn=>Xn?(0,Be.D)(Xn.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,Ue.w)(Xn=>Xn?(0,Be.D)(Xn.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,xe.T)(In,Kn,this.authState.pipe((0,Se.h)(Xn=>!Xn))).pipe((0,Ne.U)(Xn=>null!=Xn&&Xn.user?Xn:null),(0,Re.R)(Zt.outsideAngular),(0,me.Q)(Zt.insideAngular))}return(0,pt.pX)(this,Cn,vt,{spy:{apply:(nn,In,lr)=>{(nn.startsWith("signIn")||nn.startsWith("createUser"))&&lr.then(Er=>Kn.next(Er))}}})}}return ft.\u0275fac=function(Le){return new(Le||ft)(_.LFG(pt.Dh),_.LFG(pt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(de.HU),_.LFG($e,8),_.LFG(Oe,8),_.LFG(Pe,8),_.LFG(we,8),_.LFG(Ve,8),_.LFG(ht,8),_.LFG(et.nm,8))},ft.\u0275prov=_.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"any"}),ft})(),wt=(()=>{class ft{constructor(){Ze.Z.registerVersion("angularfire",de.q4.full,"auth-compat")}}return ft.\u0275fac=function(Le){return new(Le||ft)},ft.\u0275mod=_.oAB({type:ft}),ft.\u0275inj=_.cJS({providers:[ct]}),ft})()},1762:(yn,gt,H)=>{"use strict";H.d(gt,{ST:()=>Np,yb:()=>d_});var _=H(4650),y=H(4986),ee=H(9751),he=H(8996),Be=H(9646),xe=H(4976),me=H(8675),Ue=H(4482),Ne=H(5403);function _e(){return(0,Ue.e)((r,e)=>{let t,s=!1;r.subscribe((0,Ne.x)(e,c=>{const f=t;t=c,s&&e.next([f,c]),s=!0}))})}var Oe,ge=H(4004),ve=H(5026),ze=H(1884),He=H(9300),rt=H(2011),bt=H(6895),Se=(H(3042),H(3942)),de=H(5861),pt=H(6881),Y=H(4859),et=H(1877),Ze=H(2090),At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},Pe=Pe||{},we=At||self;function Ve(){}function ht(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function _t(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function ke(r,e,t){return r.call.apply(r.bind,arguments)}function Le(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Fe(r,e,t){return(Fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ke:Le).apply(null,arguments)}function lt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function vt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,c,f){for(var E=Array(arguments.length-2),N=2;N<arguments.length;N++)E[N-2]=arguments[N];return e.prototype[c].apply(s,E)}}function Zt(){this.s=this.s,this.o=this.o}Zt.prototype.s=!1,Zt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ct(r){Object.prototype.hasOwnProperty.call(r,wt)&&r[wt]||(r[wt]=++ft)}(this)},Zt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Dt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Te(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ht(s)){const c=r.length||0,f=s.length||0;r.length=c+f;for(let E=0;E<f;E++)r[c+E]=s[E]}else r.push(s)}}function Tt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var ln=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{we.addEventListener("test",Ve,e),we.removeEventListener("test",Ve,e)}catch{}return r}();function Rn(r){return/^[\s\xa0]*$/.test(r)}var Kn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Cn(r,e){return r<e?-1:r>e?1:0}function nn(){var r=we.navigator;return r&&(r=r.userAgent)?r:""}function In(r){return-1!=nn().indexOf(r)}function lr(r){return lr[" "](r),r}function Er(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}lr[" "]=Ve;var Ir,r,Xn=In("Opera"),br=In("Trident")||In("MSIE"),cn=In("Edge"),di=cn||br,Zr=In("Gecko")&&!(-1!=nn().toLowerCase().indexOf("webkit")&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),Br=-1!=nn().toLowerCase().indexOf("webkit")&&!In("Edge");function Di(){var r=we.document;return r?r.documentMode:void 0}e:{var Tn="",tn=(r=nn(),Zr?/rv:([^\);]+)(\)|;)/.exec(r):cn?/Edge\/([\d\.]+)/.exec(r):br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Br?/WebKit\/(\S+)/.exec(r):Xn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(tn&&(Tn=tn?tn[1]:""),br){var fn=Di();if(null!=fn&&fn>parseFloat(Tn)){Ir=String(fn);break e}}Ir=Tn}var on={},ni=we.document&&br&&(Di()||parseInt(Ir,10))||void 0;function gi(r,e){if(Tt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Zr){e:{try{lr(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ur[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&gi.$.h.call(this)}}vt(gi,Tt);var Ur={2:"touch",3:"pen",4:"mouse"};gi.prototype.h=function(){gi.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var xi="closure_listenable_"+(1e6*Math.random()|0),or=0;function Yn(r,e,t,s,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=c,this.key=++or,this.fa=this.ia=!1}function Ei(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Pr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function mr(r){const e={};for(const t in r)e[t]=r[t];return e}const Ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(r,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)r[t]=s[t];for(let f=0;f<Ht.length;f++)t=Ht[f],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Qe(r){this.src=r,this.g={},this.h=0}function Xt(r,e){var t=e.type;if(t in r.g){var f,s=r.g[t],c=vn(s,e);(f=0<=c)&&Array.prototype.splice.call(s,c,1),f&&(Ei(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function zt(r,e,t,s){for(var c=0;c<r.length;++c){var f=r[c];if(!f.fa&&f.listener==e&&f.capture==!!t&&f.la==s)return c}return-1}Qe.prototype.add=function(r,e,t,s,c){var f=r.toString();(r=this.g[f])||(r=this.g[f]=[],this.h++);var E=zt(r,e,s,c);return-1<E?(e=r[E],t||(e.ia=!1)):((e=new Yn(e,this.src,f,!!s,c)).ia=t,r.push(e)),e};var Ce="closure_lm_"+(1e6*Math.random()|0),be={};function We(r,e,t,s,c){if(s&&s.once)return gn(r,e,t,s,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)We(r,e[f],t,s,c);return null}return t=Dn(t),r&&r[xi]?r.O(e,t,_t(s)?!!s.capture:!!s,c):Ct(r,e,t,!1,s,c)}function Ct(r,e,t,s,c,f){if(!e)throw Error("Invalid event type");var E=_t(c)?!!c.capture:!!c,N=Ot(r);if(N||(r[Ce]=N=new Qe(r)),(t=N.add(e,t,s,E,f)).proxy)return t;if(s=function ot(){const e=dt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ln||(c=E),void 0===c&&(c=!1),r.addEventListener(e.toString(),s,c);else if(r.attachEvent)r.attachEvent(ye(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function gn(r,e,t,s,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)gn(r,e[f],t,s,c);return null}return t=Dn(t),r&&r[xi]?r.P(e,t,_t(s)?!!s.capture:!!s,c):Ct(r,e,t,!0,s,c)}function Ye(r,e,t,s,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)Ye(r,e[f],t,s,c);else s=_t(s)?!!s.capture:!!s,t=Dn(t),r&&r[xi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=zt(f=r.g[e],t,s,c))&&(Ei(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete r.g[e],r.h--))):r&&(r=Ot(r))&&(e=r.g[e.toString()],r=-1,e&&(r=zt(e,t,s,c)),(t=-1<r?e[r]:null)&&je(t))}function je(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[xi])Xt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ye(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Ot(e))?(Xt(t,r),0==t.h&&(t.src=null,e[Ce]=null)):Ei(r)}}}function ye(r){return r in be?be[r]:be[r]="on"+r}function dt(r,e){if(r.fa)r=!0;else{e=new gi(e,this);var t=r.listener,s=r.la||r.src;r.ia&&je(r),r=t.call(s,e)}return r}function Ot(r){return(r=r[Ce])instanceof Qe?r:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(r){return"function"==typeof r?r:(r[en]||(r[en]=function(e){return r.handleEvent(e)}),r[en])}function Qn(){Zt.call(this),this.i=new Qe(this),this.S=this,this.J=null}function cr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Tt(e,r);else if(e instanceof Tt)e.target=e.target||r;else{var c=e;Ge(e=new Tt(s,r),c)}if(c=!0,t)for(var f=t.length-1;0<=f;f--){var E=e.g=t[f];c=Gr(E,s,!0,e)&&c}if(c=Gr(E=e.g=r,s,!0,e)&&c,c=Gr(E,s,!1,e)&&c,t)for(f=0;f<t.length;f++)c=Gr(E=e.g=t[f],s,!1,e)&&c}function Gr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var E=e[f];if(E&&!E.fa&&E.capture==t){var N=E.listener,G=E.la||E.src;E.ia&&Xt(r.i,E),c=!1!==N.call(G,s)&&c}}return c&&!s.defaultPrevented}vt(Qn,Zt),Qn.prototype[xi]=!0,Qn.prototype.removeEventListener=function(r,e,t,s){Ye(this,r,e,t,s)},Qn.prototype.N=function(){if(Qn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Ei(t[s]);delete r.g[e],r.h--}}this.J=null},Qn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Qn.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Ut=we.JSON.stringify;function St(){var r=ar;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var $n,Nn=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new jn,r=>r.reset());class jn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yr(r){we.setTimeout(()=>{throw r},0)}function Cr(r,e){$n||function tr(){var r=we.Promise.resolve(void 0);$n=function(){r.then(Pi)}}(),Wn||($n(),Wn=!0),ar.add(r,e)}var Wn=!1,ar=new class Qt{constructor(){this.h=this.g=null}add(e,t){const s=Nn.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Pi(){for(var r;r=St();){try{r.h.call(r.g)}catch(t){yr(t)}var e=Nn;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Wn=!1}function ji(r,e){Qn.call(this),this.h=r||1,this.g=e||we,this.j=Fe(this.qb,this),this.l=Date.now()}function Ji(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function _s(r,e,t){if("function"==typeof r)t&&(r=Fe(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Fe(r.handleEvent,r)}return 2147483647<Number(e)?-1:we.setTimeout(r,e||0)}function ri(r){r.g=_s(()=>{r.g=null,r.i&&(r.i=!1,ri(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}vt(ji,Qn),(Oe=ji.prototype).ga=!1,Oe.T=null,Oe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cr(this,"tick"),this.ga&&(Ji(this),this.start()))}},Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.N=function(){ji.$.N.call(this),Ji(this),delete this.g};class bn extends Zt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(r){Zt.call(this),this.h=r,this.g={}}vt(dr,Zt);var li=[];function Dr(r,e,t,s){Array.isArray(t)||(t&&(li[0]=t.toString()),t=li);for(var c=0;c<t.length;c++){var f=We(e,t[c],s||r.handleEvent,!1,r.h||r);if(!f)break;r.g[f.key]=f}}function Xi(r){Pr(r.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},r),r.g={}}function ii(){this.g=!0}function Ee(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ae(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var E=1;E<c.length;E++)c[E]=""}}}return Ut(t)}catch{return e}}(r,t)+(s?" "+s:"")})}dr.prototype.N=function(){dr.$.N.call(this),Xi(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ii.prototype.Ea=function(){this.g=!1},ii.prototype.info=function(){};var qe={},Ke=null;function Nt(){return Ke=Ke||new Qn}function kt(r){Tt.call(this,qe.Ta,r)}function Bt(r){const e=Nt();cr(e,new kt(e))}function Jt(r,e){Tt.call(this,qe.STAT_EVENT,r),this.stat=e}function mn(r){const e=Nt();cr(e,new Jt(e,r))}function zn(r,e){Tt.call(this,qe.Ua,r),this.size=e}function Gn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){r()},e)}qe.Ta="serverreachability",vt(kt,Tt),qe.STAT_EVENT="statevent",vt(Jt,Tt),qe.Ua="timingevent",vt(zn,Tt);var mi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function es(){}function tt(){}es.prototype.h=null;var Un,Et={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qt(){Tt.call(this,"d")}function an(){Tt.call(this,"c")}function Vr(){}function hr(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new dr(this),this.P=Rs,this.V=new ji(r=di?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new xr}function xr(){this.i=null,this.g="",this.h=!1}vt(qt,Tt),vt(an,Tt),vt(Vr,es),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},Un=new Vr;var Rs=45e3,fo={},$i={};function ki(r,e,t){r.L=1,r.v=ts(cs(e)),r.s=t,r.S=!0,Hi(r,null)}function Hi(r,e){r.G=Date.now(),no(r),r.A=cs(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Bo(t.i,"t",s),r.C=0,t=r.l.I,r.h=new xr,r.g=ba(r.l,t?e:null,!r.s),0<r.O&&(r.M=new bn(Fe(r.Pa,r,r.g),r.O)),Dr(r.U,r.g,"readystatechange",r.nb),e=r.I?mr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Bt(),function Oi(r,e,t,s,c,f){r.info(function(){if(r.g)if(f)for(var E="",N=f.split("&"),G=0;G<N.length;G++){var Q=N[G].split("=");if(1<Q.length){var ue=Q[0];Q=Q[1];var Xe=ue.split("_");E=2<=Xe.length&&"type"==Xe[1]?E+(ue+"=")+Q+"&":E+(ue+"=redacted&")}}else E=null;else E=f;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+E})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Yo(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ca(r,e,t){let c,s=!0;for(;!r.J&&r.C<t.length;){if(c=qi(r,t),c==$i){4==e&&(r.o=4,mn(14),s=!1),Ee(r.j,r.m,null,"[Incomplete Response]");break}if(c==fo){r.o=4,mn(15),Ee(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ee(r.j,r.m,c,null),ro(r,c)}Yo(r)&&c!=$i&&c!=fo&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,mn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Uo(e),e.L=!0,mn(11))):(Ee(r.j,r.m,t,"[Invalid Chunked Response]"),Ms(r),bo(r))}function qi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?$i:(t=Number(e.substring(t,s)),isNaN(t)?fo:(s+=1)+t>e.length?$i:(e=e.substr(s,t),r.C=s+t,e))}function no(r){r.Y=Date.now()+r.P,Ls(r,r.P)}function Ls(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Gn(Fe(r.lb,r),e)}function wa(r){r.B&&(we.clearTimeout(r.B),r.B=null)}function bo(r){0==r.l.H||r.J||hs(r.l,r)}function Ms(r){wa(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Ji(r.V),Xi(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function ro(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||zi(t.h,r)))if(!r.K&&zi(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ta(t),vo(t)}_o(t),mn(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.M&&0==t.A&&!t.v&&(t.v=Gn(Fe(t.ib,t),6e3));if(1>=zs(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Vo(t,11)}else if((r.K||t.g==r)&&ta(t),!Rn(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let Q=c[e];if(t.V=Q[0],Q=Q[1],2==t.H)if("c"==Q[0]){t.J=Q[1],t.oa=Q[2];const ue=Q[3];null!=ue&&(t.qa=ue,t.j.info("VER="+t.qa));const Xe=Q[4];null!=Xe&&(t.Ga=Xe,t.j.info("SVER="+t.Ga));const Mt=Q[5];null!=Mt&&"number"==typeof Mt&&0<Mt&&(t.K=s=1.5*Mt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const rn=r.g;if(rn){const Sn=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sn){var f=s.h;f.g||-1==Sn.indexOf("spdy")&&-1==Sn.indexOf("quic")&&-1==Sn.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(us(f,f.h),f.h=null))}if(s.F){const Mn=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(s.Da=Mn,Ii(s.G,s.F,Mn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var E=r;if((s=t).wa=is(s,s.I?s.oa:null,s.Y),E.K){Jo(s.h,E);var N=E,G=s.K;G&&N.setTimeout(G),N.B&&(wa(N),no(N)),s.g=E}else ja(s);0<t.i.length&&ya(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Vo(t,7);else 3==t.H&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Vo(t,7):To(t):"noop"!=Q[0]&&t.l&&t.l.Aa(Q),t.A=0)}Bt()}catch{}}function io(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ht(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function rl(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ht(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ua(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ht(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),c=s.length,f=0;f<c;f++)e.call(void 0,s[f],t&&t[f],r)}(Oe=hr.prototype).setTimeout=function(r){this.P=r},Oe.nb=function(r){r=r.target;const e=this.M;e&&3==Ai(r)?e.l():this.Pa(r)},Oe.Pa=function(r){try{if(r==this.g)e:{const ue=Ai(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ue)&&(3!=ue||di||this.g&&(this.h.h||this.g.ja()||vl(this.g)))){this.J||4!=ue||7==e||Bt(),wa(this);var t=this.g.da();this.aa=t;t:if(Yo(this)){var s=vl(this.g);r="";var c=s.length,f=4==Ai(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),bo(this);var E="";break t}this.h.i=new we.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:f&&e==c-1});s.splice(0,c),this.h.g+=r,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function re(r,e,t,s,c,f,E){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+f+" "+E})}(this.j,this.u,this.A,this.m,this.W,ue,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rn(N)){var Q=N;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,mn(12),Ms(this),bo(this);break e}Ee(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ro(this,t)}this.S?(ca(this,ue,E),di&&this.i&&3==ue&&(Dr(this.U,this.V,"tick",this.mb),this.V.start())):(Ee(this.j,this.m,E,null),ro(this,E)),4==ue&&Ms(this),this.i&&!this.J&&(4==ue?hs(this.l,this):(this.i=!1,no(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Ms(this),bo(this)}}}catch{}},Oe.mb=function(){if(this.g){var r=Ai(this.g),e=this.g.ja();this.C<e.length&&(wa(this),ca(this,r,e),this.i&&4!=r&&no(this))}},Oe.cancel=function(){this.J=!0,Ms(this)},Oe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function it(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bt(),mn(17)),Ms(this),this.o=2,bo(this)):Ls(this,this.Y-r)};var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof po){this.h=void 0!==e?e:r.h,ha(this,r.j),this.s=r.s,this.g=r.g,Lo(this,r.m),this.l=r.l,e=r.i;var t=new Es;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),so(this,t),this.o=r.o}else r&&(t=String(r).match(ps))?(this.h=!!e,ha(this,t[1]||"",!0),this.s=Do(t[2]||""),this.g=Do(t[3]||"",!0),Lo(this,t[4]),this.l=Do(t[5]||"",!0),so(this,t[6]||"",!0),this.o=Do(t[7]||"")):(this.h=!!e,this.i=new Es(null,this.h))}function cs(r){return new po(r)}function ha(r,e,t){r.j=t?Do(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Lo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function so(r,e,t){e instanceof Es?(r.i=e,function Qo(r,e){e&&!r.j&&(mo(r),r.i=null,r.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(hi(this,s),Bo(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Hs(e,go)),r.i=new Es(e,r.h))}function Ii(r,e,t){r.i.set(e,t)}function ts(r){return Ii(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Do(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Hs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Zo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Zo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}po.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Hs(e,oo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Hs(e,oo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Hs(t,"/"==t.charAt(0)?Xo:Ds,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Hs(t,Ca)),r.join("")};var oo=/[#\/\?@]/g,Ds=/[#\?:]/g,Xo=/[#\?]/g,go=/[#\?@]/g,Ca=/#/g;function Es(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function mo(r){r.g||(r.g=new Map,r.h=0,r.i&&function da(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),c=null;if(0<=s){var f=r[t].substring(0,s);c=r[t].substring(s+1)}else f=r[t];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hi(r,e){mo(r),e=Ti(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function yo(r,e){return mo(r),e=Ti(r,e),r.g.has(e)}function Bo(r,e,t){hi(r,e),0<t.length&&(r.i=null,r.g.set(Ti(r,e),Dt(t)),r.h+=t.length)}function Ti(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ns(r){this.l=r||yl,r=we.PerformanceNavigationTiming?0<(r=we.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Oe=Es.prototype).add=function(r,e){mo(this),this.i=null,r=Ti(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Oe.forEach=function(r,e){mo(this),this.g.forEach(function(t,s){t.forEach(function(c){r.call(e,c,s,this)},this)},this)},Oe.sa=function(){mo(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=r[s];for(let f=0;f<c.length;f++)t.push(e[s])}return t},Oe.Z=function(r){mo(this);let e=[];if("string"==typeof r)yo(this,r)&&(e=e.concat(this.g.get(Ti(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Oe.set=function(r,e){return mo(this),this.i=null,yo(this,r=Ti(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Oe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const f=encodeURIComponent(String(s)),E=this.Z(s);for(s=0;s<E.length;s++){var c=f;""!==E[s]&&(c+="="+encodeURIComponent(String(E[s]))),r.push(c)}}return this.i=r.join("&")};var yl=10;function Ps(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zs(r){return r.h?1:r.g?r.g.size:0}function zi(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function us(r,e){r.g?r.g.add(e):r.h=e}function Jo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function fa(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Dt(r.i)}function Is(){}function pa(){this.g=new Is}function ea(r,e,t){const s=t||"";try{io(r,function(c,f){let E=c;_t(c)&&(E=Ut(c)),e.push(s+f+"="+encodeURIComponent(E))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function $o(r,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function ga(r){this.l=r.fc||null,this.j=r.ob||!1}function b(r,e){Qn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=q,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ns.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Is.prototype.stringify=function(r){return we.JSON.stringify(r,void 0)},Is.prototype.parse=function(r){return we.JSON.parse(r,void 0)},vt(ga,es),ga.prototype.g=function(){return new b(this.l,this.j)},ga.prototype.i=function(r){return function(){return r}}({}),vt(b,Qn);var q=0;function T(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function W(r){r.readyState=4,r.l=null,r.j=null,r.A=null,pe(r)}function pe(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Oe=b.prototype).open=function(r,e){if(this.readyState!=q)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,pe(this)},Oe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,W(this)),this.readyState=q},Oe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,pe(this)),this.g&&(this.readyState=3,pe(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Oe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?W(this):pe(this),3==this.readyState&&T(this)}},Oe.Za=function(r){this.g&&(this.response=this.responseText=r,W(this))},Oe.Ya=function(r){this.g&&(this.response=r,W(this))},Oe.ka=function(){this.g&&W(this)},Oe.setRequestHeader=function(r,e){this.v.append(r,e)},Oe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(b.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var B=we.JSON.parse;function R(r){Qn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=O,this.L=this.M=!1}vt(R,Qn);var O="",ne=/^https?$/i,yt=["POST","PUT"];function jr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,yi(r),gs(r)}function yi(r){r.F||(r.F=!0,cr(r,"complete"),cr(r,"error"))}function Si(r){if(r.h&&typeof Pe<"u"&&(!r.C[1]||4!=Ai(r)||2!=r.da()))if(r.v&&4==Ai(r))_s(r.La,0,r);else if(cr(r,"readystatechange"),4==Ai(r)){r.h=!1;try{const N=r.da();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===N){var c=String(r.I).match(ps)[1]||null;if(!c&&we.self&&we.self.location){var f=we.self.location.protocol;c=f.substr(0,f.length-1)}s=!ne.test(c?c.toLowerCase():"")}t=s}if(t)cr(r,"complete"),cr(r,"success");else{r.m=6;try{var E=2<Ai(r)?r.g.statusText:""}catch{E=""}r.j=E+" ["+r.da()+"]",yi(r)}}finally{gs(r)}}}function gs(r,e){if(r.g){Gs(r);const t=r.g,s=r.C[0]?Ve:null;r.g=null,r.C=null,e||cr(r,"ready");try{t.onreadystatechange=s}catch{}}}function Gs(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(we.clearTimeout(r.A),r.A=null)}function Ai(r){return r.g?r.g.readyState:0}function vl(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case O:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(r){let e="";return Pr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function ds(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ma(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ii(r,e,t))}function rs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function il(r){this.Ga=0,this.i=[],this.j=new ii,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rs("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rs("baseRetryDelayMs",5e3,r),this.hb=rs("retryDelaySeedMs",1e4,r),this.eb=rs("forwardChannelMaxRetries",2,r),this.xa=rs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new ns(r&&r.concurrentRequestLimit),this.Ja=new pa,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function To(r){if(_l(r),3==r.H){var e=r.W++,t=cs(r.G);Ii(t,"SID",r.J),Ii(t,"RID",e),Ii(t,"TYPE","terminate"),Os(r,t),(e=new hr(r,r.j,e,void 0)).L=2,e.v=ts(cs(t)),t=!1,we.navigator&&we.navigator.sendBeacon&&(t=we.navigator.sendBeacon(e.v.toString(),"")),!t&&we.Image&&((new Image).src=e.v,t=!0),t||(e.g=ba(e.l,null),e.g.ha(e.v)),e.G=Date.now(),no(e)}ao(r)}function vo(r){r.g&&(Uo(r),r.g.cancel(),r.g=null)}function _l(r){vo(r),r.u&&(we.clearTimeout(r.u),r.u=null),ta(r),r.h.cancel(),r.m&&("number"==typeof r.m&&we.clearTimeout(r.m),r.m=null)}function ya(r){Ps(r.h)||r.m||(r.m=!0,Cr(r.Na,r),r.C=0)}function ms(r,e){var t;t=e?e.m:r.W++;const s=cs(r.G);Ii(s,"SID",r.J),Ii(s,"RID",t),Ii(s,"AID",r.V),Os(r,s),r.o&&r.s&&ds(s,r.o,r.s),t=new hr(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Va(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),us(r.h,t),ki(t,s,e)}function Os(r,e){r.ma&&Pr(r.ma,function(t,s){Ii(e,s,t)}),r.l&&io({},function(t,s){Ii(e,s,t)})}function Va(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Fe(r.l.Va,r.l,r):null;e:{var c=r.i;let f=-1;for(;;){const E=["count="+t];-1==f?0<t?(f=c[0].h,E.push("ofs="+f)):f=0:E.push("ofs="+f);let N=!0;for(let G=0;G<t;G++){let Q=c[G].h;const ue=c[G].g;if(Q-=f,0>Q)f=Math.max(0,c[G].h-100),N=!1;else try{ea(ue,E,"req"+Q+"_")}catch{s&&s(ue)}}if(N){s=E.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function ja(r){r.g||r.u||(r.ba=1,Cr(r.Ma,r),r.A=0)}function _o(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Gn(Fe(r.Ma,r),Eo(r,r.A)),r.A++,0))}function Uo(r){null!=r.B&&(we.clearTimeout(r.B),r.B=null)}function El(r){r.g=new hr(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=cs(r.wa);Ii(e,"RID","rpc"),Ii(e,"SID",r.J),Ii(e,"CI",r.M?"0":"1"),Ii(e,"AID",r.V),Ii(e,"TYPE","xmlhttp"),Os(r,e),r.o&&r.s&&ds(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ts(cs(e)),t.s=null,t.S=!0,Hi(t,r)}function ta(r){null!=r.v&&(we.clearTimeout(r.v),r.v=null)}function hs(r,e){var t=null;if(r.g==e){ta(r),Uo(r),r.g=null;var s=2}else{if(!zi(r.h,e))return;t=e.F,Jo(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=r.C;cr(s=Nt(),new zn(s,t)),ya(r)}else ja(r);else if(3==(c=e.o)||0==c&&0<r.ta||!(1==s&&function Ua(r,e){return!(zs(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Gn(Fe(r.Na,r,e),Eo(r,r.C)),r.C++,0)))}(r,e)||2==s&&_o(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:Vo(r,5);break;case 4:Vo(r,10);break;case 3:Vo(r,6);break;default:Vo(r,2)}}function Eo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Vo(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Fe(r.pb,r);t||(t=new po("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||ha(t,"https"),ts(t)),function pr(r,e){const t=new ii;if(we.Image){const s=new Image;s.onload=lt($o,t,s,"TestLoadImage: loaded",!0,e),s.onerror=lt($o,t,s,"TestLoadImage: error",!1,e),s.onabort=lt($o,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=lt($o,t,s,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else mn(2);r.H=0,r.l&&r.l.za(e),ao(r),_l(r)}function ao(r){if(r.H=0,r.pa=[],r.l){const e=fa(r.h);(0!=e.length||0!=r.i.length)&&(Te(r.pa,e),Te(r.pa,r.i),r.h.i.length=0,Dt(r.i),r.i.length=0),r.l.ya()}}function is(r,e,t){var s=t instanceof po?cs(t):new po(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Lo(s,s.m);else{var c=we.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var f=new po(null,void 0);s&&ha(f,s),e&&(f.g=e),c&&Lo(f,c),t&&(f.l=t),s=f}return e=r.Da,(t=r.F)&&e&&Ii(s,t,e),Ii(s,"VER",r.qa),Os(r,s),s}function ba(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new R(t&&r.Ha&&!r.va?new ga({ob:!0}):r.va)).Oa(r.I),e}function Ha(){}function Yi(){if(br&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function Ni(r,e){Qn.call(this),this.g=new il(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Rn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new So(this)}function si(r){qt.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Da(){an.call(this),this.status=1}function So(r){this.g=r}function lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jl(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)s[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var f=r.g[3],E=(e=r.g[0])+(f^(t=r.g[1])&((c=r.g[2])^f))+s[0]+3614090360&4294967295;E=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=(t=(c=(f=(e=t+(E<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(f^t&(c^f))+s[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=f+(c^e&(t^c))+s[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=c+(t^f&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^c&(f^e))+s[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(c^f&(t^c))+s[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(c^f&(t^c))+s[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=f+(t^c&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=c+(e^t&(f^e))+s[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(f^e&(c^f))+s[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^c^f)+s[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^c^f)+s[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=f+(e^t^c)+s[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=c+(f^e^t)+s[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(c^f^e)+s[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(c^(t|~f))+s[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(c^(t|~f))+s[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(c^(t|~f))+s[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=c+(e^(f|~t))+s[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(f^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((f=(e=t+((E=e+(c^(t|~f))+s[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=f+(t^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((c=f+((E=c+(e^(f|~t))+s[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(c+(E<<21&4294967295|E>>>11))&4294967295,r.g[2]=r.g[2]+c&4294967295,r.g[3]=r.g[3]+f&4294967295}function Rr(r,e){this.h=e;for(var t=[],s=!0,c=r.length-1;0<=c;c--){var f=0|r[c];s&&f==e||(t[c]=f,s=!1)}this.g=t}(Oe=R.prototype).Oa=function(r){this.M=r},Oe.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Un.g(),this.C=function ut(r){return r.h||(r.h=r.i())}(this.u?this.u:Un),this.g.onreadystatechange=Fe(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(f){return void jr(this,f)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const f of s.keys())t.set(f,s.get(f))}s=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),c=we.FormData&&r instanceof we.FormData,!(0<=vn(yt,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,E]of t)this.g.setRequestHeader(f,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gs(this),0<this.B&&((this.L=function dn(r){return br&&function Jr(){return Er(on,9,function(){let r=0;const e=Kn(String(Ir)).split("."),t=Kn("9").split("."),s=Math.max(e.length,t.length);for(let E=0;0==r&&E<s;E++){var c=e[E]||"",f=t[E]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;r=Cn(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||Cn(0==c[2].length,0==f[2].length)||Cn(c[2],f[2]),c=c[3],f=f[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fe(this.ua,this)):this.A=_s(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(f){jr(this,f)}},Oe.ua=function(){typeof Pe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cr(this,"timeout"),this.abort(8))},Oe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,cr(this,"complete"),cr(this,"abort"),gs(this))},Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gs(this,!0)),R.$.N.call(this)},Oe.La=function(){this.s||(this.G||this.v||this.l?Si(this):this.kb())},Oe.kb=function(){Si(this)},Oe.da=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Oe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),B(e)}},Oe.Ia=function(){return this.m},Oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=il.prototype).qa=8,Oe.H=1,Oe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const c=new hr(this,this.j,r,void 0);let f=this.s;if(this.U&&(f?(f=mr(f),Ge(f,this.U)):f=this.U),null!==this.o||this.O||(c.I=f,f=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Va(this,c,e),Ii(t=cs(this.G),"RID",r),Ii(t,"CVER",22),this.F&&Ii(t,"X-HTTP-Session-Id",this.F),Os(this,t),f&&(this.O?e="headers="+encodeURIComponent(String(ma(f)))+"&"+e:this.o&&ds(t,this.o,f)),us(this.h,c),this.bb&&Ii(t,"TYPE","init"),this.P?(Ii(t,"$req",e),Ii(t,"SID","null"),c.ba=!0,ki(c,t,null)):ki(c,t,e),this.H=2}}else 3==this.H&&(r?ms(this,r):0==this.i.length||Ps(this.h)||ms(this))},Oe.Ma=function(){if(this.u=null,El(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=Gn(Fe(this.jb,this),r)}},Oe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,mn(10),vo(this),El(this))},Oe.ib=function(){null!=this.v&&(this.v=null,vo(this),_o(this),mn(19))},Oe.pb=function(r){r?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))},(Oe=Ha.prototype).Ba=function(){},Oe.Aa=function(){},Oe.za=function(){},Oe.ya=function(){},Oe.Va=function(){},Yi.prototype.g=function(r,e){return new Ni(r,e)},vt(Ni,Qn),Ni.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;mn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=is(r,null,r.Y),ya(r)},Ni.prototype.close=function(){To(this.g)},Ni.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ut(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&ya(e)},Ni.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Ni.$.N.call(this)},vt(si,qt),vt(Da,an),vt(So,Ha),So.prototype.Ba=function(){cr(this.g,"a")},So.prototype.Aa=function(r){cr(this.g,new si(r))},So.prototype.za=function(r){cr(this.g,new Da)},So.prototype.ya=function(){cr(this.g,"b")},vt(lo,function Il(){this.blockSize=-1}),lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,c=this.h,f=0;f<e;){if(0==c)for(;f<=t;)jl(this,r,f),f+=this.blockSize;if("string"==typeof r){for(;f<e;)if(s[c++]=r.charCodeAt(f++),c==this.blockSize){jl(this,s),c=0;break}}else for(;f<e;)if(s[c++]=r[f++],c==this.blockSize){jl(this,s),c=0;break}}this.h=c,this.i+=e},lo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Hl={};function wl(r){return-128<=r&&128>r?Er(Hl,r,function(e){return new Rr([0|e],0>e?-1:0)}):new Rr([0|r],0>r?-1:0)}function L(r){if(isNaN(r)||!isFinite(r))return se;if(0>r)return gr(L(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=j;return new Rr(e,0)}var j=4294967296,se=wl(0),Me=wl(1),Vt=wl(16777216);function Wt(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ln(r){return-1==r.h}function gr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Rr(t,~r.h).add(Me)}function $r(r,e){return r.add(gr(e))}function Lr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function wr(r,e){this.g=r,this.h=e}function Fi(r,e){if(Wt(e))throw Error("division by zero");if(Wt(r))return new wr(se,se);if(Ln(r))return e=Fi(gr(r),e),new wr(gr(e.g),gr(e.h));if(Ln(e))return e=Fi(r,gr(e)),new wr(gr(e.g),e.h);if(30<r.g.length){if(Ln(r)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Me,s=e;0>=s.X(r);)t=Ri(t),s=Ri(s);var c=Gi(t,1),f=Gi(s,1);for(s=Gi(s,2),t=Gi(t,2);!Wt(s);){var E=f.add(s);0>=E.X(r)&&(c=c.add(t),f=E),s=Gi(s,1),t=Gi(t,1)}return e=$r(r,c.R(e)),new wr(c,e)}for(c=se;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),E=(f=L(t)).R(e);Ln(E)||0<E.X(r);)E=(f=L(t-=s)).R(e);Wt(f)&&(f=Me),c=c.add(f),r=$r(r,E)}return new wr(c,r)}function Ri(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Rr(t,r.h)}function Gi(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,c=[],f=0;f<s;f++)c[f]=0<e?r.D(f+t)>>>e|r.D(f+t+1)<<32-e:r.D(f+t);return new Rr(c,r.h)}(Oe=Rr.prototype).ea=function(){if(Ln(this))return-gr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:j+s)*e,e*=j}return r},Oe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Wt(this))return"0";if(Ln(this))return"-"+gr(this).toString(r);for(var e=L(Math.pow(r,6)),t=this,s="";;){var c=Fi(t,e).g,f=((0<(t=$r(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Wt(t=c))return f+s;for(;6>f.length;)f="0"+f;s=f+s}},Oe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Oe.X=function(r){return Ln(r=$r(this,r))?-1:Wt(r)?0:1},Oe.abs=function(){return Ln(this)?gr(this):this},Oe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,c=0;c<=e;c++){var f=s+(65535&this.D(c))+(65535&r.D(c)),E=(f>>>16)+(this.D(c)>>>16)+(r.D(c)>>>16);s=E>>>16,t[c]=(E&=65535)<<16|(f&=65535)}return new Rr(t,-2147483648&t[t.length-1]?-1:0)},Oe.R=function(r){if(Wt(this)||Wt(r))return se;if(Ln(this))return Ln(r)?gr(this).R(gr(r)):gr(gr(this).R(r));if(Ln(r))return gr(this.R(gr(r)));if(0>this.X(Vt)&&0>r.X(Vt))return L(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<r.g.length;c++){var f=this.D(s)>>>16,E=65535&this.D(s),N=r.D(c)>>>16,G=65535&r.D(c);t[2*s+2*c]+=E*G,Lr(t,2*s+2*c),t[2*s+2*c+1]+=f*G,Lr(t,2*s+2*c+1),t[2*s+2*c+1]+=E*N,Lr(t,2*s+2*c+1),t[2*s+2*c+2]+=f*N,Lr(t,2*s+2*c+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Rr(t,0)},Oe.gb=function(r){return Fi(this,r).h},Oe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Rr(t,this.h&r.h)},Oe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Rr(t,this.h|r.h)},Oe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Rr(t,this.h^r.h)},Yi.prototype.createWebChannel=Yi.prototype.g,Ni.prototype.send=Ni.prototype.u,Ni.prototype.open=Ni.prototype.m,Ni.prototype.close=Ni.prototype.close,mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,Jn.COMPLETE="complete",tt.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",Qn.prototype.listen=Qn.prototype.O,R.prototype.listenOnce=R.prototype.P,R.prototype.getLastError=R.prototype.Sa,R.prototype.getLastErrorCode=R.prototype.Ia,R.prototype.getStatus=R.prototype.da,R.prototype.getResponseJson=R.prototype.Wa,R.prototype.getResponseText=R.prototype.ja,R.prototype.send=R.prototype.ha,R.prototype.setWithCredentials=R.prototype.Oa,lo.prototype.digest=lo.prototype.l,lo.prototype.reset=lo.prototype.reset,lo.prototype.update=lo.prototype.j,Rr.prototype.add=Rr.prototype.add,Rr.prototype.multiply=Rr.prototype.R,Rr.prototype.modulo=Rr.prototype.gb,Rr.prototype.compare=Rr.prototype.X,Rr.prototype.toNumber=Rr.prototype.ea,Rr.prototype.toString=Rr.prototype.toString,Rr.prototype.getBits=Rr.prototype.D,Rr.fromNumber=L,Rr.fromString=function X(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return gr(X(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=L(Math.pow(e,8)),s=se,c=0;c<r.length;c+=8){var f=Math.min(8,r.length-c),E=parseInt(r.substring(c,c+f),e);8>f?(f=L(Math.pow(e,f)),s=s.R(f).add(L(E))):s=(s=s.R(t)).add(L(E))}return s};var na=$e.createWebChannelTransport=function(){return new Yi},Ao=$e.getStatEventTarget=function(){return Nt()},Ws=$e.ErrorCode=mi,Bs=$e.EventType=Jn,ra=$e.Event=qe,Ks=$e.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ta=$e.FetchXmlHttpFactory=ga,za=$e.WebChannel=tt,zl=$e.XhrIo=R,sl=$e.Md5=lo,va=$e.Integer=Rr;const Gc="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Cl="9.21.0";const Zi=new et.Yd("@firebase/firestore");function mu(){return Zi.logLevel}function hn(r,...e){if(Zi.logLevel<=et.in.DEBUG){const t=e.map(ic);Zi.debug(`Firestore (${Cl}): ${r}`,...t)}}function ss(r,...e){if(Zi.logLevel<=et.in.ERROR){const t=e.map(ic);Zi.error(`Firestore (${Cl}): ${r}`,...t)}}function ci(r,...e){if(Zi.logLevel<=et.in.WARN){const t=e.map(ic);Zi.warn(`Firestore (${Cl}): ${r}`,...t)}}function ic(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Hn(r="Unexpected state"){const e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+r;throw ss(e),new Error(e)}function ir(r,e){r||Hn()}function Fn(r,e){return r}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sn extends Ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ac{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class bl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wl{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const f=Q=>this.i!==c?(c=this.i,t(Q)):Promise.resolve();let E=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ui,e.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const Q=E;e.enqueueRetryable((0,de.Z)(function*(){yield Q.promise,yield f(s.currentUser)}))},G=Q=>{hn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(Q=>G(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?G(Q):(hn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ui)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(hn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ir("string"==typeof s.accessToken),new xo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ir(null===e||"string"==typeof e),new Wi(e)}}class oc{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new oc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ga{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=f=>{null!=f.error&&hn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const E=f.token!==this.T;return this.T=f.token,hn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const c=f=>{hn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.I.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.I.getImmediate({optional:!0});f?c(f):hn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ir("string"==typeof t.token),this.T=t.token,new jo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function co(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ol{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=co(40);for(let f=0;f<c.length;++f)s.length<20&&c[f]<t&&(s+=e.charAt(c[f]%e.length))}return s}}function sr(r,e){return r<e?-1:r>e?1:0}function ia(r,e,t){return r.length===e.length&&r.every((s,c)=>t(s,e[c]))}function Dl(r){return r+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sn(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sn(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sn(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sn(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new oi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new oi(0,0))}static max(){return new rr(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sa{constructor(e,t,s){void 0===t?t=0:t>e.length&&Hn(),void 0===s?s=e.length-t:s>e.length-t&&Hn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Sa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const f=e.get(c),E=t.get(c);if(f<E)return-1;if(f>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vi extends Sa{construct(e,t,s){return new vi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new sn(Lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new vi(t)}static emptyPath(){return new vi([])}}const Kc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Sa{construct(e,t,s){return new Mr(e,t,s)}static isValidIdentifier(e){return Kc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const f=()=>{if(0===s.length)throw new sn(Lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let E=!1;for(;c<e.length;){const N=e[c];if("\\"===N){if(c+1===e.length)throw new sn(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[c+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new sn(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,c+=2}else"`"===N?(E=!E,c++):"."!==N||E?(s+=N,c++):(f(),c++)}if(f(),E)throw new sn(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Pn{constructor(e){this.path=e}static fromPath(e){return new Pn(vi.fromString(e))}static fromName(e){return new Pn(vi.fromString(e).popFirst(5))}static empty(){return new Pn(vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pn(new vi(e.slice()))}}class Kl{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function ac(r){return r.fields.find(e=>2===e.kind)}function Tl(r){return r.fields.filter(e=>2!==e.kind)}Kl.UNKNOWN_ID=-1;class lc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wa(0,Yr.min())}}function Yc(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,c=rr.fromTimestamp(1e9===s?new oi(t+1,0):new oi(t,s));return new Yr(c,Pn.empty(),e)}function Zu(r){return new Yr(r.readTime,r.key,-1)}class Yr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Yr(rr.min(),Pn.empty(),-1)}static max(){return new Yr(rr.max(),Pn.empty(),-1)}}function cc(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pn.comparator(r.documentKey,e.documentKey),0!==t?t:sr(r.largestBatchId,e.largestBatchId))}const Aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vr(r){return Or.apply(this,arguments)}function Or(){return Or=(0,de.Z)(function*(r){if(r.code!==Lt.FAILED_PRECONDITION||r.message!==Aa)throw r;hn("LocalStore","Unexpectedly lost primary lease")}),Or.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rt((s,c)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,c)},this.catchCallback=f=>{this.wrapFailure(t,f).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rt?t:Rt.resolve(t)}catch(t){return Rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.reject(t)}static resolve(e){return new Rt((t,s)=>{t(e)})}static reject(e){return new Rt((t,s)=>{s(e)})}static waitFor(e){return new Rt((t,s)=>{let c=0,f=0,E=!1;e.forEach(N=>{++c,N.next(()=>{++f,E&&f===c&&t()},G=>s(G))}),E=!0,f===c&&t()})}static or(e){let t=Rt.resolve(!1);for(const s of e)t=t.next(c=>c?Rt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,f)=>{s.push(t.call(this,c,f))}),this.waitFor(s)}static mapArray(e,t){return new Rt((s,c)=>{const f=e.length,E=new Array(f);let N=0;for(let G=0;G<f;G++){const Q=G;t(e[Q]).next(ue=>{E[Q]=ue,++N,N===f&&s(E)},ue=>c(ue))}})}static doWhile(e,t){return new Rt((s,c)=>{const f=()=>{!0===e()?t().next(()=>{f()},c):s()};f()})}}class wi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ui,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new _a(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const c=x(s.target.error);this.R.reject(new _a(e,c))}}static open(e,t,s,c){try{return new wi(t,e.transaction(c,s))}catch(f){throw new _a(t,f)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(hn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qi(t)}}class ws{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===ws.S((0,Ze.z$)())&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return hn("SimpleDb","Removing database:",e),fr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ze.hl)())return!1;if(ws.C())return!0;const e=(0,Ze.z$)(),t=ws.S(e),s=0<t&&t<10,c=ws.N(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,de.Z)(function*(){return t.db||(hn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=E=>{s(E.target.result)},f.onblocked=()=>{c(new _a(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const N=E.target.error;c("VersionError"===N.name?new sn(Lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new sn(Lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new _a(e,N))},f.onupgradeneeded=E=>{hn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.$(E.target.result,f.transaction,E.oldVersion,t.version).next(()=>{hn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var f=this;return(0,de.Z)(function*(){const E="readonly"===t;let N=0;for(;;){++N;try{f.db=yield f.O(e);const G=wi.open(f.db,e,E?"readonly":"readwrite",s),Q=c(G).next(ue=>(G.P(),ue)).catch(ue=>(G.abort(ue),Rt.reject(ue))).toPromise();return Q.catch(()=>{}),yield G.v,Q}catch(G){const Q=G,ue="FirebaseError"!==Q.name&&N<3;if(hn("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ue),f.close(),!ue)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return fr(this.L.delete())}}class _a extends sn{constructor(e,t){super(Lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ro(r){return"IndexedDbTransactionError"===r.name}class Qi{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(hn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(hn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),fr(s)}add(e){return hn("SimpleDb","ADD",this.store.name,e,e),fr(this.store.add(e))}get(e){return fr(this.store.get(e)).next(t=>(void 0===t&&(t=null),hn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return hn("SimpleDb","DELETE",this.store.name,e),fr(this.store.delete(e))}count(){return hn("SimpleDb","COUNT",this.store.name),fr(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),f=[];return this.W(c,(E,N)=>{f.push(N)}).next(()=>f)}{const c=this.store.getAll(s.range);return new Rt((f,E)=>{c.onerror=N=>{E(N.target.error)},c.onsuccess=N=>{f(N.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Rt((c,f)=>{s.onerror=E=>{f(E.target.error)},s.onsuccess=E=>{c(E.target.result)}})}J(e,t){hn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const c=this.cursor(s);return this.W(c,(f,E,N)=>N.delete())}X(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.W(c,t)}Z(e){const t=this.cursor({});return new Rt((s,c)=>{t.onerror=f=>{const E=x(f.target.error);c(E)},t.onsuccess=f=>{const E=f.target.result;E?e(E.primaryKey,E.value).next(N=>{N?E.continue():s()}):s()}})}W(e,t){const s=[];return new Rt((c,f)=>{e.onerror=E=>{f(E.target.error)},e.onsuccess=E=>{const N=E.target.result;if(!N)return void c();const G=new Zc(N),Q=t(N.primaryKey,N.value,G);if(Q instanceof Rt){const ue=Q.catch(Xe=>(G.done(),Rt.reject(Xe)));s.push(ue)}G.isDone?c():null===G.K?N.continue():N.continue(G.K)}}).next(()=>Rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fr(r){return new Rt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const c=x(s.target.error);t(c)}})}let S=!1;function x(r){const e=ws.S((0,Ze.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return S||(S=!0,setTimeout(()=>{throw s},0)),s}}return r}class w{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;hn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,de.Z)(function*(){t.task=null;try{hn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Ro(s)?hn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield vr(s)}yield t.et(6e4)}))}}class k{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,de.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let c=t,f=!0;return Rt.doWhile(()=>!0===f&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!s.has(E))return hn("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,c).next(N=>{c-=N,s.add(E)});f=!1})).next(()=>t-c)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(f=>{const E=f.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(c,f)).next(N=>(hn("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>E.size)}))}rt(e,t){let s=e;return t.changes.forEach((c,f)=>{const E=Zu(f);cc(E,s)>0&&(s=E)}),new Yr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let z=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>s.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ie(r){return null==r}function le(r){return 0===r&&1/r==-1/0}function nt(r){return"number"==typeof r&&Number.isInteger(r)&&!le(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Pt(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Bn(e)),e=pn(r.get(t),e);return Bn(e)}function pn(r,e){let t=e;const s=r.length;for(let c=0;c<s;c++){const f=r.charAt(c);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Bn(r){return r+"\x01\x01"}function On(r){const e=r.length;if(ir(e>=2),2===e)return ir("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),vi.emptyPath();const t=e-2,s=[];let c="";for(let f=0;f<e;){const E=r.indexOf("\x01",f);switch((E<0||E>t)&&Hn(),r.charAt(E+1)){case"\x01":const N=r.substring(f,E);let G;0===c.length?G=N:(c+=N,G=c,c=""),s.push(G);break;case"\x10":c+=r.substring(f,E),c+="\0";break;case"\x11":c+=r.substring(f,E+1);break;default:Hn()}f=E+2}return new vi(s)}const Ci=["userId","batchId"];function Li(r,e){return[r,Pt(e)]}function qs(r,e,t){return[r,Pt(e),t]}const Io={},Mo=["prefixPath","collectionGroup","readTime","documentId"],$s=["prefixPath","collectionGroup","documentId"],Ar=["collectionGroup","readTime","prefixPath","documentId"],Sl=["canonicalId","targetId"],Ys=["targetId","path"],Xc=["path","targetId"],Ka=["collectionId","parent"],al=["indexId","uid"],sa=["uid","sequenceNumber"],Xu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ea=["indexId","uid","orderedDocumentKey"],_u=["userId","collectionPath","documentId"],Eu=["userId","collectionPath","largestBatchId"],Ld=["userId","collectionGroup","largestBatchId"],Iu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bd=[...Iu,"documentOverlays"],Qu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ql=Qu,uc=[...ql,"indexConfiguration","indexState","indexEntries"];class Ju extends Mi{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Ss(r,e){const t=Fn(r);return ws.M(t.at,e)}function Sh(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function xa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function wu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tr{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?s(e.key,t):1,t&&c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,s,c,f){this.key=e,this.value=t,this.color=null!=s?s:Cs.RED,this.left=null!=c?c:Cs.EMPTY,this.right=null!=f?f:Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,f){return new Cs(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const f=s(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===f?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Cs.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Hn();const e=this.left.check();if(e!==this.right.check())throw Hn();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Hn()}get value(){throw Hn()}get color(){throw Hn()}get left(){throw Hn()}get right(){throw Hn()}copy(r,e,t,s,c){return this}insert(r,e,t){return new Cs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ki{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xc(this.data.getIterator())}getIteratorFrom(e){return new xc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=s.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ki(this.comparator);return t.data=e,t}}class xc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Po(r){return r.hasNext()?r.getNext():void 0}class ys{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new ys([])}unionWith(e){let t=new Ki(Mr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class hc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hc("Invalid base64 string: "+c):c}}(e);return new Zs(t)}static fromUint8Array(e){const t=function(s){let c="";for(let f=0;f<s.length;++f)c+=String.fromCharCode(s[f]);return c}(e);return new Zs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zs.EMPTY_BYTE_STRING=new Zs("");const ed=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(r){if(ir(!!r),"string"==typeof r){let e=0;const t=ed.exec(r);if(ir(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Hr(r.seconds),nanos:Hr(r.nanos)}}function Hr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Us(r){return"string"==typeof r?Zs.fromBase64String(r):Zs.fromUint8Array(r)}function Rc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fc(r){const e=r.mapValue.fields.__previous_value__;return Rc(e)?fc(e):e}function Zl(r){const e=Yl(r.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}class ks{constructor(e,t,s,c,f,E,N,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=N,this.useFetchStreams=G}}class Ho{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}const uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cu={nullValue:"NULL_VALUE"};function ll(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rc(r)?4:Nr(r)?9007199254740991:10:Hn()}function wo(r,e){if(r===e)return!0;const t=ll(r);if(t!==ll(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const f=Yl(s.timestampValue),E=Yl(c.timestampValue);return f.seconds===E.seconds&&f.nanos===E.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Us(r.bytesValue).isEqual(Us(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,c){return Hr(s.geoPointValue.latitude)===Hr(c.geoPointValue.latitude)&&Hr(s.geoPointValue.longitude)===Hr(c.geoPointValue.longitude)}(r,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Hr(s.integerValue)===Hr(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const f=Hr(s.doubleValue),E=Hr(c.doubleValue);return f===E?le(f)===le(E):isNaN(f)&&isNaN(E)}return!1}(r,e);case 9:return ia(r.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(s,c){const f=s.mapValue.fields||{},E=c.mapValue.fields||{};if(Sh(f)!==Sh(E))return!1;for(const N in f)if(f.hasOwnProperty(N)&&(void 0===E[N]||!wo(f[N],E[N])))return!1;return!0}(r,e);default:return Hn()}var c}function Qc(r,e){return void 0!==(r.values||[]).find(t=>wo(t,e))}function qa(r,e){if(r===e)return 0;const t=ll(r),s=ll(e);if(t!==s)return sr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return sr(r.booleanValue,e.booleanValue);case 2:return function(c,f){const E=Hr(c.integerValue||c.doubleValue),N=Hr(f.integerValue||f.doubleValue);return E<N?-1:E>N?1:E===N?0:isNaN(E)?isNaN(N)?0:-1:1}(r,e);case 3:return Ah(r.timestampValue,e.timestampValue);case 4:return Ah(Zl(r),Zl(e));case 5:return sr(r.stringValue,e.stringValue);case 6:return function(c,f){const E=Us(c),N=Us(f);return E.compareTo(N)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const E=c.split("/"),N=f.split("/");for(let G=0;G<E.length&&G<N.length;G++){const Q=sr(E[G],N[G]);if(0!==Q)return Q}return sr(E.length,N.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const E=sr(Hr(c.latitude),Hr(f.latitude));return 0!==E?E:sr(Hr(c.longitude),Hr(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,f){const E=c.values||[],N=f.values||[];for(let G=0;G<E.length&&G<N.length;++G){const Q=qa(E[G],N[G]);if(Q)return Q}return sr(E.length,N.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===uo.mapValue&&f===uo.mapValue)return 0;if(c===uo.mapValue)return 1;if(f===uo.mapValue)return-1;const E=c.fields||{},N=Object.keys(E),G=f.fields||{},Q=Object.keys(G);N.sort(),Q.sort();for(let ue=0;ue<N.length&&ue<Q.length;++ue){const Xe=sr(N[ue],Q[ue]);if(0!==Xe)return Xe;const Mt=qa(E[N[ue]],G[Q[ue]]);if(0!==Mt)return Mt}return sr(N.length,Q.length)}(r.mapValue,e.mapValue);default:throw Hn()}}function Ah(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return sr(r,e);const t=Yl(r),s=Yl(e),c=sr(t.seconds,s.seconds);return 0!==c?c:sr(t.nanos,s.nanos)}function P(r){return $(r)}function $(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const c=Yl(s);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Us(r.bytesValue).toBase64():"referenceValue"in r?Pn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let c="[",f=!0;for(const E of s.values||[])f?f=!1:c+=",",c+=$(E);return c+"]"}(r.arrayValue):"mapValue"in r?function(s){const c=Object.keys(s.fields||{}).sort();let f="{",E=!0;for(const N of c)E?E=!1:f+=",",f+=`${N}:${$(s.fields[N])}`;return f+"}"}(r.mapValue):Hn();var e}function Ie(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function st(r){return!!r&&"integerValue"in r}function It(r){return!!r&&"arrayValue"in r}function Gt(r){return!!r&&"nullValue"in r}function wn(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xn(r){return!!r&&"mapValue"in r}function Zn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return xa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zn(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Nr(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fr(r){return"nullValue"in r?Cu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ie(Ho.empty(),Pn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Hn()}function ho(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ie(Ho.empty(),Pn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?uo:Hn()}function As(r,e){const t=qa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function cl(r,e){const t=qa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zn(t)}setAll(e){let t=Mr.emptyPath(),s={},c=[];e.forEach((E,N)=>{if(!t.isImmediateParentOf(N)){const G=this.getFieldsMap(t);this.applyChanges(G,s,c),s={},c=[],t=N.popLast()}E?s[N.lastSegment()]=Zn(E):c.push(N.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,s,c)}delete(e){const t=this.field(e.popLast());xn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];xn(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){xa(t,(c,f)=>e[c]=f);for(const c of s)delete e[c]}clone(){return new Xs(Zn(this.value))}}function Al(r){const e=[];return xa(r.fields,(t,s)=>{const c=new Mr([t]);if(xn(s)){const f=Al(s.mapValue).fields;if(0===f.length)e.push(c);else for(const E of f)e.push(c.child(E))}else e.push(c)}),new ys(e)}class _i{constructor(e,t,s,c,f,E,N){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=f,this.data=E,this.documentState=N}static newInvalidDocument(e){return new _i(e,0,rr.min(),rr.min(),rr.min(),Xs.empty(),0)}static newFoundDocument(e,t,s,c){return new _i(e,1,t,rr.min(),s,c,0)}static newNoDocument(e,t){return new _i(e,2,t,rr.min(),rr.min(),Xs.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,rr.min(),rr.min(),Xs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oo{constructor(e,t){this.position=e,this.inclusive=t}}function Jc(r,e,t){let s=0;for(let c=0;c<r.position.length;c++){const f=e[c],E=r.position[c];if(s=f.field.isKeyField()?Pn.comparator(Pn.fromName(E.referenceValue),t.key):qa(E,t.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function bu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wo(r.position[t],e.position[t]))return!1;return!0}class zo{constructor(e,t="asc"){this.field=e,this.dir=t}}function Du(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Tu{}class fi extends Tu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Lp(e,t,s):"array-contains"===t?new Ud(e,s):"in"===t?new Pl(e,s):"not-in"===t?new td(e,s):"array-contains-any"===t?new Vd(e,s):new fi(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Rh(e,s):new Ml(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qa(t,this.value)):null!==t&&ll(this.value)===ll(t)&&this.matchesComparison(qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bi extends Tu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new bi(e,t)}matches(e){return Ya(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ya(r){return"and"===r.op}function xl(r){return"or"===r.op}function Za(r){return Rl(r)&&Ya(r)}function Rl(r){for(const e of r.filters)if(e instanceof bi)return!1;return!0}function $d(r){if(r instanceof fi)return r.field.canonicalString()+r.op.toString()+P(r.value);if(Za(r))return r.filters.map(e=>$d(e)).join(",");{const e=r.filters.map(t=>$d(t)).join(",");return`${r.op}(${e})`}}function Rf(r,e){return r instanceof fi?(t=r,(s=e)instanceof fi&&t.op===s.op&&t.field.isEqual(s.field)&&wo(t.value,s.value)):r instanceof bi?function(t,s){return s instanceof bi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,f,E)=>c&&Rf(f,s.filters[E]),!0)}(r,e):void Hn();var t,s}function Mc(r,e){const t=r.filters.concat(e);return bi.create(t,r.op)}function xh(r){return r instanceof fi?`${(e=r).field.canonicalString()} ${e.op} ${P(e.value)}`:r instanceof bi?function(e){return e.op.toString()+" {"+e.getFilters().map(xh).join(" ,")+"}"}(r):"Filter";var e}class Lp extends fi{constructor(e,t,s){super(e,t,s),this.key=Pn.fromName(s.referenceValue)}matches(e){const t=Pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rh extends fi{constructor(e,t){super(e,"in",t),this.keys=Mh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ml extends fi{constructor(e,t){super(e,"not-in",t),this.keys=Mh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Pn.fromName(s.referenceValue))}class Ud extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return It(t)&&Qc(t.arrayValue,this.value)}}class Pl extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qc(this.value.arrayValue,t)}}class td extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qc(this.value.arrayValue,t)}}class Vd extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!It(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Qc(this.value.arrayValue,s))}}class os{constructor(e,t=null,s=[],c=[],f=null,E=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=E,this.endAt=N,this.ft=null}}function Xa(r,e=null,t=[],s=[],c=null,f=null,E=null){return new os(r,e,t,s,c,f,E)}function Qa(r){const e=Fn(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>$d(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),ie(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>P(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>P(s)).join(",")),e.ft=t}return e.ft}function Pc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Du(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rf(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bu(r.startAt,e.startAt)&&bu(r.endAt,e.endAt)}function Su(r){return Pn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Ra(r,e){return r.filters.filter(t=>t instanceof fi&&t.field.isEqual(e))}function pc(r,e,t){let s=Cu,c=!0;for(const f of Ra(r,e)){let E=Cu,N=!0;switch(f.op){case"<":case"<=":E=Fr(f.value);break;case"==":case"in":case">=":E=f.value;break;case">":E=f.value,N=!1;break;case"!=":case"not-in":E=Cu}As({value:s,inclusive:c},{value:E,inclusive:N})<0&&(s=E,c=N)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const E=t.position[f];As({value:s,inclusive:c},{value:E,inclusive:t.inclusive})<0&&(s=E,c=t.inclusive);break}return{value:s,inclusive:c}}function jd(r,e,t){let s=uo,c=!0;for(const f of Ra(r,e)){let E=uo,N=!0;switch(f.op){case">=":case">":E=ho(f.value),N=!1;break;case"==":case"in":case"<=":E=f.value;break;case"<":E=f.value,N=!1;break;case"!=":case"not-in":E=uo}cl({value:s,inclusive:c},{value:E,inclusive:N})>0&&(s=E,c=N)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const E=t.position[f];cl({value:s,inclusive:c},{value:E,inclusive:t.inclusive})>0&&(s=E,c=t.inclusive);break}return{value:s,inclusive:c}}class oa{constructor(e,t=null,s=[],c=[],f=null,E="F",N=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=f,this.limitType=E,this.startAt=N,this.endAt=G,this.dt=null,this._t=null}}function Ph(r,e,t,s,c,f,E,N){return new oa(r,e,t,s,c,f,E,N)}function Ma(r){return new oa(r)}function Hd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function gc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function nd(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zd(r){return null!==r.collectionGroup}function Ol(r){const e=Fn(r);if(null===e.dt){e.dt=[];const t=nd(e),s=gc(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new zo(t)),e.dt.push(new zo(Mr.keyField(),"asc"));else{let c=!1;for(const f of e.explicitOrderBy)e.dt.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new zo(Mr.keyField(),f))}}}return e.dt}function ko(r){const e=Fn(r);if(!e._t)if("F"===e.limitType)e._t=Xa(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Ol(e))t.push(new zo(f.field,"desc"===f.dir?"asc":"desc"));const s=e.endAt?new Oo(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Oo(e.startAt.position,e.startAt.inclusive):null;e._t=Xa(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function Au(r,e){e.getFirstInequalityField(),nd(r);const t=r.filters.concat([e]);return new oa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function eu(r,e,t){return new oa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mc(r,e){return Pc(ko(r),ko(e))&&r.limitType===e.limitType}function rd(r){return`${Qa(ko(r))}|lt:${r.limitType}`}function xu(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>xh(s)).join(", ")}]`),ie(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>P(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>P(s)).join(",")),`Target(${t})`}(ko(r))}; limitType=${r.limitType})`}function tu(r,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Pn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,s){for(const c of Ol(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(r,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(c,f,E){const N=Jc(c,f,E);return c.inclusive?N<=0:N<0}(t.startAt,Ol(t),s)||t.endAt&&!function(c,f,E){const N=Jc(c,f,E);return c.inclusive?N>=0:N>0}(t.endAt,Ol(t),s)));var t,s}function nu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mf(r){return(e,t)=>{let s=!1;for(const c of Ol(r)){const f=Pf(c,e,t);if(0!==f)return f;s=s||c.field.isKeyField()}return 0}}function Pf(r,e,t){const s=r.field.isKeyField()?Pn.comparator(e.key,t.key):function(c,f,E){const N=f.data.field(c),G=E.data.field(c);return null!==N&&null!==G?qa(N,G):Hn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Hn()}}class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,f]of s)if(this.equalsFn(c,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,s)=>{for(const[c,f]of s)e(c,f)})}isEmpty(){return wu(this.inner)}size(){return this.innerSize}}const Bp=new Tr(Pn.comparator);function Qs(){return Bp}const id=new Tr(Pn.comparator);function Oc(...r){let e=id;for(const t of r)e=e.insert(t.key,t);return e}function kc(r){let e=id;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ul(){return Ru()}function vc(){return Ru()}function Ru(){return new yc(r=>r.toString(),(r,e)=>r.isEqual(e))}const Oh=new Tr(Pn.comparator),Of=new Ki(Pn.comparator);function Qr(...r){let e=Of;for(const t of r)e=e.add(t);return e}const sd=new Ki(sr);function od(){return sd}function ad(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(e)?"-0":e}}function ld(r){return{integerValue:""+r}}function aa(r,e){return nt(e)?ld(e):ad(r,e)}class _c{constructor(){this._=void 0}}function Gd(r,e,t){return r instanceof Ec?function(s,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&Rc(c)&&(c=fc(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(t,e):r instanceof iu?Wd(r,e):r instanceof Ic?wc(r,e):function(s,c){const f=ru(s,c),E=Mu(f)+Mu(s.wt);return st(f)&&st(s.wt)?ld(E):ad(s.serializer,E)}(r,e)}function cd(r,e,t){return r instanceof iu?Wd(r,e):r instanceof Ic?wc(r,e):t}function ru(r,e){return r instanceof Pa?st(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ec extends _c{}class iu extends _c{constructor(e){super(),this.elements=e}}function Wd(r,e){const t=kf(e);for(const s of r.elements)t.some(c=>wo(c,s))||t.push(s);return{arrayValue:{values:t}}}class Ic extends _c{constructor(e){super(),this.elements=e}}function wc(r,e){let t=kf(e);for(const s of r.elements)t=t.filter(c=>!wo(c,s));return{arrayValue:{values:t}}}class Pa extends _c{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Mu(r){return Hr(r.integerValue||r.doubleValue)}function kf(r){return It(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Kd{constructor(e,t){this.field=e,this.transform=t}}class Ja{constructor(e,t){this.version=e,this.transformResults=t}}class vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Pu{}function kl(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new C(r.key,vs.none()):new la(r.key,r.data,vs.none());{const t=r.data,s=Xs.empty();let c=new Ki(Mr.comparator);for(let f of e.fields)if(!c.has(f)){let E=t.field(f);null===E&&f.length>1&&(f=f.popLast(),E=t.field(f)),null===E?s.delete(f):s.set(f,E),c=c.add(f)}return new el(r.key,s,new ys(c.toArray()),vs.none())}}function dd(r,e,t){r instanceof la?function(s,c,f){const E=s.value.clone(),N=pd(s.fieldTransforms,c,f.transformResults);E.setAll(N),c.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(r,e,t):r instanceof el?function(s,c,f){if(!ud(s.precondition,c))return void c.convertToUnknownDocument(f.version);const E=pd(s.fieldTransforms,c,f.transformResults),N=c.data;N.setAll(kh(s)),N.setAll(E),c.convertToFoundDocument(f.version,N).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function su(r,e,t,s){return r instanceof la?function(c,f,E,N){if(!ud(c.precondition,f))return E;const G=c.value.clone(),Q=qd(c.fieldTransforms,N,f);return G.setAll(Q),f.convertToFoundDocument(f.version,G).setHasLocalMutations(),null}(r,e,t,s):r instanceof el?function(c,f,E,N){if(!ud(c.precondition,f))return E;const G=qd(c.fieldTransforms,N,f),Q=f.data;return Q.setAll(kh(c)),Q.setAll(G),f.convertToFoundDocument(f.version,Q).setHasLocalMutations(),null===E?null:E.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ue=>ue.field))}(r,e,t,s):(E=t,ud(r.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):E);var f,E}function hd(r,e){let t=null;for(const s of r.fieldTransforms){const c=e.data.field(s.field),f=ru(s.transform,c||null);null!=f&&(null===t&&(t=Xs.empty()),t.set(s.field,f))}return t||null}function fd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&ia(t,s,(c,f)=>function $p(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof iu&&s instanceof iu||t instanceof Ic&&s instanceof Ic?ia(t.elements,s.elements,wo):t instanceof Pa&&s instanceof Pa?wo(t.wt,s.wt):t instanceof Ec&&s instanceof Ec);var t,s}(c,f))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class la extends Pu{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class el extends Pu{constructor(e,t,s,c,f=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function kh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function pd(r,e,t){const s=new Map;ir(r.length===t.length);for(let c=0;c<t.length;c++){const f=r[c],E=f.transform,N=e.data.field(f.field);s.set(f.field,cd(E,N,t[c]))}return s}function qd(r,e,t){const s=new Map;for(const c of r){const f=c.transform,E=t.data.field(c.field);s.set(c.field,Gd(f,E,e))}return s}class C extends Pu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g extends Pu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(e.key)&&dd(f,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=vc();return this.mutations.forEach(c=>{const f=e.get(c.key),E=f.overlayedDocument;let N=this.applyToLocalView(E,f.mutatedFields);N=t.has(c.key)?null:N;const G=kl(E,N);null!==G&&s.set(c.key,G),E.isValidDocument()||E.convertToNoDocument(rr.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qr())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,s)=>fd(t,s))&&ia(this.baseMutations,e.baseMutations,(t,s)=>fd(t,s))}}class A{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){ir(e.mutations.length===s.length);let c=Oh;const f=e.mutations;for(let E=0;E<f.length;E++)c=c.insert(f[E].key,s[E].version);return new A(e,t,s,c)}}class K{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Je{constructor(e,t){this.count=e,this.unchangedNames=t}}var mt,Kt;function kn(r){switch(r){default:return Hn();case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0}}function er(r){if(void 0===r)return ss("GRPC error has no .code"),Lt.UNKNOWN;switch(r){case mt.OK:return Lt.OK;case mt.CANCELLED:return Lt.CANCELLED;case mt.UNKNOWN:return Lt.UNKNOWN;case mt.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case mt.INTERNAL:return Lt.INTERNAL;case mt.UNAVAILABLE:return Lt.UNAVAILABLE;case mt.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case mt.NOT_FOUND:return Lt.NOT_FOUND;case mt.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case mt.ABORTED:return Lt.ABORTED;case mt.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case mt.DATA_LOSS:return Lt.DATA_LOSS;default:return Hn()}}(Kt=mt||(mt={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class nr{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return as}static getOrCreateInstance(){return null===as&&(as=new nr),as}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let as=null;function Go(){return new TextEncoder}const Yd=new va([4294967295,4294967295],0);function dl(r){const e=Go().encode(r),t=new sl;return t.update(e),new Uint8Array(t.digest())}function Nc(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new va([t,s],0),new va([c,f],0)]}class Ns{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(s<0)throw new Ou(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ou(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=va.fromNumber(this.yt)}Tt(e,t,s){let c=e.add(t.multiply(va.fromNumber(s)));return 1===c.compare(Yd)&&(c=new va([c.getBits(0),c.getBits(1)],0)),c.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=dl(e),[s,c]=Nc(t);for(let f=0;f<this.hashCount;f++){const E=this.Tt(s,c,f);if(!this.Et(E))return!1}return!0}static create(e,t,s){const c=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),E=new Ns(f,c,t);return s.forEach(N=>E.insert(N)),E}insert(e){if(0===this.yt)return;const t=dl(e),[s,c]=Nc(t);for(let f=0;f<this.hashCount;f++){const E=this.Tt(s,c,f);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ou{constructor(e,t,s,c,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ou(rr.min(),c,new Tr(sr),Qs(),Qr())}}class Xl{constructor(e,t,s,c,f){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xl(s,t,Qr(),Qr(),Qr())}}class au{constructor(e,t,s,c){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=c}}class Zd{constructor(e,t){this.targetId=e,this.bt=t}}class gd{constructor(e,t,s=Zs.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class md{constructor(){this.Vt=0,this.St=Og(),this.Dt=Zs.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Qr(),t=Qr(),s=Qr();return this.St.forEach((c,f)=>{switch(f){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:Hn()}}),new Xl(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Og()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Nh{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Qs(),this.jt=Fc(),this.zt=new Tr(sr)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:Hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,c)=>{this.Zt(c)&&t(c)})}ee(e){var t;const s=e.targetId,c=e.bt.count,f=this.ne(s);if(f){const E=f.target;if(Su(E))if(0===c){const N=new Pn(E.path);this.Jt(s,N,_i.newNoDocument(N,rr.min()))}else ir(1===c);else{const N=this.se(s);if(N!==c){const G=this.ie(e,N);0!==G&&(this.te(s),this.zt=this.zt.insert(s,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=nr.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Q,ue,Xe){var Mt,rn,Sn,Mn,ur,ei;const Bi={localCacheCount:ue,existenceFilterCount:Xe.count},ti=Xe.unchangedNames;return ti&&(Bi.bloomFilter={applied:0===Q,hashCount:null!==(Mt=null==ti?void 0:ti.hashCount)&&void 0!==Mt?Mt:0,bitmapLength:null!==(Mn=null===(Sn=null===(rn=null==ti?void 0:ti.bits)||void 0===rn?void 0:rn.bitmap)||void 0===Sn?void 0:Sn.length)&&void 0!==Mn?Mn:0,padding:null!==(ei=null===(ur=null==ti?void 0:ti.bits)||void 0===ur?void 0:ur.padding)&&void 0!==ei?ei:0}),Bi}(G,N,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:c}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:f="",padding:E=0},hashCount:N=0}=s;let G,Q;try{G=Us(f).toUint8Array()}catch(ue){if(ue instanceof hc)return ci("Decoding the base64 bloom filter in existence filter failed ("+ue.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ue}try{Q=new Ns(G,E,N)}catch(ue){return ci(ue instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",ue),1}return 0===Q.yt?1:c!==t-this.re(e.targetId,Q)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let c=0;return s.forEach(f=>{const E=this.Kt.oe(),N=`projects/${E.projectId}/databases/${E.database}/documents/${f.path.canonicalString()}`;t.At(N)||(this.Jt(e,f,null),c++)}),c}ue(e){const t=new Map;this.Gt.forEach((f,E)=>{const N=this.ne(E);if(N){if(f.current&&Su(N.target)){const G=new Pn(N.target.path);null!==this.Qt.get(G)||this.ce(E,G)||this.Jt(E,G,_i.newNoDocument(G,e))}f.kt&&(t.set(E,f.Ot()),f.$t())}});let s=Qr();this.jt.forEach((f,E)=>{let N=!0;E.forEachWhile(G=>{const Q=this.ne(G);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(N=!1,!1)}),N&&(s=s.add(f))}),this.Qt.forEach((f,E)=>E.setReadTime(e));const c=new ou(e,t,this.zt,this.Qt,s);return this.Qt=Qs(),this.jt=Fc(),this.zt=new Tr(sr),c}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const c=this.Xt(e);this.ce(e,t)?c.Ft(t,1):c.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new md,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Ki(sr),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||hn("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new md),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Fc(){return new Tr(Pn.comparator)}function Og(){return new Tr(Pn.comparator)}const Wm={asc:"ASCENDING",desc:"DESCENDING"},Xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yd={and:"AND",or:"OR"};class Fh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qd(r,e){return r.useProto3Json||ie(e)?e:{value:e}}function lu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kg(r,e){return lu(r,e.toTimestamp())}function xs(r){return ir(!!r),rr.fromTimestamp(function(e){const t=Yl(e);return new oi(t.seconds,t.nanos)}(r))}function Ff(r,e){return(t=r,new vi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Lf(r){const e=vi.fromString(r);return ir(th(e)),e}function Bf(r,e){return Ff(r.databaseId,e.path)}function hl(r,e){const t=Lf(e);if(t.get(1)!==r.databaseId.projectId)throw new sn(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new sn(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Pn(Up(t))}function Lh(r,e){return Ff(r.databaseId,e)}function $f(r){const e=Lf(r);return 4===e.length?vi.emptyPath():Up(e)}function vd(r){return new vi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Up(r){return ir(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function ku(r,e,t){return{name:Bf(r,e),fields:t.value.mapValue.fields}}function Vp(r,e,t){const s=hl(r,e.name),c=xs(e.updateTime),f=e.createTime?xs(e.createTime):rr.min(),E=new Xs({mapValue:{fields:e.fields}}),N=_i.newFoundDocument(s,c,f,E);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}function _d(r,e){let t;if(e instanceof la)t={update:ku(r,e.key,e.value)};else if(e instanceof C)t={delete:Bf(r,e.key)};else if(e instanceof el)t={update:ku(r,e.key,e.data),updateMask:zp(e.fieldMask)};else{if(!(e instanceof g))return Hn();t={verify:Bf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const E=f.transform;if(E instanceof Ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Ic)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Pa)return{fieldPath:f.field.canonicalString(),increment:E.wt};throw Hn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:kg(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Hn()),t;var c}function Nu(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?vs.updateTime(xs(c.updateTime)):void 0!==c.exists?vs.exists(c.exists):vs.none():vs.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(f,E){let N=null;"setToServerValue"in E?(ir("REQUEST_TIME"===E.setToServerValue),N=new Ec):"appendMissingElements"in E?N=new iu(E.appendMissingElements.values||[]):"removeAllFromArray"in E?N=new Ic(E.removeAllFromArray.values||[]):"increment"in E?N=new Pa(f,E.increment):Hn();const G=Mr.fromServerFormat(E.fieldPath);return new Kd(G,N)}(r,c)):[];var c;if(e.update){const c=hl(r,e.update.name),f=new Xs({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new ys((e.updateMask.fieldPaths||[]).map(Q=>Mr.fromServerFormat(Q)));return new el(c,f,E,t,s)}return new la(c,f,t,s)}if(e.delete){const c=hl(r,e.delete);return new C(c,t)}if(e.verify){const c=hl(r,e.verify);return new g(c,t)}return Hn()}function Bc(r,e){return{documents:[Lh(r,e.path)]}}function $h(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Lh(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lh(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(G){if(0!==G.length)return jf(bi.create(G,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const f=function(G){if(0!==G.length)return G.map(Q=>{return{field:Fu((ue=Q).field),direction:Ng(ue.dir)};var ue})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const E=Qd(r,e.limit);var N,G;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function Uf(r){let e=$f(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){ir(1===s);const ue=t.from[0];ue.allDescendants?c=ue.collectionId:e=e.child(ue.collectionId)}let f=[];t.where&&(f=function(ue){const Xe=jp(ue);return Xe instanceof bi&&Za(Xe)?Xe.getFilters():[Xe]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(ue=>{return new zo(eh((Xe=ue).field),function(Mt){switch(Mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xe.direction));var Xe}));let N=null;t.limit&&(N=function(ue){let Xe;return Xe="object"==typeof ue?ue.value:ue,ie(Xe)?null:Xe}(t.limit));let G=null;var ue;t.startAt&&(G=new Oo((ue=t.startAt).values||[],!!ue.before));let Q=null;return t.endAt&&(Q=function(ue){return new Oo(ue.values||[],!ue.before)}(t.endAt)),Ph(e,c,E,f,N,"F",G,Q)}function jp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eh(e.unaryFilter.field);return fi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=eh(e.unaryFilter.field);return fi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eh(e.unaryFilter.field);return fi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eh(e.unaryFilter.field);return fi.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Hn()}}(r):void 0!==r.fieldFilter?fi.create(eh((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return bi.create(e.compositeFilter.filters.map(t=>jp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Hn()}}(e.compositeFilter.op))}(r):Hn();var e}function Ng(r){return Wm[r]}function $c(r){return Xd[r]}function Hp(r){return yd[r]}function Fu(r){return{fieldPath:r.canonicalString()}}function eh(r){return Mr.fromServerFormat(r.fieldPath)}function jf(r){return r instanceof fi?function(e){if("=="===e.op){if(wn(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(Gt(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wn(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(Gt(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:$c(e.op),value:e.value}}}(r):r instanceof bi?function(e){const t=e.getFilters().map(s=>jf(s));return 1===t.length?t[0]:{compositeFilter:{op:Hp(e.op),filters:t}}}(r):Hn()}function zp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function th(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Uc{constructor(e,t,s,c,f=rr.min(),E=rr.min(),N=Zs.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=N,this.expectedCount=G}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gp{constructor(e){this.le=e}}function Cc(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ql(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Bf(c=r.le,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:lu(c,f.version.toTimestamp()),createTime:lu(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ed(e.version)};else{if(!e.isUnknownDocument())return Hn();s.unknownDocument={path:t.path.toArray(),version:Ed(e.version)}}var c,f;return s}function Ql(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ed(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(r){const e=new oi(r.seconds,r.nanoseconds);return rr.fromTimestamp(e)}function Fl(r,e){const t=(e.baseMutations||[]).map(f=>Nu(r.le,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>Nu(r.le,f)),c=oi.fromMillis(e.localWriteTimeMs);return new m(e.batchId,c,t,s)}function cu(r){const e=Nl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Nl(r.lastLimboFreeSnapshotVersion):rr.min();let s;var c;return void 0!==r.query.documents?(ir(1===(c=r.query).documents.length),s=ko(Ma($f(c.documents[0])))):s=ko(Uf(r.query)),new Uc(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Zs.fromBase64String(r.resumeToken))}function Id(r,e){const t=Ed(e.snapshotVersion),s=Ed(e.lastLimboFreeSnapshotVersion);let c;c=Su(e.target)?Bc(r.le,e.target):$h(r.le,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Wp(r){const e=Uf({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?eu(e,e.limit,"L"):e}function fl(r,e){return new K(e.largestBatchId,Nu(r.le,e.overlayMutation))}function Kp(r,e){const t=e.path.lastSegment();return[r,Pt(e.path.popLast()),t]}function qp(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ed(s.readTime),documentKey:Pt(s.documentKey.path),largestBatchId:s.largestBatchId}}class Uh{getBundleMetadata(e,t){return Vh(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Nl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Vh(e).put({bundleId:(s=t).id,createTime:Ed(xs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Oa(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:Wp(c.bundledQuery),readTime:Nl(c.readTime)};var c})}saveNamedQuery(e,t){return Oa(e).put({name:(s=t).name,readTime:Ed(xs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Vh(r){return Ss(r,"bundles")}function Oa(r){return Ss(r,"namedQueries")}class jh{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new jh(e,t.uid||"")}getOverlay(e,t){return wd(e).get(Kp(this.userId,t)).next(s=>s?fl(this.serializer,s):null)}getOverlays(e,t){const s=ul();return Rt.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&s.set(c,f)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((f,E)=>{const N=new K(t,E);c.push(this.de(e,N))}),Rt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(E=>c.add(Pt(E.getCollectionPath())));const f=[];return c.forEach(E=>{const N=IDBKeyRange.bound([this.userId,E,s],[this.userId,E,s+1],!1,!0);f.push(wd(e).J("collectionPathOverlayIndex",N))}),Rt.waitFor(f)}getOverlaysForCollection(e,t,s){const c=ul(),f=Pt(t),E=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return wd(e).j("collectionPathOverlayIndex",E).next(N=>{for(const G of N){const Q=fl(this.serializer,G);c.set(Q.getKey(),Q)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const f=ul();let E;const N=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wd(e).X({index:"collectionGroupOverlayIndex",range:N},(G,Q,ue)=>{const Xe=fl(this.serializer,Q);f.size()<c||Xe.largestBatchId===E?(f.set(Xe.getKey(),Xe),E=Xe.largestBatchId):ue.done()}).next(()=>f)}de(e,t){return wd(e).put(function(s,c,f){const[E,N,G]=Kp(c,f.mutation.key);return{userId:c,collectionPath:N,documentId:G,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:_d(s.le,f.mutation)}}(this.serializer,this.userId,t))}}function wd(r){return Ss(r,"documentOverlays")}class Jl{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Hr(e.integerValue));else if("doubleValue"in e){const s=Hr(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),le(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Us(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Nr(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Hn()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const c of Object.keys(s))this.Ie(c,t),this.we(s[c],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const c of s)this.we(c,t)}Ae(e,t){this.ge(t,37),Pn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Km(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Fg(r){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const f=Km(255&t[c]);if(s+=f,8!==f)break}return s}(r);return Math.ceil(e/8)}Jl.be=new Jl;class qm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Se(s.value),s=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.xe(s.value),s=t.next();this.Ne()}ke(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Se(s);else if(s<2048)this.Se(960|s>>>6),this.Se(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Se(480|s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s);else{const c=t.codePointAt(0);this.Se(240|c>>>18),this.Se(128|63&c>>>12),this.Se(128|63&c>>>6),this.Se(128|63&c)}}this.De()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.xe(s);else if(s<2048)this.xe(960|s>>>6),this.xe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.xe(480|s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s);else{const c=t.codePointAt(0);this.xe(240|c>>>18),this.xe(128|63&c>>>12),this.xe(128|63&c>>>6),this.xe(128|63&c)}}this.Ne()}Oe(e){const t=this.$e(e),s=Fg(t);this.Fe(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Be(e){const t=this.$e(e),s=Fg(t);this.Fe(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Lg{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class Hh{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class nh{constructor(){this.Qe=new qm,this.je=new Lg(this.Qe),this.ze=new Hh(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Lu{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Lu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ll(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=ec(r.arrayValue,e.arrayValue),0!==t?t:(t=ec(r.directionalValue,e.directionalValue),0!==t?t:Pn.comparator(r.documentKey,e.documentKey)))}function ec(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class zf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xe=s:this.Ye.push(s)}}Ze(e){ir(e.collectionGroup===this.collectionId);const t=ac(e);if(void 0!==t&&!this.tn(t))return!1;const s=Tl(e);let c=0,f=0;for(;c<s.length&&this.tn(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Xe){const E=s[c];if(!this.en(this.Xe,E)||!this.nn(this.Je[f++],E))return!1;++c}for(;c<s.length;++c)if(f>=this.Je.length||!this.nn(this.Je[f++],s[c]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Bg(r){var e,t;if(ir(r instanceof fi||r instanceof bi),r instanceof fi){if(r instanceof Pl){const c=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(f=>fi.create(r.field,"==",f)))||[];return bi.create(c,"or")}return r}const s=r.filters.map(c=>Bg(c));return bi.create(s,r.op)}function $g(r){if(0===r.getFilters().length)return[];const e=zh(Bg(r));return ir(Ym(e)),Ug(e)||Gf(e)?[e]:e.getFilters()}function Ug(r){return r instanceof fi}function Gf(r){return r instanceof bi&&Za(r)}function Ym(r){return Ug(r)||Gf(r)||function(e){if(e instanceof bi&&xl(e)){for(const t of e.getFilters())if(!Ug(t)&&!Gf(t))return!1;return!0}return!1}(r)}function zh(r){if(ir(r instanceof fi||r instanceof bi),r instanceof fi)return r;if(1===r.filters.length)return zh(r.filters[0]);const e=r.filters.map(s=>zh(s));let t=bi.create(e,r.op);return t=Gh(t),Ym(t)?t:(ir(t instanceof bi),ir(Ya(t)),ir(t.filters.length>1),t.filters.reduce((s,c)=>Wf(s,c)))}function Wf(r,e){let t;return ir(r instanceof fi||r instanceof bi),ir(e instanceof fi||e instanceof bi),t=r instanceof fi?e instanceof fi?bi.create([r,e],"and"):Vg(r,e):e instanceof fi?Vg(e,r):function(s,c){if(ir(s.filters.length>0&&c.filters.length>0),Ya(s)&&Ya(c))return Mc(s,c.getFilters());const f=xl(s)?s:c,E=xl(s)?c:s,N=f.filters.map(G=>Wf(G,E));return bi.create(N,"or")}(r,e),Gh(t)}function Vg(r,e){if(Ya(e))return Mc(e,r.getFilters());{const t=e.filters.map(s=>Wf(r,s));return bi.create(t,"or")}}function Gh(r){if(ir(r instanceof fi||r instanceof bi),r instanceof fi)return r;const e=r.getFilters();if(1===e.length)return Gh(e[0]);if(Rl(r))return r;const t=e.map(c=>Gh(c)),s=[];return t.forEach(c=>{c instanceof fi?s.push(c):c instanceof bi&&(c.op===r.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:bi.create(s,r.op)}class Yp{constructor(){this.sn=new Kf}addToCollectionParentIndex(e,t){return this.sn.add(t),Rt.resolve()}getCollectionParents(e,t){return Rt.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Rt.resolve()}deleteFieldIndex(e,t){return Rt.resolve()}getDocumentsMatchingTarget(e,t){return Rt.resolve(null)}getIndexType(e,t){return Rt.resolve(0)}getFieldIndexes(e,t){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,t){return Rt.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return Rt.resolve(Yr.min())}updateCollectionGroup(e,t,s){return Rt.resolve()}updateIndexEntries(e,t){return Rt.resolve()}}class Kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new Ki(vi.comparator),f=!c.has(s);return this.index[t]=c.add(s),f}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Ki(vi.comparator)).toArray()}}const pl=new Uint8Array(0);class rh{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new Kf,this.on=new yc(s=>Qa(s),(s,c)=>Pc(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const f={collectionId:s,parent:Pt(c)};return Vc(e).put(f)}return Rt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[Dl(t),""],!1,!0);return Vc(e).j(c).next(f=>{for(const E of f){if(E.collectionId!==t)break;s.push(On(E.parent))}return s})}addFieldIndex(e,t){const s=ih(e),c={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var E;delete c.indexId;const f=s.add(c);if(t.indexState){const E=Bu(e);return f.next(N=>{E.put(qp(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const s=ih(e),c=Bu(e),f=Wh(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Wh(e);let c=!0;const f=new Map;return Rt.forEach(this.un(t),E=>this.cn(e,E).next(N=>{c&&(c=!!N),f.set(E,N)})).next(()=>{if(c){let E=Qr();const N=[];return Rt.forEach(f,(G,Q)=>{var ue;hn("IndexedDbIndexManager",`Using index ${ue=G,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${Qa(t)}`);const Xe=function(ti,Ba){const Fs=ac(Ba);if(void 0===Fs)return null;for(const bs of Ra(ti,Fs.fieldPath))switch(bs.op){case"array-contains-any":return bs.value.arrayValue.values||[];case"array-contains":return[bs.value]}return null}(Q,G),Mt=function(ti,Ba){const Fs=new Map;for(const bs of Tl(Ba))for(const $a of Ra(ti,bs.fieldPath))switch($a.op){case"==":case"in":Fs.set(bs.fieldPath.canonicalString(),$a.value);break;case"not-in":case"!=":return Fs.set(bs.fieldPath.canonicalString(),$a.value),Array.from(Fs.values())}return null}(Q,G),rn=function(ti,Ba){const Fs=[];let bs=!0;for(const $a of Tl(Ba)){const Th=0===$a.kind?pc(ti,$a.fieldPath,ti.startAt):jd(ti,$a.fieldPath,ti.startAt);Fs.push(Th.value),bs&&(bs=Th.inclusive)}return new Oo(Fs,bs)}(Q,G),Sn=function(ti,Ba){const Fs=[];let bs=!0;for(const $a of Tl(Ba)){const Th=0===$a.kind?jd(ti,$a.fieldPath,ti.endAt):pc(ti,$a.fieldPath,ti.endAt);Fs.push(Th.value),bs&&(bs=Th.inclusive)}return new Oo(Fs,bs)}(Q,G),Mn=this.an(G,Q,rn),ur=this.an(G,Q,Sn),ei=this.hn(G,Q,Mt),Bi=this.ln(G.indexId,Xe,Mn,rn.inclusive,ur,Sn.inclusive,ei);return Rt.forEach(Bi,ti=>s.H(ti,t.limit).next(Ba=>{Ba.forEach(Fs=>{const bs=Pn.fromSegments(Fs.documentKey);E.has(bs)||(E=E.add(bs),N.push(bs))})}))}).next(()=>N)}return Rt.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:$g(bi.create(e.filters,"and")).map(s=>Xa(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,s,c,f,E,N){const G=(null!=t?t.length:1)*Math.max(s.length,f.length),Q=G/(null!=t?t.length:1),ue=[];for(let Xe=0;Xe<G;++Xe){const Mt=t?this.fn(t[Xe/Q]):pl,rn=this.dn(e,Mt,s[Xe%Q],c),Sn=this._n(e,Mt,f[Xe%Q],E),Mn=N.map(ur=>this.dn(e,Mt,ur,!0));ue.push(...this.createRange(rn,Sn,Mn))}return ue}dn(e,t,s,c){const f=new Lu(e,Pn.empty(),t,s);return c?f:f.He()}_n(e,t,s,c){const f=new Lu(e,Pn.empty(),t,s);return c?f.He():f}cn(e,t){const s=new zf(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(f=>{let E=null;for(const N of f)s.Ze(N)&&(!E||N.fields.length>E.fields.length)&&(E=N);return E})}getIndexType(e,t){let s=2;const c=this.un(t);return Rt.forEach(c,f=>this.cn(e,f).next(E=>{E?0!==s&&E.fields.length<function(N){let G=new Ki(Mr.comparator),Q=!1;for(const ue of N.filters)for(const Xe of ue.getFlattenedFilters())Xe.field.isKeyField()||("array-contains"===Xe.op||"array-contains-any"===Xe.op?Q=!0:G=G.add(Xe.field));for(const ue of N.orderBy)ue.field.isKeyField()||(G=G.add(ue.field));return G.size+(Q?1:0)}(f)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}wn(e,t){const s=new nh;for(const c of Tl(e)){const f=t.data.field(c.fieldPath);if(null==f)return null;const E=s.We(c.kind);Jl.be._e(f,E)}return s.Ge()}fn(e){const t=new nh;return Jl.be._e(e,t.We(0)),t.Ge()}mn(e,t){const s=new nh;return Jl.be._e(Ie(this.databaseId,t),s.We(function(c){const f=Tl(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Ge()}hn(e,t,s){if(null===s)return[];let c=[];c.push(new nh);let f=0;for(const E of Tl(e)){const N=s[f++];for(const G of c)if(this.gn(t,E.fieldPath)&&It(N))c=this.yn(c,E,N);else{const Q=G.We(E.kind);Jl.be._e(N,Q)}}return this.pn(c)}an(e,t,s){return this.hn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Ge();return t}yn(e,t,s){const c=[...e],f=[];for(const E of s.arrayValue.values||[])for(const N of c){const G=new nh;G.seed(N.Ge()),Jl.be._e(E,G.We(t.kind)),f.push(G)}return f}gn(e,t){return!!e.filters.find(s=>s instanceof fi&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=ih(e),c=Bu(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(f=>{const E=[];return Rt.forEach(f,N=>c.get([N.indexId,this.uid]).next(G=>{E.push(function(Q,ue){const Xe=ue?new Wa(ue.sequenceNumber,new Yr(Nl(ue.readTime),new Pn(On(ue.documentKey)),ue.largestBatchId)):Wa.empty(),Mt=Q.fields.map(([rn,Sn])=>new lc(Mr.fromServerFormat(rn),Sn));return new Kl(Q.indexId,Q.collectionGroup,Mt,Xe)}(N,G))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const f=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==f?f:sr(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=ih(e),f=Bu(e);return this.In(e).next(E=>c.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>Rt.forEach(N,G=>f.put(qp(G.indexId,this.user,E,s)))))}updateIndexEntries(e,t){const s=new Map;return Rt.forEach(t,(c,f)=>{const E=s.get(c.collectionGroup);return(E?Rt.resolve(E):this.getFieldIndexes(e,c.collectionGroup)).next(N=>(s.set(c.collectionGroup,N),Rt.forEach(N,G=>this.Tn(e,c,G).next(Q=>{const ue=this.En(f,G);return Q.isEqual(ue)?Rt.resolve():this.An(e,f,G,Q,ue)}))))})}Rn(e,t,s,c){return Wh(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,c){return Wh(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}Tn(e,t,s){const c=Wh(e);let f=new Ki(Ll);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(E,N)=>{f=f.add(new Lu(s.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>f)}En(e,t){let s=new Ki(Ll);const c=this.wn(t,e);if(null==c)return s;const f=ac(t);if(null!=f){const E=e.data.field(f.fieldPath);if(It(E))for(const N of E.arrayValue.values||[])s=s.add(new Lu(t.indexId,e.key,this.fn(N),c))}else s=s.add(new Lu(t.indexId,e.key,pl,c));return s}An(e,t,s,c,f){hn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(N,G,Q,ue,Xe){const Mt=N.getIterator(),rn=G.getIterator();let Sn=Po(Mt),Mn=Po(rn);for(;Sn||Mn;){let ur=!1,ei=!1;if(Sn&&Mn){const Bi=Q(Sn,Mn);Bi<0?ei=!0:Bi>0&&(ur=!0)}else null!=Sn?ei=!0:ur=!0;ur?(ue(Mn),Mn=Po(rn)):ei?(Xe(Sn),Sn=Po(Mt)):(Sn=Po(Mt),Mn=Po(rn))}}(c,f,Ll,N=>{E.push(this.Rn(e,t,s,N))},N=>{E.push(this.vn(e,t,s,N))}),Rt.waitFor(E)}In(e){let t=1;return Bu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,f)=>{f.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((E,N)=>Ll(E,N)).filter((E,N,G)=>!N||0!==Ll(E,G[N-1]));const c=[];c.push(e);for(const E of s){const N=Ll(E,e),G=Ll(E,t);if(0===N)c[0]=e.He();else if(N>0&&G<0)c.push(E),c.push(E.He());else if(G>0)break}c.push(t);const f=[];for(let E=0;E<c.length;E+=2){if(this.Pn(c[E],c[E+1]))return[];f.push(IDBKeyRange.bound([c[E].indexId,this.uid,c[E].arrayValue,c[E].directionalValue,pl,[]],[c[E+1].indexId,this.uid,c[E+1].arrayValue,c[E+1].directionalValue,pl,[]]))}return f}Pn(e,t){return Ll(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jg)}getMinOffset(e,t){return Rt.mapArray(this.un(t),s=>this.cn(e,s).next(c=>c||Hn())).next(jg)}}function Vc(r){return Ss(r,"collectionParents")}function Wh(r){return Ss(r,"indexEntries")}function ih(r){return Ss(r,"indexConfiguration")}function Bu(r){return Ss(r,"indexState")}function jg(r){ir(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const c=r[s].indexState.offset;cc(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Yr(e.readTime,e.documentKey,t)}const $u={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ka{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ka(e,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zp(r,e,t){const s=r.store("mutations"),c=r.store("documentMutations"),f=[],E=IDBKeyRange.only(t.batchId);let N=0;const G=s.X({range:E},(ue,Xe,Mt)=>(N++,Mt.delete()));f.push(G.next(()=>{ir(1===N)}));const Q=[];for(const ue of t.mutations){const Xe=qs(e,ue.key.path,t.batchId);f.push(c.delete(Xe)),Q.push(ue.key)}return Rt.waitFor(f).next(()=>Q)}function Kh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Hn();e=r.noDocument}return JSON.stringify(e).length}ka.DEFAULT_COLLECTION_PERCENTILE=10,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ka.DEFAULT=new ka(41943040,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ka.DISABLED=new ka(-1,0,0);class Wr{constructor(e,t,s,c){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=c,this.bn={}}static fe(e,t,s,c){ir(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Wr(f,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).X({index:"userMutationsIndex",range:s},(c,f,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const f=uu(e),E=bc(e);return E.add({}).next(N=>{ir("number"==typeof N);const G=new m(N,t,s,c),Q=function(Mt,rn,Sn){const Mn=Sn.baseMutations.map(ei=>_d(Mt.le,ei)),ur=Sn.mutations.map(ei=>_d(Mt.le,ei));return{userId:rn,batchId:Sn.batchId,localWriteTimeMs:Sn.localWriteTime.toMillis(),baseMutations:Mn,mutations:ur}}(this.serializer,this.userId,G),ue=[];let Xe=new Ki((Mt,rn)=>sr(Mt.canonicalString(),rn.canonicalString()));for(const Mt of c){const rn=qs(this.userId,Mt.key.path,N);Xe=Xe.add(Mt.key.path.popLast()),ue.push(E.put(Q)),ue.push(f.put(rn,Io))}return Xe.forEach(Mt=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Mt))}),e.addOnCommittedListener(()=>{this.bn[N]=G.keys()}),Rt.waitFor(ue).next(()=>G)})}lookupMutationBatch(e,t){return bc(e).get(t).next(s=>s?(ir(s.userId===this.userId),Fl(this.serializer,s)):null)}Vn(e,t){return this.bn[t]?Rt.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.bn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return bc(e).X({index:"userMutationsIndex",range:c},(E,N,G)=>{N.userId===this.userId&&(ir(N.batchId>=s),f=Fl(this.serializer,N)),G.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return bc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(c,f,E)=>{s=f.batchId,E.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).j("userMutationsIndex",t).next(s=>s.map(c=>Fl(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Li(this.userId,t.path),c=IDBKeyRange.lowerBound(s),f=[];return uu(e).X({range:c},(E,N,G)=>{const[Q,ue,Xe]=E,Mt=On(ue);if(Q===this.userId&&t.path.isEqual(Mt))return bc(e).get(Xe).next(rn=>{if(!rn)throw Hn();ir(rn.userId===this.userId),f.push(Fl(this.serializer,rn))});G.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ki(sr);const c=[];return t.forEach(f=>{const E=Li(this.userId,f.path),N=IDBKeyRange.lowerBound(E),G=uu(e).X({range:N},(Q,ue,Xe)=>{const[Mt,rn,Sn]=Q,Mn=On(rn);Mt===this.userId&&f.path.isEqual(Mn)?s=s.add(Sn):Xe.done()});c.push(G)}),Rt.waitFor(c).next(()=>this.Sn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,f=Li(this.userId,s),E=IDBKeyRange.lowerBound(f);let N=new Ki(sr);return uu(e).X({range:E},(G,Q,ue)=>{const[Xe,Mt,rn]=G,Sn=On(Mt);Xe===this.userId&&s.isPrefixOf(Sn)?Sn.length===c&&(N=N.add(rn)):ue.done()}).next(()=>this.Sn(e,N))}Sn(e,t){const s=[],c=[];return t.forEach(f=>{c.push(bc(e).get(f).next(E=>{if(null===E)throw Hn();ir(E.userId===this.userId),s.push(Fl(this.serializer,E))}))}),Rt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return Zp(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Rt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return uu(e).X({range:s},(f,E,N)=>{if(f[0]===this.userId){const G=On(f[1]);c.push(G)}else N.done()}).next(()=>{ir(0===c.length)})})}containsKey(e,t){return sh(e,this.userId,t)}Cn(e){return Hg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sh(r,e,t){const s=Li(e,t.path),c=s[1],f=IDBKeyRange.lowerBound(s);let E=!1;return uu(r).X({range:f,Y:!0},(N,G,Q)=>{const[ue,Xe,Mt]=N;ue===e&&Xe===c&&(E=!0),Q.done()}).next(()=>E)}function bc(r){return Ss(r,"mutations")}function uu(r){return Ss(r,"documentMutations")}function Hg(r){return Ss(r,"mutationQueues")}class Cd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Cd(0)}static kn(){return new Cd(-1)}}class qf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const s=new Cd(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>rr.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Mn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.On(e,c)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(s=>(s.targetCount+=1,this.Fn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>oh(e).delete(t.targetId)).next(()=>this.Mn(e)).next(s=>(ir(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let c=0;const f=[];return oh(e).X((E,N)=>{const G=cu(N);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(c++,f.push(this.removeTargetData(e,G)))}).next(()=>Rt.waitFor(f)).next(()=>c)}forEachTarget(e,t){return oh(e).X((s,c)=>{const f=cu(c);t(f)})}Mn(e){return Yf(e).get("targetGlobalKey").next(t=>(ir(null!==t),t))}On(e,t){return Yf(e).put("targetGlobalKey",t)}$n(e,t){return oh(e).put(Id(this.serializer,t))}Fn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Qa(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return oh(e).X({range:c,index:"queryTargetsIndex"},(E,N,G)=>{const Q=cu(N);Pc(t,Q.target)&&(f=Q,G.done())}).next(()=>f)}addMatchingKeys(e,t,s){const c=[],f=Uu(e);return t.forEach(E=>{const N=Pt(E.path);c.push(f.put({targetId:s,path:N})),c.push(this.referenceDelegate.addReference(e,s,E))}),Rt.waitFor(c)}removeMatchingKeys(e,t,s){const c=Uu(e);return Rt.forEach(t,f=>{const E=Pt(f.path);return Rt.waitFor([c.delete([s,E]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,t){const s=Uu(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=Uu(e);let f=Qr();return c.X({range:s,Y:!0},(E,N,G)=>{const Q=On(E[1]),ue=new Pn(Q);f=f.add(ue)}).next(()=>f)}containsKey(e,t){const s=Pt(t.path),c=IDBKeyRange.bound([s],[Dl(s)],!1,!0);let f=0;return Uu(e).X({index:"documentTargetsIndex",Y:!0,range:c},([E,N],G,Q)=>{0!==E&&(f++,Q.done())}).next(()=>f>0)}he(e,t){return oh(e).get(t).next(s=>s?cu(s):null)}}function oh(r){return Ss(r,"targets")}function Yf(r){return Ss(r,"targetGlobal")}function Uu(r){return Ss(r,"targetDocuments")}function Xp([r,e],[t,s]){const c=sr(r,t);return 0===c?sr(e,s):c}class Zm{constructor(e){this.Bn=e,this.buffer=new Ki(Xp),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Xp(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qh{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;hn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,de.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ro(s)?hn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield vr(s)}yield t.Gn(3e5)}))}}class Qp{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Rt.resolve(z.ct);const s=new Zm(t);return this.Qn.forEachTarget(e,c=>s.Un(c.sequenceNumber)).next(()=>this.Qn.zn(e,c=>s.Un(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Qn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve($u)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$u):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let s,c,f,E,N,G,Q;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Xe=>(Xe>this.params.maximumSequenceNumbersToCollect?(hn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Xe}`),c=this.params.maximumSequenceNumbersToCollect):c=Xe,E=Date.now(),this.nthSequenceNumber(e,c))).next(Xe=>(s=Xe,N=Date.now(),this.removeTargets(e,s,t))).next(Xe=>(f=Xe,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(Xe=>(Q=Date.now(),mu()<=et.in.DEBUG&&hn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ue}ms\n\tDetermined least recently used ${c} in `+(N-E)+`ms\n\tRemoved ${f} targets in `+(G-N)+`ms\n\tRemoved ${Xe} documents in `+(Q-G)+`ms\nTotal Duration: ${Q-ue}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:Xe})))}}class Zf{constructor(e,t){this.db=e,this.garbageCollector=function Co(r,e){return new Qp(r,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Hn(e){let t=0;return this.zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(s,c)=>t(c))}addReference(e,t,s){return Bl(e,s)}removeReference(e,t,s){return Bl(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Bl(e,t)}Yn(e,t){return function(s,c){let f=!1;return Hg(s).Z(E=>sh(s,E,c).next(N=>(N&&(f=!0),Rt.resolve(!N)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Jn(e,(E,N)=>{if(N<=t){const G=this.Yn(e,E).next(Q=>{if(!Q)return f++,s.getEntry(e,E).next(()=>(s.removeEntry(E,rr.min()),Uu(e).delete([0,Pt(E.path)])))});c.push(G)}}).next(()=>Rt.waitFor(c)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Bl(e,t)}Jn(e,t){const s=Uu(e);let c,f=z.ct;return s.X({index:"documentTargetsIndex"},([E,N],{path:G,sequenceNumber:Q})=>{0===E?(f!==z.ct&&t(new Pn(On(c)),f),f=Q,c=G):f=z.ct}).next(()=>{f!==z.ct&&t(new Pn(On(c)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bl(r,e){return Uu(r).put((s=r.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:s}));var s}class bd{constructor(){this.changes=new yc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return $l(e).put(s)}removeEntry(e,t,s){return $l(e).delete(function(c,f){const E=c.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Ql(f),E[E.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Xn(e,s)))}getEntry(e,t){let s=_i.newInvalidDocument(t);return $l(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yh(t))},(c,f)=>{s=this.Zn(t,f)}).next(()=>s)}ts(e,t){let s={size:0,document:_i.newInvalidDocument(t)};return $l(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yh(t))},(c,f)=>{s={document:this.Zn(t,f),size:Kh(f)}}).next(()=>s)}getEntries(e,t){let s=Qs();return this.es(e,t,(c,f)=>{const E=this.Zn(c,f);s=s.insert(c,E)}).next(()=>s)}ns(e,t){let s=Qs(),c=new Tr(Pn.comparator);return this.es(e,t,(f,E)=>{const N=this.Zn(f,E);s=s.insert(f,N),c=c.insert(f,Kh(E))}).next(()=>({documents:s,ss:c}))}es(e,t,s){if(t.isEmpty())return Rt.resolve();let c=new Ki(Gg);t.forEach(G=>c=c.add(G));const f=IDBKeyRange.bound(Yh(c.first()),Yh(c.last())),E=c.getIterator();let N=E.getNext();return $l(e).X({index:"documentKeyIndex",range:f},(G,Q,ue)=>{const Xe=Pn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;N&&Gg(N,Xe)<0;)s(N,null),N=E.getNext();N&&N.isEqual(Xe)&&(s(N,Q),N=E.hasNext()?E.getNext():null),N?ue.G(Yh(N)):ue.done()}).next(()=>{for(;N;)s(N,null),N=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const f=t.path,E=[f.popLast().toArray(),f.lastSegment(),Ql(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $l(e).j(IDBKeyRange.bound(E,N,!0)).next(G=>{let Q=Qs();for(const ue of G){const Xe=this.Zn(Pn.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);Xe.isFoundDocument()&&(tu(t,Xe)||c.has(Xe.key))&&(Q=Q.insert(Xe.key,Xe))}return Q})}getAllFromCollectionGroup(e,t,s,c){let f=Qs();const E=Qm(t,s),N=Qm(t,Yr.max());return $l(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,N,!0)},(G,Q,ue)=>{const Xe=this.Zn(Pn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(Xe.key,Xe),f.size===c&&ue.done()}).next(()=>f)}newChangeBuffer(e){return new Xm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zg(e).get("remoteDocumentGlobalKey").next(t=>(ir(!!t),t))}Xn(e,t){return zg(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const s=function Hf(r,e){let t;if(e.document)t=Vp(r.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Pn.fromSegments(e.noDocument.path),c=Nl(e.noDocument.readTime);t=_i.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Hn();{const s=Pn.fromSegments(e.unknownDocument.path),c=Nl(e.unknownDocument.version);t=_i.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new oi(s[0],s[1]);return rr.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(rr.min()))return s}return _i.newInvalidDocument(e)}}function Dd(r){return new tc(r)}class Xm extends bd{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new yc(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new Ki((f,E)=>sr(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const N=this.os.get(f);if(t.push(this.rs.removeEntry(e,f,N.readTime)),E.isValidDocument()){const G=Cc(this.rs.serializer,E);c=c.add(f.path.popLast());const Q=Kh(G);s+=Q-N.size,t.push(this.rs.addEntry(e,f,G))}else if(s-=N.size,this.trackRemovals){const G=Cc(this.rs.serializer,E.convertToNoDocument(rr.min()));t.push(this.rs.addEntry(e,f,G))}}),c.forEach(f=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.rs.updateMetadata(e,s)),Rt.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(s=>(this.os.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:s,ss:c})=>(c.forEach((f,E)=>{this.os.set(f,{size:E,readTime:s.get(f).readTime})}),s))}}function zg(r){return Ss(r,"remoteDocumentGlobal")}function $l(r){return Ss(r,"remoteDocumentsV14")}function Yh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qm(r,e){const t=e.documentKey.path.toArray();return[r,Ql(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gg(r,e){const t=r.path.toArray(),s=e.path.toArray();let c=0;for(let f=0;f<t.length-2&&f<s.length-2;++f)if(c=sr(t[f],s[f]),c)return c;return c=sr(t.length,s.length),c||(c=sr(t[t.length-2],s[s.length-2]),c||sr(t[t.length-1],s[s.length-1]))}class Vu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wg{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&su(s.mutation,c,ys.empty(),oi.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Qr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Qr()){const c=ul();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(f=>{let E=Oc();return f.forEach((N,G)=>{E=E.insert(N,G.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const s=ul();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Qr()))}populateOverlays(e,t,s){const c=[];return s.forEach(f=>{t.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(e,c).next(f=>{f.forEach((E,N)=>{t.set(E,N)})})}computeViews(e,t,s,c){let f=Qs();const E=Ru(),N=Ru();return t.forEach((G,Q)=>{const ue=s.get(Q.key);c.has(Q.key)&&(void 0===ue||ue.mutation instanceof el)?f=f.insert(Q.key,Q):void 0!==ue?(E.set(Q.key,ue.mutation.getFieldMask()),su(ue.mutation,Q,ue.mutation.getFieldMask(),oi.now())):E.set(Q.key,ys.empty())}),this.recalculateAndSaveOverlays(e,f).next(G=>(G.forEach((Q,ue)=>E.set(Q,ue)),t.forEach((Q,ue)=>{var Xe;return N.set(Q,new Vu(ue,null!==(Xe=E.get(Q))&&void 0!==Xe?Xe:null))}),N))}recalculateAndSaveOverlays(e,t){const s=Ru();let c=new Tr((E,N)=>E-N),f=Qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const N of E)N.keys().forEach(G=>{const Q=t.get(G);if(null===Q)return;let ue=s.get(G)||ys.empty();ue=N.applyToLocalView(Q,ue),s.set(G,ue);const Xe=(c.get(N.batchId)||Qr()).add(G);c=c.insert(N.batchId,Xe)})}).next(()=>{const E=[],N=c.getReverseIterator();for(;N.hasNext();){const G=N.getNext(),Q=G.key,ue=G.value,Xe=vc();ue.forEach(Mt=>{if(!f.has(Mt)){const rn=kl(t.get(Mt),s.get(Mt));null!==rn&&Xe.set(Mt,rn),f=f.add(Mt)}}),E.push(this.documentOverlayCache.saveOverlays(e,Q,Xe))}return Rt.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Pn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(f=>{const E=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-f.size):Rt.resolve(ul());let N=-1,G=f;return E.next(Q=>Rt.forEach(Q,(ue,Xe)=>(N<Xe.largestBatchId&&(N=Xe.largestBatchId),f.get(ue)?Rt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Mt=>{G=G.insert(ue,Mt)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,G,Q,Qr())).next(ue=>({batchId:N,changes:kc(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pn(t)).next(s=>{let c=Oc();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let f=Oc();return this.indexManager.getCollectionParents(e,c).next(E=>Rt.forEach(E,N=>{const G=(Q=t,ue=N.child(c),new oa(ue,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ue;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(Q=>{Q.forEach((ue,Xe)=>{f=f.insert(ue,Xe)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(f=>{c.forEach((N,G)=>{const Q=G.getKey();null===f.get(Q)&&(f=f.insert(Q,_i.newInvalidDocument(Q)))});let E=Oc();return f.forEach((N,G)=>{const Q=c.get(N);void 0!==Q&&su(Q.mutation,G,ys.empty(),oi.now()),tu(t,G)&&(E=E.insert(N,G))}),E})}}class Kg{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Rt.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:xs(s.createTime)}),Rt.resolve()}getNamedQuery(e,t){return Rt.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Wp(s.bundledQuery),readTime:xs(s.readTime)}),Rt.resolve();var s}}class Xf{constructor(){this.overlays=new Tr(Pn.comparator),this.hs=new Map}getOverlay(e,t){return Rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ul();return Rt.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&s.set(c,f)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,f)=>{this.de(e,t,f)}),Rt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.hs.get(s);return void 0!==c&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.hs.delete(s)),Rt.resolve()}getOverlaysForCollection(e,t,s){const c=ul(),f=t.length+1,E=new Pn(t.child("")),N=this.overlays.getIteratorFrom(E);for(;N.hasNext();){const G=N.getNext().value,Q=G.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===f&&G.largestBatchId>s&&c.set(G.getKey(),G)}return Rt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let f=new Tr((Q,ue)=>Q-ue);const E=this.overlays.getIterator();for(;E.hasNext();){const Q=E.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let ue=f.get(Q.largestBatchId);null===ue&&(ue=ul(),f=f.insert(Q.largestBatchId,ue)),ue.set(Q.getKey(),Q)}}const N=ul(),G=f.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Q,ue)=>N.set(Q,ue)),!(N.size()>=c)););return Rt.resolve(N)}de(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const E=this.hs.get(c.largestBatchId).delete(s.key);this.hs.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new K(t,s));let f=this.hs.get(t);void 0===f&&(f=Qr(),this.hs.set(t,f)),this.hs.set(t,f.add(s.key))}}class Jp{constructor(){this.ls=new Ki(Js.fs),this.ds=new Ki(Js._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Js(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Js(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new Pn(new vi([])),s=new Js(t,e),c=new Js(t,e+1),f=[];return this.ds.forEachInRange([s,c],E=>{this.gs(E),f.push(E.key)}),f}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Pn(new vi([])),s=new Js(t,e),c=new Js(t,e+1);let f=Qr();return this.ds.forEachInRange([s,c],E=>{f=f.add(E.key)}),f}containsKey(e){const t=new Js(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Js{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Pn.comparator(e.key,t.key)||sr(e.Es,t.Es)}static _s(e,t){return sr(e.Es,t.Es)||Pn.comparator(e.key,t.key)}}class Qf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Ki(Js.fs)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const f=this.As;this.As++;const E=new m(f,t,s,c);this.mutationQueue.push(E);for(const N of c)this.Rs=this.Rs.add(new Js(N.key,f)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return Rt.resolve(E)}lookupMutationBatch(e,t){return Rt.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.Ps(t+1),f=c<0?0:c;return Rt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Js(t,0),c=new Js(t,Number.POSITIVE_INFINITY),f=[];return this.Rs.forEachInRange([s,c],E=>{const N=this.vs(E.Es);f.push(N)}),Rt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ki(sr);return t.forEach(c=>{const f=new Js(c,0),E=new Js(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([f,E],N=>{s=s.add(N.Es)})}),Rt.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let f=s;Pn.isDocumentKey(f)||(f=f.child(""));const E=new Js(new Pn(f),0);let N=new Ki(sr);return this.Rs.forEachWhile(G=>{const Q=G.key.path;return!!s.isPrefixOf(Q)&&(Q.length===c&&(N=N.add(G.Es)),!0)},E),Rt.resolve(this.bs(N))}bs(e){const t=[];return e.forEach(s=>{const c=this.vs(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){ir(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Rt.forEach(t.mutations,c=>{const f=new Js(c.key,t.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Js(t,0),c=this.Rs.firstAfterOrEqual(s);return Rt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Rt.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zh{constructor(e){this.Ss=e,this.docs=new Tr(Pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),f=c?c.size:0,E=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:E}),this.size+=E-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Rt.resolve(s?s.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let s=Qs();return t.forEach(c=>{const f=this.docs.get(c);s=s.insert(c,f?f.document.mutableCopy():_i.newInvalidDocument(c))}),Rt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let f=Qs();const E=t.path,N=new Pn(E.child("")),G=this.docs.getIteratorFrom(N);for(;G.hasNext();){const{key:Q,value:{document:ue}}=G.getNext();if(!E.isPrefixOf(Q.path))break;Q.path.length>E.length+1||cc(Zu(ue),s)<=0||(c.has(ue.key)||tu(t,ue))&&(f=f.insert(ue.key,ue.mutableCopy()))}return Rt.resolve(f)}getAllFromCollectionGroup(e,t,s,c){Hn()}Ds(e,t){return Rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eg(this)}getSize(e){return Rt.resolve(this.size)}}class eg extends bd{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.rs.addEntry(e,c)):this.rs.removeEntry(s)}),Rt.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class qg{constructor(e){this.persistence=e,this.Cs=new yc(t=>Qa(t),Pc),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Jp,this.targetCount=0,this.ks=Cd.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,c)=>t(c)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Rt.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Cd(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Rt.resolve()}updateTargetData(e,t){return this.$n(t),Rt.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,t,s){let c=0;const f=[];return this.Cs.forEach((E,N)=>{N.sequenceNumber<=t&&null===s.get(N.targetId)&&(this.Cs.delete(E),f.push(this.removeMatchingKeysForTargetId(e,N.targetId)),c++)}),Rt.waitFor(f).next(()=>c)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Rt.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Rt.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const c=this.persistence.referenceDelegate,f=[];return c&&t.forEach(E=>{f.push(c.markPotentiallyOrphaned(e,E))}),Rt.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Rt.resolve(s)}containsKey(e,t){return Rt.resolve(this.Ns.containsKey(t))}}class Jf{constructor(e,t){this.Ms={},this.overlays={},this.Os=new z(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new qg(this),this.indexManager=new Yp,this.remoteDocumentCache=new Zh(s=>this.referenceDelegate.Bs(s)),this.serializer=new Gp(t),this.Ls=new Kg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new Qf(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){hn("MemoryPersistence","Starting transaction:",e);const c=new tg(this.Os.next());return this.referenceDelegate.qs(),s(c).next(f=>this.referenceDelegate.Us(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ks(e,t){return Rt.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class tg extends Mi{constructor(e){super(),this.currentSequenceNumber=e}}class Xh{constructor(e){this.persistence=e,this.Gs=new Jp,this.Qs=null}static js(e){return new Xh(e)}get zs(){if(this.Qs)return this.Qs;throw Hn()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Rt.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Rt.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Rt.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(c=>this.zs.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(f=>this.zs.add(f.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.zs,s=>{const c=Pn.fromPath(s);return this.Ws(e,c).next(f=>{f||t.removeEntry(c,rr.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Rt.or([()=>Rt.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class nc{constructor(e){this.serializer=e}$(e,t,s,c){const f=new wi("createOrUpgrade",t);var N;s<1&&c>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ci,{unique:!0}),N.createObjectStore("documentMutations"),Qh(e),function(N){N.createObjectStore("remoteDocuments")}(e));let E=Rt.resolve();return s<3&&c>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Qh(e)),E=E.next(()=>function(N){const G=N.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rr.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",Q)}(f))),s<4&&c>=4&&(0!==s&&(E=E.next(()=>function(N,G){return G.store("mutations").j().next(Q=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ci,{unique:!0});const ue=G.store("mutations"),Xe=Q.map(Mt=>ue.put(Mt));return Rt.waitFor(Xe)})}(e,f))),E=E.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(E=E.next(()=>this.Js(f))),s<6&&c>=6&&(E=E.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(f)))),s<7&&c>=7&&(E=E.next(()=>this.Xs(f))),s<8&&c>=8&&(E=E.next(()=>this.Zs(e,f))),s<9&&c>=9&&(E=E.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(E=E.next(()=>this.ti(f))),s<11&&c>=11&&(E=E.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(E=E.next(()=>{!function(N){const G=N.createObjectStore("documentOverlays",{keyPath:_u});G.createIndex("collectionPathOverlayIndex",Eu,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Ld,{unique:!1})}(e)})),s<13&&c>=13&&(E=E.next(()=>function(N){const G=N.createObjectStore("remoteDocumentsV14",{keyPath:Mo});G.createIndex("documentKeyIndex",$s),G.createIndex("collectionGroupIndex",Ar)}(e)).next(()=>this.ei(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(E=E.next(()=>this.ni(e,f))),s<15&&c>=15&&(E=E.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:al}).createIndex("sequenceNumberIndex",sa,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Xu}).createIndex("documentKeyIndex",Ea,{unique:!1})}(e))),E}Ys(e){let t=0;return e.store("remoteDocuments").X((s,c)=>{t+=Kh(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Js(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(c=>Rt.forEach(c,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",E).next(N=>Rt.forEach(N,G=>{ir(G.userId===f.userId);const Q=Fl(this.serializer,G);return Zp(e,f.userId,Q).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const f=[];return s.X((E,N)=>{const G=new vi(E),Q=[0,Pt(G)];f.push(t.get(Q).next(ue=>ue?Rt.resolve():t.put({targetId:0,path:Pt(G),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(f))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:Ka});const s=t.store("collectionParents"),c=new Kf,f=E=>{if(c.add(E)){const N=E.lastSegment(),G=E.popLast();return s.put({collectionId:N,parent:Pt(G)})}};return t.store("remoteDocuments").X({Y:!0},(E,N)=>{const G=new vi(E);return f(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,N,G],Q)=>{const ue=On(N);return f(ue.popLast())}))}ti(e){const t=e.store("targets");return t.X((s,c)=>{const f=cu(c),E=Id(this.serializer,f);return t.put(E)})}ei(e,t){const s=t.store("remoteDocuments"),c=[];return s.X((f,E)=>{const N=t.store("remoteDocumentsV14"),G=(Q=E,Q.document?new Pn(vi.fromString(Q.document.name).popFirst(5)):Q.noDocument?Pn.fromSegments(Q.noDocument.path):Q.unknownDocument?Pn.fromSegments(Q.unknownDocument.path):Hn()).path.toArray();var Q;const ue={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};c.push(N.put(ue))}).next(()=>Rt.waitFor(c))}ni(e,t){const s=t.store("mutations"),c=Dd(this.serializer),f=new Jf(Xh.js,this.serializer.le);return s.j().next(E=>{const N=new Map;return E.forEach(G=>{var Q;let ue=null!==(Q=N.get(G.userId))&&void 0!==Q?Q:Qr();Fl(this.serializer,G).keys().forEach(Xe=>ue=ue.add(Xe)),N.set(G.userId,ue)}),Rt.forEach(N,(G,Q)=>{const ue=new Wi(Q),Xe=jh.fe(this.serializer,ue),Mt=f.getIndexManager(ue),rn=Wr.fe(ue,this.serializer,Mt,f.referenceDelegate);return new Wg(c,rn,Xe,Mt).recalculateAndSaveOverlaysForDocumentKeys(new Ju(t,z.ct),G).next()})})}}function Qh(r){r.createObjectStore("targetDocuments",{keyPath:Ys}).createIndex("documentTargetsIndex",Xc,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sl,{unique:!0}),r.createObjectStore("targetGlobal")}const Yg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jh{constructor(e,t,s,c,f,E,N,G,Q,ue,Xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.si=f,this.window=E,this.document=N,this.ii=Q,this.ri=ue,this.oi=Xe,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=Mt=>Promise.resolve(),!Jh.D())throw new sn(Lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zf(this,c),this.fi=t+"main",this.serializer=new Gp(G),this.di=new ws(this.fi,this.oi,new nc(this.serializer)),this.Fs=new qf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Dd(this.serializer),this.Ls=new Uh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ue&&ss("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sn(Lt.FAILED_PRECONDITION,Yg);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new z(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var s=(0,de.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,de.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Ro(e))return hn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return hn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return ef(e).get("owner").next(t=>Rt.resolve(this.Ri(t)))}vi(e){return ep(e).delete(this.clientId)}Pi(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Ss(s,"clientMetadata");return c.j().next(f=>{const E=e.Vi(f,18e5),N=f.filter(G=>-1===E.indexOf(G));return Rt.forEach(N,G=>c.delete(G.clientId)).next(()=>N)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Si(s.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Rt.resolve(!0):ef(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new sn(Lt.FAILED_PRECONDITION,Yg);return!1}}return!(!this.networkEnabled||!this.inForeground)||ep(e).j().next(s=>void 0===this.Vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&hn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Ju(t,z.ct);return e.Ei(s).next(()=>e.vi(s))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(s=>this.bi(s.updateTimeMs,t)&&!this.Di(s.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>ep(e).j().next(t=>this.Vi(t,18e5).map(s=>s.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Wr.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rh(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return jh.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,s){hn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",f=15===(E=this.oi)?uc:14===E?ql:13===E?Qu:12===E?Bd:11===E?Iu:void Hn();var E;let N;return this.di.runTransaction(e,c,f,G=>(N=new Ju(G,this.Os?this.Os.next():z.ct),"readwrite-primary"===t?this.Ii(N).next(Q=>!!Q||this.Ti(N)).next(Q=>{if(!Q)throw ss(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new sn(Lt.FAILED_PRECONDITION,Aa);return s(N)}).next(Q=>this.Ai(N).next(()=>Q)):this.Oi(N).next(()=>s(N)))).then(G=>(N.raiseOnCommittedEvent(),G))}Oi(e){return ef(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new sn(Lt.FAILED_PRECONDITION,Yg)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ef(e).put("owner",t)}static D(){return ws.D()}Ei(e){const t=ef(e);return t.get("owner").next(s=>this.Ri(s)?(hn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Rt.resolve())}bi(e,t){const s=Date.now();return!(e<s-t||e>s&&(ss(`Detected an update time that is in the future: ${e} > ${s}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Ze.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return hn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ss("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){ss("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ef(r){return Ss(r,"owner")}function ep(r){return Ss(r,"clientMetadata")}function ju(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class tp{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=c}static Bi(e,t){let s=Qr(),c=Qr();for(const f of t.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new tp(e,t.fromCache,s,c)}}class Zg{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,c){return this.Ui(e,t).next(f=>f||this.Ki(e,t,c,s)).next(f=>f||this.Gi(e,t))}Ui(e,t){if(Hd(t))return Rt.resolve(null);let s=ko(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=eu(t,null,"F"),s=ko(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const E=Qr(...f);return this.qi.getDocuments(e,E).next(N=>this.indexManager.getMinOffset(e,s).next(G=>{const Q=this.Qi(t,N);return this.ji(t,Q,E,G.readTime)?this.Ui(e,eu(t,null,"F")):this.zi(e,Q,t,G)}))})))}Ki(e,t,s,c){return Hd(t)||c.isEqual(rr.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(f=>{const E=this.Qi(t,f);return this.ji(t,E,s,c)?this.Gi(e,t):(mu()<=et.in.DEBUG&&hn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),xu(t)),this.zi(e,E,t,Yc(c,-1)))})}Qi(e,t){let s=new Ki(Mf(e));return t.forEach((c,f)=>{tu(e,f)&&(s=s.add(f))}),s}ji(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Gi(e,t){return mu()<=et.in.DEBUG&&hn("QueryEngine","Using full collection scan to execute query:",xu(t)),this.qi.getDocumentsMatchingQuery(e,t,Yr.min())}zi(e,t,s,c){return this.qi.getDocumentsMatchingQuery(e,s,c).next(f=>(t.forEach(E=>{f=f.insert(E.key,E)}),f))}}class Xg{constructor(e,t,s,c){this.persistence=e,this.Wi=t,this.serializer=c,this.Hi=new Tr(sr),this.Ji=new yc(f=>Qa(f),Pc),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function Qg(r,e,t,s){return new Xg(r,e,t,s)}function Jg(r,e){return lh.apply(this,arguments)}function lh(){return lh=(0,de.Z)(function*(r,e){const t=Fn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(f=>(c=f,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(f=>{const E=[],N=[];let G=Qr();for(const Q of c){E.push(Q.batchId);for(const ue of Q.mutations)G=G.add(ue.key)}for(const Q of f){N.push(Q.batchId);for(const ue of Q.mutations)G=G.add(ue.key)}return t.localDocuments.getDocuments(s,G).next(Q=>({tr:Q,removedBatchIds:E,addedBatchIds:N}))})})}),lh.apply(this,arguments)}function np(r){const e=Fn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function rp(r,e,t){let s=Qr(),c=Qr();return t.forEach(f=>s=s.add(f)),e.getEntries(r,s).next(f=>{let E=Qs();return t.forEach((N,G)=>{const Q=f.get(N);G.isFoundDocument()!==Q.isFoundDocument()&&(c=c.add(N)),G.isNoDocument()&&G.version.isEqual(rr.min())?(e.removeEntry(N,G.readTime),E=E.insert(N,G)):!Q.isValidDocument()||G.version.compareTo(Q.version)>0||0===G.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(G),E=E.insert(N,G)):hn("LocalStore","Ignoring outdated watch update for ",N,". Current version:",Q.version," Watch version:",G.version)}),{er:E,nr:c}})}function ip(r,e){const t=Fn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Td(r,e){const t=Fn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Fs.getTargetData(s,e).next(f=>f?(c=f,Rt.resolve(c)):t.Fs.allocateTargetId(s).next(E=>(c=new Uc(e,E,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Hi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}function Hu(r,e,t){return nf.apply(this,arguments)}function nf(){return nf=(0,de.Z)(function*(r,e,t){const s=Fn(r),c=s.Hi.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",f,E=>s.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!Ro(E))throw E;hn("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(c.target)}),nf.apply(this,arguments)}function uh(r,e,t){const s=Fn(r);let c=rr.min(),f=Qr();return s.persistence.runTransaction("Execute query","readonly",E=>function(N,G,Q){const ue=Fn(N),Xe=ue.Ji.get(Q);return void 0!==Xe?Rt.resolve(ue.Hi.get(Xe)):ue.Fs.getTargetData(G,Q)}(s,E,ko(e)).next(N=>{if(N)return c=N.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(E,N.targetId).next(G=>{f=G})}).next(()=>s.Wi.getDocumentsMatchingQuery(E,e,t?c:rr.min(),t?f:Qr())).next(N=>(em(s,nu(e),N),{documents:N,sr:f})))}function ng(r,e){const t=Fn(r),s=Fn(t.Fs),c=t.Hi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",f=>s.he(f,e).next(E=>E?E.target:null))}function gl(r,e){const t=Fn(r),s=t.Yi.get(e)||rr.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Xi.getAllFromCollectionGroup(c,e,Yc(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(em(t,e,c),c))}function em(r,e,t){let s=r.Yi.get(e)||rr.min();t.forEach((c,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),r.Yi.set(e,s)}function rf(){return rf=(0,de.Z)(function*(r,e,t,s){const c=Fn(r);let f=Qr(),E=Qs();for(const Q of t){const ue=e.ir(Q.metadata.name);Q.document&&(f=f.add(ue));const Xe=e.rr(Q);Xe.setReadTime(e.ur(Q.metadata.readTime)),E=E.insert(ue,Xe)}const N=c.Xi.newChangeBuffer({trackRemovals:!0}),G=yield Td(c,(Q=s,ko(Ma(vi.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",Q=>rp(Q,N,E).next(ue=>(N.apply(Q),ue)).next(ue=>c.Fs.removeMatchingKeysForTargetId(Q,G.targetId).next(()=>c.Fs.addMatchingKeys(Q,f,G.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Q,ue.er,ue.nr)).next(()=>ue.er)))}),rf.apply(this,arguments)}function Jm(r,e){return sf.apply(this,arguments)}function sf(){return sf=(0,de.Z)(function*(r,e,t=Qr()){const s=yield Td(r,ko(Wp(e.bundledQuery))),c=Fn(r);return c.persistence.runTransaction("Save named query","readwrite",f=>{const E=xs(e.readTime);if(s.snapshotVersion.compareTo(E)>=0)return c.Ls.saveNamedQuery(f,e);const N=s.withResumeToken(Zs.EMPTY_BYTE_STRING,E);return c.Hi=c.Hi.insert(N.targetId,N),c.Fs.updateTargetData(f,N).next(()=>c.Fs.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>c.Fs.addMatchingKeys(f,t,s.targetId)).next(()=>c.Ls.saveNamedQuery(f,e))})}),sf.apply(this,arguments)}function ig(r,e){return`firestore_clients_${r}_${e}`}function tm(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function sg(r,e){return`firestore_targets_${r}_${e}`}class Na{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static cr(e,t,s){const c=JSON.parse(s);let f,E="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(f=new sn(c.error.code,c.error.message))),E?new Na(e,t,c.state,f):(ss("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static cr(e,t){const s=JSON.parse(t);let c,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(c=new sn(s.error.code,s.error.message))),f?new dh(e,s.state,c):(ss("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,f=od();for(let E=0;c&&E<s.activeTargetIds.length;++E)c=nt(s.activeTargetIds[E]),f=f.add(s.activeTargetIds[E]);return c?new sp(e,f):(ss("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nm{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nm(t.clientId,t.onlineState):(ss("SharedClientState",`Failed to parse online state: ${e}`),null)}}class op{constructor(){this.activeTargetIds=od()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(e,t,s,c,f){this.window=e,this.si=t,this.persistenceKey=s,this.dr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Tr(sr),this.started=!1,this.gr=[];const E=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.yr=ig(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new op),this.Ir=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.Mi();for(const c of t){if(c===e.dr)continue;const f=e.getItem(ig(e.persistenceKey,c));if(f){const E=sp.cr(c,f);E&&(e.mr=e.mr.insert(E.clientId,E))}}e.vr();const s=e.storage.getItem(e.Ar);if(s){const c=e.Pr(s);c&&e.br(c)}for(const c of e.gr)e.wr(c);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,s){this.Sr(e,t,s),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(sg(this.persistenceKey,e));if(s){const c=dh.cr(e,s);c&&(t=c.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sg(this.persistenceKey,e))}updateQueryState(e,t,s){this.Nr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Dr(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return hn("SharedClientState","READ",e,t),t}setItem(e,t){hn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){hn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(hn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.yr)return void ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ir.test(s.key)){if(null==s.newValue){const c=t.Or(s.key);return t.$r(c,null)}{const c=t.Fr(s.key,s.newValue);if(c)return t.$r(c.clientId,c)}}else if(t.Tr.test(s.key)){if(null!==s.newValue){const c=t.Br(s.key,s.newValue);if(c)return t.Lr(c)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const c=t.qr(s.key,s.newValue);if(c)return t.Ur(c)}}else if(s.key===t.Ar){if(null!==s.newValue){const c=t.Pr(s.newValue);if(c)return t.br(c)}}else if(s.key===t.pr){const c=function(f){let E=z.ct;if(null!=f)try{const N=JSON.parse(f);ir("number"==typeof N),E=N}catch(N){ss("SharedClientState","Failed to read sequence number from WebStorage",N)}return E}(s.newValue);c!==z.ct&&t.sequenceNumberHandler(c)}else if(s.key===t.Rr){const c=t.Kr(s.newValue);yield Promise.all(c.map(f=>t.syncEngine.Gr(f)))}}else t.gr.push(s)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,s){const c=new Na(this.currentUser,e,t,s),f=tm(this.persistenceKey,this.currentUser,e);this.setItem(f,c.ar())}Dr(e){const t=tm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,s){const c=sg(this.persistenceKey,e),f=new dh(e,t,s);this.setItem(c,f.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const s=this.Or(e);return sp.cr(s,t)}Br(e,t){const s=this.Tr.exec(e),c=Number(s[1]);return Na.cr(new Wi(void 0!==s[2]?s[2]:null),c,t)}qr(e,t){const s=this.Er.exec(e),c=Number(s[1]);return dh.cr(c,t)}Pr(e){return nm.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);hn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const s=t?this.mr.insert(e,t):this.mr.remove(e),c=this.Vr(this.mr),f=this.Vr(s),E=[],N=[];return f.forEach(G=>{c.has(G)||E.push(G)}),c.forEach(G=>{f.has(G)||N.push(G)}),this.syncEngine.zr(E,N).then(()=>{this.mr=s})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=od();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class rm{constructor(){this.Wr=new op,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new op,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ey{Jr(e){}shutdown(){}}class im{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){hn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){hn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function og(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const ty={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ag{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Fa="WebChannelConnection";class ny extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,c,f){const E=og(),N=this.Io(e,t);hn("RestConnection",`Sending RPC '${e}' ${E}:`,N,s);const G={};return this.To(G,c,f),this.Eo(e,N,G,s).then(Q=>(hn("RestConnection",`Received RPC '${e}' ${E}: `,Q),Q),Q=>{throw ci("RestConnection",`RPC '${e}' ${E} failed with error: `,Q,"url: ",N,"request:",s),Q})}Ao(e,t,s,c,f,E){return this.po(e,t,s,c,f)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,f)=>e[f]=c),s&&s.headers.forEach((c,f)=>e[f]=c)}Io(e,t){return`${this.wo}/v1/${t}:${ty[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,c){const f=og();return new Promise((E,N)=>{const G=new zl;G.setWithCredentials(!0),G.listenOnce(Bs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Ws.NO_ERROR:const ue=G.getResponseJson();hn(Fa,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ue)),E(ue);break;case Ws.TIMEOUT:hn(Fa,`RPC '${e}' ${f} timed out`),N(new sn(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case Ws.HTTP_ERROR:const Xe=G.getStatus();if(hn(Fa,`RPC '${e}' ${f} failed with status:`,Xe,"response text:",G.getResponseText()),Xe>0){let Mt=G.getResponseJson();Array.isArray(Mt)&&(Mt=Mt[0]);const rn=null==Mt?void 0:Mt.error;if(rn&&rn.status&&rn.message){const Sn=function(Mn){const ur=Mn.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(ur)>=0?ur:Lt.UNKNOWN}(rn.status);N(new sn(Sn,rn.message))}else N(new sn(Lt.UNKNOWN,"Server responded with status "+G.getStatus()))}else N(new sn(Lt.UNAVAILABLE,"Connection failed."));break;default:Hn()}}finally{hn(Fa,`RPC '${e}' ${f} completed.`)}});const Q=JSON.stringify(c);hn(Fa,`RPC '${e}' ${f} sending request:`,c),G.send(t,"POST",Q,s,15)})}Ro(e,t,s){const c=og(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=na(),N=Ao(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new Ta({})),this.To(G.initMessageHeaders,t,s),G.encodeInitMessageHeaders=!0;const Q=f.join("");hn(Fa,`Creating RPC '${e}' stream ${c}: ${Q}`,G);const ue=E.createWebChannel(Q,G);let Xe=!1,Mt=!1;const rn=new ag({io:Mn=>{Mt?hn(Fa,`Not sending because RPC '${e}' stream ${c} is closed:`,Mn):(Xe||(hn(Fa,`Opening RPC '${e}' stream ${c} transport.`),ue.open(),Xe=!0),hn(Fa,`RPC '${e}' stream ${c} sending:`,Mn),ue.send(Mn))},ro:()=>ue.close()}),Sn=(Mn,ur,ei)=>{Mn.listen(ur,Bi=>{try{ei(Bi)}catch(ti){setTimeout(()=>{throw ti},0)}})};return Sn(ue,za.EventType.OPEN,()=>{Mt||hn(Fa,`RPC '${e}' stream ${c} transport opened.`)}),Sn(ue,za.EventType.CLOSE,()=>{Mt||(Mt=!0,hn(Fa,`RPC '${e}' stream ${c} transport closed`),rn.fo())}),Sn(ue,za.EventType.ERROR,Mn=>{Mt||(Mt=!0,ci(Fa,`RPC '${e}' stream ${c} transport errored:`,Mn),rn.fo(new sn(Lt.UNAVAILABLE,"The operation could not be completed")))}),Sn(ue,za.EventType.MESSAGE,Mn=>{var ur;if(!Mt){const ei=Mn.data[0];ir(!!ei);const ti=ei.error||(null===(ur=ei[0])||void 0===ur?void 0:ur.error);if(ti){hn(Fa,`RPC '${e}' stream ${c} received error:`,ti);const Ba=ti.status;let Fs=function($a){const Th=mt[$a];if(void 0!==Th)return er(Th)}(Ba),bs=ti.message;void 0===Fs&&(Fs=Lt.INTERNAL,bs="Unknown error status: "+Ba+" with message "+ti.message),Mt=!0,rn.fo(new sn(Fs,bs)),ue.close()}else hn(Fa,`RPC '${e}' stream ${c} received:`,ei),rn._o(ei)}}),Sn(N,ra.STAT_EVENT,Mn=>{Mn.stat===Ks.PROXY?hn(Fa,`RPC '${e}' stream ${c} detected buffering proxy`):Mn.stat===Ks.NOPROXY&&hn(Fa,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{rn.lo()},0),rn}}function ry(){return typeof window<"u"?window:null}function lg(){return typeof document<"u"?document:null}function cf(r){return new Fh(r,!0)}class rc{constructor(e,t,s=1e3,c=1.5,f=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=c,this.bo=f,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),c=Math.max(0,t-s);c>0&&hn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,c,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class ap{constructor(e,t,s,c,f,E,N,G){this.si=e,this.Mo=s,this.Oo=c,this.connection=f,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=N,this.listener=G,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new rc(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,de.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,de.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,de.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===Lt.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===Lt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.$o===t&&this.Xo(s,c)},s=>{e(()=>{const c=new sn(Lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(c)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(c=>{s(()=>this.Zo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,de.Z)(function*(){e.state=0,e.start()}))}Zo(e){return hn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(hn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sm extends ap{constructor(e,t,s,c,f,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,E),this.serializer=f}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Jd(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Hn(),c=e.targetChange.targetIds||[],f=function(G,Q){return G.useProto3Json?(ir(void 0===Q||"string"==typeof Q),Zs.fromBase64String(Q||"")):(ir(void 0===Q||Q instanceof Uint8Array),Zs.fromUint8Array(Q||new Uint8Array))}(r,e.targetChange.resumeToken),E=e.targetChange.cause,N=E&&function(G){const Q=void 0===G.code?Lt.UNKNOWN:er(G.code);return new sn(Q,G.message||"")}(E);t=new gd(s,c,f,N||null)}else if("documentChange"in e){const s=e.documentChange,c=hl(r,s.document.name),f=xs(s.document.updateTime),E=s.document.createTime?xs(s.document.createTime):rr.min(),N=new Xs({mapValue:{fields:s.document.fields}}),G=_i.newFoundDocument(c,f,E,N);t=new au(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,c=hl(r,s.document),f=s.readTime?xs(s.readTime):rr.min(),E=_i.newNoDocument(c,f);t=new au([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const s=e.documentRemove,c=hl(r,s.document);t=new au([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Hn();{const s=e.filter,{count:c=0,unchangedNames:f}=s,E=new Je(c,f);t=new Zd(s.targetId,E)}}var G;return t}(this.serializer,e),s=function(c){if(!("targetChange"in c))return rr.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?rr.min():f.readTime?xs(f.readTime):rr.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=vd(this.serializer),t.addTarget=function(c,f){let E;const N=f.target;if(E=Su(N)?{documents:Bc(c,N)}:{query:$h(c,N)},E.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){E.resumeToken=Nf(c,f.resumeToken);const G=Qd(c,f.expectedCount);null!==G&&(E.expectedCount=G)}else if(f.snapshotVersion.compareTo(rr.min())>0){E.readTime=lu(c,f.snapshotVersion.toTimestamp());const G=Qd(c,f.expectedCount);null!==G&&(E.expectedCount=G)}return E}(this.serializer,e);const s=function Vf(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=vd(this.serializer),t.removeTarget=e,this.zo(t)}}class iy extends ap{constructor(e,t,s,c,f,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,E),this.serializer=f,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Lc(r,e){return r&&r.length>0?(ir(void 0!==e),r.map(t=>function(s,c){let f=xs(s.updateTime?s.updateTime:c);return f.isEqual(rr.min())&&(f=xs(c)),new Ja(f,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=xs(e.commitTime);return this.listener.uu(s,t)}return ir(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=vd(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>_d(this.serializer,s))};this.zo(t)}}class om extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=c,this.hu=!1}lu(){if(this.hu)throw new sn(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.po(e,t,s,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new sn(Lt.UNKNOWN,c.toString())})}Ao(e,t,s,c){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,E])=>this.connection.Ao(e,t,s,f,E,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new sn(Lt.UNKNOWN,f.toString())})}terminate(){this.hu=!0}}class zu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ss(t),this.wu=!1):hn("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Wo{constructor(e,t,s,c,f){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=f,this.vu.Jr(N=>{s.enqueueAndForget((0,de.Z)(function*(){var G;jc(E)&&(hn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,de.Z)(function*(Q){const ue=Fn(Q);ue.Au.add(4),yield du(ue),ue.Pu.set("Unknown"),ue.Au.delete(4),yield Ia(ue)}),function(Q){return G.apply(this,arguments)})(E))}))}),this.Pu=new zu(s,c)}}function Ia(r){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,de.Z)(function*(r){if(jc(r))for(const e of r.Ru)yield e(!0)}),Sd.apply(this,arguments)}function du(r){return hh.apply(this,arguments)}function hh(){return hh=(0,de.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),hh.apply(this,arguments)}function Ad(r,e){const t=Fn(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),hf(t)?df(t):p(t).Uo()&&uf(t,e))}function lp(r,e){const t=Fn(r),s=p(t);t.Eu.delete(e),s.Uo()&&oy(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():jc(t)&&t.Pu.set("Unknown"))}function uf(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}p(r).nu(e)}function oy(r,e){r.bu.Lt(e),p(r).su(e)}function df(r){r.bu=new Nh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),p(r).start(),r.Pu.mu()}function hf(r){return jc(r)&&!p(r).qo()&&r.Eu.size>0}function jc(r){return 0===Fn(r).Au.size}function cp(r){r.bu=void 0}function xd(r){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,de.Z)(function*(r){r.Eu.forEach((e,t)=>{uf(r,e)})}),Dc.apply(this,arguments)}function ff(r,e){return fh.apply(this,arguments)}function fh(){return fh=(0,de.Z)(function*(r,e){cp(r),hf(r)?(r.Pu.pu(e),df(r)):r.Pu.set("Unknown")}),fh.apply(this,arguments)}function pf(r,e,t){return up.apply(this,arguments)}function up(){return up=(0,de.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof gd&&2===e.state&&e.cause)try{yield(s=(0,de.Z)(function*(c,f){const E=f.cause;for(const N of f.targetIds)c.Eu.has(N)&&(yield c.remoteSyncer.rejectListen(N,E),c.Eu.delete(N),c.bu.removeTarget(N))}),function(c,f){return s.apply(this,arguments)})(r,e)}catch(s){hn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ph(r,s)}else if(e instanceof au?r.bu.Wt(e):e instanceof Zd?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(rr.min()))try{const s=yield np(r.localStore);t.compareTo(s)>=0&&(yield function(c,f){const E=c.bu.ue(f);return E.targetChanges.forEach((N,G)=>{if(N.resumeToken.approximateByteSize()>0){const Q=c.Eu.get(G);Q&&c.Eu.set(G,Q.withResumeToken(N.resumeToken,f))}}),E.targetMismatches.forEach((N,G)=>{const Q=c.Eu.get(N);if(!Q)return;c.Eu.set(N,Q.withResumeToken(Zs.EMPTY_BYTE_STRING,Q.snapshotVersion)),oy(c,N);const ue=new Uc(Q.target,N,G,Q.sequenceNumber);uf(c,ue)}),c.remoteSyncer.applyRemoteEvent(E)}(r,t))}catch(s){hn("RemoteStore","Failed to raise snapshot:",s),yield ph(r,s)}var s}),up.apply(this,arguments)}function ph(r,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,de.Z)(function*(r,e,t){if(!Ro(e))throw e;r.Au.add(1),yield du(r),r.Pu.set("Offline"),t||(t=()=>np(r.localStore)),r.asyncQueue.enqueueRetryable((0,de.Z)(function*(){hn("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Ia(r)}))}),gf.apply(this,arguments)}function am(r,e){return e().catch(t=>ph(r,t,e))}function gh(r){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,de.Z)(function*(r){const e=Fn(r),t=I(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;lm(e);)try{const c=yield ip(e.localStore,s);if(null===c){0===e.Tu.length&&t.Qo();break}s=c.batchId,ev(e,c)}catch(c){yield ph(e,c)}cm(e)&&ug(e)}),Rd.apply(this,arguments)}function lm(r){return jc(r)&&r.Tu.length<10}function ev(r,e){r.Tu.push(e);const t=I(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function cm(r){return jc(r)&&!I(r).qo()&&r.Tu.length>0}function ug(r){I(r).start()}function ay(r){return dg.apply(this,arguments)}function dg(){return dg=(0,de.Z)(function*(r){I(r).au()}),dg.apply(this,arguments)}function ly(r){return hg.apply(this,arguments)}function hg(){return hg=(0,de.Z)(function*(r){const e=I(r);for(const t of r.Tu)e.ou(t.mutations)}),hg.apply(this,arguments)}function cy(r,e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,de.Z)(function*(r,e,t){const s=r.Tu.shift(),c=A.from(s,e,t);yield am(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield gh(r)}),dp.apply(this,arguments)}function fg(r,e){return hp.apply(this,arguments)}function hp(){return hp=(0,de.Z)(function*(r,e){var t;e&&I(r).ru&&(yield(t=(0,de.Z)(function*(s,c){if(kn(f=c.code)&&f!==Lt.ABORTED){const E=s.Tu.shift();I(s).Go(),yield am(s,()=>s.remoteSyncer.rejectFailedWrite(E.batchId,c)),yield gh(s)}var f}),function(s,c){return t.apply(this,arguments)})(r,e)),cm(r)&&ug(r)}),hp.apply(this,arguments)}function fp(r,e){return u.apply(this,arguments)}function u(){return u=(0,de.Z)(function*(r,e){const t=Fn(r);t.asyncQueue.verifyOperationInProgress(),hn("RemoteStore","RemoteStore received new credentials");const s=jc(t);t.Au.add(3),yield du(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Ia(t)}),u.apply(this,arguments)}function a(r,e){return l.apply(this,arguments)}function l(){return l=(0,de.Z)(function*(r,e){const t=Fn(r);e?(t.Au.delete(2),yield Ia(t)):e||(t.Au.add(2),yield du(t),t.Pu.set("Unknown"))}),l.apply(this,arguments)}function p(r){return r.Vu||(r.Vu=function(e,t,s){const c=Fn(e);return c.lu(),new sm(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(r.datastore,r.asyncQueue,{oo:xd.bind(null,r),co:ff.bind(null,r),eu:pf.bind(null,r)}),r.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(r.Vu.Go(),hf(r)?df(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),cp(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function I(r){return r.Su||(r.Su=function(e,t,s){const c=Fn(e);return c.lu(),new iy(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(r.datastore,r.asyncQueue,{oo:ay.bind(null,r),co:fg.bind(null,r),cu:ly.bind(null,r),uu:cy.bind(null,r)}),r.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(r.Su.Go(),yield gh(r)):(yield r.Su.stop(),r.Tu.length>0&&(hn("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class M{constructor(e,t,s,c,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=f,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,s,c,f){const E=Date.now()+s,N=new M(e,t,E,c,f);return N.start(s),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(Lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V(r,e){if(ss("AsyncQueue",`${e}: ${r}`),Ro(r))return new sn(Lt.UNAVAILABLE,`${e}: ${r}`);throw r}class te{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Pn.comparator(t.key,s.key):(t,s)=>Pn.comparator(t.key,s.key),this.keyedMap=Oc(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new te(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof te)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=s.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new te;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class fe{constructor(){this.Du=new Tr(Pn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Hn():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class De{constructor(e,t,s,c,f,E,N,G,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=N,this.excludesMetadataChanges=G,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,c,f){const E=[];return t.forEach(N=>{E.push({type:0,doc:N})}),new De(e,t,te.emptySet(t),E,s,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class xt{constructor(){this.xu=void 0,this.listeners=[]}}class jt{constructor(){this.queries=new yc(e=>rd(e),mc),this.onlineState="Unknown",this.Nu=new Set}}function Yt(r,e){return En.apply(this,arguments)}function En(){return En=(0,de.Z)(function*(r,e){const t=Fn(r),s=e.query;let c=!1,f=t.queries.get(s);if(f||(c=!0,f=new xt),c)try{f.xu=yield t.onListen(s)}catch(E){const N=V(E,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(N)}t.queries.set(s,f),f.listeners.push(e),e.ku(t.onlineState),f.xu&&e.Mu(f.xu)&&ls(t)}),En.apply(this,arguments)}function Vn(r,e){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,de.Z)(function*(r,e){const t=Fn(r),s=e.query;let c=!1;const f=t.queries.get(s);if(f){const E=f.listeners.indexOf(e);E>=0&&(f.listeners.splice(E,1),c=0===f.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),Kr.apply(this,arguments)}function pi(r,e){const t=Fn(r);let s=!1;for(const c of e){const E=t.queries.get(c.query);if(E){for(const N of E.listeners)N.Mu(c)&&(s=!0);E.xu=c}}s&&ls(t)}function No(r,e,t){const s=Fn(r),c=s.queries.get(e);if(c)for(const f of c.listeners)f.onError(t);s.queries.delete(e)}function ls(r){r.Nu.forEach(e=>{e.next()})}class fs{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new De(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=De.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Ui{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class Ul{constructor(e){this.serializer=e}ir(e){return hl(this.serializer,e)}rr(e){return e.metadata.exists?Vp(this.serializer,e.document,!1):_i.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return xs(e)}}class hu{constructor(e,t,s){this.Qu=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tl(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const s=vi.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,s=new Ul(this.serializer);for(const c of e)if(c.metadata.queries){const f=s.ir(c.metadata.name);for(const E of c.metadata.queries){const N=(t.get(E)||Qr()).add(f);t.set(E,N)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function rg(r,e,t,s){return rf.apply(this,arguments)}(e.localStore,new Ul(e.serializer),e.documents,e.Qu.id),s=e.zu(e.documents);for(const c of e.queries)yield Jm(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function tl(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Gu{constructor(e){this.key=e}}class fu{constructor(e){this.key=e}}class mf{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Qr(),this.mutatedKeys=Qr(),this.Zu=Mf(e),this.tc=new te(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new fe,c=t?t.tc:this.tc;let f=t?t.mutatedKeys:this.mutatedKeys,E=c,N=!1;const G="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Q="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ue,Xe)=>{const Mt=c.get(ue),rn=tu(this.query,Xe)?Xe:null,Sn=!!Mt&&this.mutatedKeys.has(Mt.key),Mn=!!rn&&(rn.hasLocalMutations||this.mutatedKeys.has(rn.key)&&rn.hasCommittedMutations);let ur=!1;Mt&&rn?Mt.data.isEqual(rn.data)?Sn!==Mn&&(s.track({type:3,doc:rn}),ur=!0):this.ic(Mt,rn)||(s.track({type:2,doc:rn}),ur=!0,(G&&this.Zu(rn,G)>0||Q&&this.Zu(rn,Q)<0)&&(N=!0)):!Mt&&rn?(s.track({type:0,doc:rn}),ur=!0):Mt&&!rn&&(s.track({type:1,doc:Mt}),ur=!0,(G||Q)&&(N=!0)),ur&&(rn?(E=E.add(rn),f=Mn?f.add(ue):f.delete(ue)):(E=E.delete(ue),f=f.delete(ue)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ue="F"===this.query.limitType?E.last():E.first();E=E.delete(ue.key),f=f.delete(ue.key),s.track({type:1,doc:ue})}return{tc:E,sc:s,ji:N,mutatedKeys:f}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const f=e.sc.Cu();f.sort((Q,ue)=>function(Xe,Mt){const rn=Sn=>{switch(Sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hn()}};return rn(Xe)-rn(Mt)}(Q.type,ue.type)||this.Zu(Q.doc,ue.doc)),this.rc(s);const E=t?this.oc():[],N=0===this.Xu.size&&this.current?1:0,G=N!==this.Yu;return this.Yu=N,0!==f.length||G?{snapshot:new De(this.query,e.tc,c,f,e.mutatedKeys,0===N,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:E}:{uc:E}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new fe,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Qr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new fu(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Gu(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Qr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return De.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class pp{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gp{constructor(e){this.key=e,this.lc=!1}}class mp{constructor(e,t,s,c,f,E){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.fc={},this.dc=new yc(N=>rd(N),mc),this._c=new Map,this.wc=new Set,this.mc=new Tr(Pn.comparator),this.gc=new Map,this.yc=new Jp,this.Ic={},this.Tc=new Map,this.Ec=Cd.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function yp(r,e){return mh.apply(this,arguments)}function mh(){return mh=(0,de.Z)(function*(r,e){const t=_m(r);let s,c;const f=t.dc.get(e);if(f)s=f.targetId,t.sharedClientState.addLocalQueryTarget(s),c=f.view.hc();else{const E=yield Td(t.localStore,ko(e)),N=t.sharedClientState.addLocalQueryTarget(E.targetId);s=E.targetId,c=yield yh(t,e,s,"current"===N,E.resumeToken),t.isPrimaryClient&&Ad(t.remoteStore,E)}return c}),mh.apply(this,arguments)}function yh(r,e,t,s,c){return vh.apply(this,arguments)}function vh(){return vh=(0,de.Z)(function*(r,e,t,s,c){r.Rc=(Xe,Mt,rn)=>{return(Sn=(0,de.Z)(function*(Mn,ur,ei,Bi){let ti=ur.view.nc(ei);ti.ji&&(ti=yield uh(Mn.localStore,ur.query,!1).then(({documents:bs})=>ur.view.nc(bs,ti)));const Ba=Bi&&Bi.targetChanges.get(ur.targetId),Fs=ur.view.applyChanges(ti,Mn.isPrimaryClient,Ba);return yg(Mn,ur.targetId,Fs.uc),Fs.snapshot}),function(Mn,ur,ei,Bi){return Sn.apply(this,arguments)})(r,Xe,Mt,rn);var Sn};const f=yield uh(r.localStore,e,!0),E=new mf(e,f.sr),N=E.nc(f.documents),G=Xl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,c),Q=E.applyChanges(N,r.isPrimaryClient,G);yg(r,t,Q.uc);const ue=new pp(e,t,E);return r.dc.set(e,ue),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),Q.snapshot}),vh.apply(this,arguments)}function tv(r,e){return um.apply(this,arguments)}function um(){return um=(0,de.Z)(function*(r,e){const t=Fn(r),s=t.dc.get(e),c=t._c.get(s.targetId);if(c.length>1)return t._c.set(s.targetId,c.filter(f=>!mc(f,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Hu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),lp(t.remoteStore,s.targetId),Md(t,s.targetId)}).catch(vr))):(Md(t,s.targetId),yield Hu(t.localStore,s.targetId,!0))}),um.apply(this,arguments)}function dm(){return dm=(0,de.Z)(function*(r,e,t){const s=Em(r);try{const c=yield function(f,E){const N=Fn(f),G=oi.now(),Q=E.reduce((Mt,rn)=>Mt.add(rn.key),Qr());let ue,Xe;return N.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let rn=Qs(),Sn=Qr();return N.Xi.getEntries(Mt,Q).next(Mn=>{rn=Mn,rn.forEach((ur,ei)=>{ei.isValidDocument()||(Sn=Sn.add(ur))})}).next(()=>N.localDocuments.getOverlayedDocuments(Mt,rn)).next(Mn=>{ue=Mn;const ur=[];for(const ei of E){const Bi=hd(ei,ue.get(ei.key).overlayedDocument);null!=Bi&&ur.push(new el(ei.key,Bi,Al(Bi.value.mapValue),vs.exists(!0)))}return N.mutationQueue.addMutationBatch(Mt,G,ur,E)}).next(Mn=>{Xe=Mn;const ur=Mn.applyToLocalDocumentSet(ue,Sn);return N.documentOverlayCache.saveOverlays(Mt,Mn.batchId,ur)})}).then(()=>({batchId:Xe.batchId,changes:kc(ue)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(f,E,N){let G=f.Ic[f.currentUser.toKey()];G||(G=new Tr(sr)),G=G.insert(E,N),f.Ic[f.currentUser.toKey()]=G}(s,c.batchId,t),yield Hc(s,c.changes),yield gh(s.remoteStore)}catch(c){const f=V(c,"Failed to persist write");t.reject(f)}}),dm.apply(this,arguments)}function uy(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,de.Z)(function*(r,e){const t=Fn(r);try{const s=yield function tf(r,e){const t=Fn(r),s=e.snapshotVersion;let c=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=t.Xi.newChangeBuffer({trackRemovals:!0});c=t.Hi;const N=[];e.targetChanges.forEach((ue,Xe)=>{const Mt=c.get(Xe);if(!Mt)return;N.push(t.Fs.removeMatchingKeys(f,ue.removedDocuments,Xe).next(()=>t.Fs.addMatchingKeys(f,ue.addedDocuments,Xe)));let rn=Mt.withSequenceNumber(f.currentSequenceNumber);var Sn,Mn,ur;null!==e.targetMismatches.get(Xe)?rn=rn.withResumeToken(Zs.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):ue.resumeToken.approximateByteSize()>0&&(rn=rn.withResumeToken(ue.resumeToken,s)),c=c.insert(Xe,rn),Mn=rn,ur=ue,(0===(Sn=Mt).resumeToken.approximateByteSize()||Mn.snapshotVersion.toMicroseconds()-Sn.snapshotVersion.toMicroseconds()>=3e8||ur.addedDocuments.size+ur.modifiedDocuments.size+ur.removedDocuments.size>0)&&N.push(t.Fs.updateTargetData(f,rn))});let G=Qs(),Q=Qr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(f,ue))}),N.push(rp(f,E,e.documentUpdates).next(ue=>{G=ue.er,Q=ue.nr})),!s.isEqual(rr.min())){const ue=t.Fs.getLastRemoteSnapshotVersion(f).next(Xe=>t.Fs.setTargetsMetadata(f,f.currentSequenceNumber,s));N.push(ue)}return Rt.waitFor(N).next(()=>E.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,G,Q)).next(()=>G)}).then(f=>(t.Hi=c,f))}(t.localStore,e);e.targetChanges.forEach((c,f)=>{const E=t.gc.get(f);E&&(ir(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?E.lc=!0:c.modifiedDocuments.size>0?ir(E.lc):c.removedDocuments.size>0&&(ir(E.lc),E.lc=!1))}),yield Hc(t,s,e)}catch(s){yield vr(s)}}),hm.apply(this,arguments)}function dy(r,e,t){const s=Fn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.dc.forEach((f,E)=>{const N=E.view.ku(e);N.snapshot&&c.push(N.snapshot)}),function(f,E){const N=Fn(f);N.onlineState=E;let G=!1;N.queries.forEach((Q,ue)=>{for(const Xe of ue.listeners)Xe.ku(E)&&(G=!0)}),G&&ls(N)}(s.eventManager,e),c.length&&s.fc.eu(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function rv(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,de.Z)(function*(r,e,t){const s=Fn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.gc.get(e),f=c&&c.key;if(f){let E=new Tr(Pn.comparator);E=E.insert(f,_i.newNoDocument(f,rr.min()));const N=Qr().add(f),G=new ou(rr.min(),new Map,new Tr(sr),E,N);yield uy(s,G),s.mc=s.mc.remove(f),s.gc.delete(e),vp(s)}else yield Hu(s.localStore,e,!1).then(()=>Md(s,e,t)).catch(vr)}),fm.apply(this,arguments)}function E_(r,e){return hy.apply(this,arguments)}function hy(){return hy=(0,de.Z)(function*(r,e){const t=Fn(r),s=e.batch.batchId;try{const c=yield function ch(r,e){const t=Fn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),f=t.Xi.newChangeBuffer({trackRemovals:!0});return function(E,N,G,Q){const ue=G.batch,Xe=ue.keys();let Mt=Rt.resolve();return Xe.forEach(rn=>{Mt=Mt.next(()=>Q.getEntry(N,rn)).next(Sn=>{const Mn=G.docVersions.get(rn);ir(null!==Mn),Sn.version.compareTo(Mn)<0&&(ue.applyToRemoteDocument(Sn,G),Sn.isValidDocument()&&(Sn.setReadTime(G.commitVersion),Q.addEntry(Sn)))})}),Mt.next(()=>E.mutationQueue.removeMutationBatch(N,ue))}(t,s,e,f).next(()=>f.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(E){let N=Qr();for(let G=0;G<E.mutationResults.length;++G)E.mutationResults[G].transformResults.length>0&&(N=N.add(E.batch.mutations[G].key));return N}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}(t.localStore,e);py(t,s,null),gg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Hc(t,c)}catch(c){yield vr(c)}}),hy.apply(this,arguments)}function iv(r,e,t){return fy.apply(this,arguments)}function fy(){return fy=(0,de.Z)(function*(r,e,t){const s=Fn(r);try{const c=yield function(f,E){const N=Fn(f);return N.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let Q;return N.mutationQueue.lookupMutationBatch(G,E).next(ue=>(ir(null!==ue),Q=ue.keys(),N.mutationQueue.removeMutationBatch(G,ue))).next(()=>N.mutationQueue.performConsistencyCheck(G)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(G,Q,E)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,Q)).next(()=>N.localDocuments.getDocuments(G,Q))})}(s.localStore,e);py(s,e,t),gg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Hc(s,c)}catch(c){yield vr(c)}}),fy.apply(this,arguments)}function pg(){return pg=(0,de.Z)(function*(r,e){const t=Fn(r);jc(t.remoteStore)||hn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const E=Fn(f);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>E.mutationQueue.getHighestUnacknowledgedBatchId(N))}(t.localStore);if(-1===s)return void e.resolve();const c=t.Tc.get(s)||[];c.push(e),t.Tc.set(s,c)}catch(s){const c=V(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),pg.apply(this,arguments)}function gg(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function py(r,e,t){const s=Fn(r);let c=s.Ic[s.currentUser.toKey()];if(c){const f=c.get(e);f&&(t?f.reject(t):f.resolve(),c=c.remove(e)),s.Ic[s.currentUser.toKey()]=c}}function Md(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||mg(r,s)})}function mg(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(lp(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),vp(r))}function yg(r,e,t){for(const s of t)s instanceof Gu?(r.yc.addReference(s.key,e),w_(r,s)):s instanceof fu?(hn("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||mg(r,s.key)):Hn()}function w_(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(hn("SyncEngine","New document in limbo: "+t),r.wc.add(s),vp(r))}function vp(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new Pn(vi.fromString(e)),s=r.Ec.next();r.gc.set(s,new gp(t)),r.mc=r.mc.insert(t,s),Ad(r.remoteStore,new Uc(ko(Ma(t.path)),s,"TargetPurposeLimboResolution",z.ct))}}function Hc(r,e,t){return vg.apply(this,arguments)}function vg(){return vg=(0,de.Z)(function*(r,e,t){const s=Fn(r),c=[],f=[],E=[];var N;s.dc.isEmpty()||(s.dc.forEach((N,G)=>{E.push(s.Rc(G,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){c.push(Q);const ue=tp.Bi(G.targetId,Q);f.push(ue)}}))}),yield Promise.all(E),s.fc.eu(c),yield(N=(0,de.Z)(function*(G,Q){const ue=Fn(G);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Xe=>Rt.forEach(Q,Mt=>Rt.forEach(Mt.$i,rn=>ue.persistence.referenceDelegate.addReference(Xe,Mt.targetId,rn)).next(()=>Rt.forEach(Mt.Fi,rn=>ue.persistence.referenceDelegate.removeReference(Xe,Mt.targetId,rn)))))}catch(Xe){if(!Ro(Xe))throw Xe;hn("LocalStore","Failed to update sequence numbers: "+Xe)}for(const Xe of Q){const Mt=Xe.targetId;if(!Xe.fromCache){const rn=ue.Hi.get(Mt),Mn=rn.withLastLimboFreeSnapshotVersion(rn.snapshotVersion);ue.Hi=ue.Hi.insert(Mt,Mn)}}}),function(G,Q){return N.apply(this,arguments)})(s.localStore,f))}),vg.apply(this,arguments)}function sv(r,e){return _g.apply(this,arguments)}function _g(){return _g=(0,de.Z)(function*(r,e){const t=Fn(r);if(!t.currentUser.isEqual(e)){hn("SyncEngine","User change. New user:",e.toKey());const s=yield Jg(t.localStore,e);t.currentUser=e,(c=t).Tc.forEach(E=>{E.forEach(N=>{N.reject(new sn(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Hc(t,s.tr)}var c}),_g.apply(this,arguments)}function ov(r,e){const t=Fn(r),s=t.gc.get(e);if(s&&s.lc)return Qr().add(s.key);{let c=Qr();const f=t._c.get(e);if(!f)return c;for(const E of f){const N=t.dc.get(E);c=c.unionWith(N.view.ec)}return c}}function av(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,de.Z)(function*(r,e){const t=Fn(r),s=yield uh(t.localStore,e.query,!0),c=e.view.ac(s);return t.isPrimaryClient&&yg(t,e.targetId,c.uc),c}),Eg.apply(this,arguments)}function lv(r,e){return gy.apply(this,arguments)}function gy(){return gy=(0,de.Z)(function*(r,e){const t=Fn(r);return gl(t.localStore,e).then(s=>Hc(t,s))}),gy.apply(this,arguments)}function cv(r,e,t,s){return pm.apply(this,arguments)}function pm(){return pm=(0,de.Z)(function*(r,e,t,s){const c=Fn(r),f=yield function(E,N){const G=Fn(E),Q=Fn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Q.Vn(ue,N).next(Xe=>Xe?G.localDocuments.getDocuments(ue,Xe):Rt.resolve(null)))}(c.localStore,e);var N;null!==f?("pending"===t?yield gh(c.remoteStore):"acknowledged"===t||"rejected"===t?(py(c,e,s||null),gg(c,e),N=e,Fn(Fn(c.localStore).mutationQueue).Dn(N)):Hn(),yield Hc(c,f)):hn("SyncEngine","Cannot apply mutation batch with id: "+e)}),pm.apply(this,arguments)}function gm(){return gm=(0,de.Z)(function*(r,e){const t=Fn(r);if(_m(t),Em(t),!0===e&&!0!==t.Ac){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield dv(t,s.toArray());t.Ac=!0,yield a(t.remoteStore,!0);for(const f of c)Ad(t.remoteStore,f)}else if(!1===e&&!1!==t.Ac){const s=[];let c=Promise.resolve();t._c.forEach((f,E)=>{t.sharedClientState.isLocalQueryTarget(E)?s.push(E):c=c.then(()=>(Md(t,E),Hu(t.localStore,E,!0))),lp(t.remoteStore,E)}),yield c,yield dv(t,s),function(f){const E=Fn(f);E.gc.forEach((N,G)=>{lp(E.remoteStore,G)}),E.yc.Is(),E.gc=new Map,E.mc=new Tr(Pn.comparator)}(t),t.Ac=!1,yield a(t.remoteStore,!1)}}),gm.apply(this,arguments)}function dv(r,e,t){return mm.apply(this,arguments)}function mm(){return mm=(0,de.Z)(function*(r,e,t){const s=Fn(r),c=[],f=[];for(const E of e){let N;const G=s._c.get(E);if(G&&0!==G.length){N=yield Td(s.localStore,ko(G[0]));for(const Q of G){const ue=s.dc.get(Q),Xe=yield av(s,ue);Xe.snapshot&&f.push(Xe.snapshot)}}else{const Q=yield ng(s.localStore,E);N=yield Td(s.localStore,Q),yield yh(s,my(Q),E,!1,N.resumeToken)}c.push(N)}return s.fc.eu(f),c}),mm.apply(this,arguments)}function my(r){return Ph(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function yy(r){const e=Fn(r);return Fn(Fn(e.localStore).persistence).Mi()}function vy(r,e,t,s){return ym.apply(this,arguments)}function ym(){return ym=(0,de.Z)(function*(r,e,t,s){const c=Fn(r);if(c.Ac)return void hn("SyncEngine","Ignoring unexpected query state notification.");const f=c._c.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const E=yield gl(c.localStore,nu(f[0])),N=ou.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Zs.EMPTY_BYTE_STRING);yield Hc(c,E,N);break}case"rejected":yield Hu(c.localStore,e,!0),Md(c,e,s);break;default:Hn()}}),ym.apply(this,arguments)}function hv(r,e,t){return vm.apply(this,arguments)}function vm(){return vm=(0,de.Z)(function*(r,e,t){const s=_m(r);if(s.Ac){for(const c of e){if(s._c.has(c)){hn("SyncEngine","Adding an already active target "+c);continue}const f=yield ng(s.localStore,c),E=yield Td(s.localStore,f);yield yh(s,my(f),E.targetId,!1,E.resumeToken),Ad(s.remoteStore,E)}for(const c of t)s._c.has(c)&&(yield Hu(s.localStore,c,!1).then(()=>{lp(s.remoteStore,c),Md(s,c)}).catch(vr))}}),vm.apply(this,arguments)}function _m(r){const e=Fn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ov.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rv.bind(null,e),e.fc.eu=pi.bind(null,e.eventManager),e.fc.vc=No.bind(null,e.eventManager),e}function Em(r){const e=Fn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iv.bind(null,e),e}class _p{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=cf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qg(this.persistence,new Zg,e.initialUser,this.serializer)}createPersistence(e){return new Jf(Xh.js,this.serializer)}createSharedClientState(e){return new rm}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ep extends _p{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,de.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield Em(s.bc.syncEngine),yield gh(s.bc.remoteStore),yield s.persistence.pi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qg(this.persistence,new Zg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new k(t,this.persistence);return new w(e.asyncQueue,s)}createPersistence(e){const t=ju(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ka.withCacheSize(this.cacheSizeBytes):ka.DEFAULT;return new Jh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,ry(),lg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rm}}class Pd extends Ep{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,de.Z)(function*(){yield t().call(s,e);const c=s.bc.syncEngine;s.sharedClientState instanceof af&&(s.sharedClientState.syncEngine={Qr:cv.bind(null,c),jr:vy.bind(null,c),zr:hv.bind(null,c),Mi:yy.bind(null,c),Gr:lv.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.pi(function(){var f=(0,de.Z)(function*(E){yield function uv(r,e){return gm.apply(this,arguments)}(s.bc.syncEngine,E),s.gcScheduler&&(E&&!s.gcScheduler.started?s.gcScheduler.start():E||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(E&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():E||s.indexBackfillerScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ry();if(!af.D(t))throw new sn(Lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ju(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new af(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ip{initialize(e,t){var s=this;return(0,de.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>dy(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=sv.bind(null,s.syncEngine),yield a(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jt}createDatastore(e){const t=cf(e.databaseInfo.databaseId),s=new ny(e.databaseInfo);return new om(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,f=N=>dy(this.syncEngine,N,0),E=im.D()?new im:new ey,new Wo(t,s,c,f,E);var t,s,c,f,E}createSyncEngine(e,t){return function(s,c,f,E,N,G,Q){const ue=new mp(s,c,f,E,N,G);return Q&&(ue.Ac=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const s=Fn(t);hn("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield du(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gv(r,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yf{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ui,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(s=>{s&&s.Gu()?this.metadata.resolve(s.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Ku)}`))},s=>this.metadata.reject(s))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,de.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const s=e.Cc.decode(t),c=Number(s);isNaN(c)&&e.kc(`length string (${s}) is not valid number`);const f=yield e.Mc(c);return new Ui(JSON.parse(f),t.length+c)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,de.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Mc(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const s=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,de.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class _y{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new sn(Lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,de.Z)(function*(f,E){const N=Fn(f),G=vd(N.serializer)+"/documents",Q={documents:E.map(rn=>Bf(N.serializer,rn))},ue=yield N.Ao("BatchGetDocuments",G,Q,E.length),Xe=new Map;ue.forEach(rn=>{const Sn=function Bh(r,e){return"found"in e?function(t,s){ir(!!s.found);const c=hl(t,s.found.name),f=xs(s.found.updateTime),E=s.found.createTime?xs(s.found.createTime):rr.min(),N=new Xs({mapValue:{fields:s.found.fields}});return _i.newFoundDocument(c,f,E,N)}(r,e):"missing"in e?function(t,s){ir(!!s.missing),ir(!!s.readTime);const c=hl(t,s.missing),f=xs(s.readTime);return _i.newNoDocument(c,f)}(r,e):Hn()}(N.serializer,rn);Xe.set(Sn.key.toString(),Sn)});const Mt=[];return E.forEach(rn=>{const Sn=Xe.get(rn.toString());ir(!!Sn),Mt.push(Sn)}),Mt}),function(f,E){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new C(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const f=Pn.fromPath(c);e.mutations.push(new g(f,e.precondition(f)))}),yield(s=(0,de.Z)(function*(c,f){const E=Fn(c),N=vd(E.serializer)+"/documents",G={writes:f.map(Q=>_d(E.serializer,Q))};yield E.po("Commit",N,G)}),function(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hn();t=rr.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new sn(Lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rr.min())?vs.exists(!1):vs.updateTime(t):vs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rr.min()))throw new sn(Lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(t)}return vs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C_{constructor(e,t,s,c,f){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=f,this.Fc=s.maxAttempts,this.Lo=new rc(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,de.Z)(function*(){const t=new _y(e.datastore),s=e.Lc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(f=>{e.qc(f)}))}).catch(c=>{e.qc(c)})}))}Lc(e){try{const t=this.updateFunction(e);return!ie(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kn(t)}return!1}}class Ey{constructor(e,t,s,c){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=Wi.UNAUTHENTICATED,this.clientId=ol.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var E=(0,de.Z)(function*(N){hn("FirestoreClient","Received user=",N.uid),yield f.authCredentialListener(N),f.user=N});return function(N){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(hn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=V(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Iy(r,e){return mv.apply(this,arguments)}function mv(){return mv=(0,de.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),hn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(f){s.isEqual(f)||(yield Jg(e.localStore,f),s=f)});return function(f){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),mv.apply(this,arguments)}function wy(r,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,de.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Dy(r);hn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(c=>fp(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,f)=>fp(e.remoteStore,f)),r._onlineComponents=e}),Cy.apply(this,arguments)}function by(r){return"FirebaseError"===r.name?r.code===Lt.FAILED_PRECONDITION||r.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Dy(r){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,de.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){hn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Iy(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!by(t))throw t;ci("Error using user provided cache. Falling back to memory cache: "+t),yield Iy(r,new _p)}}else hn("FirestoreClient","Using default OfflineComponentProvider"),yield Iy(r,new _p);return r._offlineComponents}),Ko.apply(this,arguments)}function Ig(r){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,de.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(hn("FirestoreClient","Using user provided OnlineComponentProvider"),yield wy(r,r._uninitializedComponentsProvider._online)):(hn("FirestoreClient","Using default OnlineComponentProvider"),yield wy(r,new Ip))),r._onlineComponents}),Ty.apply(this,arguments)}function yv(r){return Dy(r).then(e=>e.persistence)}function wg(r){return Dy(r).then(e=>e.localStore)}function vv(r){return Ig(r).then(e=>e.remoteStore)}function Im(r){return Ig(r).then(e=>e.syncEngine)}function pu(r){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,de.Z)(function*(r){const e=yield Ig(r),t=e.eventManager;return t.onListen=yp.bind(null,e.syncEngine),t.onUnlisten=tv.bind(null,e.syncEngine),t}),Ay.apply(this,arguments)}function xy(r,e,t={}){const s=new ui;return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,f,E,N,G){const Q=new wp({next:Xe=>{f.enqueueAndForget(()=>Vn(c,ue));const Mt=Xe.docs.has(E);!Mt&&Xe.fromCache?G.reject(new sn(Lt.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&Xe.fromCache&&N&&"server"===N.source?G.reject(new sn(Lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),ue=new fs(Ma(E.path),Q,{includeMetadataChanges:!0,Uu:!0});return Yt(c,ue)}(yield pu(r),r.asyncQueue,e,t,s)})),s.promise}function Ry(r,e,t={}){const s=new ui;return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,f,E,N,G){const Q=new wp({next:Xe=>{f.enqueueAndForget(()=>Vn(c,ue)),Xe.fromCache&&"server"===N.source?G.reject(new sn(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),ue=new fs(E,Q,{includeMetadataChanges:!0,Uu:!0});return Yt(c,ue)}(yield pu(r),r.asyncQueue,e,t,s)})),s.promise}const gu=new Map;function Tc(r,e,t){if(!t)throw new sn(Lt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zc(r,e,t,s){if(!0===e&&!0===s)throw new sn(Lt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Py(r){if(!Pn.isDocumentKey(r))throw new sn(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Oy(r){if(Pn.isDocumentKey(r))throw new sn(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wm(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Hn()}function Vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new sn(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wm(r);throw new sn(Lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Ev(r,e){if(e<=0)throw new sn(Lt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Iv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sn(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iv(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ac;switch(t.type){case"firstParty":return new yu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new sn(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gu.get(e);t&&(hn("ComponentProvider","Removing Datastore"),gu.delete(e),t.terminate())}(this),Promise.resolve()}}class eo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eo(this.firestore,e,this._key)}}class La{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Ku extends La{constructor(e,t,s){super(e,t,Ma(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eo(this.firestore,null,new Pn(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function ky(r,e,...t){if(r=(0,Ze.m9)(r),Tc("collection","path",e),r instanceof vf){const s=vi.fromString(e,...t);return Oy(s),new Ku(r,null,s)}{if(!(r instanceof eo||r instanceof Ku))throw new sn(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vi.fromString(e,...t));return Oy(s),new Ku(r.firestore,null,s)}}function _f(r,e,...t){if(r=(0,Ze.m9)(r),1===arguments.length&&(e=ol.A()),Tc("doc","path",e),r instanceof vf){const s=vi.fromString(e,...t);return Py(s),new eo(r,null,new Pn(s))}{if(!(r instanceof eo||r instanceof Ku))throw new sn(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vi.fromString(e,...t));return Py(s),new eo(r.firestore,r instanceof Ku?r.converter:null,new Pn(s))}}function Cv(r,e){return r=(0,Ze.m9)(r),e=(0,Ze.m9)(e),(r instanceof eo||r instanceof Ku)&&(e instanceof eo||e instanceof Ku)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Cm(r,e){return r=(0,Ze.m9)(r),e=(0,Ze.m9)(e),r instanceof La&&e instanceof La&&r.firestore===e.firestore&&mc(r._query,e._query)&&r.converter===e.converter}class bv{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new rc(this,"async_queue_retry"),this.Yc=()=>{const t=lg();t&&hn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=lg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=lg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ui;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,de.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Ro(t))throw t;hn("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,ss("INTERNAL UNHANDLED ERROR: ",function(f){let E=f.message||"";return f.stack&&(E=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),E}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const c=M.createAndSchedule(this,e,t,s,f=>this.ea(f));return this.jc.push(c),c}Xc(){this.zc&&Hn()}verifyOperationInProgress(){}na(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function Cg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(r)}class bm{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Vs extends vf{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new bv,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ny(this),this._firestoreClient.terminate()}}function Fo(r){return r._firestoreClient||Ny(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ny(r){var e,t,s;const c=r._freezeSettings(),f=(N=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new ks(r._databaseId,N,r._persistenceKey,(Q=c).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,Q.useFetchStreams));var N,Q;r._firestoreClient=new Ey(r._authCredentials,r._appCheckCredentials,r._queue,f),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=c.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}function Av(r,e,t){const s=new ui;return r.asyncQueue.enqueue((0,de.Z)(function*(){try{yield Iy(r,t),yield wy(r,e),s.resolve()}catch(c){const f=c;if(!by(f))throw f;ci("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function xv(r){if(r._initialized||r._terminated)throw new sn(Lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qu(Zs.fromBase64String(e))}catch(t){throw new sn(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qu(Zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sn(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ef{constructor(e){this._methodName=e}}class Dm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sn(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sn(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}const L_=/^__.*__$/;class B_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new la(e,this.data,t,this.fieldTransforms)}}class Fy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ly(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hn()}}class Dg{constructor(e,t,s,c,f,E){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===f&&this.oa(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ca({path:s,ha:!1});return c.la(e),c}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ca({path:s,ha:!1});return c.oa(),c}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return xm(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ly(this.ua)&&L_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Rv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cf(e)}ga(e,t,s,c=!1){return new Dg({ua:e,methodName:t,ma:s,path:Mr.emptyPath(),ha:!1,wa:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(r){const e=r._freezeSettings(),t=cf(r._databaseId);return new Rv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Tg(r,e,t,s,c,f={}){const E=r.ga(f.merge||f.mergeFields?2:0,e,t,c);Am("Data must be an object, but it was:",E,s);const N=Sm(s,E);let G,Q;if(f.merge)G=new ys(E.fieldMask),Q=E.fieldTransforms;else if(f.mergeFields){const ue=[];for(const Xe of f.mergeFields){const Mt=Tp(e,Xe,t);if(!E.contains(Mt))throw new sn(Lt.INVALID_ARGUMENT,`Field '${Mt}' is specified in your field mask but missing from your input data.`);Ov(ue,Mt)||ue.push(Mt)}G=new ys(ue),Q=E.fieldTransforms.filter(Xe=>G.covers(Xe.field))}else G=null,Q=E.fieldTransforms;return new B_(new Xs(N),G,Q)}class bp extends Ef{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bp}}function By(r,e,t){return new Dg({ua:3,ma:e.settings.ma,methodName:r._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tm extends Ef{_toFieldTransform(e){return new Kd(e.path,new Ec)}isEqual(e){return e instanceof Tm}}class Mv extends Ef{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=By(this,e,!0),s=this.ya.map(f=>Dp(f,t)),c=new iu(s);return new Kd(e.path,c)}isEqual(e){return this===e}}class Pv extends Ef{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=By(this,e,!0),s=this.ya.map(f=>Dp(f,t)),c=new Ic(s);return new Kd(e.path,c)}isEqual(e){return this===e}}class If extends Ef{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Pa(e.serializer,aa(e.serializer,this.pa));return new Kd(e.path,t)}isEqual(e){return this===e}}function $y(r,e,t,s){const c=r.ga(1,e,t);Am("Data must be an object, but it was:",c,s);const f=[],E=Xs.empty();xa(s,(G,Q)=>{const ue=kr(e,G,t);Q=(0,Ze.m9)(Q);const Xe=c.fa(ue);if(Q instanceof bp)f.push(ue);else{const Mt=Dp(Q,Xe);null!=Mt&&(f.push(ue),E.set(ue,Mt))}});const N=new ys(f);return new Fy(E,N,c.fieldTransforms)}function Uy(r,e,t,s,c,f){const E=r.ga(1,e,t),N=[Tp(e,s,t)],G=[c];if(f.length%2!=0)throw new sn(Lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Mt=0;Mt<f.length;Mt+=2)N.push(Tp(e,f[Mt])),G.push(f[Mt+1]);const Q=[],ue=Xs.empty();for(let Mt=N.length-1;Mt>=0;--Mt)if(!Ov(Q,N[Mt])){const rn=N[Mt];let Sn=G[Mt];Sn=(0,Ze.m9)(Sn);const Mn=E.fa(rn);if(Sn instanceof bp)Q.push(rn);else{const ur=Dp(Sn,Mn);null!=ur&&(Q.push(rn),ue.set(rn,ur))}}const Xe=new ys(Q);return new Fy(ue,Xe,E.fieldTransforms)}function wf(r,e,t,s=!1){return Dp(t,r.ga(s?4:3,e))}function Dp(r,e){if($_(r=(0,Ze.m9)(r)))return Am("Unsupported field value:",e,r),Sm(r,e);if(r instanceof Ef)return function(t,s){if(!Ly(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const c=[];let f=0;for(const E of t){let N=Dp(E,s.da(f));null==N&&(N={nullValue:"NULL_VALUE"}),c.push(N),f++}return{arrayValue:{values:c}}}(r,e)}return function(t,s){if(null===(t=(0,Ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aa(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=oi.fromDate(t);return{timestampValue:lu(s.serializer,c)}}if(t instanceof oi){const c=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lu(s.serializer,c)}}if(t instanceof Dm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qu)return{bytesValue:Nf(s.serializer,t._byteString)};if(t instanceof eo){const c=s.databaseId,f=t.firestore._databaseId;if(!f.isEqual(c))throw s._a(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ff(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${wm(t)}`)}(r,e)}function Sm(r,e){const t={};return wu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(r,(s,c)=>{const f=Dp(c,e.aa(s));null!=f&&(t[s]=f)}),{mapValue:{fields:t}}}function $_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof oi||r instanceof Dm||r instanceof qu||r instanceof eo||r instanceof Ef)}function Am(r,e,t){if(!$_(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=wm(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Tp(r,e,t){if((e=(0,Ze.m9)(e))instanceof Od)return e._internalPath;if("string"==typeof e)return kr(r,e);throw xm("Field path arguments must be of type string or ",r,!1,void 0,t)}const tE=new RegExp("[~\\*/\\[\\]]");function kr(r,e,t){if(e.search(tE)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xm(r,e,t,s,c){const f=s&&!s.isEmpty(),E=void 0!==c;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let G="";return(f||E)&&(G+=" (found",f&&(G+=` in field ${s}`),E&&(G+=` in document ${c}`),G+=")"),new sn(Lt.INVALID_ARGUMENT,N+r+G)}function Ov(r,e){return r.some(t=>t.isEqual(e))}class Sg{constructor(e,t,s,c,f){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sp extends Sg{data(){return super.data()}}function Rm(r,e){return"string"==typeof e?kr(r,e):e instanceof Od?e._internalPath:e._delegate._internalPath}function Ag(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new sn(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class js extends Ap{}function Cf(r,e,...t){let s=[];e instanceof Ap&&s.push(e),s=s.concat(t),function(c){const f=c.filter(N=>N instanceof Rp).length,E=c.filter(N=>N instanceof xp).length;if(f>1||f>0&&E>0)throw new sn(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)r=c._apply(r);return r}class xp extends js{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new xp(e,t,s)}_apply(e){const t=this._parse(e);return Mp(e._query,t),new La(e.firestore,e.converter,Au(e._query,t))}_parse(e){const t=_h(e.firestore);return function(c,f,E,N,G,Q,ue){let Xe;if(G.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new sn(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Lv(ue,Q);const Mt=[];for(const rn of ue)Mt.push(jy(N,c,rn));Xe={arrayValue:{values:Mt}}}else Xe=jy(N,c,ue)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Lv(ue,Q),Xe=wf(E,"where",ue,"in"===Q||"not-in"===Q);return fi.create(G,Q,Xe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Rp extends Ap{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let f=s;const E=c.getFlattenedFilters();for(const N of E)Mp(f,N),f=Au(f,N)}(e._query,t),new La(e.firestore,e.converter,Au(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mm extends js{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mm(e,t)}_apply(e){const t=function(s,c,f){if(null!==s.startAt)throw new sn(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new sn(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new zo(c,f);return function(N,G){if(null===gc(N)){const Q=nd(N);null!==Q&&Pp(0,Q,G.field)}}(s,E),E}(e._query,this._field,this._direction);return new La(e.firestore,e.converter,function(s,c){const f=s.explicitOrderBy.concat([c]);return new oa(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Pm extends js{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Pm(e,t,s)}_apply(e){return new La(e.firestore,e.converter,eu(e._query,this._limit,this._limitType))}}class Eh extends js{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Eh(e,t,s)}_apply(e){const t=Vy(e,this.type,this._docOrFields,this._inclusive);return new La(e.firestore,e.converter,(c=t,new oa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class Om extends js{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Om(e,t,s)}_apply(e){const t=Vy(e,this.type,this._docOrFields,this._inclusive);return new La(e.firestore,e.converter,(c=t,new oa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function Vy(r,e,t,s){if(t[0]=(0,Ze.m9)(t[0]),t[0]instanceof Sg)return function(c,f,E,N,G){if(!N)throw new sn(Lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const Q=[];for(const ue of Ol(c))if(ue.field.isKeyField())Q.push(Ie(f,N.key));else{const Xe=N.data.field(ue.field);if(Rc(Xe))throw new sn(Lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Xe){const Mt=ue.field.canonicalString();throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}Q.push(Xe)}return new Oo(Q,G)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const c=_h(r.firestore);return function(f,E,N,G,Q,ue){const Xe=f.explicitOrderBy;if(Q.length>Xe.length)throw new sn(Lt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let rn=0;rn<Q.length;rn++){const Sn=Q[rn];if(Xe[rn].field.isKeyField()){if("string"!=typeof Sn)throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Sn}`);if(!zd(f)&&-1!==Sn.indexOf("/"))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Sn}' contains a slash.`);const Mn=f.path.child(vi.fromString(Sn));if(!Pn.isDocumentKey(Mn))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Mn}' is not because it contains an odd number of segments.`);const ur=new Pn(Mn);Mt.push(Ie(E,ur))}else{const Mn=wf(N,G,Sn);Mt.push(Mn)}}return new Oo(Mt,ue)}(r._query,r.firestore._databaseId,c,e,t,s)}}function jy(r,e,t){if("string"==typeof(t=(0,Ze.m9)(t))){if(""===t)throw new sn(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zd(e)&&-1!==t.indexOf("/"))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(vi.fromString(t));if(!Pn.isDocumentKey(s))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ie(r,new Pn(s))}if(t instanceof eo)return Ie(r,t._key);throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(t)}.`)}function Lv(r,e){if(!Array.isArray(r)||0===r.length)throw new sn(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mp(r,e){if(e.isInequality()){const s=nd(r),c=e.field;if(null!==s&&!s.isEqual(c))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const f=gc(r);null!==f&&Pp(0,c,f)}const t=function(s,c){for(const f of s)for(const E of f.getFlattenedFilters())if(c.indexOf(E.op)>=0)return E.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new sn(Lt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Pp(r,e,t){if(!t.isEqual(e))throw new sn(Lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Hy{convertValue(e,t="none"){switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return xa(e,(c,f)=>{s[c]=this.convertValue(f,t)}),s}convertGeoPoint(e){return new Dm(Hr(e.latitude),Hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=fc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const t=Yl(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=vi.fromString(e);ir(th(s));const c=new Ho(s.get(1),s.get(3)),f=new Pn(s.popFirst(5));return c.isEqual(t)||ss(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function Nm(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class $v extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,t)}}class bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ih extends Sg{constructor(e,t,s,c,f,E){super(e,t,s,c,E),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Rm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Fm extends Ih{data(e={}){return super.data(e)}}class Df{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new bf(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Fm(this._firestore,this._userDataWriter,s.key,s,new bf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sn(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let f=0;return s._snapshot.docChanges.map(E=>({type:"added",doc:new Fm(s._firestore,s._userDataWriter,E.doc.key,E.doc,new bf(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:f++}))}{let f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(E=>c||3!==E.type).map(E=>{const N=new Fm(s._firestore,s._userDataWriter,E.doc.key,E.doc,new bf(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,Q=-1;return 0!==E.type&&(G=f.indexOf(E.doc.key),f=f.delete(E.doc.key)),1!==E.type&&(f=f.add(E.doc),Q=f.indexOf(E.doc.key)),{type:rE(E.type),doc:N,oldIndex:G,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hn()}}function zy(r,e){return r instanceof Ih&&e instanceof Ih?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Df&&e instanceof Df&&r._firestore===e._firestore&&Cm(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class wh extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,t)}}function Vv(r,e,t){r=Vi(r,eo);const s=Vi(r.firestore,Vs),c=Nm(r.converter,e,t);return Op(s,[Tg(_h(s),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,vs.none())])}function jv(r,e,t,...s){r=Vi(r,eo);const c=Vi(r.firestore,Vs),f=_h(c);let E;return E="string"==typeof(e=(0,Ze.m9)(e))||e instanceof Od?Uy(f,"updateDoc",r._key,e,t,s):$y(f,"updateDoc",r._key,e),Op(c,[E.toMutation(r._key,vs.exists(!0))])}function Gy(r,...e){var t,s,c;r=(0,Ze.m9)(r);let f={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||Cg(e[E])||(f=e[E],E++);const N={includeMetadataChanges:f.includeMetadataChanges};if(Cg(e[E])){const Xe=e[E];e[E]=null===(t=Xe.next)||void 0===t?void 0:t.bind(Xe),e[E+1]=null===(s=Xe.error)||void 0===s?void 0:s.bind(Xe),e[E+2]=null===(c=Xe.complete)||void 0===c?void 0:c.bind(Xe)}let G,Q,ue;if(r instanceof eo)Q=Vi(r.firestore,Vs),ue=Ma(r._key.path),G={next:Xe=>{e[E]&&e[E](Tf(Q,r,Xe))},error:e[E+1],complete:e[E+2]};else{const Xe=Vi(r,La);Q=Vi(Xe.firestore,Vs),ue=Xe._query;const Mt=new wh(Q);G={next:rn=>{e[E]&&e[E](new Df(Q,Mt,Xe,rn))},error:e[E+1],complete:e[E+2]},Ag(r._query)}return function(Xe,Mt,rn,Sn){const Mn=new wp(Sn),ur=new fs(Mt,Mn,rn);return Xe.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return Yt(yield pu(Xe),ur)})),()=>{Mn.Sc(),Xe.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return Vn(yield pu(Xe),ur)}))}}(Fo(Q),ue,N,G)}function Op(r,e){return function(t,s){const c=new ui;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function nv(r,e,t){return dm.apply(this,arguments)}(yield Im(t),s,c)})),c.promise}(Fo(r),e)}function Tf(r,e,t){const s=t.docs.get(e._key),c=new wh(r);return new Ih(r,c,e._key,s,new bf(t.hasPendingWrites,t.fromCache),e.converter)}const Wy={maxAttempts:5};class qv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,t,s){this._verifyNotCommitted();const c=kd(e,this._firestore),f=Nm(c.converter,t,s),E=Tg(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,s);return this._mutations.push(E.toMutation(c._key,vs.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const f=kd(e,this._firestore);let E;return E="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Od?Uy(this._dataReader,"WriteBatch.update",f._key,t,s,c):$y(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(E.toMutation(f._key,vs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kd(e,this._firestore);return this._mutations=this._mutations.concat(new C(t._key,vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sn(Lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kd(r,e){if((r=(0,Ze.m9)(r)).firestore!==e)throw new sn(Lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class a0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_h(e)}get(e){const t=kd(e,this._firestore),s=new $v(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return Hn();const f=c[0];if(f.isFoundDocument())return new Sg(this._firestore,s,f.key,f,t.converter);if(f.isNoDocument())return new Sg(this._firestore,s,t._key,null,t.converter);throw Hn()})}set(e,t,s){const c=kd(e,this._firestore),f=Nm(c.converter,t,s),E=Tg(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,s);return this._transaction.set(c._key,E),this}update(e,t,s,...c){const f=kd(e,this._firestore);let E;return E="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Od?Uy(this._dataReader,"Transaction.update",f._key,t,s,c):$y(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,E),this}delete(e){const t=kd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kd(e,this._firestore),s=new wh(this._firestore);return super.get(e).then(c=>new Ih(this._firestore,s,t._key,c._document,new bf(!1,!1),t.converter))}}!function(r,e=!0){Cl=pt.SDK_VERSION,(0,pt._registerComponent)(new Y.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const f=t.getProvider("app").getImmediate(),E=new Vs(new Wl(t.getProvider("auth-internal")),new Ga(t.getProvider("app-check-internal")),function(N,G){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new sn(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(N.options.projectId,G)}(f,s),f);return c=Object.assign({useFetchStreams:e},c),E._setSettings(c),E},"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(Gc,"3.11.0",r),(0,pt.registerVersion)(Gc,"3.11.0","esm2017")}();function Bm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Yv(){if(typeof Uint8Array>"u")throw new sn("unimplemented","Uint8Arrays are not available in this environment.")}function Zv(){if(!function Xr(){return typeof atob<"u"}())throw new sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Rg{constructor(e){this._delegate=e}static fromBase64String(e){return Zv(),new Rg(qu.fromBase64String(e))}static fromUint8Array(e){return Yv(),new Rg(qu.fromUint8Array(e))}toBase64(){return Zv(),this._delegate.toBase64()}toUint8Array(){return Yv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mg(r){return function qy(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Xv{enableIndexedDbPersistence(e,t){return function Tv(r,e){xv(r=Vi(r,Vs));const t=Fo(r);if(t._uninitializedComponentsProvider)throw new sn(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");ci("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),c=new Ip;return Av(t,c,new Ep(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sv(r){xv(r=Vi(r,Vs));const e=Fo(r);if(e._uninitializedComponentsProvider)throw new sn(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");ci("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new Ip;return Av(e,s,new Pd(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function R_(r){if(r._initialized&&!r._terminated)throw new sn(Lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return r._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(s){if(!ws.D())return Promise.resolve();const c=s+"main";yield ws.delete(c)}),function(s){return t.apply(this,arguments)})(ju(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $m{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ho||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ci("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Cp(r,e,t,s={}){var c;const f=(r=Vi(r,vf))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&ci("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let E,N;if("string"==typeof s.mockUserToken)E=s.mockUserToken,N=Wi.MOCK_USER;else{E=(0,Ze.Sg)(s.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new sn(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Wi(G)}r._authCredentials=new bl(new xo(E,N))}}(this._delegate,e,t,s)}enableNetwork(){return function P_(r){return function b_(r){return r.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield yv(r),t=yield vv(r);return e.setNetworkEnabled(!0),function(s){const c=Fn(s);return c.Au.delete(0),Ia(c)}(t)}))}(Fo(r=Vi(r,Vs)))}(this._delegate)}disableNetwork(){return function O_(r){return function _v(r){return r.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield yv(r),t=yield vv(r);return e.setNetworkEnabled(!1),(s=(0,de.Z)(function*(c){const f=Fn(c);f.Au.add(0),yield du(f),f.Pu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(Fo(r=Vi(r,Vs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,zc("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M_(r){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function I_(r,e){return pg.apply(this,arguments)}(yield Im(e),t)})),t.promise}(Fo(r=Vi(r,Vs)))}(this._delegate)}onSnapshotsInSync(e){return function e0(r,e){return function My(r,e){const t=new wp(e);return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return s=yield pu(r),c=t,Fn(s).Nu.add(c),void c.next();var s,c})),()=>{t.Sc(),r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return s=yield pu(r),c=t,void Fn(s).Nu.delete(c);var s,c}))}}(Fo(r=Vi(r,Vs)),Cg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Af(this,ky(this._delegate,e))}catch(t){throw ml(t,"collection()","Firestore.collection()")}}doc(e){try{return new nl(this,_f(this._delegate,e))}catch(t){throw ml(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vl(this,function wv(r,e){if(r=Vi(r,vf),Tc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sn(Lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new La(r,null,(t=e,new oa(vi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ml(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function l0(r,e,t){r=Vi(r,Vs);const s=Object.assign(Object.assign({},Wy),t);return function(c){if(c.maxAttempts<1)throw new sn(Lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,E){const N=new ui;return c.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const G=yield function Sy(r){return Ig(r).then(e=>e.datastore)}(c);new C_(c.asyncQueue,G,E,f,N).run()})),N.promise}(Fo(r),c=>e(new a0(r,c)),s)}(this._delegate,t=>e(new Vm(this,t)))}batch(){return Fo(this._delegate),new Qv(new qv(this._delegate,e=>Op(this._delegate,e)))}loadBundle(e){return function k_(r,e){const t=Fo(r=Vi(r,Vs)),s=new bm;return function Wu(r,e,t,s){const c=function(f,E){let N;return N="string"==typeof f?Go().encode(f):f,G=function(G,Q){if(G instanceof Uint8Array)return gv(G,Q);if(G instanceof ArrayBuffer)return gv(new Uint8Array(G),Q);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new yf(G,E);var G}(t,cf(e));r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function fv(r,e,t){const s=Fn(r);var c;(c=(0,de.Z)(function*(f,E,N){try{const G=yield E.getMetadata();if(yield function(Mt,rn){const Sn=Fn(Mt),Mn=xs(rn.createTime);return Sn.persistence.runTransaction("hasNewerBundle","readonly",ur=>Sn.Ls.getBundleMetadata(ur,rn.id)).then(ur=>!!ur&&ur.createTime.compareTo(Mn)>=0)}(f.localStore,G))return yield E.close(),N._completeWith({taskState:"Success",documentsLoaded:(Mt=G).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);N._updateProgress(tl(G));const Q=new hu(G,f.localStore,E.serializer);let ue=yield E.Pc();for(;ue;){const Mt=yield Q.ju(ue);Mt&&N._updateProgress(Mt),ue=yield E.Pc()}const Xe=yield Q.complete();return yield Hc(f,Xe.Hu,void 0),yield function(Mt,rn){const Sn=Fn(Mt);return Sn.persistence.runTransaction("Save bundle","readwrite",Mn=>Sn.Ls.saveBundleMetadata(Mn,rn))}(f.localStore,G),N._completeWith(Xe.progress),Promise.resolve(Xe.Wu)}catch(G){return ci("SyncEngine",`Loading bundle failed with ${G}`),N._failWith(G),Promise.resolve(new Set)}var Mt}),function(f,E,N){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Im(r),c,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function N_(r,e){return function T_(r,e){return r.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,s){const c=Fn(t);return c.persistence.runTransaction("Get named query","readonly",f=>c.Ls.getNamedQuery(f,s))}(yield wg(r),e)}))}(Fo(r=Vi(r,Vs)),e).then(t=>t?new La(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Vl(this,t):null)}}class Um extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rg(new qu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nl.forKey(t,this.firestore,null)}}class Vm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}get(e){const t=Nd(e);return this._delegate.get(t).then(s=>new kp(this._firestore,new Ih(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=Nd(e);return s?(Bm("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const f=Nd(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...c),this}delete(e){const t=Nd(e);return this._delegate.delete(t),this}}class Qv{constructor(e){this._delegate=e}set(e,t,s){const c=Nd(e);return s?(Bm("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const f=Nd(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...c),this}delete(e){const t=Nd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ch{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Fm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sf(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Ch.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let f=c.get(t);return f||(f=new Ch(e,new Um(e),t),c.set(t,f)),f}}Ch.INSTANCES=new WeakMap;class nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}static forPath(e,t,s){if(e.length%2!=0)throw new sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nl(t,new eo(t._delegate,s,new Pn(e)))}static forKey(e,t,s){return new nl(t,new eo(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Af(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Af(this.firestore,ky(this._delegate,e))}catch(t){throw ml(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ze.m9)(e))instanceof eo&&Cv(this._delegate,e)}set(e,t){t=Bm("DocumentReference.set",t);try{return t?Vv(this._delegate,e,t):Vv(this._delegate,e)}catch(s){throw ml(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?jv(this._delegate,e):jv(this._delegate,e,t,...s)}catch(c){throw ml(c,"updateDoc()","DocumentReference.update()")}}delete(){return function iE(r){return Op(Vi(r.firestore,Vs),[new C(r._key,vs.none())])}(this._delegate)}onSnapshot(...e){const t=Jv(e),s=v0(e,c=>new kp(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Gy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Z_(r){r=Vi(r,eo);const e=Vi(r.firestore,Vs),t=Fo(e),s=new wh(e);return function D_(r,e){const t=new ui;return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(s=(0,de.Z)(function*(c,f,E){try{const N=yield function(G,Q){const ue=Fn(G);return ue.persistence.runTransaction("read document","readonly",Xe=>ue.localDocuments.getDocument(Xe,Q))}(c,f);N.isFoundDocument()?E.resolve(N):N.isNoDocument()?E.resolve(null):E.reject(new sn(Lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const G=V(N,`Failed to get document '${f} from cache`);E.reject(G)}}),function(c,f,E){return s.apply(this,arguments)})(yield wg(r),e,t);var s})),t.promise}(t,r._key).then(c=>new Ih(e,s,r._key,c,new bf(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Uv(r){r=Vi(r,eo);const e=Vi(r.firestore,Vs);return xy(Fo(e),r._key,{source:"server"}).then(t=>Tf(e,r,t))}(this._delegate):function Lm(r){r=Vi(r,eo);const e=Vi(r.firestore,Vs);return xy(Fo(e),r._key).then(t=>Tf(e,r,t))}(this._delegate),t.then(s=>new kp(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new nl(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}function ml(r,e,t){return r.message=r.message.replace(e,t),r}function Jv(r){for(const e of r)if("object"==typeof e&&!Mg(e))return e;return{}}function v0(r,e){var t,s;let c;return c=Mg(r[0])?r[0]:Mg(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:f=>{c.next&&c.next(e(f))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zy(this._delegate,e._delegate)}}class Sf extends kp{data(e){const t=this._delegate.data(e);return function sc(r,e){r||Hn()}(void 0!==t),t}}class Vl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}where(e,t,s){try{return new Vl(this.firestore,Cf(this._delegate,function kv(r,e,t){const s=e,c=Rm("where",r);return xp._create(c,s,t)}(e,t,s)))}catch(c){throw ml(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vl(this.firestore,Cf(this._delegate,function Nv(r,e="asc"){const t=e,s=Rm("orderBy",r);return Mm._create(s,t)}(e,t)))}catch(s){throw ml(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vl(this.firestore,Cf(this._delegate,function j_(r){return Ev("limit",r),Pm._create("limit",r,"F")}(e)))}catch(t){throw ml(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vl(this.firestore,Cf(this._delegate,function H_(r){return Ev("limitToLast",r),Pm._create("limitToLast",r,"L")}(e)))}catch(t){throw ml(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vl(this.firestore,Cf(this._delegate,function z_(...r){return Eh._create("startAt",r,!0)}(...e)))}catch(t){throw ml(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vl(this.firestore,Cf(this._delegate,function G_(...r){return Eh._create("startAfter",r,!1)}(...e)))}catch(t){throw ml(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vl(this.firestore,Cf(this._delegate,function km(...r){return Om._create("endBefore",r,!1)}(...e)))}catch(t){throw ml(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vl(this.firestore,Cf(this._delegate,function Fv(...r){return Om._create("endAt",r,!0)}(...e)))}catch(t){throw ml(t,"endAt()","Query.endAt()")}}isEqual(e){return Cm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function X_(r){r=Vi(r,La);const e=Vi(r.firestore,Vs),t=Fo(e),s=new wh(e);return function Q0(r,e){const t=new ui;return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(s=(0,de.Z)(function*(c,f,E){try{const N=yield uh(c,f,!0),G=new mf(f,N.sr),Q=G.nc(N.documents),ue=G.applyChanges(Q,!1);E.resolve(ue.snapshot)}catch(N){const G=V(N,`Failed to execute query '${f} against cache`);E.reject(G)}}),function(c,f,E){return s.apply(this,arguments)})(yield wg(r),e,t);var s})),t.promise}(t,r._query).then(c=>new Df(e,s,r,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function Q_(r){r=Vi(r,La);const e=Vi(r.firestore,Vs),t=Fo(e),s=new wh(e);return Ry(t,r._query,{source:"server"}).then(c=>new Df(e,s,r,c))}(this._delegate):function xg(r){r=Vi(r,La);const e=Vi(r.firestore,Vs),t=Fo(e),s=new wh(e);return Ag(r._query),Ry(t,r._query).then(c=>new Df(e,s,r,c))}(this._delegate),t.then(s=>new Zy(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Jv(e),s=v0(e,c=>new Zy(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Gy(this._delegate,t,s)}withConverter(e){return new Vl(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}class Yy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Yy(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Sf(this._firestore,s))})}isEqual(e){return zy(this._delegate,e._delegate)}}class Af extends Vl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nl(this.firestore,e):null}doc(e){try{return new nl(this.firestore,void 0===e?_f(this._delegate):_f(this._delegate,e))}catch(t){throw ml(t,"doc()","CollectionReference.doc()")}}add(e){return function J_(r,e){const t=Vi(r.firestore,Vs),s=_f(r),c=Nm(r.converter,e);return Op(t,[Tg(_h(r.firestore),"addDoc",s._key,c,null!==r.converter,{}).toMutation(s._key,vs.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new nl(this.firestore,t))}isEqual(e){return Cv(this._delegate,e._delegate)}withConverter(e){return new Af(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}function Nd(r){return Vi(r,eo)}class jm{constructor(...e){this._delegate=new Od(...e)}static documentId(){return new jm(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,Ze.m9)(e))instanceof Od&&this._delegate._internalPath.isEqual(e._internalPath)}}class bh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function u0(){return new Tm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bh(e)}static delete(){const e=function c0(){return new bp("deleteField")}();return e._methodName="FieldValue.delete",new bh(e)}static arrayUnion(...e){const t=function d0(...r){return new Mv("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new bh(t)}static arrayRemove(...e){const t=function h0(...r){return new Pv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new bh(t)}static increment(e){const t=function f0(r){return new If("increment",r)}(e);return t._methodName="FieldValue.increment",new bh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e_={Firestore:$m,GeoPoint:Dm,Timestamp:oi,Blob:Rg,Transaction:Vm,WriteBatch:Qv,DocumentReference:nl,DocumentSnapshot:kp,Query:Vl,QueryDocumentSnapshot:Sf,QuerySnapshot:Zy,CollectionReference:Af,FieldPath:jm,FieldValue:bh,setLogLevel:function y0(r){!function Gl(r){Zi.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function _0(r){(function t_(r,e){r.INTERNAL.registerComponent(new Y.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},e_)))})(r,(e,t)=>new $m(e,t,new Xv)),r.registerVersion("@firebase/firestore-compat","0.3.8")}(Se.Z);var Dh=H(1205),E0=H(6217),I0=H(9260);function w0(r,e){return function n_(r,e=y.z){return new ee.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function Xy(r,e){return w0(r,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function Hm(r,e){return Xy(r,e).pipe((0,me.O)(void 0),_e(),(0,ge.U)(([t,s])=>{const c=s.payload.docChanges(),f=c.map(E=>({type:E.type,payload:E}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((E,N)=>{const G=c.find(ue=>ue.doc.ref.isEqual(E.ref)),Q=null==t?void 0:t.payload.docs.find(ue=>ue.ref.isEqual(E.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(E.metadata)||!G&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(E.metadata)||f.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:E}})}),f}))}function C0(r,e,t){return Hm(r,t).pipe((0,ve.R)((s,c)=>function b0(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function i_(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qy(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Qy(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qy(r,e.oldIndex,1)}return r}(r,s))}),r}(s,c.map(f=>f.payload),e),[]),(0,ze.x)(),(0,ge.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function Qy(r,e,t,...s){const c=r.slice();return c.splice(e,t,...s),c}function s_(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class o_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Hm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,me.O)(void 0),_e(),(0,He.h)(([s,c])=>c.length>0||!s),(0,ge.U)(([s,c])=>c),xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=s_(e);return C0(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),xe.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(xe.iC)}add(e){return this.ref.add(e)}doc(e){return new a_(this.ref.doc(e),this.afs)}}class a_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:f}=u_(s,t);return new o_(c,f,this.afs)}snapshotChanges(){return function r_(r,e){return w0(r,e).pipe((0,me.O)(void 0),_e(),(0,ge.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,he.D)(this.ref.get(e)).pipe(xe.iC)}}class D0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Hm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,He.h)(t=>t.length>0),xe.iC):Hm(this.query,this.afs.schedulers.outsideAngular).pipe(xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=s_(e);return C0(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),xe.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(xe.iC)}}const l_=new _.OlP("angularfire2.enableFirestorePersistence"),c_=new _.OlP("angularfire2.firestore.persistenceSettings"),T0=new _.OlP("angularfire2.firestore.settings"),S0=new _.OlP("angularfire2.firestore.use-emulator");function u_(r,e=(t=>t)){return{query:e(r),ref:r}}let Np=(()=>{class r{constructor(t,s,c,f,E,N,G,Q,ue,Xe,Mt,rn,Sn,Mn,ur,ei,Bi){this.schedulers=G;const ti=(0,rt.on)(t,N,s),Ba=ue;Xe&&(0,Dh.nw)(ti,N,Mt,Sn,Mn,ur,rn,ei),[this.firestore,this.persistenceEnabled$]=(0,rt.cc)(`${ti.name}.firestore`,"AngularFirestore",ti.name,()=>{const Fs=N.runOutsideAngular(()=>ti.firestore());if(f&&Fs.settings(f),Ba&&Fs.useEmulator(...Ba),c&&!(0,bt.PM)(E)){const bs=()=>{try{return(0,he.D)(Fs.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch($a){return typeof console<"u"&&console.warn($a),(0,Be.of)(!1)}};return[Fs,N.runOutsideAngular(bs)]}return[Fs,(0,Be.of)(!1)]},[f,Ba,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:E}=u_(c,s),N=this.schedulers.ngZone.run(()=>f);return new o_(N,E,this)}collectionGroup(t,s){const c=s||(E=>E),f=this.firestore.collectionGroup(t);return new D0(c(f),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new a_(c,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(_.LFG(rt.Dh),_.LFG(rt.xv,8),_.LFG(l_,8),_.LFG(T0,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(xe.HU),_.LFG(c_,8),_.LFG(S0,8),_.LFG(Dh.zQ,8),_.LFG(Dh.Qv,8),_.LFG(Dh.L6,8),_.LFG(Dh._Q,8),_.LFG(Dh.rT,8),_.LFG(Dh.lh,8),_.LFG(Dh.f7,8),_.LFG(E0.nm,8))},r.\u0275prov=_.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),d_=(()=>{class r{constructor(){I0.Z.registerVersion("angularfire",xe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:l_,useValue:!0},{provide:c_,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({providers:[Np]}),r})()},2011:(yn,gt,H)=>{"use strict";H.d(gt,{Dh:()=>Ue,GT:()=>xe,cc:()=>He,hO:()=>ze,on:()=>_e,pX:()=>Be,xv:()=>Ne});var _=H(4650),y=H(9260),ee=H(4976);yn=H.hmd(yn);const he=["ngOnDestroy"],Be=(Se,de,pt,Y={})=>new Proxy(Se,{get:(et,Ze)=>pt.runOutsideAngular(()=>{var At;if(Se[Ze])return!(null===(At=null==Y?void 0:Y.spy)||void 0===At)&&At.get&&Y.spy.get(Ze,Se[Ze]),Se[Ze];if(he.indexOf(Ze)>-1)return()=>{};const $e=de.toPromise().then(Oe=>{const Pe=Oe&&Oe[Ze];return"function"==typeof Pe?Pe.bind(Oe):Pe&&Pe.then?Pe.then(we=>pt.run(()=>we)):pt.run(()=>Pe)});return new Proxy(()=>{},{get:(Oe,Pe)=>$e[Pe],apply:(Oe,Pe,we)=>$e.then(Ve=>{var ht;const _t=Ve&&Ve(...we);return!(null===(ht=null==Y?void 0:Y.spy)||void 0===ht)&&ht.apply&&Y.spy.apply(Ze,we,_t),_t})})})}),xe=(Se,de)=>{de.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Y=>{Object.defineProperty(Se.prototype,Y,Object.getOwnPropertyDescriptor(pt.prototype||pt,Y))})})};class me{constructor(de){return de}}const Ue=new _.OlP("angularfire2.app.options"),Ne=new _.OlP("angularfire2.app.name");function _e(Se,de,pt){const et="object"==typeof pt&&pt||{};et.name=et.name||"string"==typeof pt&&pt||"[DEFAULT]";const At=y.Z.apps.filter($e=>$e&&$e.name===et.name)[0]||de.runOutsideAngular(()=>y.Z.initializeApp(Se,et));try{JSON.stringify(Se)!==JSON.stringify(At.options)&&ge("error",`${At.name} Firebase App already initialized with different options${yn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(At)}const ge=(Se,...de)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Se](...de)},ve={provide:me,useFactory:_e,deps:[Ue,_.R0b,[new _.FiY,Ne]]};let ze=(()=>{class Se{constructor(pt){y.Z.registerVersion("angularfire",ee.q4.full,"core"),y.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),y.Z.registerVersion("angular",_.q4F.full,pt.toString())}static initializeApp(pt,Y){return{ngModule:Se,providers:[{provide:Ue,useValue:pt},{provide:Ne,useValue:Y}]}}}return Se.\u0275fac=function(pt){return new(pt||Se)(_.LFG(_.Lbi))},Se.\u0275mod=_.oAB({type:Se}),Se.\u0275inj=_.cJS({providers:[ve]}),Se})();function He(Se,de,pt,Y,et){const[,Ze,At]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Se)||[];if(Ze)return function rt(Se,de){try{return Se.toString()===de.toString()}catch{return Se===de}}(et,At)||(Re("error",`${de} was already initialized on the ${pt} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:et,was:At})),Ze;{const $e=Y();return globalThis.\u0275AngularfireInstanceCache.push([Se,$e,et]),$e}}const bt=!!yn.hot,Re=(Se,...de)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Se](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(yn,gt,H)=>{"use strict";H.d(gt,{q4:()=>Tr,iC:()=>wo,fc:()=>Cu,HU:()=>Zl,vb:()=>Hr,JM:()=>Yl});var _=H(4650),y=H(259),ee=H(5861),he=H(6881),Be=H(2090),xe=H(4859),me=H(1877);const Ue=(P,$)=>$.some(J=>P instanceof J);let Ne,_e;const ze=new WeakMap,He=new WeakMap,rt=new WeakMap,bt=new WeakMap,Re=new WeakMap;let pt={get(P,$,J){if(P instanceof IDBTransaction){if("done"===$)return He.get(P);if("objectStoreNames"===$)return P.objectStoreNames||rt.get(P);if("store"===$)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return At(P[$])},set:(P,$,J)=>(P[$]=J,!0),has:(P,$)=>P instanceof IDBTransaction&&("done"===$||"store"===$)||$ in P};function Ze(P){return"function"==typeof P?function et(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...$){return P.apply($e(this),$),At(ze.get(this))}:function(...$){return At(P.apply($e(this),$))}:function($,...J){const Ie=P.call($e(this),$,...J);return rt.set(Ie,$.sort?$.sort():[$]),At(Ie)}}(P):(P instanceof IDBTransaction&&function de(P){if(He.has(P))return;const $=new Promise((J,Ie)=>{const st=()=>{P.removeEventListener("complete",It),P.removeEventListener("error",Gt),P.removeEventListener("abort",Gt)},It=()=>{J(),st()},Gt=()=>{Ie(P.error||new DOMException("AbortError","AbortError")),st()};P.addEventListener("complete",It),P.addEventListener("error",Gt),P.addEventListener("abort",Gt)});He.set(P,$)}(P),Ue(P,function ge(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,pt):P)}function At(P){if(P instanceof IDBRequest)return function Se(P){const $=new Promise((J,Ie)=>{const st=()=>{P.removeEventListener("success",It),P.removeEventListener("error",Gt)},It=()=>{J(At(P.result)),st()},Gt=()=>{Ie(P.error),st()};P.addEventListener("success",It),P.addEventListener("error",Gt)});return $.then(J=>{J instanceof IDBCursor&&ze.set(J,P)}).catch(()=>{}),Re.set($,P),$}(P);if(bt.has(P))return bt.get(P);const $=Ze(P);return $!==P&&(bt.set(P,$),Re.set($,P)),$}const $e=P=>Re.get(P),we=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],ht=new Map;function _t(P,$){if(!(P instanceof IDBDatabase)||$ in P||"string"!=typeof $)return;if(ht.get($))return ht.get($);const J=$.replace(/FromIndex$/,""),Ie=$!==J,st=Ve.includes(J);if(!(J in(Ie?IDBIndex:IDBObjectStore).prototype)||!st&&!we.includes(J))return;const It=function(){var Gt=(0,ee.Z)(function*(wn,...xn){const Zn=this.transaction(wn,st?"readwrite":"readonly");let Nr=Zn.store;return Ie&&(Nr=Nr.index(xn.shift())),(yield Promise.all([Nr[J](...xn),st&&Zn.done]))[0]});return function(xn){return Gt.apply(this,arguments)}}();return ht.set($,It),It}!function Y(P){pt=P(pt)}(P=>({...P,get:($,J,Ie)=>_t($,J)||P.get($,J,Ie),has:($,J)=>!!_t($,J)||P.has($,J)}));const ct="@firebase/installations",wt="0.6.4",ft=1e4,ke=`w:${wt}`,Le="FIS_v2",Fe="https://firebaseinstallations.googleapis.com/v1",lt=36e5,vn=new Be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(P){return P instanceof Be.ZR&&P.code.includes("request-failed")}function Te({projectId:P}){return`${Fe}/projects/${P}/installations`}function Tt(P){return{token:P.token,requestStatus:2,expiresIn:lr(P.expiresIn),creationTime:Date.now()}}function ln(P,$){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,ee.Z)(function*(P,$){const Ie=(yield $.json()).error;return vn.create("request-failed",{requestName:P,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function Kn({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function nn(P){return In.apply(this,arguments)}function In(){return(In=(0,ee.Z)(function*(P){const $=yield P();return $.status>=500&&$.status<600?P():$})).apply(this,arguments)}function lr(P){return Number(P.replace("s","000"))}function br(){return(br=(0,ee.Z)(function*({appConfig:P,heartbeatServiceProvider:$},{fid:J}){const Ie=Te(P),st=Kn(P),It=$.getImmediate({optional:!0});if(It){const Zn=yield It.getHeartbeatsHeader();Zn&&st.append("x-firebase-client",Zn)}const wn={method:"POST",headers:st,body:JSON.stringify({fid:J,authVersion:Le,appId:P.appId,sdkVersion:ke})},xn=yield nn(()=>fetch(Ie,wn));if(xn.ok){const Zn=yield xn.json();return{fid:Zn.fid||J,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:Tt(Zn.authToken)}}throw yield ln("Create Installation",xn)})).apply(this,arguments)}function cn(P){return new Promise($=>{setTimeout($,P)})}const Zr=/^[cdef][\w-]{21}$/,Br="";function Di(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const J=function Ir(P){return function di(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Zr.test(J)?J:Br}catch{return Br}}function Tn(P){return`${P.appName}!${P.appId}`}const tn=new Map;function fn(P,$){const J=Tn(P);Sr(J,$),function qr(P,$){const J=function gi(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=P=>{Sr(P.data.key,P.data.fid)}),ni}();J&&J.postMessage({key:P,fid:$}),function Ur(){0===tn.size&&ni&&(ni.close(),ni=null)}()}(J,$)}function Sr(P,$){const J=tn.get(P);if(J)for(const Ie of J)Ie($)}let ni=null;const xi="firebase-installations-database",or=1,Yn="firebase-installations-store";let Ei=null;function Pr(){return Ei||(Ei=function Oe(P,$,{blocked:J,upgrade:Ie,blocking:st,terminated:It}={}){const Gt=indexedDB.open(P,$),wn=At(Gt);return Ie&&Gt.addEventListener("upgradeneeded",xn=>{Ie(At(Gt.result),xn.oldVersion,xn.newVersion,At(Gt.transaction))}),J&&Gt.addEventListener("blocked",()=>J()),wn.then(xn=>{It&&xn.addEventListener("close",()=>It()),st&&xn.addEventListener("versionchange",()=>st())}).catch(()=>{}),wn}(xi,or,{upgrade:(P,$)=>{0===$&&P.createObjectStore(Yn)}})),Ei}function mr(P,$){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ee.Z)(function*(P,$){const J=Tn(P),st=(yield Pr()).transaction(Yn,"readwrite"),It=st.objectStore(Yn),Gt=yield It.get(J);return yield It.put($,J),yield st.done,(!Gt||Gt.fid!==$.fid)&&fn(P,$.fid),$})).apply(this,arguments)}function Ge(P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,ee.Z)(function*(P){const $=Tn(P),Ie=(yield Pr()).transaction(Yn,"readwrite");yield Ie.objectStore(Yn).delete($),yield Ie.done})).apply(this,arguments)}function Xt(P,$){return zt.apply(this,arguments)}function zt(){return(zt=(0,ee.Z)(function*(P,$){const J=Tn(P),st=(yield Pr()).transaction(Yn,"readwrite"),It=st.objectStore(Yn),Gt=yield It.get(J),wn=$(Gt);return void 0===wn?yield It.delete(J):yield It.put(wn,J),yield st.done,wn&&(!Gt||Gt.fid!==wn.fid)&&fn(P,wn.fid),wn})).apply(this,arguments)}function Ce(P){return be.apply(this,arguments)}function be(){return be=(0,ee.Z)(function*(P){let $;const J=yield Xt(P.appConfig,Ie=>{const st=function We(P){return dt(P||{fid:Di(),registrationStatus:0})}(Ie),It=function Ct(P,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(vn.create("app-offline"))};const J={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function ot(P,$){return gn.apply(this,arguments)}(P,J);return{installationEntry:J,registrationPromise:Ie}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Ye(P)}:{installationEntry:$}}(P,st);return $=It.registrationPromise,It.installationEntry});return J.fid===Br?{installationEntry:yield $}:{installationEntry:J,registrationPromise:$}}),be.apply(this,arguments)}function gn(){return gn=(0,ee.Z)(function*(P,$){try{const J=yield function Xn(P,$){return br.apply(this,arguments)}(P,$);return mr(P.appConfig,J)}catch(J){throw Dt(J)&&409===J.customData.serverCode?yield Ge(P.appConfig):yield mr(P.appConfig,{fid:$.fid,registrationStatus:0}),J}}),gn.apply(this,arguments)}function Ye(P){return je.apply(this,arguments)}function je(){return(je=(0,ee.Z)(function*(P){let $=yield ye(P.appConfig);for(;1===$.registrationStatus;)yield cn(100),$=yield ye(P.appConfig);if(0===$.registrationStatus){const{installationEntry:J,registrationPromise:Ie}=yield Ce(P);return Ie||J}return $})).apply(this,arguments)}function ye(P){return Xt(P,$=>{if(!$)throw vn.create("installation-not-found");return dt($)})}function dt(P){return function Ot(P){return 1===P.registrationStatus&&P.registrationTime+ft<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Dn(){return(Dn=(0,ee.Z)(function*({appConfig:P,heartbeatServiceProvider:$},J){const Ie=function Qn(P,{fid:$}){return`${Te(P)}/${$}/authTokens:generate`}(P,J),st=function Cn(P,{refreshToken:$}){const J=Kn(P);return J.append("Authorization",function Er(P){return`${Le} ${P}`}($)),J}(P,J),It=$.getImmediate({optional:!0});if(It){const Zn=yield It.getHeartbeatsHeader();Zn&&st.append("x-firebase-client",Zn)}const wn={method:"POST",headers:st,body:JSON.stringify({installation:{sdkVersion:ke,appId:P.appId}})},xn=yield nn(()=>fetch(Ie,wn));if(xn.ok)return Tt(yield xn.json());throw yield ln("Generate Auth Token",xn)})).apply(this,arguments)}function cr(P){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,ee.Z)(function*(P,$=!1){let J;const Ie=yield Xt(P.appConfig,It=>{if(!yr(It))throw vn.create("not-registered");const Gt=It.authToken;if(!$&&function Cr(P){return 2===P.requestStatus&&!function $n(P){const $=Date.now();return $<P.creationTime||P.creationTime+P.expiresIn<$+lt}(P)}(Gt))return It;if(1===Gt.requestStatus)return J=function Ut(P,$){return St.apply(this,arguments)}(P,$),It;{if(!navigator.onLine)throw vn.create("app-offline");const wn=function tr(P){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:$})}(It);return J=function Nn(P,$){return jn.apply(this,arguments)}(P,wn),wn}});return J?yield J:Ie.authToken}),Gr.apply(this,arguments)}function St(){return(St=(0,ee.Z)(function*(P,$){let J=yield Qt(P.appConfig);for(;1===J.authToken.requestStatus;)yield cn(100),J=yield Qt(P.appConfig);const Ie=J.authToken;return 0===Ie.requestStatus?cr(P,$):Ie})).apply(this,arguments)}function Qt(P){return Xt(P,$=>{if(!yr($))throw vn.create("not-registered");return function Wn(P){return 1===P.requestStatus&&P.requestTime+ft<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function jn(){return jn=(0,ee.Z)(function*(P,$){try{const J=yield function en(P,$){return Dn.apply(this,arguments)}(P,$),Ie=Object.assign(Object.assign({},$),{authToken:J});return yield mr(P.appConfig,Ie),J}catch(J){if(!Dt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const Ie=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield mr(P.appConfig,Ie)}else yield Ge(P.appConfig);throw J}}),jn.apply(this,arguments)}function yr(P){return void 0!==P&&2===P.registrationStatus}function Pi(){return(Pi=(0,ee.Z)(function*(P){const $=P,{installationEntry:J,registrationPromise:Ie}=yield Ce($);return Ie?Ie.catch(console.error):cr($).catch(console.error),J.fid})).apply(this,arguments)}function Ji(){return Ji=(0,ee.Z)(function*(P,$=!1){const J=P;return yield function _s(P){return ri.apply(this,arguments)}(J),(yield cr(J,$)).token}),Ji.apply(this,arguments)}function ri(){return(ri=(0,ee.Z)(function*(P){const{registrationPromise:$}=yield Ce(P);$&&(yield $)})).apply(this,arguments)}function Ee(P){return vn.create("missing-app-config-values",{valueName:P})}const it="installations",qe=P=>{const $=P.getProvider("app").getImmediate(),J=function re(P){if(!P||!P.options)throw Ee("App Configuration");if(!P.name)throw Ee("App Name");const $=["projectId","apiKey","appId"];for(const J of $)if(!P.options[J])throw Ee(J);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}($);return{app:$,appConfig:J,heartbeatServiceProvider:(0,he._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},Ke=P=>{const $=P.getProvider("app").getImmediate(),J=(0,he._getProvider)($,it).getImmediate();return{getId:()=>function ar(P){return Pi.apply(this,arguments)}(J),getToken:st=>function ji(P){return Ji.apply(this,arguments)}(J,st)}};(function Nt(){(0,he._registerComponent)(new xe.wA(it,qe,"PUBLIC")),(0,he._registerComponent)(new xe.wA("installations-internal",Ke,"PRIVATE"))})(),(0,he.registerVersion)(ct,wt),(0,he.registerVersion)(ct,wt,"esm2017");const kt="@firebase/remote-config",Gn=new Be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qi{constructor($,J,Ie,st){this.client=$,this.storage=J,this.storageCache=Ie,this.logger=st}isCachedDataFresh($,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-J,st=Ie<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${st}.`),st}fetch($){var J=this;return(0,ee.Z)(function*(){const[Ie,st]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(st&&J.isCachedDataFresh($.cacheMaxAgeMillis,Ie))return st;$.eTag=st&&st.eTag;const It=yield J.client.fetch($),Gt=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===It.status&&Gt.push(J.storage.setLastSuccessfulFetchResponse(It)),yield Promise.all(Gt),It})()}}function no(P=navigator){return P.languages&&P.languages[0]||P.language}class Ls{constructor($,J,Ie,st,It,Gt){this.firebaseInstallations=$,this.sdkVersion=J,this.namespace=Ie,this.projectId=st,this.apiKey=It,this.appId=Gt}fetch($){var J=this;return(0,ee.Z)(function*(){const[Ie,st]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),Gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,wn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},xn={sdk_version:J.sdkVersion,app_instance_id:Ie,app_instance_id_token:st,app_id:J.appId,language_code:no()},Zn={method:"POST",headers:wn,body:JSON.stringify(xn)},Nr=fetch(Gt,Zn),Fr=new Promise((_i,Oo)=>{$.signal.addEventListener(()=>{const Jc=new Error("The operation was aborted.");Jc.name="AbortError",Oo(Jc)})});let ho;try{yield Promise.race([Nr,Fr]),ho=yield Nr}catch(_i){let Oo="fetch-client-network";throw"AbortError"===(null==_i?void 0:_i.name)&&(Oo="fetch-timeout"),Gn.create(Oo,{originalErrorMessage:null==_i?void 0:_i.message})}let As=ho.status;const cl=ho.headers.get("ETag")||void 0;let Xs,Al;if(200===ho.status){let _i;try{_i=yield ho.json()}catch(Oo){throw Gn.create("fetch-client-parse",{originalErrorMessage:null==Oo?void 0:Oo.message})}Xs=_i.entries,Al=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===Al?As=500:"NO_CHANGE"===Al?As=304:("NO_TEMPLATE"===Al||"EMPTY_CONFIG"===Al)&&(Xs={}),304!==As&&200!==As)throw Gn.create("fetch-status",{httpStatus:As});return{status:As,eTag:cl,config:Xs}})()}}class Ms{constructor($,J){this.client=$,this.storage=J}fetch($){var J=this;return(0,ee.Z)(function*(){const Ie=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch($,Ie)})()}attemptFetch($,{throttleEndTimeMillis:J,backoffCount:Ie}){var st=this;return(0,ee.Z)(function*(){yield function wa(P,$){return new Promise((J,Ie)=>{const st=Math.max($-Date.now(),0),It=setTimeout(J,st);P.addEventListener(()=>{clearTimeout(It),Ie(Gn.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,J);try{const It=yield st.client.fetch($);return yield st.storage.deleteThrottleMetadata(),It}catch(It){if(!function bo(P){if(!(P instanceof Be.ZR&&P.customData))return!1;const $=Number(P.customData.httpStatus);return 429===$||500===$||503===$||504===$}(It))throw It;const Gt={throttleEndTimeMillis:Date.now()+(0,Be.$s)(Ie),backoffCount:Ie+1};return yield st.storage.setThrottleMetadata(Gt),st.attemptFetch($,Gt)}})()}}class rl{constructor($,J,Ie,st,It){this.app=$,this._client=J,this._storageCache=Ie,this._storage=st,this._logger=It,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function io(P,$){const J=P.target.error||void 0;return Gn.create($,{originalErrorMessage:J&&(null==J?void 0:J.message)})}const ps="app_namespace_store";class ha{constructor($,J,Ie,st=function cs(){return new Promise((P,$)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=Ie=>{$(io(Ie,"storage-open"))},J.onsuccess=Ie=>{P(Ie.target.result)},J.onupgradeneeded=Ie=>{0===Ie.oldVersion&&Ie.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(J){$(Gn.create("storage-open",{originalErrorMessage:null==J?void 0:J.message}))}})}()){this.appId=$,this.appName=J,this.namespace=Ie,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var J=this;return(0,ee.Z)(function*(){const Ie=yield J.openDbPromise;return new Promise((st,It)=>{const wn=Ie.transaction([ps],"readonly").objectStore(ps),xn=J.createCompositeKey($);try{const Zn=wn.get(xn);Zn.onerror=Nr=>{It(io(Nr,"storage-get"))},Zn.onsuccess=Nr=>{const Fr=Nr.target.result;st(Fr?Fr.value:void 0)}}catch(Zn){It(Gn.create("storage-get",{originalErrorMessage:null==Zn?void 0:Zn.message}))}})})()}set($,J){var Ie=this;return(0,ee.Z)(function*(){const st=yield Ie.openDbPromise;return new Promise((It,Gt)=>{const xn=st.transaction([ps],"readwrite").objectStore(ps),Zn=Ie.createCompositeKey($);try{const Nr=xn.put({compositeKey:Zn,value:J});Nr.onerror=Fr=>{Gt(io(Fr,"storage-set"))},Nr.onsuccess=()=>{It()}}catch(Nr){Gt(Gn.create("storage-set",{originalErrorMessage:null==Nr?void 0:Nr.message}))}})})()}delete($){var J=this;return(0,ee.Z)(function*(){const Ie=yield J.openDbPromise;return new Promise((st,It)=>{const wn=Ie.transaction([ps],"readwrite").objectStore(ps),xn=J.createCompositeKey($);try{const Zn=wn.delete(xn);Zn.onerror=Nr=>{It(io(Nr,"storage-delete"))},Zn.onsuccess=()=>{st()}}catch(Zn){It(Gn.create("storage-delete",{originalErrorMessage:null==Zn?void 0:Zn.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Lo{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,ee.Z)(function*(){const J=$.storage.getLastFetchStatus(),Ie=$.storage.getLastSuccessfulFetchTimestampMillis(),st=$.storage.getActiveConfig(),It=yield J;It&&($.lastFetchStatus=It);const Gt=yield Ie;Gt&&($.lastSuccessfulFetchTimestampMillis=Gt);const wn=yield st;wn&&($.activeConfig=wn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function Do(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,ee.Z)(function*(){if(!(0,Be.hl)())return!1;try{return yield(0,Be.eu)()}catch{return!1}})).apply(this,arguments)}!function so(){(0,he._registerComponent)(new xe.wA("remote-config",function P($,{instanceIdentifier:J}){const Ie=$.getProvider("app").getImmediate(),st=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gn.create("registration-window");if(!(0,Be.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:It,apiKey:Gt,appId:wn}=Ie.options;if(!It)throw Gn.create("registration-project-id");if(!Gt)throw Gn.create("registration-api-key");if(!wn)throw Gn.create("registration-app-id");const xn=new ha(wn,Ie.name,J=J||"firebase"),Zn=new Lo(xn),Nr=new me.Yd(kt);Nr.logLevel=me.in.ERROR;const Fr=new Ls(st,he.SDK_VERSION,J,It,Gt,wn),ho=new Ms(Fr,xn),As=new qi(ho,xn,Zn,Nr),cl=new rl(Ie,As,Zn,xn,Nr);return function Vr(P){const $=(0,Be.m9)(P);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(cl),cl},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(kt,"0.4.4"),(0,he.registerVersion)(kt,"0.4.4","esm2017")}();const Zo=(P,$)=>$.some(J=>P instanceof J);let oo,Ds;const Ca=new WeakMap,Es=new WeakMap,mo=new WeakMap,hi=new WeakMap,yo=new WeakMap;let Qo={get(P,$,J){if(P instanceof IDBTransaction){if("done"===$)return Es.get(P);if("objectStoreNames"===$)return P.objectStoreNames||mo.get(P);if("store"===$)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Ps(P[$])},set:(P,$,J)=>(P[$]=J,!0),has:(P,$)=>P instanceof IDBTransaction&&("done"===$||"store"===$)||$ in P};function yl(P){return"function"==typeof P?function ns(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function go(){return Ds||(Ds=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...$){return P.apply(zs(this),$),Ps(Ca.get(this))}:function(...$){return Ps(P.apply(zs(this),$))}:function($,...J){const Ie=P.call(zs(this),$,...J);return mo.set(Ie,$.sort?$.sort():[$]),Ps(Ie)}}(P):(P instanceof IDBTransaction&&function Ti(P){if(Es.has(P))return;const $=new Promise((J,Ie)=>{const st=()=>{P.removeEventListener("complete",It),P.removeEventListener("error",Gt),P.removeEventListener("abort",Gt)},It=()=>{J(),st()},Gt=()=>{Ie(P.error||new DOMException("AbortError","AbortError")),st()};P.addEventListener("complete",It),P.addEventListener("error",Gt),P.addEventListener("abort",Gt)});Es.set(P,$)}(P),Zo(P,function Xo(){return oo||(oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,Qo):P)}function Ps(P){if(P instanceof IDBRequest)return function Bo(P){const $=new Promise((J,Ie)=>{const st=()=>{P.removeEventListener("success",It),P.removeEventListener("error",Gt)},It=()=>{J(Ps(P.result)),st()},Gt=()=>{Ie(P.error),st()};P.addEventListener("success",It),P.addEventListener("error",Gt)});return $.then(J=>{J instanceof IDBCursor&&Ca.set(J,P)}).catch(()=>{}),yo.set($,P),$}(P);if(hi.has(P))return hi.get(P);const $=yl(P);return $!==P&&(hi.set(P,$),yo.set($,P)),$}const zs=P=>yo.get(P);function zi(P,$,{blocked:J,upgrade:Ie,blocking:st,terminated:It}={}){const Gt=indexedDB.open(P,$),wn=Ps(Gt);return Ie&&Gt.addEventListener("upgradeneeded",xn=>{Ie(Ps(Gt.result),xn.oldVersion,xn.newVersion,Ps(Gt.transaction))}),J&&Gt.addEventListener("blocked",()=>J()),wn.then(xn=>{It&&xn.addEventListener("close",()=>It()),st&&xn.addEventListener("versionchange",()=>st())}).catch(()=>{}),wn}function us(P,{blocked:$}={}){const J=indexedDB.deleteDatabase(P);return $&&J.addEventListener("blocked",()=>$()),Ps(J).then(()=>{})}const Jo=["get","getKey","getAll","getAllKeys","count"],fa=["put","add","delete","clear"],Is=new Map;function pa(P,$){if(!(P instanceof IDBDatabase)||$ in P||"string"!=typeof $)return;if(Is.get($))return Is.get($);const J=$.replace(/FromIndex$/,""),Ie=$!==J,st=fa.includes(J);if(!(J in(Ie?IDBIndex:IDBObjectStore).prototype)||!st&&!Jo.includes(J))return;const It=function(){var Gt=(0,ee.Z)(function*(wn,...xn){const Zn=this.transaction(wn,st?"readwrite":"readonly");let Nr=Zn.store;return Ie&&(Nr=Nr.index(xn.shift())),(yield Promise.all([Nr[J](...xn),st&&Zn.done]))[0]});return function(xn){return Gt.apply(this,arguments)}}();return Is.set($,It),It}!function Ts(P){Qo=P(Qo)}(P=>({...P,get:($,J,Ie)=>pa($,J)||P.get($,J,Ie),has:($,J)=>!!pa($,J)||P.has($,J)}));const ea="/firebase-messaging-sw.js",pr="/firebase-cloud-messaging-push-scope",$o="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ga="https://fcmregistrations.googleapis.com/v1",b="google.c.a.c_id",q="google.c.a.c_l",T="google.c.a.ts",W="google.c.a.e";var B=(()=>{return(P=B||(B={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",B;var P})();function R(P){const $=new Uint8Array(P);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O(P){const J=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(J),st=new Uint8Array(Ie.length);for(let It=0;It<Ie.length;++It)st[It]=Ie.charCodeAt(It);return st}const ne="fcm_token_details_db",yt=5,dn="fcm_token_object_Store";function yi(){return yi=(0,ee.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(It=>It.name).includes(ne))return null;let $=null;return(yield zi(ne,yt,{upgrade:(Ie=(0,ee.Z)(function*(st,It,Gt,wn){var xn;if(It<2||!st.objectStoreNames.contains(dn))return;const Zn=wn.objectStore(dn),Nr=yield Zn.index("fcmSenderId").get(P);if(yield Zn.clear(),Nr)if(2===It){const Fr=Nr;if(!Fr.auth||!Fr.p256dh||!Fr.endpoint)return;$={token:Fr.fcmToken,createTime:null!==(xn=Fr.createTime)&&void 0!==xn?xn:Date.now(),subscriptionOptions:{auth:Fr.auth,p256dh:Fr.p256dh,endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:"string"==typeof Fr.vapidKey?Fr.vapidKey:R(Fr.vapidKey)}}}else if(3===It){const Fr=Nr;$={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:R(Fr.auth),p256dh:R(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:R(Fr.vapidKey)}}}else if(4===It){const Fr=Nr;$={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:R(Fr.auth),p256dh:R(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:R(Fr.vapidKey)}}}}),function(It,Gt,wn,xn){return Ie.apply(this,arguments)})})).close(),yield us(ne),yield us("fcm_vapid_details_db"),yield us("undefined"),function Si(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:$}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null;var Ie}),yi.apply(this,arguments)}const gs="firebase-messaging-database",Gs=1,Ai="firebase-messaging-store";let vl=null;function ma(){return vl||(vl=zi(gs,Gs,{upgrade:(P,$)=>{0===$&&P.createObjectStore(Ai)}})),vl}function ds(P){return rs.apply(this,arguments)}function rs(){return rs=(0,ee.Z)(function*(P){const $=ya(P),Ie=yield(yield ma()).transaction(Ai).objectStore(Ai).get($);if(Ie)return Ie;{const st=yield function jr(P){return yi.apply(this,arguments)}(P.appConfig.senderId);if(st)return yield il(P,st),st}}),rs.apply(this,arguments)}function il(P,$){return To.apply(this,arguments)}function To(){return(To=(0,ee.Z)(function*(P,$){const J=ya(P),st=(yield ma()).transaction(Ai,"readwrite");return yield st.objectStore(Ai).put($,J),yield st.done,$})).apply(this,arguments)}function _l(){return(_l=(0,ee.Z)(function*(P){const $=ya(P),Ie=(yield ma()).transaction(Ai,"readwrite");yield Ie.objectStore(Ai).delete($),yield Ie.done})).apply(this,arguments)}function ya({appConfig:P}){return P.appId}const ms=new Be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Os(P,$){return Va.apply(this,arguments)}function Va(){return(Va=(0,ee.Z)(function*(P,$){const J=yield hs(P),Ie=Vo($),st={method:"POST",headers:J,body:JSON.stringify(Ie)};let It;try{It=yield(yield fetch(ta(P.appConfig),st)).json()}catch(Gt){throw ms.create("token-subscribe-failed",{errorInfo:null==Gt?void 0:Gt.toString()})}if(It.error)throw ms.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw ms.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function _o(){return(_o=(0,ee.Z)(function*(P,$){const J=yield hs(P),Ie=Vo($.subscriptionOptions),st={method:"PATCH",headers:J,body:JSON.stringify(Ie)};let It;try{It=yield(yield fetch(`${ta(P.appConfig)}/${$.token}`,st)).json()}catch(Gt){throw ms.create("token-update-failed",{errorInfo:null==Gt?void 0:Gt.toString()})}if(It.error)throw ms.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw ms.create("token-update-no-token");return It.token})).apply(this,arguments)}function Uo(P,$){return El.apply(this,arguments)}function El(){return(El=(0,ee.Z)(function*(P,$){const Ie={method:"DELETE",headers:yield hs(P)};try{const It=yield(yield fetch(`${ta(P.appConfig)}/${$}`,Ie)).json();if(It.error)throw ms.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(st){throw ms.create("token-unsubscribe-failed",{errorInfo:null==st?void 0:st.toString()})}})).apply(this,arguments)}function ta({projectId:P}){return`${ga}/projects/${P}/registrations`}function hs(P){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,ee.Z)(function*({appConfig:P,installations:$}){const J=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function Vo({p256dh:P,auth:$,endpoint:J,vapidKey:Ie}){const st={web:{endpoint:J,auth:$,p256dh:P}};return Ie!==$o&&(st.web.applicationPubKey=Ie),st}const ao=6048e5;function ba(){return ba=(0,ee.Z)(function*(P){const $=yield function Il(P,$){return lo.apply(this,arguments)}(P.swRegistration,P.vapidKey),J={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:$.endpoint,auth:R($.getKey("auth")),p256dh:R($.getKey("p256dh"))},Ie=yield ds(P.firebaseDependencies);if(Ie){if(function jl(P,$){return $.vapidKey===P.vapidKey&&$.endpoint===P.endpoint&&$.auth===P.auth&&$.p256dh===P.p256dh}(Ie.subscriptionOptions,J))return Date.now()>=Ie.createTime+ao?function Ni(P,$){return si.apply(this,arguments)}(P,{token:Ie.token,createTime:Date.now(),subscriptionOptions:J}):Ie.token;try{yield Uo(P.firebaseDependencies,Ie.token)}catch(st){console.warn(st)}return Da(P.firebaseDependencies,J)}return Da(P.firebaseDependencies,J)}),ba.apply(this,arguments)}function Yi(){return Yi=(0,ee.Z)(function*(P){const $=yield ds(P.firebaseDependencies);$&&(yield Uo(P.firebaseDependencies,$.token),yield function vo(P){return _l.apply(this,arguments)}(P.firebaseDependencies));const J=yield P.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()}),Yi.apply(this,arguments)}function si(){return si=(0,ee.Z)(function*(P,$){try{const J=yield function ja(P,$){return _o.apply(this,arguments)}(P.firebaseDependencies,$),Ie=Object.assign(Object.assign({},$),{token:J,createTime:Date.now()});return yield il(P.firebaseDependencies,Ie),J}catch(J){throw yield function Ha(P){return Yi.apply(this,arguments)}(P),J}}),si.apply(this,arguments)}function Da(P,$){return So.apply(this,arguments)}function So(){return(So=(0,ee.Z)(function*(P,$){const Ie={token:yield Os(P,$),createTime:Date.now(),subscriptionOptions:$};return yield il(P,Ie),Ie.token})).apply(this,arguments)}function lo(){return(lo=(0,ee.Z)(function*(P,$){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O($)})})).apply(this,arguments)}function Rr(P){const $={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Hl(P,$){if(!$.notification)return;P.notification={};const J=$.notification.title;J&&(P.notification.title=J);const Ie=$.notification.body;Ie&&(P.notification.body=Ie);const st=$.notification.image;st&&(P.notification.image=st);const It=$.notification.icon;It&&(P.notification.icon=It)}($,P),function wl(P,$){$.data&&(P.data=$.data)}($,P),function L(P,$){var J,Ie,st,It,Gt;if(!($.fcmOptions||null!==(J=$.notification)&&void 0!==J&&J.click_action))return;P.fcmOptions={};const wn=null!==(st=null===(Ie=$.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==st?st:null===(It=$.notification)||void 0===It?void 0:It.click_action;wn&&(P.fcmOptions.link=wn);const xn=null===(Gt=$.fcmOptions)||void 0===Gt?void 0:Gt.analytics_label;xn&&(P.fcmOptions.analyticsLabel=xn)}($,P),$}function j(P,$){const J=[];for(let Ie=0;Ie<P.length;Ie++)J.push(P.charAt(Ie)),Ie<$.length&&J.push($.charAt(Ie));return J.join("")}function Me(P){return ms.create("missing-app-config-values",{valueName:P})}j("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),j("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vt{constructor($,J,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function se(P){if(!P||!P.options)throw Me("App Configuration Object");if(!P.name)throw Me("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:J}=P;for(const Ie of $)if(!J[Ie])throw Me(Ie);return{appName:P.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:st,installations:J,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Wt(P){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ee.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(ea,{scope:pr}),P.swRegistration.update().catch(()=>{})}catch($){throw ms.create("failed-service-worker-registration",{browserErrorMessage:null==$?void 0:$.message})}})).apply(this,arguments)}function $r(){return($r=(0,ee.Z)(function*(P,$){if(!$&&!P.swRegistration&&(yield Wt(P)),$||!P.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw ms.create("invalid-sw-registration");P.swRegistration=$}})).apply(this,arguments)}function wr(){return(wr=(0,ee.Z)(function*(P,$){$?P.vapidKey=$:P.vapidKey||(P.vapidKey=$o)})).apply(this,arguments)}function Ri(){return Ri=(0,ee.Z)(function*(P,$){if(!navigator)throw ms.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ms.create("permission-blocked");return yield function Lr(P,$){return wr.apply(this,arguments)}(P,null==$?void 0:$.vapidKey),yield function gr(P,$){return $r.apply(this,arguments)}(P,null==$?void 0:$.serviceWorkerRegistration),function is(P){return ba.apply(this,arguments)}(P)}),Ri.apply(this,arguments)}function na(){return(na=(0,ee.Z)(function*(P,$,J){const Ie=function Ao(P){switch(P){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:J[b],message_name:J[q],message_time:J[T],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bs(){return Bs=(0,ee.Z)(function*(P,$){const J=$.data;if(!J.isFirebaseMessaging)return;P.onMessageHandler&&J.messageType===B.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Rr(J)):P.onMessageHandler.next(Rr(J)));const Ie=J.data;(function X(P){return"object"==typeof P&&!!P&&b in P})(Ie)&&"1"===Ie[W]&&(yield function Gi(P,$,J){return na.apply(this,arguments)}(P,J.messageType,Ie))}),Bs.apply(this,arguments)}const ra="@firebase/messaging",Ta=P=>{const $=new Vt(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function Ws(P,$){return Bs.apply(this,arguments)}($,J)),$},za=P=>{const $=P.getProvider("messaging").getImmediate();return{getToken:Ie=>function Fi(P,$){return Ri.apply(this,arguments)}($,Ie)}};function sl(){return va.apply(this,arguments)}function va(){return(va=(0,ee.Z)(function*(){try{yield(0,Be.eu)()}catch{return!1}return typeof window<"u"&&(0,Be.hl)()&&(0,Be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zl(){(0,he._registerComponent)(new xe.wA("messaging",Ta,"PUBLIC")),(0,he._registerComponent)(new xe.wA("messaging-internal",za,"PRIVATE")),(0,he.registerVersion)(ra,"0.12.4"),(0,he.registerVersion)(ra,"0.12.4","esm2017")}();const ci="analytics",ic="firebase_id",Hn="origin",ir=6e4,sc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fn="https://www.googletagmanager.com/gtag/js",Lt=new me.Yd("@firebase/analytics"),ui=new Be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xo(P){if(!P.startsWith(Fn)){const $=ui.create("invalid-gtag-resource",{gtagURL:P});return Lt.warn($.message),""}return P}function Ac(P){return Promise.all(P.map($=>$.catch(J=>J)))}function jo(){return(jo=(0,ee.Z)(function*(P,$,J,Ie,st,It){const Gt=Ie[st];try{if(Gt)yield $[Gt];else{const xn=(yield Ac(J)).find(Zn=>Zn.measurementId===st);xn&&(yield $[xn.appId])}}catch(wn){Lt.error(wn)}P("config",st,It)})).apply(this,arguments)}function Wc(){return(Wc=(0,ee.Z)(function*(P,$,J,Ie,st){try{let It=[];if(st&&st.send_to){let Gt=st.send_to;Array.isArray(Gt)||(Gt=[Gt]);const wn=yield Ac(J);for(const xn of Gt){const Zn=wn.find(Fr=>Fr.measurementId===xn),Nr=Zn&&$[Zn.appId];if(!Nr){It=[];break}It.push(Nr)}}0===It.length&&(It=Object.values($)),yield Promise.all(It),P("event",Ie,st||{})}catch(It){Lt.error(It)}})).apply(this,arguments)}const ia=30,rr=new class oi{constructor($={},J=1e3){this.throttleMetadata=$,this.intervalMillis=J}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,J){this.throttleMetadata[$]=J}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Sa(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Kc(){return(Kc=(0,ee.Z)(function*(P){var $;const{appId:J,apiKey:Ie}=P,st={method:"GET",headers:Sa(Ie)},It=sc.replace("{app-id}",J),Gt=yield fetch(It,st);if(200!==Gt.status&&304!==Gt.status){let wn="";try{const xn=yield Gt.json();null!==($=xn.error)&&void 0!==$&&$.message&&(wn=xn.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:wn})}return Gt.json()})).apply(this,arguments)}function Pn(){return(Pn=(0,ee.Z)(function*(P,$=rr,J){const{appId:Ie,apiKey:st,measurementId:It}=P.options;if(!Ie)throw ui.create("no-app-id");if(!st){if(It)return{measurementId:It,appId:Ie};throw ui.create("no-api-key")}const Gt=$.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},wn=new lc;return setTimeout((0,ee.Z)(function*(){wn.abort()}),void 0!==J?J:ir),Kl({appId:Ie,apiKey:st,measurementId:It},Gt,wn,$)})).apply(this,arguments)}function Kl(P,$,J){return ac.apply(this,arguments)}function ac(){return ac=(0,ee.Z)(function*(P,{throttleEndTimeMillis:$,backoffCount:J},Ie,st=rr){var It;const{appId:Gt,measurementId:wn}=P;try{yield function Tl(P,$){return new Promise((J,Ie)=>{const st=Math.max($-Date.now(),0),It=setTimeout(J,st);P.addEventListener(()=>{clearTimeout(It),Ie(ui.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(Ie,$)}catch(xn){if(wn)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wn} provided in the "measurementId" field in the local Firebase config. [${null==xn?void 0:xn.message}]`),{appId:Gt,measurementId:wn};throw xn}try{const xn=yield function vi(P){return Kc.apply(this,arguments)}(P);return st.deleteThrottleMetadata(Gt),xn}catch(xn){const Zn=xn;if(!function qc(P){if(!(P instanceof Be.ZR&&P.customData))return!1;const $=Number(P.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Zn)){if(st.deleteThrottleMetadata(Gt),wn)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wn} provided in the "measurementId" field in the local Firebase config. [${null==Zn?void 0:Zn.message}]`),{appId:Gt,measurementId:wn};throw xn}const Nr=503===Number(null===(It=null==Zn?void 0:Zn.customData)||void 0===It?void 0:It.httpStatus)?(0,Be.$s)(J,st.intervalMillis,ia):(0,Be.$s)(J,st.intervalMillis),Fr={throttleEndTimeMillis:Date.now()+Nr,backoffCount:J+1};return st.setThrottleMetadata(Gt,Fr),Lt.debug(`Calling attemptFetch again in ${Nr} millis`),Kl(P,Fr,Ie,st)}}),ac.apply(this,arguments)}class lc{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let vu,Zc;function Yc(){return(Yc=(0,ee.Z)(function*(P,$,J,Ie,st){if(st&&st.global)P("event",J,Ie);else{const It=yield $;P("event",J,Object.assign(Object.assign({},Ie),{send_to:It}))}})).apply(this,arguments)}function fr(){return(fr=(0,ee.Z)(function*(){if(!(0,Be.hl)())return Lt.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Be.eu)()}catch(P){return Lt.warn(ui.create("indexeddb-unavailable",{errorInfo:null==P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function x(){return x=(0,ee.Z)(function*(P,$,J,Ie,st,It,Gt){var wn;const xn=function Mr(P){return Pn.apply(this,arguments)}(P);xn.then(As=>{J[As.measurementId]=As.appId,P.options.measurementId&&As.measurementId!==P.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${As.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(As=>Lt.error(As)),$.push(xn);const Zn=function Qi(){return fr.apply(this,arguments)}().then(As=>{if(As)return Ie.getId()}),[Nr,Fr]=yield Promise.all([xn,Zn]);(function sr(P){const $=window.document.getElementsByTagName("script");for(const J of Object.values($))if(J.src&&J.src.includes(Fn)&&J.src.includes(P))return J;return null})(It)||function Wl(P,$){const J=function bl(P,$){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(P,$)),J}("firebase-js-sdk-policy",{createScriptURL:xo}),Ie=document.createElement("script"),st=`${Fn}?l=${P}&id=${$}`;Ie.src=J?null==J?void 0:J.createScriptURL(st):st,Ie.async=!0,document.head.appendChild(Ie)}(It,Nr.measurementId),Zc&&(st("consent","default",Zc),function _a(P){Zc=P}(void 0)),st("js",new Date);const ho=null!==(wn=null==Gt?void 0:Gt.config)&&void 0!==wn?wn:{};return ho[Hn]="firebase",ho.update=!0,null!=Fr&&(ho[ic]=Fr),st("config",Nr.measurementId,ho),vu&&(st("set",vu),function Ro(P){vu=P}(void 0)),Nr.measurementId}),x.apply(this,arguments)}class w{constructor($){this.app=$}_delete(){return delete k[this.app.options.appId],Promise.resolve()}}let k={},z=[];const ie={};let Pt,pn,le="dataLayer",nt="gtag",Bn=!1;function Li(P,$,J){!function Ci(){const P=[];if((0,Be.ru)()&&P.push("This is a browser extension environment."),(0,Be.zI)()||P.push("Cookies are not available."),P.length>0){const $=P.map((Ie,st)=>`(${st+1}) ${Ie}`).join(" "),J=ui.create("invalid-analytics-context",{errorInfo:$});Lt.warn(J.message)}}();const Ie=P.options.appId;if(!Ie)throw ui.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw ui.create("no-api-key");Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=k[Ie])throw ui.create("already-exists",{id:Ie});if(!Bn){!function oc(P){let $=[];Array.isArray(window[P])?$=window[P]:window[P]=$}(le);const{wrappedGtag:It,gtagCore:Gt}=function ol(P,$,J,Ie,st){let It=function(...Gt){window[Ie].push(arguments)};return window[st]&&"function"==typeof window[st]&&(It=window[st]),window[st]=function co(P,$,J,Ie){function It(){return It=(0,ee.Z)(function*(Gt,...wn){try{if("event"===Gt){const[xn,Zn]=wn;yield function Ga(P,$,J,Ie,st){return Wc.apply(this,arguments)}(P,$,J,xn,Zn)}else if("config"===Gt){const[xn,Zn]=wn;yield function yu(P,$,J,Ie,st,It){return jo.apply(this,arguments)}(P,$,J,Ie,xn,Zn)}else if("consent"===Gt){const[xn]=wn;P("consent","update",xn)}else if("get"===Gt){const[xn,Zn,Nr]=wn;P("get",xn,Zn,Nr)}else if("set"===Gt){const[xn]=wn;P("set",xn)}else P(Gt,...wn)}catch(xn){Lt.error(xn)}}),It.apply(this,arguments)}return function st(Gt){return It.apply(this,arguments)}}(It,P,$,J),{gtagCore:It,wrappedGtag:window[st]}}(k,z,ie,le,nt);pn=It,Pt=Gt,Bn=!0}return k[Ie]=function S(P,$,J,Ie,st,It,Gt){return x.apply(this,arguments)}(P,z,ie,$,Pt,le,J),new w(P)}function Mo(){return $s.apply(this,arguments)}function $s(){return($s=(0,ee.Z)(function*(){if((0,Be.ru)()||!(0,Be.zI)()||!(0,Be.hl)())return!1;try{return yield(0,Be.eu)()}catch{return!1}})).apply(this,arguments)}const _u="@firebase/analytics";!function Ld(){(0,he._registerComponent)(new xe.wA(ci,($,{options:J})=>Li($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,he._registerComponent)(new xe.wA("analytics-internal",function P($){try{const J=$.getProvider(ci).getImmediate();return{logEvent:(Ie,st,It)=>function Xu(P,$,J,Ie){P=(0,Be.m9)(P),function Wa(P,$,J,Ie,st){return Yc.apply(this,arguments)}(pn,k[P.app.options.appId],$,J,Ie).catch(st=>Lt.error(st))}(J,Ie,st,It)}}catch(J){throw ui.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,he.registerVersion)(_u,"0.10.0"),(0,he.registerVersion)(_u,"0.10.0","esm2017")}();var Iu=H(4408),Qu=H(7565);const uc=new class ql extends Qu.v{}(class Bd extends Iu.o{constructor($,J){super($,J),this.scheduler=$,this.work=J}schedule($,J=0){return J>0?super.schedule($,J):(this.delay=J,this.state=$,this.scheduler.flush(this),this)}execute($,J){return J>0||this.closed?super.execute($,J):this._execute($,J)}requestAsyncId($,J,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId($,J,Ie):($.flush(this),0)}});var Ss=H(4986),Sh=H(8505),xa=H(5363),wu=H(9468);const Tr=new _.GfV("7.5.0"),dc="__angularfire_symbol__analyticsIsSupportedValue",Cs="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupportedValue",xc="__angularfire_symbol__remoteConfigIsSupported",Po="__angularfire_symbol__messagingIsSupportedValue",ys="__angularfire_symbol__messagingIsSupported";function Yl(P,$,J){if($){if(1===$.length)return $[0];const It=$.filter(Gt=>Gt.app===J);if(1===It.length)return It[0]}return J.container.getProvider(P).getImmediate({optional:!0})}globalThis[Cs]||(globalThis[Cs]=Mo().then(P=>globalThis[dc]=P).catch(()=>globalThis[dc]=!1)),globalThis[ys]||(globalThis[ys]=sl().then(P=>globalThis[Po]=P).catch(()=>globalThis[Po]=!1)),globalThis[xc]||(globalThis[xc]=Do().then(P=>globalThis[Ki]=P).catch(()=>globalThis[Ki]=!1));const Hr=(P,$)=>{const J=$?[$]:(0,y.C6)(),Ie=[];return J.forEach(st=>{st.container.getProvider(P).instances.forEach(Gt=>{Ie.includes(Gt)||Ie.push(Gt)})}),Ie};function Us(){}class Rc{constructor($,J=uc){this.zone=$,this.delegate=J}now(){return this.delegate.now()}schedule($,J,Ie){const st=this.zone;return this.delegate.schedule(function(Gt){st.runGuarded(()=>{$.apply(this,[Gt])})},J,Ie)}}class fc{constructor($){this.zone=$,this.task=null}call($,J){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)),J.pipe((0,Sh.b)({next:Ie,complete:Ie,error:Ie})).subscribe($).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zl=(()=>{class P{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Rc(Zone.current)),this.insideAngular=J.run(()=>new Rc(Zone.current,Ss.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(J){return new(J||P)(_.LFG(_.R0b))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function ks(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Cu(P){return P.pipe((0,xa.Q)(ks().outsideAngular))}function wo(P){return ks(),function Qc(P){return function(J){return(J=J.lift(new fc(P.ngZone))).pipe((0,wu.R)(P.outsideAngular),(0,xa.Q)(P.insideAngular))}}(ks())(P)}},2090:(yn,gt,H)=>{"use strict";H.d(gt,{$s:()=>Ge,BH:()=>Ze,DV:()=>lr,Dv:()=>Sr,G6:()=>ke,GJ:()=>nn,L:()=>Ne,LL:()=>$t,Pz:()=>et,Sg:()=>At,UG:()=>Pe,UI:()=>Xn,US:()=>xe,Wj:()=>gi,Wl:()=>Tt,Yr:()=>ft,ZB:()=>ve,ZR:()=>Zt,aH:()=>Y,b$:()=>ht,cI:()=>Te,dS:()=>xi,eu:()=>Fe,g5:()=>ee,gK:()=>qr,gQ:()=>Ir,h$:()=>Ue,hl:()=>Le,hu:()=>y,jU:()=>we,lb:()=>Ur,m9:()=>zt,ne:()=>Tn,p$:()=>ge,pd:()=>Di,r3:()=>In,ru:()=>Ve,tV:()=>_e,uI:()=>Oe,ug:()=>or,vZ:()=>br,w1:()=>ct,w9:()=>Cn,xO:()=>Zr,xb:()=>Er,z$:()=>$e,zI:()=>lt,zd:()=>Br});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},y=function(Ce,be){if(!Ce)throw ee(be)},ee=function(Ce){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ce)},he=function(Ce){const be=[];let We=0;for(let Ct=0;Ct<Ce.length;Ct++){let ot=Ce.charCodeAt(Ct);ot<128?be[We++]=ot:ot<2048?(be[We++]=ot>>6|192,be[We++]=63&ot|128):55296==(64512&ot)&&Ct+1<Ce.length&&56320==(64512&Ce.charCodeAt(Ct+1))?(ot=65536+((1023&ot)<<10)+(1023&Ce.charCodeAt(++Ct)),be[We++]=ot>>18|240,be[We++]=ot>>12&63|128,be[We++]=ot>>6&63|128,be[We++]=63&ot|128):(be[We++]=ot>>12|224,be[We++]=ot>>6&63|128,be[We++]=63&ot|128)}return be},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,be){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const We=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ct=[];for(let ot=0;ot<Ce.length;ot+=3){const gn=Ce[ot],Ye=ot+1<Ce.length,je=Ye?Ce[ot+1]:0,ye=ot+2<Ce.length,dt=ye?Ce[ot+2]:0;let Dn=(15&je)<<2|dt>>6,Qn=63&dt;ye||(Qn=64,Ye||(Dn=64)),Ct.push(We[gn>>2],We[(3&gn)<<4|je>>4],We[Dn],We[Qn])}return Ct.join("")},encodeString(Ce,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Ce):this.encodeByteArray(he(Ce),be)},decodeString(Ce,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Ce):function(Ce){const be=[];let We=0,Ct=0;for(;We<Ce.length;){const ot=Ce[We++];if(ot<128)be[Ct++]=String.fromCharCode(ot);else if(ot>191&&ot<224){const gn=Ce[We++];be[Ct++]=String.fromCharCode((31&ot)<<6|63&gn)}else if(ot>239&&ot<365){const ye=((7&ot)<<18|(63&Ce[We++])<<12|(63&Ce[We++])<<6|63&Ce[We++])-65536;be[Ct++]=String.fromCharCode(55296+(ye>>10)),be[Ct++]=String.fromCharCode(56320+(1023&ye))}else{const gn=Ce[We++],Ye=Ce[We++];be[Ct++]=String.fromCharCode((15&ot)<<12|(63&gn)<<6|63&Ye)}}return be.join("")}(this.decodeStringToByteArray(Ce,be))},decodeStringToByteArray(Ce,be){this.init_();const We=be?this.charToByteMapWebSafe_:this.charToByteMap_,Ct=[];for(let ot=0;ot<Ce.length;){const gn=We[Ce.charAt(ot++)],je=ot<Ce.length?We[Ce.charAt(ot)]:0;++ot;const dt=ot<Ce.length?We[Ce.charAt(ot)]:64;++ot;const en=ot<Ce.length?We[Ce.charAt(ot)]:64;if(++ot,null==gn||null==je||null==dt||null==en)throw new me;Ct.push(gn<<2|je>>4),64!==dt&&(Ct.push(je<<4&240|dt>>2),64!==en&&Ct.push(dt<<6&192|en))}return Ct},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(Ce){const be=he(Ce);return xe.encodeByteArray(be,!0)},Ne=function(Ce){return Ue(Ce).replace(/\./g,"")},_e=function(Ce){try{return xe.decodeString(Ce,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function ge(Ce){return ve(void 0,Ce)}function ve(Ce,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return be}for(const We in be)!be.hasOwnProperty(We)||!ze(We)||(Ce[We]=ve(Ce[We],be[We]));return Ce}function ze(Ce){return"__proto__"!==Ce}const Se=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=Ce&&_e(Ce[1]);return be&&JSON.parse(be)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Y=()=>{var Ce;return null===(Ce=Se())||void 0===Ce?void 0:Ce.config},et=Ce=>{var be;return null===(be=Se())||void 0===be?void 0:be[`_${Ce}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,We)=>{this.resolve=be,this.reject=We})}wrapCallback(be){return(We,Ct)=>{We?this.reject(We):this.resolve(Ct),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(We):be(We,Ct))}}}function At(Ce,be){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ct=be||"demo-project",ot=Ce.iat||0,gn=Ce.sub||Ce.user_id;if(!gn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${Ct}`,aud:Ct,iat:ot,exp:ot+3600,auth_time:ot,sub:gn,user_id:gn,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(Ye)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Pe(){var Ce;const be=null===(Ce=Se())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function we(){return"object"==typeof self&&self.self===self}function Ve(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const Ce=$e();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function ft(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function ke(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Ce,be)=>{try{let We=!0;const Ct="validate-browser-context-for-indexeddb-analytics-module",ot=self.indexedDB.open(Ct);ot.onsuccess=()=>{ot.result.close(),We||self.indexedDB.deleteDatabase(Ct),Ce(!0)},ot.onupgradeneeded=()=>{We=!1},ot.onerror=()=>{var gn;be((null===(gn=ot.error)||void 0===gn?void 0:gn.message)||"")}}catch(We){be(We)}})}function lt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zt extends Error{constructor(be,We,Ct){super(We),this.code=be,this.customData=Ct,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(be,We,Ct){this.service=be,this.serviceName=We,this.errors=Ct}create(be,...We){const Ct=We[0]||{},ot=`${this.service}/${be}`,gn=this.errors[be],Ye=gn?function vn(Ce,be){return Ce.replace(Dt,(We,Ct)=>{const ot=be[Ct];return null!=ot?String(ot):`<${Ct}?>`})}(gn,Ct):"Error";return new Zt(ot,`${this.serviceName}: ${Ye} (${ot}).`,Ct)}}const Dt=/\{\$([^}]+)}/g;function Te(Ce){return JSON.parse(Ce)}function Tt(Ce){return JSON.stringify(Ce)}const ln=function(Ce){let be={},We={},Ct={},ot="";try{const gn=Ce.split(".");be=Te(_e(gn[0])||""),We=Te(_e(gn[1])||""),ot=gn[2],Ct=We.d||{},delete We.d}catch{}return{header:be,claims:We,data:Ct,signature:ot}},Cn=function(Ce){const We=ln(Ce).claims;return!!We&&"object"==typeof We&&We.hasOwnProperty("iat")},nn=function(Ce){const be=ln(Ce).claims;return"object"==typeof be&&!0===be.admin};function In(Ce,be){return Object.prototype.hasOwnProperty.call(Ce,be)}function lr(Ce,be){if(Object.prototype.hasOwnProperty.call(Ce,be))return Ce[be]}function Er(Ce){for(const be in Ce)if(Object.prototype.hasOwnProperty.call(Ce,be))return!1;return!0}function Xn(Ce,be,We){const Ct={};for(const ot in Ce)Object.prototype.hasOwnProperty.call(Ce,ot)&&(Ct[ot]=be.call(We,Ce[ot],ot,Ce));return Ct}function br(Ce,be){if(Ce===be)return!0;const We=Object.keys(Ce),Ct=Object.keys(be);for(const ot of We){if(!Ct.includes(ot))return!1;const gn=Ce[ot],Ye=be[ot];if(cn(gn)&&cn(Ye)){if(!br(gn,Ye))return!1}else if(gn!==Ye)return!1}for(const ot of Ct)if(!We.includes(ot))return!1;return!0}function cn(Ce){return null!==Ce&&"object"==typeof Ce}function Zr(Ce){const be=[];for(const[We,Ct]of Object.entries(Ce))Array.isArray(Ct)?Ct.forEach(ot=>{be.push(encodeURIComponent(We)+"="+encodeURIComponent(ot))}):be.push(encodeURIComponent(We)+"="+encodeURIComponent(Ct));return be.length?"&"+be.join("&"):""}function Br(Ce){const be={};return Ce.replace(/^\?/,"").split("&").forEach(Ct=>{if(Ct){const[ot,gn]=Ct.split("=");be[decodeURIComponent(ot)]=decodeURIComponent(gn)}}),be}function Di(Ce){const be=Ce.indexOf("?");if(!be)return"";const We=Ce.indexOf("#",be);return Ce.substring(be,We>0?We:void 0)}class Ir{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,We){We||(We=0);const Ct=this.W_;if("string"==typeof be)for(let en=0;en<16;en++)Ct[en]=be.charCodeAt(We)<<24|be.charCodeAt(We+1)<<16|be.charCodeAt(We+2)<<8|be.charCodeAt(We+3),We+=4;else for(let en=0;en<16;en++)Ct[en]=be[We]<<24|be[We+1]<<16|be[We+2]<<8|be[We+3],We+=4;for(let en=16;en<80;en++){const Dn=Ct[en-3]^Ct[en-8]^Ct[en-14]^Ct[en-16];Ct[en]=4294967295&(Dn<<1|Dn>>>31)}let dt,Ot,ot=this.chain_[0],gn=this.chain_[1],Ye=this.chain_[2],je=this.chain_[3],ye=this.chain_[4];for(let en=0;en<80;en++){en<40?en<20?(dt=je^gn&(Ye^je),Ot=1518500249):(dt=gn^Ye^je,Ot=1859775393):en<60?(dt=gn&Ye|je&(gn|Ye),Ot=2400959708):(dt=gn^Ye^je,Ot=3395469782);const Dn=(ot<<5|ot>>>27)+dt+ye+Ot+Ct[en]&4294967295;ye=je,je=Ye,Ye=4294967295&(gn<<30|gn>>>2),gn=ot,ot=Dn}this.chain_[0]=this.chain_[0]+ot&4294967295,this.chain_[1]=this.chain_[1]+gn&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+je&4294967295,this.chain_[4]=this.chain_[4]+ye&4294967295}update(be,We){if(null==be)return;void 0===We&&(We=be.length);const Ct=We-this.blockSize;let ot=0;const gn=this.buf_;let Ye=this.inbuf_;for(;ot<We;){if(0===Ye)for(;ot<=Ct;)this.compress_(be,ot),ot+=this.blockSize;if("string"==typeof be){for(;ot<We;)if(gn[Ye]=be.charCodeAt(ot),++Ye,++ot,Ye===this.blockSize){this.compress_(gn),Ye=0;break}}else for(;ot<We;)if(gn[Ye]=be[ot],++Ye,++ot,Ye===this.blockSize){this.compress_(gn),Ye=0;break}}this.inbuf_=Ye,this.total_+=We}digest(){const be=[];let We=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ot=this.blockSize-1;ot>=56;ot--)this.buf_[ot]=255&We,We/=256;this.compress_(this.buf_);let Ct=0;for(let ot=0;ot<5;ot++)for(let gn=24;gn>=0;gn-=8)be[Ct]=this.chain_[ot]>>gn&255,++Ct;return be}}function Tn(Ce,be){const We=new tn(Ce,be);return We.subscribe.bind(We)}class tn{constructor(be,We){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=We,this.task.then(()=>{be(this)}).catch(Ct=>{this.error(Ct)})}next(be){this.forEachObserver(We=>{We.next(be)})}error(be){this.forEachObserver(We=>{We.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,We,Ct){let ot;if(void 0===be&&void 0===We&&void 0===Ct)throw new Error("Missing Observer.");ot=function on(Ce,be){if("object"!=typeof Ce||null===Ce)return!1;for(const We of be)if(We in Ce&&"function"==typeof Ce[We])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:We,complete:Ct},void 0===ot.next&&(ot.next=Jr),void 0===ot.error&&(ot.error=Jr),void 0===ot.complete&&(ot.complete=Jr);const gn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ot.error(this.finalError):ot.complete()}catch{}}),this.observers.push(ot),gn}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let We=0;We<this.observers.length;We++)this.sendOne(We,be)}sendOne(be,We){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{We(this.observers[be])}catch(Ct){typeof console<"u"&&console.error&&console.error(Ct)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jr(){}const Sr=function(Ce,be,We,Ct){let ot;if(Ct<be?ot="at least "+be:Ct>We&&(ot=0===We?"none":"no more than "+We),ot)throw new Error(Ce+" failed: Was called with "+Ct+(1===Ct?" argument.":" arguments.")+" Expects "+ot+".")};function qr(Ce,be){return`${Ce} failed: ${be} argument `}function gi(Ce,be,We,Ct){if((!Ct||We)&&"function"!=typeof We)throw new Error(qr(Ce,be)+"must be a valid function.")}function Ur(Ce,be,We,Ct){if((!Ct||We)&&("object"!=typeof We||null===We))throw new Error(qr(Ce,be)+"must be a valid context object.")}const xi=function(Ce){const be=[];let We=0;for(let Ct=0;Ct<Ce.length;Ct++){let ot=Ce.charCodeAt(Ct);if(ot>=55296&&ot<=56319){const gn=ot-55296;Ct++,y(Ct<Ce.length,"Surrogate pair missing trail surrogate."),ot=65536+(gn<<10)+(Ce.charCodeAt(Ct)-56320)}ot<128?be[We++]=ot:ot<2048?(be[We++]=ot>>6|192,be[We++]=63&ot|128):ot<65536?(be[We++]=ot>>12|224,be[We++]=ot>>6&63|128,be[We++]=63&ot|128):(be[We++]=ot>>18|240,be[We++]=ot>>12&63|128,be[We++]=ot>>6&63|128,be[We++]=63&ot|128)}return be},or=function(Ce){let be=0;for(let We=0;We<Ce.length;We++){const Ct=Ce.charCodeAt(We);Ct<128?be++:Ct<2048?be+=2:Ct>=55296&&Ct<=56319?(be+=4,We++):be+=3}return be},Ei=1e3,Pr=2,mr=144e5,Ht=.5;function Ge(Ce,be=Ei,We=Pr){const Ct=be*Math.pow(We,Ce),ot=Math.round(Ht*Ct*(Math.random()-.5)*2);return Math.min(mr,Ct+ot)}function zt(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},2200:(yn,gt,H)=>{"use strict";H.d(gt,{c:()=>bt});var _=H(9397),y=H(3457);let ee;const Be=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xe=Re=>(void 0===ee&&(ee=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),ee),me=(Re,Se,de)=>{const pt=Se.startsWith("animation")?xe(Re):"";Re.style.setProperty(pt+Se,de)},Ue=(Re,Se)=>{const de=Se.startsWith("animation")?xe(Re):"";Re.style.removeProperty(de+Se)},ge=[],rt=(Re=[],Se)=>{if(void 0!==Se){const de=Array.isArray(Se)?Se:[Se];return[...Re,...de]}return Re},bt=Re=>{let Se,de,pt,Y,et,Ze,we,Le,Fe,lt,vt,Dt,Te,At=[],$e=[],Oe=[],Pe=!1,Ve={},ht=[],_t=[],ct={},wt=0,ft=!1,ke=!1,Zt=!0,$t=!1,vn=!0,Tt=!1;const ln=Re,Rn=[],Kn=[],Cn=[],nn=[],In=[],lr=[],Er=[],Xn=[],br=[],cn=[],di="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Zr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&di,Di=()=>cn,on=(ae,qe)=>((null!=qe&&qe.oneTimeCallback?Kn:Rn).push({c:ae,o:qe}),Te),Sr=()=>{if(Zr)cn.forEach(ae=>{ae.cancel()}),cn.length=0;else{const ae=Cn.slice();(0,_.r)(()=>{ae.forEach(qe=>{Ue(qe,"animation-name"),Ue(qe,"animation-duration"),Ue(qe,"animation-timing-function"),Ue(qe,"animation-iteration-count"),Ue(qe,"animation-delay"),Ue(qe,"animation-play-state"),Ue(qe,"animation-fill-mode"),Ue(qe,"animation-direction")})})}},qr=()=>{In.forEach(ae=>{null!=ae&&ae.parentNode&&ae.parentNode.removeChild(ae)}),In.length=0},Xt=()=>void 0!==et?et:we?we.getFill():"both",zt=()=>void 0!==Fe?Fe:void 0!==Ze?Ze:we?we.getDirection():"normal",Ce=()=>ft?"linear":void 0!==pt?pt:we?we.getEasing():"linear",be=()=>ke?0:void 0!==lt?lt:void 0!==de?de:we?we.getDuration():0,We=()=>void 0!==Y?Y:we?we.getIterations():1,Ct=()=>void 0!==vt?vt:void 0!==Se?Se:we?we.getDelay():0,Qt=()=>{0!==wt&&(wt--,0===wt&&((()=>{bn(),Xn.forEach(kt=>kt()),br.forEach(kt=>kt());const ae=Zt?1:0,qe=ht,Ke=_t,Nt=ct;Cn.forEach(kt=>{const Bt=kt.classList;qe.forEach(Jt=>Bt.add(Jt)),Ke.forEach(Jt=>Bt.remove(Jt));for(const Jt in Nt)Nt.hasOwnProperty(Jt)&&me(kt,Jt,Nt[Jt])}),Rn.forEach(kt=>kt.c(ae,Te)),Kn.forEach(kt=>kt.c(ae,Te)),Kn.length=0,vn=!0,Zt&&($t=!0),Zt=!0})(),we&&we.animationFinish()))},Nn=(ae=!0)=>{qr();const qe=(Re=>(Re.forEach(Se=>{for(const de in Se)if(Se.hasOwnProperty(de)){const pt=Se[de];if("easing"===de)Se["animation-timing-function"]=pt,delete Se[de];else{const Y=Be(de);Y!==de&&(Se[Y]=pt,delete Se[de])}}}),Re))(At);Cn.forEach(Ke=>{if(qe.length>0){const Nt=((Re=[])=>Re.map(Se=>{const de=Se.offset,pt=[];for(const Y in Se)Se.hasOwnProperty(Y)&&"offset"!==Y&&pt.push(`${Y}: ${Se[Y]};`);return`${100*de}% { ${pt.join(" ")} }`}).join(" "))(qe);Dt=void 0!==Re?Re:(Re=>{let Se=ge.indexOf(Re);return Se<0&&(Se=ge.push(Re)-1),`ion-animation-${Se}`})(Nt);const kt=((Re,Se,de)=>{var pt;const Y=(Re=>{const Se=void 0!==Re.getRootNode?Re.getRootNode():Re;return Se.head||Se})(de),et=xe(de),Ze=Y.querySelector("#"+Re);if(Ze)return Ze;const At=(null!==(pt=de.ownerDocument)&&void 0!==pt?pt:document).createElement("style");return At.id=Re,At.textContent=`@${et}keyframes ${Re} { ${Se} } @${et}keyframes ${Re}-alt { ${Se} }`,Y.appendChild(At),At})(Dt,Nt,Ke);In.push(kt),me(Ke,"animation-duration",`${be()}ms`),me(Ke,"animation-timing-function",Ce()),me(Ke,"animation-delay",`${Ct()}ms`),me(Ke,"animation-fill-mode",Xt()),me(Ke,"animation-direction",zt());const Bt=We()===1/0?"infinite":We().toString();me(Ke,"animation-iteration-count",Bt),me(Ke,"animation-play-state","paused"),ae&&me(Ke,"animation-name",`${kt.id}-alt`),(0,_.r)(()=>{me(Ke,"animation-name",kt.id||null)})}})},yr=(ae=!0)=>{(()=>{lr.forEach(Nt=>Nt()),Er.forEach(Nt=>Nt());const ae=$e,qe=Oe,Ke=Ve;Cn.forEach(Nt=>{const kt=Nt.classList;ae.forEach(Bt=>kt.add(Bt)),qe.forEach(Bt=>kt.remove(Bt));for(const Bt in Ke)Ke.hasOwnProperty(Bt)&&me(Nt,Bt,Ke[Bt])})})(),At.length>0&&(Zr?(Cn.forEach(ae=>{const qe=ae.animate(At,{id:ln,delay:Ct(),duration:be(),easing:Ce(),iterations:We(),fill:Xt(),direction:zt()});qe.pause(),cn.push(qe)}),cn.length>0&&(cn[0].onfinish=()=>{Qt()})):Nn(ae)),Pe=!0},Cr=ae=>{if(ae=Math.min(Math.max(ae,0),.9999),Zr)cn.forEach(qe=>{qe.currentTime=qe.effect.getComputedTiming().delay+be()*ae,qe.pause()});else{const qe=`-${be()*ae}ms`;Cn.forEach(Ke=>{At.length>0&&(me(Ke,"animation-delay",qe),me(Ke,"animation-play-state","paused"))})}},$n=ae=>{cn.forEach(qe=>{qe.effect.updateTiming({delay:Ct(),duration:be(),easing:Ce(),iterations:We(),fill:Xt(),direction:zt()})}),void 0!==ae&&Cr(ae)},tr=(ae=!0,qe)=>{(0,_.r)(()=>{Cn.forEach(Ke=>{me(Ke,"animation-name",Dt||null),me(Ke,"animation-duration",`${be()}ms`),me(Ke,"animation-timing-function",Ce()),me(Ke,"animation-delay",void 0!==qe?`-${qe*be()}ms`:`${Ct()}ms`),me(Ke,"animation-fill-mode",Xt()||null),me(Ke,"animation-direction",zt()||null);const Nt=We()===1/0?"infinite":We().toString();me(Ke,"animation-iteration-count",Nt),ae&&me(Ke,"animation-name",`${Dt}-alt`),(0,_.r)(()=>{me(Ke,"animation-name",Dt||null)})})})},Wn=(ae=!1,qe=!0,Ke)=>(ae&&nn.forEach(Nt=>{Nt.update(ae,qe,Ke)}),Zr?$n(Ke):tr(qe,Ke),Te),Ji=()=>{Pe&&(Zr?cn.forEach(ae=>{ae.pause()}):Cn.forEach(ae=>{me(ae,"animation-play-state","paused")}),Tt=!0)},ri=()=>{Le=void 0,Qt()},bn=()=>{Le&&clearTimeout(Le)},ii=ae=>new Promise(qe=>{null!=ae&&ae.sync&&(ke=!0,on(()=>ke=!1,{oneTimeCallback:!0})),Pe||yr(),$t&&(Zr?(Cr(0),$n()):tr(),$t=!1),vn&&(wt=nn.length+1,vn=!1),on(()=>qe(),{oneTimeCallback:!0}),nn.forEach(Ke=>{Ke.play()}),Zr?(cn.forEach(ae=>{ae.play()}),(0===At.length||0===Cn.length)&&Qt()):(()=>{if(bn(),(0,_.r)(()=>{Cn.forEach(ae=>{At.length>0&&me(ae,"animation-play-state","running")})}),0===At.length||0===Cn.length)Qt();else{const ae=Ct()||0,qe=be()||0,Ke=We()||1;isFinite(Ke)&&(Le=setTimeout(ri,ae+qe*Ke+100)),((Re,Se)=>{let de;const pt={passive:!0},et=Ze=>{Re===Ze.target&&(de&&de(),bn(),(0,_.r)(()=>{Cn.forEach(ae=>{Ue(ae,"animation-duration"),Ue(ae,"animation-delay"),Ue(ae,"animation-play-state")}),(0,_.r)(Qt)}))};Re&&(Re.addEventListener("webkitAnimationEnd",et,pt),Re.addEventListener("animationend",et,pt),de=()=>{Re.removeEventListener("webkitAnimationEnd",et,pt),Re.removeEventListener("animationend",et,pt)})})(Cn[0])}})(),Tt=!1}),re=(ae,qe)=>{const Ke=At[0];return void 0===Ke||void 0!==Ke.offset&&0!==Ke.offset?At=[{offset:0,[ae]:qe},...At]:Ke[ae]=qe,Te};return Te={parentAnimation:we,elements:Cn,childAnimations:nn,id:ln,animationFinish:Qt,from:re,to:(ae,qe)=>{const Ke=At[At.length-1];return void 0===Ke||void 0!==Ke.offset&&1!==Ke.offset?At=[...At,{offset:1,[ae]:qe}]:Ke[ae]=qe,Te},fromTo:(ae,qe,Ke)=>re(ae,qe).to(ae,Ke),parent:ae=>(we=ae,Te),play:ii,pause:()=>(nn.forEach(ae=>{ae.pause()}),Ji(),Te),stop:()=>{nn.forEach(ae=>{ae.stop()}),Pe&&(Sr(),Pe=!1),ft=!1,ke=!1,vn=!0,Fe=void 0,lt=void 0,vt=void 0,wt=0,$t=!1,Zt=!0,Tt=!1},destroy:ae=>(nn.forEach(qe=>{qe.destroy(ae)}),(ae=>{Sr(),ae&&qr()})(ae),Cn.length=0,nn.length=0,At.length=0,Rn.length=0,Kn.length=0,Pe=!1,vn=!0,Te),keyframes:ae=>{const qe=At!==ae;return At=ae,qe&&(ae=>{Zr?Di().forEach(qe=>{if(qe.effect.setKeyframes)qe.effect.setKeyframes(ae);else{const Ke=new KeyframeEffect(qe.effect.target,ae,qe.effect.getTiming());qe.effect=Ke}}):Nn()})(At),Te},addAnimation:ae=>{if(null!=ae)if(Array.isArray(ae))for(const qe of ae)qe.parent(Te),nn.push(qe);else ae.parent(Te),nn.push(ae);return Te},addElement:ae=>{if(null!=ae)if(1===ae.nodeType)Cn.push(ae);else if(ae.length>=0)for(let qe=0;qe<ae.length;qe++)Cn.push(ae[qe]);else console.error("Invalid addElement value");return Te},update:Wn,fill:ae=>(et=ae,Wn(!0),Te),direction:ae=>(Ze=ae,Wn(!0),Te),iterations:ae=>(Y=ae,Wn(!0),Te),duration:ae=>(!Zr&&0===ae&&(ae=1),de=ae,Wn(!0),Te),easing:ae=>(pt=ae,Wn(!0),Te),delay:ae=>(Se=ae,Wn(!0),Te),getWebAnimations:Di,getKeyframes:()=>At,getFill:Xt,getDirection:zt,getDelay:Ct,getIterations:We,getEasing:Ce,getDuration:be,afterAddRead:ae=>(Xn.push(ae),Te),afterAddWrite:ae=>(br.push(ae),Te),afterClearStyles:(ae=[])=>{for(const qe of ae)ct[qe]="";return Te},afterStyles:(ae={})=>(ct=ae,Te),afterRemoveClass:ae=>(_t=rt(_t,ae),Te),afterAddClass:ae=>(ht=rt(ht,ae),Te),beforeAddRead:ae=>(lr.push(ae),Te),beforeAddWrite:ae=>(Er.push(ae),Te),beforeClearStyles:(ae=[])=>{for(const qe of ae)Ve[qe]="";return Te},beforeStyles:(ae={})=>(Ve=ae,Te),beforeRemoveClass:ae=>(Oe=rt(Oe,ae),Te),beforeAddClass:ae=>($e=rt($e,ae),Te),onFinish:on,isRunning:()=>0!==wt&&!Tt,progressStart:(ae=!1,qe)=>(nn.forEach(Ke=>{Ke.progressStart(ae,qe)}),Ji(),ft=ae,Pe||yr(),Wn(!1,!0,qe),Te),progressStep:ae=>(nn.forEach(qe=>{qe.progressStep(ae)}),Cr(ae),Te),progressEnd:(ae,qe,Ke)=>(ft=!1,nn.forEach(Nt=>{Nt.progressEnd(ae,qe,Ke)}),void 0!==Ke&&(lt=Ke),$t=!1,Zt=!0,0===ae?(Fe="reverse"===zt()?"normal":"reverse","reverse"===Fe&&(Zt=!1),Zr?(Wn(),Cr(1-qe)):(vt=(1-qe)*be()*-1,Wn(!1,!1))):1===ae&&(Zr?(Wn(),Cr(qe)):(vt=qe*be()*-1,Wn(!1,!1))),void 0!==ae&&(on(()=>{lt=void 0,Fe=void 0,vt=void 0},{oneTimeCallback:!0}),we||ii()),Te)}}},3982:(yn,gt,H)=>{"use strict";H.d(gt,{E:()=>_e,a:()=>_,s:()=>Ue});const _=ge=>{try{if(ge instanceof me)return ge.value;if(!he()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const ve=document.createDocumentFragment(),ze=document.createElement("div");ve.appendChild(ze),ze.innerHTML=ge,xe.forEach(Re=>{const Se=ve.querySelectorAll(Re);for(let de=Se.length-1;de>=0;de--){const pt=Se[de];pt.parentNode?pt.parentNode.removeChild(pt):ve.removeChild(pt);const Y=ee(pt);for(let et=0;et<Y.length;et++)y(Y[et])}});const He=ee(ve);for(let Re=0;Re<He.length;Re++)y(He[Re]);const rt=document.createElement("div");rt.appendChild(ve);const bt=rt.querySelector("div");return null!==bt?bt.innerHTML:rt.innerHTML}catch(ve){return console.error(ve),""}},y=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let ze=ge.attributes.length-1;ze>=0;ze--){const He=ge.attributes.item(ze),rt=He.name;if(!Be.includes(rt.toLowerCase())){ge.removeAttribute(rt);continue}const bt=He.value,Re=ge[rt];(null!=bt&&bt.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&ge.removeAttribute(rt)}const ve=ee(ge);for(let ze=0;ze<ve.length;ze++)y(ve[ze])},ee=ge=>null!=ge.children?ge.children:ge.childNodes,he=()=>{var ge;const ve=window,ze=null===(ge=null==ve?void 0:ve.Ionic)||void 0===ge?void 0:ge.config;return!ze||(ze.get?ze.get("sanitizerEnabled",!0):!0===ze.sanitizerEnabled||void 0===ze.sanitizerEnabled)},Be=["class","id","href","src","name","slot"],xe=["script","style","iframe","meta","link","object","embed"];class me{constructor(ve){this.value=ve}}const Ue=ge=>{const ve=window,ze=ve.Ionic;if(!ze||!ze.config||"Object"===ze.config.constructor.name)return ve.Ionic=ve.Ionic||{},ve.Ionic.config=Object.assign(Object.assign({},ve.Ionic.config),ge),ve.Ionic.config},_e=!1},5375:(yn,gt,H)=>{"use strict";H.d(gt,{C:()=>Be,a:()=>ee,d:()=>he});var _=H(5861),y=H(9397);const ee=function(){var xe=(0,_.Z)(function*(me,Ue,Ne,_e,ge,ve){var ze;if(me)return me.attachViewToDom(Ue,Ne,ge,_e);if(!(ve||"string"==typeof Ne||Ne instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof Ne?null===(ze=Ue.ownerDocument)||void 0===ze?void 0:ze.createElement(Ne):Ne;return _e&&_e.forEach(rt=>He.classList.add(rt)),ge&&Object.assign(He,ge),Ue.appendChild(He),yield new Promise(rt=>(0,y.c)(He,rt)),He});return function(Ue,Ne,_e,ge,ve,ze){return xe.apply(this,arguments)}}(),he=(xe,me)=>{if(me){if(xe)return xe.removeViewFromDom(me.parentElement,me);me.remove()}return Promise.resolve()},Be=()=>{let xe,me;return{attachViewToDom:function(){var _e=(0,_.Z)(function*(ge,ve,ze={},He=[]){var rt,bt;if(xe=ge,ve){const Se="string"==typeof ve?null===(rt=xe.ownerDocument)||void 0===rt?void 0:rt.createElement(ve):ve;He.forEach(de=>Se.classList.add(de)),Object.assign(Se,ze),xe.appendChild(Se),yield new Promise(de=>(0,y.c)(Se,de))}else if(xe.children.length>0&&("ION-MODAL"===xe.tagName||"ION-POPOVER"===xe.tagName)&&!xe.children[0].classList.contains("ion-delegate-host")){const de=null===(bt=xe.ownerDocument)||void 0===bt?void 0:bt.createElement("div");de.classList.add("ion-delegate-host"),He.forEach(pt=>de.classList.add(pt)),de.append(...xe.children),xe.appendChild(de)}const Re=document.querySelector("ion-app")||document.body;return me=document.createComment("ionic teleport"),xe.parentNode.insertBefore(me,xe),Re.appendChild(xe),xe});return function(ve,ze){return _e.apply(this,arguments)}}(),removeViewFromDom:()=>(xe&&me&&(me.parentNode.insertBefore(xe,me),me.remove()),Promise.resolve())}}},4349:(yn,gt,H)=>{"use strict";H.d(gt,{G:()=>Be});class y{constructor(me,Ue,Ne,_e,ge){this.id=Ue,this.name=Ne,this.disableScroll=ge,this.priority=1e6*_e+Ue,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ee{constructor(me,Ue,Ne,_e){this.id=Ue,this.disable=Ne,this.disableScroll=_e,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const he="backdrop-no-scroll",Be=new class _{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){var Ue;return new y(this,this.newID(),me.name,null!==(Ue=me.priority)&&void 0!==Ue?Ue:0,!!me.disableScroll)}createBlocker(me={}){return new ee(this,this.newID(),me.disable,!!me.disableScroll)}start(me,Ue,Ne){return this.canStart(me)?(this.requestedStart.set(Ue,Ne),!0):(this.requestedStart.delete(Ue),!1)}capture(me,Ue,Ne){if(!this.start(me,Ue,Ne))return!1;const _e=this.requestedStart;let ge=-1e4;if(_e.forEach(ve=>{ge=Math.max(ge,ve)}),ge===Ne){this.capturedId=Ue,_e.clear();const ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(ve),!0}return _e.delete(Ue),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,Ue){let Ne=this.disabledGestures.get(me);void 0===Ne&&(Ne=new Set,this.disabledGestures.set(me,Ne)),Ne.add(Ue)}enableGesture(me,Ue){const Ne=this.disabledGestures.get(me);void 0!==Ne&&Ne.delete(Ue)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(he)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(he)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const Ue=this.disabledGestures.get(me);return!!(Ue&&Ue.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(yn,gt,H)=>{"use strict";H.r(gt),H.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>Be,OVERLAY_BACK_BUTTON_PRIORITY:()=>he,blockHardwareBackButton:()=>y,startHardwareBackButton:()=>ee});var _=H(5861);const y=()=>{document.addEventListener("backbutton",()=>{})},ee=()=>{const xe=document;let me=!1;xe.addEventListener("backbutton",()=>{if(me)return;let Ue=0,Ne=[];const _e=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ze,He){Ne.push({priority:ze,handler:He,id:Ue++})}}});xe.dispatchEvent(_e);const ge=function(){var ze=(0,_.Z)(function*(He){try{if(null!=He&&He.handler){const rt=He.handler(ve);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return ze.apply(this,arguments)}}(),ve=()=>{if(Ne.length>0){let ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(He=>{He.priority>=ze.priority&&(ze=He)}),me=!0,Ne=Ne.filter(He=>He.id!==ze.id),ge(ze).then(()=>me=!1)}};ve()})},he=100,Be=99},9397:(yn,gt,H)=>{"use strict";H.d(gt,{a:()=>Ue,b:()=>Ne,c:()=>ee,d:()=>bt,e:()=>rt,f:()=>He,g:()=>_e,h:()=>et,i:()=>me,j:()=>Be,k:()=>ze,l:()=>Re,m:()=>he,n:()=>ve,o:()=>Se,p:()=>pt,q:()=>Y,r:()=>ge,s:()=>At,t:()=>_,u:()=>Ze,v:()=>de});const _=($e,Oe=0)=>new Promise(Pe=>{y($e,Oe,Pe)}),y=($e,Oe=0,Pe)=>{let we,Ve;const ht={passive:!0},ct=()=>{we&&we()},wt=ft=>{(void 0===ft||$e===ft.target)&&(ct(),Pe(ft))};return $e&&($e.addEventListener("webkitTransitionEnd",wt,ht),$e.addEventListener("transitionend",wt,ht),Ve=setTimeout(wt,Oe+500),we=()=>{Ve&&(clearTimeout(Ve),Ve=void 0),$e.removeEventListener("webkitTransitionEnd",wt,ht),$e.removeEventListener("transitionend",wt,ht)}),ct},ee=($e,Oe)=>{$e.componentOnReady?$e.componentOnReady().then(Pe=>Oe(Pe)):ge(()=>Oe($e))},he=$e=>void 0!==$e.componentOnReady,Be=($e,Oe=[])=>{const Pe={};return Oe.forEach(we=>{$e.hasAttribute(we)&&(null!==$e.getAttribute(we)&&(Pe[we]=$e.getAttribute(we)),$e.removeAttribute(we))}),Pe},xe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],me=($e,Oe)=>{let Pe=xe;return Oe&&Oe.length>0&&(Pe=Pe.filter(we=>!Oe.includes(we))),Be($e,Pe)},Ue=($e,Oe,Pe,we)=>{var Ve;if(typeof window<"u"){const ht=window,_t=null===(Ve=null==ht?void 0:ht.Ionic)||void 0===Ve?void 0:Ve.config;if(_t){const ct=_t.get("_ael");if(ct)return ct($e,Oe,Pe,we);if(_t._ael)return _t._ael($e,Oe,Pe,we)}}return $e.addEventListener(Oe,Pe,we)},Ne=($e,Oe,Pe,we)=>{var Ve;if(typeof window<"u"){const ht=window,_t=null===(Ve=null==ht?void 0:ht.Ionic)||void 0===Ve?void 0:Ve.config;if(_t){const ct=_t.get("_rel");if(ct)return ct($e,Oe,Pe,we);if(_t._rel)return _t._rel($e,Oe,Pe,we)}}return $e.removeEventListener(Oe,Pe,we)},_e=($e,Oe=$e)=>$e.shadowRoot||Oe,ge=$e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame($e):"function"==typeof requestAnimationFrame?requestAnimationFrame($e):setTimeout($e),ve=$e=>!!$e.shadowRoot&&!!$e.attachShadow,ze=$e=>{const Oe=$e.closest("ion-item");return Oe?Oe.querySelector("ion-label"):null},He=$e=>{if($e.focus(),$e.classList.contains("ion-focusable")){const Oe=$e.closest("ion-app");Oe&&Oe.setFocus([$e])}},rt=($e,Oe)=>{let Pe;const we=$e.getAttribute("aria-labelledby"),Ve=$e.id;let ht=null!==we&&""!==we.trim()?we:Oe+"-lbl",_t=null!==we&&""!==we.trim()?document.getElementById(we):ze($e);return _t?(null===we&&(_t.id=ht),Pe=_t.textContent,_t.setAttribute("aria-hidden","true")):""!==Ve.trim()&&(_t=document.querySelector(`label[for="${Ve}"]`),_t&&(""!==_t.id?ht=_t.id:_t.id=ht=`${Ve}-lbl`,Pe=_t.textContent)),{label:_t,labelId:ht,labelText:Pe}},bt=($e,Oe,Pe,we,Ve)=>{if($e||ve(Oe)){let ht=Oe.querySelector("input.aux-input");ht||(ht=Oe.ownerDocument.createElement("input"),ht.type="hidden",ht.classList.add("aux-input"),Oe.appendChild(ht)),ht.disabled=Ve,ht.name=Pe,ht.value=we||""}},Re=($e,Oe,Pe)=>Math.max($e,Math.min(Oe,Pe)),Se=($e,Oe)=>{if(!$e){const Pe="ASSERT: "+Oe;throw console.error(Pe),new Error(Pe)}},de=$e=>$e.timeStamp||Date.now(),pt=$e=>{if($e){const Oe=$e.changedTouches;if(Oe&&Oe.length>0){const Pe=Oe[0];return{x:Pe.clientX,y:Pe.clientY}}if(void 0!==$e.pageX)return{x:$e.pageX,y:$e.pageY}}return{x:0,y:0}},Y=$e=>{const Oe="rtl"===document.dir;switch($e){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${$e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},et=($e,Oe)=>{const Pe=$e._original||$e;return{_original:$e,emit:Ze(Pe.emit.bind(Pe),Oe)}},Ze=($e,Oe=0)=>{let Pe;return(...we)=>{clearTimeout(Pe),Pe=setTimeout($e,Oe,...we)}},At=($e,Oe)=>{if(null!=$e||($e={}),null!=Oe||(Oe={}),$e===Oe)return!0;const Pe=Object.keys($e);if(Pe.length!==Object.keys(Oe).length)return!1;for(const we of Pe)if(!(we in Oe)||$e[we]!==Oe[we])return!1;return!0}},3457:(yn,gt,H)=>{"use strict";H.d(gt,{w:()=>_});const _=typeof window<"u"?window:void 0},1557:(yn,gt,H)=>{"use strict";H.d(gt,{m:()=>ge});var _=H(5861),y=H(7593),ee=H(9397),he=H(6406),Be=H(2200);const xe=ve=>(0,Be.c)().duration(ve?400:300),me=ve=>{let ze,He;const rt=ve.width+8,bt=(0,Be.c)(),Re=(0,Be.c)();ve.isEndSide?(ze=rt+"px",He="0px"):(ze=-rt+"px",He="0px"),bt.addElement(ve.menuInnerEl).fromTo("transform",`translateX(${ze})`,`translateX(${He})`);const de="ios"===(0,he.b)(ve),pt=de?.2:.25;return Re.addElement(ve.backdropEl).fromTo("opacity",.01,pt),xe(de).addAnimation([bt,Re])},Ue=ve=>{let ze,He;const rt=(0,he.b)(ve),bt=ve.width;ve.isEndSide?(ze=-bt+"px",He=bt+"px"):(ze=bt+"px",He=-bt+"px");const Re=(0,Be.c)().addElement(ve.menuInnerEl).fromTo("transform",`translateX(${He})`,"translateX(0px)"),Se=(0,Be.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`),de=(0,Be.c)().addElement(ve.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===rt).addAnimation([Re,Se,de])},Ne=ve=>{const ze=(0,he.b)(ve),He=ve.width*(ve.isEndSide?-1:1)+"px",rt=(0,Be.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`);return xe("ios"===ze).addAnimation(rt)},ge=(()=>{const ve=new Map,ze=[],He=function(){var Le=(0,_.Z)(function*(Fe){const lt=yield Y(Fe);return!!lt&&lt.open()});return function(lt){return Le.apply(this,arguments)}}(),rt=function(){var Le=(0,_.Z)(function*(Fe){const lt=yield void 0!==Fe?Y(Fe):et();return void 0!==lt&&lt.close()});return function(lt){return Le.apply(this,arguments)}}(),bt=function(){var Le=(0,_.Z)(function*(Fe){const lt=yield Y(Fe);return!!lt&&lt.toggle()});return function(lt){return Le.apply(this,arguments)}}(),Re=function(){var Le=(0,_.Z)(function*(Fe,lt){const vt=yield Y(lt);return vt&&(vt.disabled=!Fe),vt});return function(lt,vt){return Le.apply(this,arguments)}}(),Se=function(){var Le=(0,_.Z)(function*(Fe,lt){const vt=yield Y(lt);return vt&&(vt.swipeGesture=Fe),vt});return function(lt,vt){return Le.apply(this,arguments)}}(),de=function(){var Le=(0,_.Z)(function*(Fe){if(null!=Fe){const lt=yield Y(Fe);return void 0!==lt&&lt.isOpen()}return void 0!==(yield et())});return function(lt){return Le.apply(this,arguments)}}(),pt=function(){var Le=(0,_.Z)(function*(Fe){const lt=yield Y(Fe);return!!lt&&!lt.disabled});return function(lt){return Le.apply(this,arguments)}}(),Y=function(){var Le=(0,_.Z)(function*(Fe){return yield ke(),"start"===Fe||"end"===Fe?ft(Zt=>Zt.side===Fe&&!Zt.disabled)||ft(Zt=>Zt.side===Fe):null!=Fe?ft(vt=>vt.menuId===Fe):ft(vt=>!vt.disabled)||(ze.length>0?ze[0].el:void 0)});return function(lt){return Le.apply(this,arguments)}}(),et=function(){var Le=(0,_.Z)(function*(){return yield ke(),_t()});return function(){return Le.apply(this,arguments)}}(),Ze=function(){var Le=(0,_.Z)(function*(){return yield ke(),ct()});return function(){return Le.apply(this,arguments)}}(),At=function(){var Le=(0,_.Z)(function*(){return yield ke(),wt()});return function(){return Le.apply(this,arguments)}}(),$e=(Le,Fe)=>{ve.set(Le,Fe)},we=Le=>{const Fe=Le.side;ze.filter(lt=>lt.side===Fe&&lt!==Le).forEach(lt=>lt.disabled=!0)},Ve=function(){var Le=(0,_.Z)(function*(Fe,lt,vt){if(wt())return!1;if(lt){const Zt=yield et();Zt&&Fe.el!==Zt&&(yield Zt.setOpen(!1,!1))}return Fe._setOpen(lt,vt)});return function(lt,vt,Zt){return Le.apply(this,arguments)}}(),_t=()=>ft(Le=>Le._isOpen),ct=()=>ze.map(Le=>Le.el),wt=()=>ze.some(Le=>Le.isAnimating),ft=Le=>{const Fe=ze.find(Le);if(void 0!==Fe)return Fe.el},ke=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Le=>new Promise(Fe=>(0,ee.c)(Le,Fe))));return $e("reveal",Ne),$e("push",Ue),$e("overlay",me),typeof document<"u"&&document.addEventListener("ionBackButton",Le=>{const Fe=_t();Fe&&Le.detail.register(y.MENU_BACK_BUTTON_PRIORITY,()=>Fe.close())}),{registerAnimation:$e,get:Y,getMenus:Ze,getOpen:et,isEnabled:pt,swipeGesture:Se,isAnimating:At,isOpen:de,enable:Re,toggle:bt,close:rt,open:He,_getOpenSync:_t,_createAnimation:(Le,Fe)=>{const lt=ve.get(Le);if(!lt)throw new Error("animation not registered");return lt(Fe)},_register:Le=>{ze.indexOf(Le)<0&&(Le.disabled||we(Le),ze.push(Le))},_unregister:Le=>{const Fe=ze.indexOf(Le);Fe>-1&&ze.splice(Fe,1)},_setOpen:Ve,_setActiveMenu:we}})()},1898:(yn,gt,H)=>{"use strict";H.r(gt),H.d(gt,{GESTURE_CONTROLLER:()=>_.G,createGesture:()=>Ne});var _=H(4349);const y=(ze,He,rt,bt)=>{const Re=ee(ze)?{capture:!!bt.capture,passive:!!bt.passive}:!!bt.capture;let Se,de;return ze.__zone_symbol__addEventListener?(Se="__zone_symbol__addEventListener",de="__zone_symbol__removeEventListener"):(Se="addEventListener",de="removeEventListener"),ze[Se](He,rt,Re),()=>{ze[de](He,rt,Re)}},ee=ze=>{if(void 0===he)try{const He=Object.defineProperty({},"passive",{get:()=>{he=!0}});ze.addEventListener("optsTest",()=>{},He)}catch{he=!1}return!!he};let he;const me=ze=>ze instanceof Document?ze:ze.ownerDocument,Ne=ze=>{let He=!1,rt=!1,bt=!0,Re=!1;const Se=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),de=Se.canStart,pt=Se.onWillStart,Y=Se.onStart,et=Se.onEnd,Ze=Se.notCaptured,At=Se.onMove,$e=Se.threshold,Oe=Se.passive,Pe=Se.blurOnStart,we={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ve=((ze,He,rt)=>{const bt=rt*(Math.PI/180),Re="x"===ze,Se=Math.cos(bt),de=He*He;let pt=0,Y=0,et=!1,Ze=0;return{start(At,$e){pt=At,Y=$e,Ze=0,et=!0},detect(At,$e){if(!et)return!1;const Oe=At-pt,Pe=$e-Y,we=Oe*Oe+Pe*Pe;if(we<de)return!1;const Ve=Math.sqrt(we),ht=(Re?Oe:Pe)/Ve;return Ze=ht>Se?1:ht<-Se?-1:0,et=!1,!0},isGesture:()=>0!==Ze,getDirection:()=>Ze}})(Se.direction,Se.threshold,Se.maxAngle),ht=_.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),wt=()=>{He&&(Re=!1,At&&At(we))},ft=()=>!!ht.capture()&&(He=!0,bt=!1,we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime,pt?pt(we).then(Le):Le(),!0),Le=()=>{Pe&&(()=>{if(typeof document<"u"){const $t=document.activeElement;null!=$t&&$t.blur&&$t.blur()}})(),Y&&Y(we),bt=!0},Fe=()=>{He=!1,rt=!1,Re=!1,bt=!0,ht.release()},lt=$t=>{const vn=He,Dt=bt;if(Fe(),Dt){if(_e(we,$t),vn)return void(et&&et(we));Ze&&Ze(we)}},vt=((ze,He,rt,bt,Re)=>{let Se,de,pt,Y,et,Ze,At,$e=0;const Oe=ke=>{$e=Date.now()+2e3,He(ke)&&(!de&&rt&&(de=y(ze,"touchmove",rt,Re)),pt||(pt=y(ke.target,"touchend",we,Re)),Y||(Y=y(ke.target,"touchcancel",we,Re)))},Pe=ke=>{$e>Date.now()||He(ke)&&(!Ze&&rt&&(Ze=y(me(ze),"mousemove",rt,Re)),At||(At=y(me(ze),"mouseup",Ve,Re)))},we=ke=>{ht(),bt&&bt(ke)},Ve=ke=>{_t(),bt&&bt(ke)},ht=()=>{de&&de(),pt&&pt(),Y&&Y(),de=pt=Y=void 0},_t=()=>{Ze&&Ze(),At&&At(),Ze=At=void 0},ct=()=>{ht(),_t()},wt=(ke=!0)=>{ke?(Se||(Se=y(ze,"touchstart",Oe,Re)),et||(et=y(ze,"mousedown",Pe,Re))):(Se&&Se(),et&&et(),Se=et=void 0,ct())};return{enable:wt,stop:ct,destroy:()=>{wt(!1),bt=rt=He=void 0}}})(Se.el,$t=>{const vn=ve($t);return!(rt||!bt||(ge($t,we),we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime=vn,we.velocityX=we.velocityY=we.deltaX=we.deltaY=0,we.event=$t,de&&!1===de(we))||(ht.release(),!ht.start()))&&(rt=!0,0===$e?ft():(Ve.start(we.startX,we.startY),!0))},$t=>{He?!Re&&bt&&(Re=!0,_e(we,$t),requestAnimationFrame(wt)):(_e(we,$t),Ve.detect(we.currentX,we.currentY)&&(!Ve.isGesture()||!ft())&&Zt())},lt,{capture:!1,passive:Oe}),Zt=()=>{Fe(),vt.stop(),Ze&&Ze(we)};return{enable($t=!0){$t||(He&&lt(void 0),Fe()),vt.enable($t)},destroy(){ht.destroy(),vt.destroy()}}},_e=(ze,He)=>{if(!He)return;const rt=ze.currentX,bt=ze.currentY,Re=ze.currentTime;ge(He,ze);const Se=ze.currentX,de=ze.currentY,Y=(ze.currentTime=ve(He))-Re;if(Y>0&&Y<100){const Ze=(de-bt)/Y;ze.velocityX=(Se-rt)/Y*.7+.3*ze.velocityX,ze.velocityY=.7*Ze+.3*ze.velocityY}ze.deltaX=Se-ze.startX,ze.deltaY=de-ze.startY,ze.event=He},ge=(ze,He)=>{let rt=0,bt=0;if(ze){const Re=ze.changedTouches;if(Re&&Re.length>0){const Se=Re[0];rt=Se.clientX,bt=Se.clientY}else void 0!==ze.pageX&&(rt=ze.pageX,bt=ze.pageY)}He.currentX=rt,He.currentY=bt},ve=ze=>ze.timeStamp||Date.now()},9459:(yn,gt,H)=>{"use strict";H.d(gt,{L:()=>he,a:()=>Be,b:()=>xe,c:()=>me,d:()=>Ue,e:()=>At,g:()=>Pe,l:()=>Ze,s:()=>$e,t:()=>ge});var _=H(5861),y=H(9816),ee=H(9397);const he="ionViewWillEnter",Be="ionViewDidEnter",xe="ionViewWillLeave",me="ionViewDidLeave",Ue="ionViewWillUnload",ge=we=>new Promise((Ve,ht)=>{(0,y.w)(()=>{ve(we),ze(we).then(_t=>{_t.animation&&_t.animation.destroy(),He(we),Ve(_t)},_t=>{He(we),ht(_t)})})}),ve=we=>{const Ve=we.enteringEl,ht=we.leavingEl;Oe(Ve,ht,we.direction),we.showGoBack?Ve.classList.add("can-go-back"):Ve.classList.remove("can-go-back"),$e(Ve,!1),Ve.style.setProperty("pointer-events","none"),ht&&($e(ht,!1),ht.style.setProperty("pointer-events","none"))},ze=function(){var we=(0,_.Z)(function*(Ve){const ht=yield rt(Ve);return ht&&y.B.isBrowser?bt(ht,Ve):Re(Ve)});return function(ht){return we.apply(this,arguments)}}(),He=we=>{const Ve=we.enteringEl,ht=we.leavingEl;Ve.classList.remove("ion-page-invisible"),Ve.style.removeProperty("pointer-events"),void 0!==ht&&(ht.classList.remove("ion-page-invisible"),ht.style.removeProperty("pointer-events"))},rt=function(){var we=(0,_.Z)(function*(Ve){return Ve.leavingEl&&Ve.animated&&0!==Ve.duration?Ve.animationBuilder?Ve.animationBuilder:"ios"===Ve.mode?(yield Promise.resolve().then(H.bind(H,500))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,9892))).mdTransitionAnimation:void 0});return function(ht){return we.apply(this,arguments)}}(),bt=function(){var we=(0,_.Z)(function*(Ve,ht){yield Se(ht,!0);const _t=Ve(ht.baseEl,ht);Y(ht.enteringEl,ht.leavingEl);const ct=yield pt(_t,ht);return ht.progressCallback&&ht.progressCallback(void 0),ct&&et(ht.enteringEl,ht.leavingEl),{hasCompleted:ct,animation:_t}});return function(ht,_t){return we.apply(this,arguments)}}(),Re=function(){var we=(0,_.Z)(function*(Ve){const ht=Ve.enteringEl,_t=Ve.leavingEl;return yield Se(Ve,!1),Y(ht,_t),et(ht,_t),{hasCompleted:!0}});return function(ht){return we.apply(this,arguments)}}(),Se=function(){var we=(0,_.Z)(function*(Ve,ht){(void 0!==Ve.deepWait?Ve.deepWait:ht)&&(yield Promise.all([At(Ve.enteringEl),At(Ve.leavingEl)])),yield de(Ve.viewIsReady,Ve.enteringEl)});return function(ht,_t){return we.apply(this,arguments)}}(),de=function(){var we=(0,_.Z)(function*(Ve,ht){Ve&&(yield Ve(ht))});return function(ht,_t){return we.apply(this,arguments)}}(),pt=(we,Ve)=>{const ht=Ve.progressCallback,_t=new Promise(ct=>{we.onFinish(wt=>ct(1===wt))});return ht?(we.progressStart(!0),ht(we)):we.play(),_t},Y=(we,Ve)=>{Ze(Ve,xe),Ze(we,he)},et=(we,Ve)=>{Ze(we,Be),Ze(Ve,me)},Ze=(we,Ve)=>{if(we){const ht=new CustomEvent(Ve,{bubbles:!1,cancelable:!1});we.dispatchEvent(ht)}},At=function(){var we=(0,_.Z)(function*(Ve){const ht=Ve;if(ht){if(null!=ht.componentOnReady){if(null!=(yield ht.componentOnReady()))return}else if(null!=ht.__registerHost)return void(yield new Promise(ct=>(0,ee.r)(ct)));yield Promise.all(Array.from(ht.children).map(At))}});return function(ht){return we.apply(this,arguments)}}(),$e=(we,Ve)=>{Ve?(we.setAttribute("aria-hidden","true"),we.classList.add("ion-page-hidden")):(we.hidden=!1,we.removeAttribute("aria-hidden"),we.classList.remove("ion-page-hidden"))},Oe=(we,Ve,ht)=>{void 0!==we&&(we.style.zIndex="back"===ht?"99":"101"),void 0!==Ve&&(Ve.style.zIndex="100")},Pe=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},9816:(yn,gt,H)=>{"use strict";H.d(gt,{B:()=>ge,H:()=>ct,a:()=>Pi,b:()=>ye,c:()=>$t,d:()=>Tt,e:()=>ii,f:()=>Te,g:()=>vn,h:()=>ht,i:()=>Ht,j:()=>ve,p:()=>Ji,r:()=>Ut,w:()=>Oi});var _=H(5861);let ee,he,Be,xe=!1,me=!1,Ue=!1,Ne=!1,_e=!1;const ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ve=re=>{const Ee=new URL(re,ar.$resourcesUrl$);return Ee.origin!==tr.location.origin?Ee.href:Ee.pathname},de="s-id",pt="sty-id",Y="c-id",Ze="http://www.w3.org/1999/xlink",At={},we=re=>"object"==(re=typeof re)||"function"===re;function Ve(re){var Ee,it,ae;return null!==(ae=null===(it=null===(Ee=re.head)||void 0===Ee?void 0:Ee.querySelector('meta[name="csp-nonce"]'))||void 0===it?void 0:it.getAttribute("content"))&&void 0!==ae?ae:void 0}const ht=(re,Ee,...it)=>{let ae=null,qe=null,Ke=null,Nt=!1,kt=!1;const Bt=[],Jt=zn=>{for(let Gn=0;Gn<zn.length;Gn++)ae=zn[Gn],Array.isArray(ae)?Jt(ae):null!=ae&&"boolean"!=typeof ae&&((Nt="function"!=typeof re&&!we(ae))&&(ae=String(ae)),Nt&&kt?Bt[Bt.length-1].$text$+=ae:Bt.push(Nt?_t(null,ae):ae),kt=Nt)};if(Jt(it),Ee){Ee.key&&(qe=Ee.key),Ee.name&&(Ke=Ee.name);{const zn=Ee.className||Ee.class;zn&&(Ee.class="object"!=typeof zn?zn:Object.keys(zn).filter(Gn=>zn[Gn]).join(" "))}}if("function"==typeof re)return re(null===Ee?{}:Ee,Bt,ft);const mn=_t(re,null);return mn.$attrs$=Ee,Bt.length>0&&(mn.$children$=Bt),mn.$key$=qe,mn.$name$=Ke,mn},_t=(re,Ee)=>({$flags$:0,$tag$:re,$text$:Ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ct={},ft={forEach:(re,Ee)=>re.map(ke).forEach(Ee),map:(re,Ee)=>re.map(ke).map(Ee).map(Le)},ke=re=>({vattrs:re.$attrs$,vchildren:re.$children$,vkey:re.$key$,vname:re.$name$,vtag:re.$tag$,vtext:re.$text$}),Le=re=>{if("function"==typeof re.vtag){const it=Object.assign({},re.vattrs);return re.vkey&&(it.key=re.vkey),re.vname&&(it.name=re.vname),ht(re.vtag,it,...re.vchildren||[])}const Ee=_t(re.vtag,re.vtext);return Ee.$attrs$=re.vattrs,Ee.$children$=re.vchildren,Ee.$key$=re.vkey,Ee.$name$=re.vname,Ee},lt=(re,Ee,it,ae,qe,Ke,Nt)=>{let kt,Bt,Jt,mn;if(1===Ke.nodeType){for(kt=Ke.getAttribute(Y),kt&&(Bt=kt.split("."),(Bt[0]===Nt||"0"===Bt[0])&&(Jt={$flags$:0,$hostId$:Bt[0],$nodeId$:Bt[1],$depth$:Bt[2],$index$:Bt[3],$tag$:Ke.tagName.toLowerCase(),$elm$:Ke,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ee.push(Jt),Ke.removeAttribute(Y),re.$children$||(re.$children$=[]),re.$children$[Jt.$index$]=Jt,re=Jt,ae&&"0"===Jt.$depth$&&(ae[Jt.$index$]=Jt.$elm$))),mn=Ke.childNodes.length-1;mn>=0;mn--)lt(re,Ee,it,ae,qe,Ke.childNodes[mn],Nt);if(Ke.shadowRoot)for(mn=Ke.shadowRoot.childNodes.length-1;mn>=0;mn--)lt(re,Ee,it,ae,qe,Ke.shadowRoot.childNodes[mn],Nt)}else if(8===Ke.nodeType)Bt=Ke.nodeValue.split("."),(Bt[1]===Nt||"0"===Bt[1])&&(kt=Bt[0],Jt={$flags$:0,$hostId$:Bt[1],$nodeId$:Bt[2],$depth$:Bt[3],$index$:Bt[4],$elm$:Ke,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===kt?(Jt.$elm$=Ke.nextSibling,Jt.$elm$&&3===Jt.$elm$.nodeType&&(Jt.$text$=Jt.$elm$.textContent,Ee.push(Jt),Ke.remove(),re.$children$||(re.$children$=[]),re.$children$[Jt.$index$]=Jt,ae&&"0"===Jt.$depth$&&(ae[Jt.$index$]=Jt.$elm$))):Jt.$hostId$===Nt&&("s"===kt?(Jt.$tag$="slot",Ke["s-sn"]=Bt[5]?Jt.$name$=Bt[5]:"",Ke["s-sr"]=!0,ae&&(Jt.$elm$=Wn.createElement(Jt.$tag$),Jt.$name$&&Jt.$elm$.setAttribute("name",Jt.$name$),Ke.parentNode.insertBefore(Jt.$elm$,Ke),Ke.remove(),"0"===Jt.$depth$&&(ae[Jt.$index$]=Jt.$elm$)),it.push(Jt),re.$children$||(re.$children$=[]),re.$children$[Jt.$index$]=Jt):"r"===kt&&(ae?Ke.remove():(qe["s-cr"]=Ke,Ke["s-cn"]=!0))));else if(re&&"style"===re.$tag$){const zn=_t(null,Ke.textContent);zn.$elm$=Ke,zn.$index$="0",re.$children$=[zn]}},vt=(re,Ee)=>{if(1===re.nodeType){let it=0;for(;it<re.childNodes.length;it++)vt(re.childNodes[it],Ee);if(re.shadowRoot)for(it=0;it<re.shadowRoot.childNodes.length;it++)vt(re.shadowRoot.childNodes[it],Ee)}else if(8===re.nodeType){const it=re.nodeValue.split(".");"o"===it[0]&&(Ee.set(it[1]+"."+it[2],re),re.nodeValue="",re["s-en"]=it[3])}},$t=re=>$n.push(re),vn=re=>Gr(re).$modeName$,Te=re=>Gr(re).$hostElement$,Tt=(re,Ee,it)=>{const ae=Te(re);return{emit:qe=>ln(ae,Ee,{bubbles:!!(4&it),composed:!!(2&it),cancelable:!!(1&it),detail:qe})}},ln=(re,Ee,it)=>{const ae=ar.ce(Ee,it);return re.dispatchEvent(ae),ae},Rn=new WeakMap,Kn=(re,Ee,it)=>{let ae=Cr.get(re);_s&&it?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=Ee:ae.replaceSync(Ee)):ae=Ee,Cr.set(re,ae)},Cn=(re,Ee,it,ae)=>{var qe;let Ke=In(Ee,it);const Nt=Cr.get(Ke);if(re=11===re.nodeType?re:Wn,Nt)if("string"==typeof Nt){let Bt,kt=Rn.get(re=re.head||re);if(kt||Rn.set(re,kt=new Set),!kt.has(Ke)){if(re.host&&(Bt=re.querySelector(`[${pt}="${Ke}"]`)))Bt.innerHTML=Nt;else{Bt=Wn.createElement("style"),Bt.innerHTML=Nt;const Jt=null!==(qe=ar.$nonce$)&&void 0!==qe?qe:Ve(Wn);null!=Jt&&Bt.setAttribute("nonce",Jt),re.insertBefore(Bt,re.querySelector("link"))}kt&&kt.add(Ke)}}else re.adoptedStyleSheets.includes(Nt)||(re.adoptedStyleSheets=[...re.adoptedStyleSheets,Nt]);return Ke},In=(re,Ee)=>"sc-"+(Ee&&32&re.$flags$?re.$tagName$+"-"+Ee:re.$tagName$),lr=re=>re.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Er=(re,Ee,it,ae,qe,Ke)=>{if(it!==ae){let Nt=Qt(re,Ee),kt=Ee.toLowerCase();if("class"===Ee){const Bt=re.classList,Jt=br(it),mn=br(ae);Bt.remove(...Jt.filter(zn=>zn&&!mn.includes(zn))),Bt.add(...mn.filter(zn=>zn&&!Jt.includes(zn)))}else if("style"===Ee){for(const Bt in it)(!ae||null==ae[Bt])&&(Bt.includes("-")?re.style.removeProperty(Bt):re.style[Bt]="");for(const Bt in ae)(!it||ae[Bt]!==it[Bt])&&(Bt.includes("-")?re.style.setProperty(Bt,ae[Bt]):re.style[Bt]=ae[Bt])}else if("key"!==Ee)if("ref"===Ee)ae&&ae(re);else if(Nt||"o"!==Ee[0]||"n"!==Ee[1]){const Bt=we(ae);if((Nt||Bt&&null!==ae)&&!qe)try{if(re.tagName.includes("-"))re[Ee]=ae;else{const mn=null==ae?"":ae;"list"===Ee?Nt=!1:(null==it||re[Ee]!=mn)&&(re[Ee]=mn)}}catch{}let Jt=!1;kt!==(kt=kt.replace(/^xlink\:?/,""))&&(Ee=kt,Jt=!0),null==ae||!1===ae?(!1!==ae||""===re.getAttribute(Ee))&&(Jt?re.removeAttributeNS(Ze,Ee):re.removeAttribute(Ee)):(!Nt||4&Ke||qe)&&!Bt&&(ae=!0===ae?"":ae,Jt?re.setAttributeNS(Ze,Ee,ae):re.setAttribute(Ee,ae))}else Ee="-"===Ee[2]?Ee.slice(3):Qt(tr,kt)?kt.slice(2):kt[2]+Ee.slice(3),it&&ar.rel(re,Ee,it,!1),ae&&ar.ael(re,Ee,ae,!1)}},Xn=/\s/,br=re=>re?re.split(Xn):[],cn=(re,Ee,it,ae)=>{const qe=11===Ee.$elm$.nodeType&&Ee.$elm$.host?Ee.$elm$.host:Ee.$elm$,Ke=re&&re.$attrs$||At,Nt=Ee.$attrs$||At;for(ae in Ke)ae in Nt||Er(qe,ae,Ke[ae],void 0,it,Ee.$flags$);for(ae in Nt)Er(qe,ae,Ke[ae],Nt[ae],it,Ee.$flags$)},di=(re,Ee,it,ae)=>{const qe=Ee.$children$[it];let Nt,kt,Bt,Ke=0;if(xe||(Ue=!0,"slot"===qe.$tag$&&(ee&&ae.classList.add(ee+"-s"),qe.$flags$|=qe.$children$?2:1)),null!==qe.$text$)Nt=qe.$elm$=Wn.createTextNode(qe.$text$);else if(1&qe.$flags$)Nt=qe.$elm$=Wn.createTextNode("");else{if(Ne||(Ne="svg"===qe.$tag$),Nt=qe.$elm$=Wn.createElementNS(Ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&qe.$flags$?"slot-fb":qe.$tag$),Ne&&"foreignObject"===qe.$tag$&&(Ne=!1),cn(null,qe,Ne),(re=>null!=re)(ee)&&Nt["s-si"]!==ee&&Nt.classList.add(Nt["s-si"]=ee),qe.$children$)for(Ke=0;Ke<qe.$children$.length;++Ke)kt=di(re,qe,Ke,Nt),kt&&Nt.appendChild(kt);"svg"===qe.$tag$?Ne=!1:"foreignObject"===Nt.tagName&&(Ne=!0)}return Nt["s-hn"]=Be,3&qe.$flags$&&(Nt["s-sr"]=!0,Nt["s-cr"]=he,Nt["s-sn"]=qe.$name$||"",Bt=re&&re.$children$&&re.$children$[it],Bt&&Bt.$tag$===qe.$tag$&&re.$elm$&&Zr(re.$elm$,!1)),Nt},Zr=(re,Ee)=>{ar.$flags$|=1;const it=re.childNodes;for(let ae=it.length-1;ae>=0;ae--){const qe=it[ae];qe["s-hn"]!==Be&&qe["s-ol"]&&(fn(qe).insertBefore(qe,tn(qe)),qe["s-ol"].remove(),qe["s-ol"]=void 0,Ue=!0),Ee&&Zr(qe,Ee)}ar.$flags$&=-2},Br=(re,Ee,it,ae,qe,Ke)=>{let kt,Nt=re["s-cr"]&&re["s-cr"].parentNode||re;for(Nt.shadowRoot&&Nt.tagName===Be&&(Nt=Nt.shadowRoot);qe<=Ke;++qe)ae[qe]&&(kt=di(null,it,qe,re),kt&&(ae[qe].$elm$=kt,Nt.insertBefore(kt,tn(Ee))))},Di=(re,Ee,it,ae,qe)=>{for(;Ee<=it;++Ee)(ae=re[Ee])&&(qe=ae.$elm$,gi(ae),me=!0,qe["s-ol"]?qe["s-ol"].remove():Zr(qe,!0),qe.remove())},Tn=(re,Ee)=>re.$tag$===Ee.$tag$&&("slot"===re.$tag$?re.$name$===Ee.$name$:re.$key$===Ee.$key$),tn=re=>re&&re["s-ol"]||re,fn=re=>(re["s-ol"]?re["s-ol"]:re).parentNode,on=(re,Ee)=>{const it=Ee.$elm$=re.$elm$,ae=re.$children$,qe=Ee.$children$,Ke=Ee.$tag$,Nt=Ee.$text$;let kt;null===Nt?(Ne="svg"===Ke||"foreignObject"!==Ke&&Ne,"slot"===Ke||cn(re,Ee,Ne),null!==ae&&null!==qe?((re,Ee,it,ae)=>{let Jn,es,qe=0,Ke=0,Nt=0,kt=0,Bt=Ee.length-1,Jt=Ee[0],mn=Ee[Bt],zn=ae.length-1,Gn=ae[0],mi=ae[zn];for(;qe<=Bt&&Ke<=zn;)if(null==Jt)Jt=Ee[++qe];else if(null==mn)mn=Ee[--Bt];else if(null==Gn)Gn=ae[++Ke];else if(null==mi)mi=ae[--zn];else if(Tn(Jt,Gn))on(Jt,Gn),Jt=Ee[++qe],Gn=ae[++Ke];else if(Tn(mn,mi))on(mn,mi),mn=Ee[--Bt],mi=ae[--zn];else if(Tn(Jt,mi))("slot"===Jt.$tag$||"slot"===mi.$tag$)&&Zr(Jt.$elm$.parentNode,!1),on(Jt,mi),re.insertBefore(Jt.$elm$,mn.$elm$.nextSibling),Jt=Ee[++qe],mi=ae[--zn];else if(Tn(mn,Gn))("slot"===Jt.$tag$||"slot"===mi.$tag$)&&Zr(mn.$elm$.parentNode,!1),on(mn,Gn),re.insertBefore(mn.$elm$,Jt.$elm$),mn=Ee[--Bt],Gn=ae[++Ke];else{for(Nt=-1,kt=qe;kt<=Bt;++kt)if(Ee[kt]&&null!==Ee[kt].$key$&&Ee[kt].$key$===Gn.$key$){Nt=kt;break}Nt>=0?(es=Ee[Nt],es.$tag$!==Gn.$tag$?Jn=di(Ee&&Ee[Ke],it,Nt,re):(on(es,Gn),Ee[Nt]=void 0,Jn=es.$elm$),Gn=ae[++Ke]):(Jn=di(Ee&&Ee[Ke],it,Ke,re),Gn=ae[++Ke]),Jn&&fn(Jt.$elm$).insertBefore(Jn,tn(Jt.$elm$))}qe>Bt?Br(re,null==ae[zn+1]?null:ae[zn+1].$elm$,it,ae,Ke,zn):Ke>zn&&Di(Ee,qe,Bt)})(it,ae,Ee,qe):null!==qe?(null!==re.$text$&&(it.textContent=""),Br(it,null,Ee,qe,0,qe.length-1)):null!==ae&&Di(ae,0,ae.length-1),Ne&&"svg"===Ke&&(Ne=!1)):(kt=it["s-cr"])?kt.parentNode.textContent=Nt:re.$text$!==Nt&&(it.data=Nt)},Jr=re=>{const Ee=re.childNodes;let it,ae,qe,Ke,Nt,kt;for(ae=0,qe=Ee.length;ae<qe;ae++)if(it=Ee[ae],1===it.nodeType){if(it["s-sr"])for(Nt=it["s-sn"],it.hidden=!1,Ke=0;Ke<qe;Ke++)if(kt=Ee[Ke].nodeType,Ee[Ke]["s-hn"]!==it["s-hn"]||""!==Nt){if(1===kt&&Nt===Ee[Ke].getAttribute("slot")){it.hidden=!0;break}}else if(1===kt||3===kt&&""!==Ee[Ke].textContent.trim()){it.hidden=!0;break}Jr(it)}},Sr=[],qr=re=>{let Ee,it,ae,qe,Ke,Nt,kt=0;const Bt=re.childNodes,Jt=Bt.length;for(;kt<Jt;kt++){if(Ee=Bt[kt],Ee["s-sr"]&&(it=Ee["s-cr"])&&it.parentNode)for(ae=it.parentNode.childNodes,qe=Ee["s-sn"],Nt=ae.length-1;Nt>=0;Nt--)it=ae[Nt],!it["s-cn"]&&!it["s-nr"]&&it["s-hn"]!==Ee["s-hn"]&&(ni(it,qe)?(Ke=Sr.find(mn=>mn.$nodeToRelocate$===it),me=!0,it["s-sn"]=it["s-sn"]||qe,Ke?Ke.$slotRefNode$=Ee:Sr.push({$slotRefNode$:Ee,$nodeToRelocate$:it}),it["s-sr"]&&Sr.map(mn=>{ni(mn.$nodeToRelocate$,it["s-sn"])&&(Ke=Sr.find(zn=>zn.$nodeToRelocate$===it),Ke&&!mn.$slotRefNode$&&(mn.$slotRefNode$=Ke.$slotRefNode$))})):Sr.some(mn=>mn.$nodeToRelocate$===it)||Sr.push({$nodeToRelocate$:it}));1===Ee.nodeType&&qr(Ee)}},ni=(re,Ee)=>1===re.nodeType?null===re.getAttribute("slot")&&""===Ee||re.getAttribute("slot")===Ee:re["s-sn"]===Ee||""===Ee,gi=re=>{re.$attrs$&&re.$attrs$.ref&&re.$attrs$.ref(null),re.$children$&&re.$children$.map(gi)},xi=(re,Ee)=>{Ee&&!re.$onRenderResolve$&&Ee["s-p"]&&Ee["s-p"].push(new Promise(it=>re.$onRenderResolve$=it))},or=(re,Ee)=>{if(re.$flags$|=16,!(4&re.$flags$))return xi(re,re.$ancestorComponent$),Oi(()=>Yn(re,Ee));re.$flags$|=512},Yn=(re,Ee)=>{const ae=re.$lazyInstance$;let qe;return Ee&&(re.$flags$|=256,re.$queuedListeners$&&(re.$queuedListeners$.map(([Ke,Nt])=>Qe(ae,Ke,Nt)),re.$queuedListeners$=null),qe=Qe(ae,"componentWillLoad")),qe=Xt(qe,()=>Qe(ae,"componentWillRender")),Xt(qe,()=>Ei(re,ae,Ee))},Ei=function(){var re=(0,_.Z)(function*(Ee,it,ae){const qe=Ee.$hostElement$,Nt=qe["s-rc"];ae&&(re=>{const Ee=re.$cmpMeta$,it=re.$hostElement$,ae=Ee.$flags$,Ke=Cn(it.shadowRoot?it.shadowRoot:it.getRootNode(),Ee,re.$modeName$);10&ae&&(it["s-sc"]=Ke,it.classList.add(Ke+"-h"),2&ae&&it.classList.add(Ke+"-s"))})(Ee);Pr(Ee,it),Nt&&(Nt.map(Bt=>Bt()),qe["s-rc"]=void 0);{const Bt=qe["s-p"],Jt=()=>mr(Ee);0===Bt.length?Jt():(Promise.all(Bt).then(Jt),Ee.$flags$|=4,Bt.length=0)}});return function(it,ae,qe){return re.apply(this,arguments)}}(),Pr=(re,Ee,it)=>{try{Ee=Ee.render&&Ee.render(),re.$flags$&=-17,re.$flags$|=2,((re,Ee)=>{const it=re.$hostElement$,ae=re.$cmpMeta$,qe=re.$vnode$||_t(null,null),Ke=(re=>re&&re.$tag$===ct)(Ee)?Ee:ht(null,null,Ee);if(Be=it.tagName,ae.$attrsToReflect$&&(Ke.$attrs$=Ke.$attrs$||{},ae.$attrsToReflect$.map(([Nt,kt])=>Ke.$attrs$[kt]=it[Nt])),Ke.$tag$=null,Ke.$flags$|=4,re.$vnode$=Ke,Ke.$elm$=qe.$elm$=it.shadowRoot||it,ee=it["s-sc"],he=it["s-cr"],xe=0!=(1&ae.$flags$),me=!1,on(qe,Ke),ar.$flags$|=1,Ue){qr(Ke.$elm$);let Nt,kt,Bt,Jt,mn,zn,Gn=0;for(;Gn<Sr.length;Gn++)Nt=Sr[Gn],kt=Nt.$nodeToRelocate$,kt["s-ol"]||(Bt=Wn.createTextNode(""),Bt["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=Bt,kt));for(Gn=0;Gn<Sr.length;Gn++)if(Nt=Sr[Gn],kt=Nt.$nodeToRelocate$,Nt.$slotRefNode$){for(Jt=Nt.$slotRefNode$.parentNode,mn=Nt.$slotRefNode$.nextSibling,Bt=kt["s-ol"];Bt=Bt.previousSibling;)if(zn=Bt["s-nr"],zn&&zn["s-sn"]===kt["s-sn"]&&Jt===zn.parentNode&&(zn=zn.nextSibling,!zn||!zn["s-nr"])){mn=zn;break}(!mn&&Jt!==kt.parentNode||kt.nextSibling!==mn)&&kt!==mn&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Jt.insertBefore(kt,mn))}else 1===kt.nodeType&&(kt.hidden=!0)}me&&Jr(Ke.$elm$),ar.$flags$&=-2,Sr.length=0})(re,Ee)}catch(ae){Nn(ae,re.$hostElement$)}return null},mr=re=>{const it=re.$hostElement$,qe=re.$lazyInstance$,Ke=re.$ancestorComponent$;Qe(qe,"componentDidRender"),64&re.$flags$?Qe(qe,"componentDidUpdate"):(re.$flags$|=64,zt(it),Qe(qe,"componentDidLoad"),re.$onReadyResolve$(it),Ke||Ge()),re.$onInstanceResolve$(it),re.$onRenderResolve$&&(re.$onRenderResolve$(),re.$onRenderResolve$=void 0),512&re.$flags$&&Xi(()=>or(re,!1)),re.$flags$&=-517},Ht=re=>{{const Ee=Gr(re),it=Ee.$hostElement$.isConnected;return it&&2==(18&Ee.$flags$)&&or(Ee,!1),it}},Ge=re=>{zt(Wn.documentElement),Xi(()=>ln(tr,"appload",{detail:{namespace:"ionic"}}))},Qe=(re,Ee,it)=>{if(re&&re[Ee])try{return re[Ee](it)}catch(ae){Nn(ae)}},Xt=(re,Ee)=>re&&re.then?re.then(Ee):Ee(),zt=re=>re.classList.add("hydrated"),We=(re,Ee,it)=>{if(Ee.$members$){re.watchers&&(Ee.$watchers$=re.watchers);const ae=Object.entries(Ee.$members$),qe=re.prototype;if(ae.map(([Ke,[Nt]])=>{31&Nt||2&it&&32&Nt?Object.defineProperty(qe,Ke,{get(){return((re,Ee)=>Gr(this).$instanceValues$.get(Ee))(0,Ke)},set(kt){((re,Ee,it,ae)=>{const qe=Gr(re),Ke=qe.$hostElement$,Nt=qe.$instanceValues$.get(Ee),kt=qe.$flags$,Bt=qe.$lazyInstance$;it=((re,Ee)=>null==re||we(re)?re:4&Ee?"false"!==re&&(""===re||!!re):2&Ee?parseFloat(re):1&Ee?String(re):re)(it,ae.$members$[Ee][0]);const Jt=Number.isNaN(Nt)&&Number.isNaN(it);if((!(8&kt)||void 0===Nt)&&it!==Nt&&!Jt&&(qe.$instanceValues$.set(Ee,it),Bt)){if(ae.$watchers$&&128&kt){const zn=ae.$watchers$[Ee];zn&&zn.map(Gn=>{try{Bt[Gn](it,Nt,Ee)}catch(mi){Nn(mi,Ke)}})}2==(18&kt)&&or(qe,!1)}})(this,Ke,kt,Ee)},configurable:!0,enumerable:!0}):1&it&&64&Nt&&Object.defineProperty(qe,Ke,{value(...kt){const Bt=Gr(this);return Bt.$onInstancePromise$.then(()=>Bt.$lazyInstance$[Ke](...kt))}})}),1&it){const Ke=new Map;qe.attributeChangedCallback=function(Nt,kt,Bt){ar.jmp(()=>{const Jt=Ke.get(Nt);if(this.hasOwnProperty(Jt))Bt=this[Jt],delete this[Jt];else if(qe.hasOwnProperty(Jt)&&"number"==typeof this[Jt]&&this[Jt]==Bt)return;this[Jt]=(null!==Bt||"boolean"!=typeof this[Jt])&&Bt})},re.observedAttributes=ae.filter(([Nt,kt])=>15&kt[0]).map(([Nt,kt])=>{const Bt=kt[1]||Nt;return Ke.set(Bt,Nt),512&kt[0]&&Ee.$attrsToReflect$.push([Nt,Bt]),Bt})}}return re},Ct=function(){var re=(0,_.Z)(function*(Ee,it,ae,qe,Ke){if(!(32&it.$flags$)){{if(it.$flags$|=32,(Ke=yr(ae)).then){const Jt=()=>{};Ke=yield Ke,Jt()}Ke.isProxied||(ae.$watchers$=Ke.watchers,We(Ke,ae,2),Ke.isProxied=!0);const Bt=()=>{};it.$flags$|=8;try{new Ke(it)}catch(Jt){Nn(Jt)}it.$flags$&=-9,it.$flags$|=128,Bt(),ot(it.$lazyInstance$)}if(Ke.style){let Bt=Ke.style;"string"!=typeof Bt&&(Bt=Bt[it.$modeName$=(re=>$n.map(Ee=>Ee(re)).find(Ee=>!!Ee))(Ee)]);const Jt=In(ae,it.$modeName$);if(!Cr.has(Jt)){const mn=()=>{};Kn(Jt,Bt,!!(1&ae.$flags$)),mn()}}}const Nt=it.$ancestorComponent$,kt=()=>or(it,!0);Nt&&Nt["s-rc"]?Nt["s-rc"].push(kt):kt()});return function(it,ae,qe,Ke,Nt){return re.apply(this,arguments)}}(),ot=re=>{Qe(re,"connectedCallback")},Ye=re=>{const Ee=re["s-cr"]=Wn.createComment("");Ee["s-cn"]=!0,re.insertBefore(Ee,re.firstChild)},ye=(re,Ee={})=>{var it;const qe=[],Ke=Ee.exclude||[],Nt=tr.customElements,kt=Wn.head,Bt=kt.querySelector("meta[charset]"),Jt=Wn.createElement("style"),mn=[],zn=Wn.querySelectorAll(`[${pt}]`);let Gn,mi=!0,Jn=0;for(Object.assign(ar,Ee),ar.$resourcesUrl$=new URL(Ee.resourcesUrl||"./",Wn.baseURI).href,ar.$flags$|=2;Jn<zn.length;Jn++)Kn(zn[Jn].getAttribute(pt),lr(zn[Jn].innerHTML),!0);re.map(es=>{es[1].map(ut=>{const tt={$flags$:ut[0],$tagName$:ut[1],$members$:ut[2],$listeners$:ut[3]};tt.$members$=ut[2],tt.$listeners$=ut[3],tt.$attrsToReflect$=[],tt.$watchers$={};const Et=tt.$tagName$,qt=class extends HTMLElement{constructor(an){super(an),St(an=this,tt),1&tt.$flags$&&an.attachShadow({mode:"open",delegatesFocus:!!(16&tt.$flags$)})}connectedCallback(){Gn&&(clearTimeout(Gn),Gn=null),mi?mn.push(this):ar.jmp(()=>(re=>{if(!(1&ar.$flags$)){const Ee=Gr(re),it=Ee.$cmpMeta$,ae=()=>{};if(1&Ee.$flags$)dt(re,Ee,it.$listeners$),ot(Ee.$lazyInstance$);else{let qe;if(Ee.$flags$|=1,qe=re.getAttribute(de),qe){if(1&it.$flags$){const Ke=Cn(re.shadowRoot,it,re.getAttribute("s-mode"));re.classList.remove(Ke+"-h",Ke+"-s")}((re,Ee,it,ae)=>{const Ke=re.shadowRoot,Nt=[],Bt=Ke?[]:null,Jt=ae.$vnode$=_t(Ee,null);ar.$orgLocNodes$||vt(Wn.body,ar.$orgLocNodes$=new Map),re[de]=it,re.removeAttribute(de),lt(Jt,Nt,[],Bt,re,re,it),Nt.map(mn=>{const zn=mn.$hostId$+"."+mn.$nodeId$,Gn=ar.$orgLocNodes$.get(zn),mi=mn.$elm$;Gn&&ji&&""===Gn["s-en"]&&Gn.parentNode.insertBefore(mi,Gn.nextSibling),Ke||(mi["s-hn"]=Ee,Gn&&(mi["s-ol"]=Gn,mi["s-ol"]["s-nr"]=mi)),ar.$orgLocNodes$.delete(zn)}),Ke&&Bt.map(mn=>{mn&&Ke.appendChild(mn)})})(re,it.$tagName$,qe,Ee)}qe||12&it.$flags$&&Ye(re);{let Ke=re;for(;Ke=Ke.parentNode||Ke.host;)if(1===Ke.nodeType&&Ke.hasAttribute("s-id")&&Ke["s-p"]||Ke["s-p"]){xi(Ee,Ee.$ancestorComponent$=Ke);break}}it.$members$&&Object.entries(it.$members$).map(([Ke,[Nt]])=>{if(31&Nt&&re.hasOwnProperty(Ke)){const kt=re[Ke];delete re[Ke],re[Ke]=kt}}),Ct(re,Ee,it)}ae()}})(this))}disconnectedCallback(){ar.jmp(()=>(re=>{if(!(1&ar.$flags$)){const Ee=Gr(this),it=Ee.$lazyInstance$;Ee.$rmListeners$&&(Ee.$rmListeners$.map(ae=>ae()),Ee.$rmListeners$=void 0),Qe(it,"disconnectedCallback")}})())}componentOnReady(){return Gr(this).$onReadyPromise$}};tt.$lazyBundleId$=es[0],!Ke.includes(Et)&&!Nt.get(Et)&&(qe.push(Et),Nt.define(Et,We(qt,tt,1)))})});{Jt.innerHTML=qe+"{visibility:hidden}.hydrated{visibility:inherit}",Jt.setAttribute("data-styles","");const es=null!==(it=ar.$nonce$)&&void 0!==it?it:Ve(Wn);null!=es&&Jt.setAttribute("nonce",es),kt.insertBefore(Jt,Bt?Bt.nextSibling:kt.firstChild)}mi=!1,mn.length?mn.map(es=>es.connectedCallback()):ar.jmp(()=>Gn=setTimeout(Ge,30))},dt=(re,Ee,it,ae)=>{it&&it.map(([qe,Ke,Nt])=>{const kt=en(re,qe),Bt=Ot(Ee,Nt),Jt=Dn(qe);ar.ael(kt,Ke,Bt,Jt),(Ee.$rmListeners$=Ee.$rmListeners$||[]).push(()=>ar.rel(kt,Ke,Bt,Jt))})},Ot=(re,Ee)=>it=>{try{256&re.$flags$?re.$lazyInstance$[Ee](it):(re.$queuedListeners$=re.$queuedListeners$||[]).push([Ee,it])}catch(ae){Nn(ae)}},en=(re,Ee)=>4&Ee?Wn:8&Ee?tr:16&Ee?Wn.body:re,Dn=re=>0!=(2&re),cr=new WeakMap,Gr=re=>cr.get(re),Ut=(re,Ee)=>cr.set(Ee.$lazyInstance$=re,Ee),St=(re,Ee)=>{const it={$flags$:0,$hostElement$:re,$cmpMeta$:Ee,$instanceValues$:new Map};return it.$onInstancePromise$=new Promise(ae=>it.$onInstanceResolve$=ae),it.$onReadyPromise$=new Promise(ae=>it.$onReadyResolve$=ae),re["s-p"]=[],re["s-rc"]=[],dt(re,it,Ee.$listeners$),cr.set(re,it)},Qt=(re,Ee)=>Ee in re,Nn=(re,Ee)=>(0,console.error)(re,Ee),jn=new Map,yr=(re,Ee,it)=>{const ae=re.$tagName$.replace(/-/g,"_"),qe=re.$lazyBundleId$,Ke=jn.get(qe);return Ke?Ke[ae]:H(863)(`./${qe}.entry.js`).then(Nt=>(jn.set(qe,Nt),Nt[ae]),Nn)},Cr=new Map,$n=[],tr=typeof window<"u"?window:{},Wn=tr.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:re=>re(),raf:re=>requestAnimationFrame(re),ael:(re,Ee,it,ae)=>re.addEventListener(Ee,it,ae),rel:(re,Ee,it,ae)=>re.removeEventListener(Ee,it,ae),ce:(re,Ee)=>new CustomEvent(re,Ee)},Pi=re=>{Object.assign(ar,re)},ji=!0,Ji=re=>Promise.resolve(re),_s=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ri=[],bn=[],dr=(re,Ee)=>it=>{re.push(it),_e||(_e=!0,Ee&&4&ar.$flags$?Xi(Dr):ar.raf(Dr))},li=re=>{for(let Ee=0;Ee<re.length;Ee++)try{re[Ee](performance.now())}catch(it){Nn(it)}re.length=0},Dr=()=>{li(ri),li(bn),(_e=ri.length>0)&&ar.raf(Dr)},Xi=re=>Ji().then(re),ii=dr(ri,!1),Oi=dr(bn,!0)},1178:(yn,gt,H)=>{"use strict";H.d(gt,{a:()=>y,b:()=>ee,p:()=>_});const _=(he,...Be)=>console.warn(`[Ionic Warning]: ${he}`,...Be),y=(he,...Be)=>console.error(`[Ionic Error]: ${he}`,...Be),ee=(he,...Be)=>console.error(`<${he.tagName.toLowerCase()}> must be used inside ${Be.join(" or ")}.`)},6406:(yn,gt,H)=>{"use strict";H.d(gt,{a:()=>ge,b:()=>wt,c:()=>ee,g:()=>_e,i:()=>ft});var _=H(9816);class y{constructor(){this.m=new Map}reset(Le){this.m=new Map(Object.entries(Le))}get(Le,Fe){const lt=this.m.get(Le);return void 0!==lt?lt:Fe}getBoolean(Le,Fe=!1){const lt=this.m.get(Le);return void 0===lt?Fe:"string"==typeof lt?"true"===lt:!!lt}getNumber(Le,Fe){const lt=parseFloat(this.m.get(Le));return isNaN(lt)?void 0!==Fe?Fe:NaN:lt}set(Le,Fe){this.m.set(Le,Fe)}}const ee=new y,Ne="ionic-persist-config",_e=ke=>ve(ke),ge=(ke,Le)=>("string"==typeof ke&&(Le=ke,ke=void 0),_e(ke).includes(Le)),ve=(ke=window)=>{if(typeof ke>"u")return[];ke.Ionic=ke.Ionic||{};let Le=ke.Ionic.platforms;return null==Le&&(Le=ke.Ionic.platforms=ze(ke),Le.forEach(Fe=>ke.document.documentElement.classList.add(`plt-${Fe}`))),Le},ze=ke=>{const Le=ee.get("platform");return Object.keys(_t).filter(Fe=>{const lt=null==Le?void 0:Le[Fe];return"function"==typeof lt?lt(ke):_t[Fe](ke)})},rt=ke=>!!(Ve(ke,/iPad/i)||Ve(ke,/Macintosh/i)&&et(ke)),Se=ke=>Ve(ke,/android|sink/i),et=ke=>ht(ke,"(any-pointer:coarse)"),At=ke=>$e(ke)||Oe(ke),$e=ke=>!!(ke.cordova||ke.phonegap||ke.PhoneGap),Oe=ke=>{const Le=ke.Capacitor;return!(null==Le||!Le.isNative)},Ve=(ke,Le)=>Le.test(ke.navigator.userAgent),ht=(ke,Le)=>{var Fe;return null===(Fe=ke.matchMedia)||void 0===Fe?void 0:Fe.call(ke,Le).matches},_t={ipad:rt,iphone:ke=>Ve(ke,/iPhone/i),ios:ke=>Ve(ke,/iPhone|iPod/i)||rt(ke),android:Se,phablet:ke=>{const Le=ke.innerWidth,Fe=ke.innerHeight,lt=Math.min(Le,Fe),vt=Math.max(Le,Fe);return lt>390&&lt<520&&vt>620&&vt<800},tablet:ke=>{const Le=ke.innerWidth,Fe=ke.innerHeight,lt=Math.min(Le,Fe),vt=Math.max(Le,Fe);return rt(ke)||(ke=>Se(ke)&&!Ve(ke,/mobile/i))(ke)||lt>460&&lt<820&&vt>780&&vt<1400},cordova:$e,capacitor:Oe,electron:ke=>Ve(ke,/electron/i),pwa:ke=>{var Le;return!!(null!==(Le=ke.matchMedia)&&void 0!==Le&&Le.call(ke,"(display-mode: standalone)").matches||ke.navigator.standalone)},mobile:et,mobileweb:ke=>et(ke)&&!At(ke),desktop:ke=>!et(ke),hybrid:At};let ct;const wt=ke=>ke&&(0,_.g)(ke)||ct,ft=(ke={})=>{if(typeof window>"u")return;const Le=window.document,Fe=window,lt=Fe.Ionic=Fe.Ionic||{},vt={};ke._ael&&(vt.ael=ke._ael),ke._rel&&(vt.rel=ke._rel),ke._ce&&(vt.ce=ke._ce),(0,_.a)(vt);const Zt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ke=>{try{const Le=ke.sessionStorage.getItem(Ne);return null!==Le?JSON.parse(Le):{}}catch{return{}}})(Fe)),{persistConfig:!1}),lt.config),(ke=>{const Le={};return ke.location.search.slice(1).split("&").map(Fe=>Fe.split("=")).map(([Fe,lt])=>[decodeURIComponent(Fe),decodeURIComponent(lt)]).filter(([Fe])=>((ke,Le)=>ke.substr(0,Le.length)===Le)(Fe,"ionic:")).map(([Fe,lt])=>[Fe.slice("ionic:".length),lt]).forEach(([Fe,lt])=>{Le[Fe]=lt}),Le})(Fe)),ke);ee.reset(Zt),ee.getBoolean("persistConfig")&&((ke,Le)=>{try{ke.sessionStorage.setItem(Ne,JSON.stringify(Le))}catch{return}})(Fe,Zt),ve(Fe),lt.config=ee,lt.mode=ct=ee.get("mode",Le.documentElement.getAttribute("mode")||(ge(Fe,"ios")?"ios":"md")),ee.set("mode",ct),Le.documentElement.setAttribute("mode",ct),Le.documentElement.classList.add(ct),ee.getBoolean("_testing")&&ee.set("animated",!1);const $t=Dt=>{var Te;return null===(Te=Dt.tagName)||void 0===Te?void 0:Te.startsWith("ION-")},vn=Dt=>["ios","md"].includes(Dt);(0,_.c)(Dt=>{for(;Dt;){const Te=Dt.mode||Dt.getAttribute("mode");if(Te){if(vn(Te))return Te;$t(Dt)&&console.warn('Invalid ionic mode: "'+Te+'", expected: "ios" or "md"')}Dt=Dt.parentElement}return ct})}},500:(yn,gt,H)=>{"use strict";H.r(gt),H.d(gt,{iosTransitionAnimation:()=>ze,shadow:()=>me});var _=H(2200),y=H(9459);H(3457),H(9816);const xe=He=>document.querySelector(`${He}.ion-cloned-element`),me=He=>He.shadowRoot||He,Ue=He=>{const rt="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs"),bt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Re=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(bt):null}return He.querySelector(bt)},Ne=(He,rt)=>{const bt="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs");let Re=[];if(null!=bt){const Se=bt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(Re=Se.querySelectorAll("ion-buttons"))}else Re=He.querySelectorAll("ion-buttons");for(const Se of Re){const de=Se.closest("ion-header"),pt=de&&!de.classList.contains("header-collapse-condense-inactive"),Y=Se.querySelector("ion-back-button"),et=Se.classList.contains("buttons-collapse");if(null!==Y&&("start"===Se.slot||""===Se.slot)&&(et&&pt&&rt||!et))return Y}return null},ge=(He,rt,bt,Re,Se,de)=>{const pt=rt?`calc(100% - ${de.right+4}px)`:de.left-4+"px",Y=rt?"7px":"-7px",et=rt?"-4px":"4px",Ze=rt?"-4px":"4px",At=rt?"right":"left",$e=rt?"left":"right",we=bt?[{offset:0,opacity:1,transform:`translate3d(${et}, ${de.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Y}, ${Se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Y}, ${Se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${et}, ${de.top-46}px, 0) scale(1)`}],_t=bt?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${de.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ze}, ${de.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${de.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${de.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${de.top-46}px, 0) scale(1)`}],ct=(0,_.c)(),wt=(0,_.c)(),ft=xe("ion-back-button"),ke=me(ft).querySelector(".button-text"),Le=me(ft).querySelector("ion-icon");ft.text=Re.text,ft.mode=Re.mode,ft.icon=Re.icon,ft.color=Re.color,ft.disabled=Re.disabled,ft.style.setProperty("display","block"),ft.style.setProperty("position","fixed"),wt.addElement(Le),ct.addElement(ke),ct.beforeStyles({"transform-origin":`${At} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),ft.style.setProperty(At,pt)}).afterAddWrite(()=>{Re.style.setProperty("display",""),ft.style.setProperty("display","none"),ft.style.removeProperty(At)}).keyframes(we),wt.beforeStyles({"transform-origin":`${$e} center`}).keyframes(_t),He.addAnimation([ct,wt])},ve=(He,rt,bt,Re,Se,de)=>{const pt=rt?`calc(100% - ${Se.right}px)`:`${Se.left}px`,Y=rt?"-18px":"18px",et=rt?"right":"left",$e=bt?[{offset:0,opacity:0,transform:`translate3d(${Y}, ${de.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Y}, ${de.top-4}px, 0) scale(0.5)`}],Oe=xe("ion-title"),Pe=(0,_.c)();Oe.innerText=Re.innerText,Oe.size=Re.size,Oe.color=Re.color,Pe.addElement(Oe),Pe.beforeStyles({"transform-origin":`${et} center`,height:"46px",display:"",position:"relative",[et]:pt}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),Oe.style.setProperty("display","none")}).keyframes($e),He.addAnimation(Pe)},ze=(He,rt)=>{var bt;try{const Re="cubic-bezier(0.32,0.72,0,1)",Se="opacity",de="transform",pt="0%",et="rtl"===He.ownerDocument.dir,Ze=et?"-99.5%":"99.5%",At=et?"33%":"-33%",$e=rt.enteringEl,Oe=rt.leavingEl,Pe="back"===rt.direction,we=$e.querySelector(":scope > ion-content"),Ve=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ht=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),_t=(0,_.c)(),ct=(0,_.c)();if(_t.addElement($e).duration((null!==(bt=rt.duration)&&void 0!==bt?bt:0)||540).easing(rt.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),Oe&&null!=He){const Le=(0,_.c)();Le.addElement(He),_t.addAnimation(Le)}if(we||0!==ht.length||0!==Ve.length?(ct.addElement(we),ct.addElement(Ve)):ct.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(ct),Pe?ct.beforeClearStyles([Se]).fromTo("transform",`translateX(${At})`,`translateX(${pt})`).fromTo(Se,.8,1):ct.beforeClearStyles([Se]).fromTo("transform",`translateX(${Ze})`,`translateX(${pt})`),we){const Le=me(we).querySelector(".transition-effect");if(Le){const Fe=Le.querySelector(".transition-cover"),lt=Le.querySelector(".transition-shadow"),vt=(0,_.c)(),Zt=(0,_.c)(),$t=(0,_.c)();vt.addElement(Le).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Zt.addElement(Fe).beforeClearStyles([Se]).fromTo(Se,0,.1),$t.addElement(lt).beforeClearStyles([Se]).fromTo(Se,.03,.7),vt.addAnimation([Zt,$t]),ct.addAnimation([vt])}}const wt=$e.querySelector("ion-header.header-collapse-condense"),{forward:ft,backward:ke}=((He,rt,bt,Re,Se)=>{const de=Ne(Re,bt),pt=Ue(Se),Y=Ue(Re),et=Ne(Se,bt),Ze=null!==de&&null!==pt&&!bt,At=null!==Y&&null!==et&&bt;if(Ze){const $e=pt.getBoundingClientRect(),Oe=de.getBoundingClientRect();ve(He,rt,bt,pt,$e,Oe),ge(He,rt,bt,de,$e,Oe)}else if(At){const $e=Y.getBoundingClientRect(),Oe=et.getBoundingClientRect();ve(He,rt,bt,Y,$e,Oe),ge(He,rt,bt,et,$e,Oe)}return{forward:Ze,backward:At}})(_t,et,Pe,$e,Oe);if(ht.forEach(Le=>{const Fe=(0,_.c)();Fe.addElement(Le),_t.addAnimation(Fe);const lt=(0,_.c)();lt.addElement(Le.querySelector("ion-title"));const vt=(0,_.c)(),Zt=Array.from(Le.querySelectorAll("ion-buttons,[menuToggle]")),$t=Le.closest("ion-header"),vn=null==$t?void 0:$t.classList.contains("header-collapse-condense-inactive");let Dt;Dt=Zt.filter(Pe?Kn=>{const Cn=Kn.classList.contains("buttons-collapse");return Cn&&!vn||!Cn}:Kn=>!Kn.classList.contains("buttons-collapse")),vt.addElement(Dt);const Te=(0,_.c)();Te.addElement(Le.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,_.c)();Tt.addElement(me(Le).querySelector(".toolbar-background"));const ln=(0,_.c)(),Rn=Le.querySelector("ion-back-button");if(Rn&&ln.addElement(Rn),Fe.addAnimation([lt,vt,Te,Tt,ln]),vt.fromTo(Se,.01,1),Te.fromTo(Se,.01,1),Pe)vn||lt.fromTo("transform",`translateX(${At})`,`translateX(${pt})`).fromTo(Se,.01,1),Te.fromTo("transform",`translateX(${At})`,`translateX(${pt})`),ln.fromTo(Se,.01,1);else if(wt||lt.fromTo("transform",`translateX(${Ze})`,`translateX(${pt})`).fromTo(Se,.01,1),Te.fromTo("transform",`translateX(${Ze})`,`translateX(${pt})`),Tt.beforeClearStyles([Se,"transform"]),(null==$t?void 0:$t.translucent)?Tt.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(Se,.01,"var(--opacity)"),ft||ln.fromTo(Se,.01,1),Rn&&!ft){const Cn=(0,_.c)();Cn.addElement(me(Rn).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Fe.addAnimation(Cn)}}),Oe){const Le=(0,_.c)(),Fe=Oe.querySelector(":scope > ion-content"),lt=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),vt=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Fe||0!==lt.length||0!==vt.length?(Le.addElement(Fe),Le.addElement(vt)):Le.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(Le),Pe){Le.beforeClearStyles([Se]).fromTo("transform",`translateX(${pt})`,et?"translateX(-100%)":"translateX(100%)");const Zt=(0,y.g)(Oe);_t.afterAddWrite(()=>{"normal"===_t.getDirection()&&Zt.style.setProperty("display","none")})}else Le.fromTo("transform",`translateX(${pt})`,`translateX(${At})`).fromTo(Se,1,.8);if(Fe){const Zt=me(Fe).querySelector(".transition-effect");if(Zt){const $t=Zt.querySelector(".transition-cover"),vn=Zt.querySelector(".transition-shadow"),Dt=(0,_.c)(),Te=(0,_.c)(),Tt=(0,_.c)();Dt.addElement(Zt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Te.addElement($t).beforeClearStyles([Se]).fromTo(Se,.1,0),Tt.addElement(vn).beforeClearStyles([Se]).fromTo(Se,.7,.03),Dt.addAnimation([Te,Tt]),Le.addAnimation([Dt])}}lt.forEach(Zt=>{const $t=(0,_.c)();$t.addElement(Zt);const vn=(0,_.c)();vn.addElement(Zt.querySelector("ion-title"));const Dt=(0,_.c)(),Te=Zt.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Zt.closest("ion-header"),ln=null==Tt?void 0:Tt.classList.contains("header-collapse-condense-inactive"),Rn=Array.from(Te).filter(Er=>{const Xn=Er.classList.contains("buttons-collapse");return Xn&&!ln||!Xn});Dt.addElement(Rn);const Kn=(0,_.c)(),Cn=Zt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Cn.length>0&&Kn.addElement(Cn);const nn=(0,_.c)();nn.addElement(me(Zt).querySelector(".toolbar-background"));const In=(0,_.c)(),lr=Zt.querySelector("ion-back-button");if(lr&&In.addElement(lr),$t.addAnimation([vn,Dt,Kn,In,nn]),_t.addAnimation($t),In.fromTo(Se,.99,0),Dt.fromTo(Se,.99,0),Kn.fromTo(Se,.99,0),Pe){if(ln||vn.fromTo("transform",`translateX(${pt})`,et?"translateX(-100%)":"translateX(100%)").fromTo(Se,.99,0),Kn.fromTo("transform",`translateX(${pt})`,et?"translateX(-100%)":"translateX(100%)"),nn.beforeClearStyles([Se,"transform"]),(null==Tt?void 0:Tt.translucent)?nn.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):nn.fromTo(Se,"var(--opacity)",0),lr&&!ke){const Xn=(0,_.c)();Xn.addElement(me(lr).querySelector(".button-text")).fromTo("transform",`translateX(${pt})`,`translateX(${(et?-124:124)+"px"})`),$t.addAnimation(Xn)}}else ln||vn.fromTo("transform",`translateX(${pt})`,`translateX(${At})`).fromTo(Se,.99,0).afterClearStyles([de,Se]),Kn.fromTo("transform",`translateX(${pt})`,`translateX(${At})`).afterClearStyles([de,Se]),In.afterClearStyles([Se]),vn.afterClearStyles([Se]),Dt.afterClearStyles([Se])})}return _t}catch(Re){throw Re}}},9892:(yn,gt,H)=>{"use strict";H.r(gt),H.d(gt,{mdTransitionAnimation:()=>Be});var _=H(2200),y=H(9459);H(3457),H(9816);const Be=(xe,me)=>{var Ue,Ne,_e;const ze="back"===me.direction,rt=me.leavingEl,bt=(0,y.g)(me.enteringEl),Re=bt.querySelector("ion-toolbar"),Se=(0,_.c)();if(Se.addElement(bt).fill("both").beforeRemoveClass("ion-page-invisible"),ze?Se.duration((null!==(Ue=me.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Se.duration((null!==(Ne=me.duration)&&void 0!==Ne?Ne:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const de=(0,_.c)();de.addElement(Re),Se.addAnimation(de)}if(rt&&ze){Se.duration((null!==(_e=me.duration)&&void 0!==_e?_e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const de=(0,_.c)();de.addElement((0,y.g)(rt)).onFinish(pt=>{1===pt&&de.elements.length>0&&de.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Se.addAnimation(de)}return Se}},6280:(yn,gt,H)=>{"use strict";H.d(gt,{B:()=>vt,G:()=>Zt,a:()=>_e,b:()=>ge,c:()=>rt,d:()=>$t,e:()=>vn,f:()=>Ve,g:()=>_t,h:()=>ft,i:()=>Le,j:()=>Re,k:()=>Ue,m:()=>ze,n:()=>pt,o:()=>Pe,s:()=>lt});var _=H(5861),y=H(6406),ee=H(5375),he=H(7593),Be=H(9397),xe=H(1178);let me=0;const Ue=new WeakMap,Ne=Dt=>({create:Te=>Se(Dt,Te),dismiss:(Te,Tt,ln)=>$e(document,Te,Tt,Dt,ln),getTop:()=>(0,_.Z)(function*(){return Pe(document,Dt)})()}),_e=Ne("ion-alert"),ge=Ne("ion-action-sheet"),ze=Ne("ion-modal"),rt=Ne("ion-popover"),Re=Dt=>{typeof document<"u"&&At(document);const Te=me++;Dt.overlayIndex=Te,Dt.hasAttribute("id")||(Dt.id=`ion-overlay-${Te}`)},Se=(Dt,Te)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Dt).then(()=>{const Tt=document.createElement(Dt);return Tt.classList.add("overlay-hidden"),Object.assign(Tt,Object.assign(Object.assign({},Te),{hasController:!0})),ct(document).appendChild(Tt),new Promise(ln=>(0,Be.c)(Tt,ln))}):Promise.resolve(),de='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',pt=(Dt,Te)=>{let Tt=Dt.querySelector(de);const ln=null==Tt?void 0:Tt.shadowRoot;ln&&(Tt=ln.querySelector(de)||Tt),Tt?(0,Be.f)(Tt):Te.focus()},et=(Dt,Te)=>{const Tt=Array.from(Dt.querySelectorAll(de));let ln=Tt.length>0?Tt[Tt.length-1]:null;const Rn=null==ln?void 0:ln.shadowRoot;Rn&&(ln=Rn.querySelector(de)||ln),ln?ln.focus():Te.focus()},At=Dt=>{0===me&&(me=1,Dt.addEventListener("focus",Te=>{((Dt,Te)=>{const Tt=Pe(Te,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ln=Dt.target;Tt&&ln&&!Tt.classList.contains("ion-disable-focus-trap")&&(Tt.shadowRoot?(()=>{if(Tt.contains(ln))Tt.lastFocus=ln;else{const Cn=Tt.lastFocus;pt(Tt,Tt),Cn===Te.activeElement&&et(Tt,Tt),Tt.lastFocus=Te.activeElement}})():(()=>{if(Tt===ln)Tt.lastFocus=void 0;else{const Cn=(0,Be.g)(Tt);if(!Cn.contains(ln))return;const nn=Cn.querySelector(".ion-overlay-wrapper");if(!nn)return;if(nn.contains(ln))Tt.lastFocus=ln;else{const In=Tt.lastFocus;pt(nn,Tt),In===Te.activeElement&&et(nn,Tt),Tt.lastFocus=Te.activeElement}}})())})(Te,Dt)},!0),Dt.addEventListener("ionBackButton",Te=>{const Tt=Pe(Dt);null!=Tt&&Tt.backdropDismiss&&Te.detail.register(he.OVERLAY_BACK_BUTTON_PRIORITY,()=>Tt.dismiss(void 0,vt))}),Dt.addEventListener("keydown",Te=>{if("Escape"===Te.key){const Tt=Pe(Dt);null!=Tt&&Tt.backdropDismiss&&Tt.dismiss(void 0,vt)}}))},$e=(Dt,Te,Tt,ln,Rn)=>{const Kn=Pe(Dt,ln,Rn);return Kn?Kn.dismiss(Te,Tt):Promise.reject("overlay does not exist")},Pe=(Dt,Te,Tt)=>{const ln=((Dt,Te)=>(void 0===Te&&(Te="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Dt.querySelectorAll(Te)).filter(Tt=>Tt.overlayIndex>0)))(Dt,Te).filter(Rn=>!(Dt=>Dt.classList.contains("overlay-hidden"))(Rn));return void 0===Tt?ln[ln.length-1]:ln.find(Rn=>Rn.id===Tt)},we=(Dt=!1)=>{const Tt=ct(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Tt&&(Dt?Tt.setAttribute("aria-hidden","true"):Tt.removeAttribute("aria-hidden"))},Ve=function(){var Dt=(0,_.Z)(function*(Te,Tt,ln,Rn,Kn){var Cn,nn;if(Te.presented)return;we(!0),Te.presented=!0,Te.willPresent.emit(),null===(Cn=Te.willPresentShorthand)||void 0===Cn||Cn.emit();const In=(0,y.b)(Te),lr=Te.enterAnimation?Te.enterAnimation:y.c.get(Tt,"ios"===In?ln:Rn);(yield wt(Te,lr,Te.el,Kn))&&(Te.didPresent.emit(),null===(nn=Te.didPresentShorthand)||void 0===nn||nn.emit()),"ION-TOAST"!==Te.el.tagName&&ht(Te.el),Te.keyboardClose&&(null===document.activeElement||!Te.el.contains(document.activeElement))&&Te.el.focus()});return function(Tt,ln,Rn,Kn,Cn){return Dt.apply(this,arguments)}}(),ht=function(){var Dt=(0,_.Z)(function*(Te){let Tt=document.activeElement;if(!Tt)return;const ln=null==Tt?void 0:Tt.shadowRoot;ln&&(Tt=ln.querySelector(de)||Tt),yield Te.onDidDismiss(),Tt.focus()});return function(Tt){return Dt.apply(this,arguments)}}(),_t=function(){var Dt=(0,_.Z)(function*(Te,Tt,ln,Rn,Kn,Cn,nn){var In,lr;if(!Te.presented)return!1;we(!1),Te.presented=!1;try{Te.el.style.setProperty("pointer-events","none"),Te.willDismiss.emit({data:Tt,role:ln}),null===(In=Te.willDismissShorthand)||void 0===In||In.emit({data:Tt,role:ln});const Er=(0,y.b)(Te),Xn=Te.leaveAnimation?Te.leaveAnimation:y.c.get(Rn,"ios"===Er?Kn:Cn);ln!==Zt&&(yield wt(Te,Xn,Te.el,nn)),Te.didDismiss.emit({data:Tt,role:ln}),null===(lr=Te.didDismissShorthand)||void 0===lr||lr.emit({data:Tt,role:ln}),Ue.delete(Te),Te.el.classList.add("overlay-hidden"),Te.el.style.removeProperty("pointer-events"),void 0!==Te.el.lastFocus&&(Te.el.lastFocus=void 0)}catch(Er){console.error(Er)}return Te.el.remove(),!0});return function(Tt,ln,Rn,Kn,Cn,nn,In){return Dt.apply(this,arguments)}}(),ct=Dt=>Dt.querySelector("ion-app")||Dt.body,wt=function(){var Dt=(0,_.Z)(function*(Te,Tt,ln,Rn){ln.classList.remove("overlay-hidden");const Cn=Tt(Te.el,Rn);(!Te.animated||!y.c.getBoolean("animated",!0))&&Cn.duration(0),Te.keyboardClose&&Cn.beforeAddWrite(()=>{const In=ln.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const nn=Ue.get(Te)||[];return Ue.set(Te,[...nn,Cn]),yield Cn.play(),!0});return function(Tt,ln,Rn,Kn){return Dt.apply(this,arguments)}}(),ft=(Dt,Te)=>{let Tt;const ln=new Promise(Rn=>Tt=Rn);return ke(Dt,Te,Rn=>{Tt(Rn.detail)}),ln},ke=(Dt,Te,Tt)=>{const ln=Rn=>{(0,Be.b)(Dt,Te,ln),Tt(Rn)};(0,Be.a)(Dt,Te,ln)},Le=Dt=>"cancel"===Dt||Dt===vt,Fe=Dt=>Dt(),lt=(Dt,Te)=>{if("function"==typeof Dt)return y.c.get("_zoneGate",Fe)(()=>{try{return Dt(Te)}catch(ln){throw ln}})},vt="backdrop",Zt="gesture",$t=Dt=>{let Tt,Te=!1;const ln=(0,ee.C)(),Rn=(nn=!1)=>{if(Tt&&!nn)return{delegate:Tt,inline:Te};const{el:In,hasController:lr,delegate:Er}=Dt;return Te=null!==In.parentNode&&!lr,Tt=Te?Er||ln:Er,{inline:Te,delegate:Tt}};return{attachViewToDom:function(){var nn=(0,_.Z)(function*(In){const{delegate:lr}=Rn(!0);if(lr)return yield lr.attachViewToDom(Dt.el,In);const{hasController:Er}=Dt;if(Er&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(lr){return nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:nn}=Rn();nn&&void 0!==Dt.el&&nn.removeViewFromDom(Dt.el.parentElement,Dt.el)}}},vn=()=>{let Dt;const Te=()=>{Dt&&(Dt(),Dt=void 0)};return{addClickListener:(ln,Rn)=>{Te();const Kn=void 0!==Rn?document.getElementById(Rn):null;Kn?Dt=((nn,In)=>{const lr=()=>{In.present()};return nn.addEventListener("click",lr),()=>{nn.removeEventListener("click",lr)}})(Kn,ln):(0,xe.p)(`A trigger element with the ID "${Rn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ln)},removeClickListener:Te}}},7556:(yn,gt,H)=>{"use strict";H.d(gt,{e:()=>xe});var _=H(5861),y=H(4650),ee=H(1762),he=H(1205),Be=H(529);let xe=(()=>{class me{constructor(Ne,_e,ge){this.afs=Ne,this.afAuth=_e,this.http=ge,this.updateLogin()}updateLogin(){this.afAuth.authState.subscribe(Ne=>{Ne?(this.userData=Ne,localStorage.setItem("user",JSON.stringify(this.userData)),me.logged=!0):(this.userData=null,localStorage.removeItem("user"),me.logged=!1)}),console.log("Logged: "+me.logged),console.log("JWT: "+this.getJWT())}checkLogged(){return null===localStorage.getItem("user")?(this.userData=null,me.logged=!1,!1):(me.logged=!0,!0)}doSignup(Ne){return new Promise((_e,ge)=>{this.afAuth.createUserWithEmailAndPassword(Ne.email,Ne.password).then(ve=>{_e(ve),this.updateLogin()},ve=>ge(ve))})}doLogin(Ne){var _e=this;return(0,_.Z)(function*(){try{const ge=yield _e.afAuth.signInWithEmailAndPassword(Ne.email,Ne.password);if(ge.user)return _e.updateLogin(),ge}catch(ge){return ge}})()}doLogout(){var Ne=this;return(0,_.Z)(function*(){try{yield Ne.afAuth.signOut(),Ne.updateLogin()}catch(_e){console.log(_e)}})()}fetchJWT(){this.http.post("http://localhost:3000/api/login",{email:"test@test.com"}).subscribe(Ne=>{localStorage.setItem("JWT",Ne.token),this.token=Ne.token})}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}getJWT(){return localStorage.getItem("JWT")}}return me.logged=!1,me.\u0275fac=function(Ne){return new(Ne||me)(y.LFG(ee.ST),y.LFG(he.zQ),y.LFG(Be.eN))},me.\u0275prov=y.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},2340:(yn,gt,H)=>{"use strict";H.d(gt,{N:()=>_});const _={production:!0,firebase:{apiKey:"AIzaSyAx5viaf5WoWezx2kxJ8fnpWElWMypde0s",authDomain:"hightracks-46986.firebaseapp.com",projectId:"hightracks-46986",storageBucket:"hightracks-46986.appspot.com",messagingSenderId:"643779822309",appId:"1:643779822309:web:10e7cb0f1b7b47128c8a0c"},url:"http://localhost:3000/api/"}},2295:(yn,gt,H)=>{"use strict";var _=H(4650),y=H(1481),ee=H(2607),he=H(4709);const Be=[{path:"",loadChildren:()=>H.e(2282).then(H.bind(H,2282)).then(u=>u.routes)},{path:"login",loadChildren:()=>H.e(338).then(H.bind(H,338)).then(u=>u.routes)}];var xe=H(1205),me=H(9751),Ue=H(9646),Ne=H(8996),_e=H(4986),ge=H(4482),ve=H(5403),He=H(4004),rt=H(3900),bt=H(4976),Re=H(2011),Se=H(3942),de=H(5861),pt=H(6881),Y=H(2090),et=H(4859);const Ze="firebasestorage.googleapis.com",At="storageBucket";class we extends Y.ZR{constructor(a,l,p=0){super(ht(a),`Firebase Storage: ${l} (${ht(a)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,we.prototype)}get status(){return this.status_}set status(a){this.status_=a}_codeEquals(a){return ht(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ve=(()=>{return(u=Ve||(Ve={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ve;var u})();function ht(u){return"storage/"+u}function _t(){return new we(Ve.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Fe(){return new we(Ve.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lt(){return new we(Ve.CANCELED,"User canceled the upload/download.")}function vn(){return new we(Ve.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ln(u){return new we(Ve.INVALID_ARGUMENT,u)}function Rn(){return new we(Ve.APP_DELETED,"The Firebase app was deleted.")}function Kn(u){return new we(Ve.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cn(u,a){return new we(Ve.INVALID_FORMAT,"String does not match format '"+u+"': "+a)}function nn(u){throw new we(Ve.INTERNAL_ERROR,"Internal error: "+u)}class In{constructor(a,l){this.bucket=a,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,l){let p;try{p=In.makeFromUrl(a,l)}catch{return new In(a,"")}if(""===p.path)return p;throw function Zt(u){return new we(Ve.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(a)}static makeFromUrl(a,l){let p=null;const I="([A-Za-z0-9.\\-_]+)",te=new RegExp("^gs://"+I+"(/(.*))?$","i");function De(Ui){Ui.path_=decodeURIComponent(Ui.path)}const jt=l.replace(/[.]/g,"\\."),fs=[{regex:te,indices:{bucket:1,path:3},postModify:function M(Ui){"/"===Ui.path.charAt(Ui.path.length-1)&&(Ui.path_=Ui.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jt}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:De},{regex:new RegExp(`^https?://${l===Ze?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:De}];for(let Ui=0;Ui<fs.length;Ui++){const Ul=fs[Ui],hu=Ul.regex.exec(a);if(hu){let Gu=hu[Ul.indices.path];Gu||(Gu=""),p=new In(hu[Ul.indices.bucket],Gu),Ul.postModify(p);break}}if(null==p)throw function vt(u){return new we(Ve.INVALID_URL,"Invalid URL '"+u+"'.")}(a);return p}}class lr{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function Zr(u){return"string"==typeof u||u instanceof String}function Br(u){return Di()&&u instanceof Blob}function Di(){return typeof Blob<"u"&&!(0,Y.UG)()}function Ir(u,a,l,p){if(p<a)throw ln(`Invalid value for '${u}'. Expected ${a} or greater.`);if(p>l)throw ln(`Invalid value for '${u}'. Expected ${l} or less.`)}function Tn(u,a,l){let p=a;return null==l&&(p=`https://${a}`),`${l}://${p}/v0${u}`}function tn(u){const a=encodeURIComponent;let l="?";for(const p in u)u.hasOwnProperty(p)&&(l=l+(a(p)+"=")+a(u[p])+"&");return l=l.slice(0,-1),l}var fn=(()=>{return(u=fn||(fn={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",fn;var u})();function on(u,a){const l=u>=500&&u<600,I=-1!==[408,429].indexOf(u),M=-1!==a.indexOf(u);return l||I||M}class Jr{constructor(a,l,p,I,M,V,te,fe,De,xt,jt,Yt=!0){this.url_=a,this.method_=l,this.headers_=p,this.body_=I,this.successCodes_=M,this.additionalRetryCodes_=V,this.callback_=te,this.errorCallback_=fe,this.timeout_=De,this.progressCallback_=xt,this.connectionFactory_=jt,this.retry=Yt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((En,Vn)=>{this.resolve_=En,this.reject_=Vn,this.start_()})}start_(){const l=(p,I)=>{const M=this.resolve_,V=this.reject_,te=I.connection;if(I.wasSuccessCode)try{const fe=this.callback_(te,te.getResponse());!function br(u){return void 0!==u}(fe)?M():M(fe)}catch(fe){V(fe)}else if(null!==te){const fe=_t();fe.serverResponse=te.getErrorText(),V(this.errorCallback_?this.errorCallback_(te,fe):fe)}else V(I.canceled?this.appDelete_?Rn():lt():Fe())};this.canceled_?l(0,new Sr(!1,null,!0)):this.backoffId_=function Er(u,a,l){let p=1,I=null,M=null,V=!1,te=0;function fe(){return 2===te}let De=!1;function xt(...pi){De||(De=!0,a.apply(null,pi))}function jt(pi){I=setTimeout(()=>{I=null,u(En,fe())},pi)}function Yt(){M&&clearTimeout(M)}function En(pi,...No){if(De)return void Yt();if(pi)return Yt(),void xt.call(null,pi,...No);if(fe()||V)return Yt(),void xt.call(null,pi,...No);let fs;p<64&&(p*=2),1===te?(te=2,fs=0):fs=1e3*(p+Math.random()),jt(fs)}let Vn=!1;function Kr(pi){Vn||(Vn=!0,Yt(),!De&&(null!==I?(pi||(te=2),clearTimeout(I),jt(0)):pi||(te=1)))}return jt(0),M=setTimeout(()=>{V=!0,Kr(!0)},l),Kr}((p,I)=>{if(I)return void p(!1,new Sr(!1,null,!0));const M=this.connectionFactory_();this.pendingConnection_=M;const V=te=>{null!==this.progressCallback_&&this.progressCallback_(te.loaded,te.lengthComputable?te.total:-1)};null!==this.progressCallback_&&M.addUploadProgressListener(V),M.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&M.removeUploadProgressListener(V),this.pendingConnection_=null;const te=M.getErrorCode()===fn.NO_ERROR,fe=M.getStatus();if(!te||on(fe,this.additionalRetryCodes_)&&this.retry){const xt=M.getErrorCode()===fn.ABORT;return void p(!1,new Sr(!1,null,xt))}const De=-1!==this.successCodes_.indexOf(fe);p(!0,new Sr(De,M))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&function Xn(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Sr{constructor(a,l,p){this.wasSuccessCode=a,this.connection=l,this.canceled=!!p}}function Yn(...u){const a=function or(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==a){const l=new a;for(let p=0;p<u.length;p++)l.append(u[p]);return l.getBlob()}if(Di())return new Blob(u);throw new we(Ve.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ht{constructor(a,l){this.data=a,this.contentType=l||null}}function Ge(u,a){switch(u){case mr.RAW:return new Ht(Qe(a));case mr.BASE64:case mr.BASE64URL:return new Ht(zt(u,a));case mr.DATA_URL:return new Ht(function be(u){const a=new Ce(u);return a.base64?zt(mr.BASE64,a.rest):function Xt(u){let a;try{a=decodeURIComponent(u)}catch{throw Cn(mr.DATA_URL,"Malformed data URL.")}return Qe(a)}(a.rest)}(a),function We(u){return new Ce(u).contentType}(a))}throw _t()}function Qe(u){const a=[];for(let l=0;l<u.length;l++){let p=u.charCodeAt(l);p<=127?a.push(p):p<=2047?a.push(192|p>>6,128|63&p):55296==(64512&p)?l<u.length-1&&56320==(64512&u.charCodeAt(l+1))?(p=65536|(1023&p)<<10|1023&u.charCodeAt(++l),a.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):a.push(239,191,189):56320==(64512&p)?a.push(239,191,189):a.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(a)}function zt(u,a){switch(u){case mr.BASE64:{const I=-1!==a.indexOf("-"),M=-1!==a.indexOf("_");if(I||M)throw Cn(u,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const I=-1!==a.indexOf("+"),M=-1!==a.indexOf("/");if(I||M)throw Cn(u,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function Pr(u){if(typeof atob>"u")throw function Tt(u){return new we(Ve.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(a)}catch(I){throw I.message.includes("polyfill")?I:Cn(u,"Invalid character found")}const p=new Uint8Array(l.length);for(let I=0;I<l.length;I++)p[I]=l.charCodeAt(I);return p}class Ce{constructor(a){this.base64=!1,this.contentType=null;const l=a.match(/^data:([^,]+)?,/);if(null===l)throw Cn(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=l[1]||null;null!=p&&(this.base64=function Ct(u,a){return u.length>=a.length&&u.substring(u.length-a.length)===a}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=a.substring(a.indexOf(",")+1)}}class ot{constructor(a,l){let p=0,I="";Br(a)?(this.data_=a,p=a.size,I=a.type):a instanceof ArrayBuffer?(l?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),p=this.data_.length):a instanceof Uint8Array&&(l?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),p=a.length),this.size_=p,this.type_=I}size(){return this.size_}type(){return this.type_}slice(a,l){if(Br(this.data_)){const I=function Ei(u,a,l){return u.webkitSlice?u.webkitSlice(a,l):u.mozSlice?u.mozSlice(a,l):u.slice?u.slice(a,l):null}(this.data_,a,l);return null===I?null:new ot(I)}{const p=new Uint8Array(this.data_.buffer,a,l-a);return new ot(p,!0)}}static getBlob(...a){if(Di()){const l=a.map(p=>p instanceof ot?p.data_:p);return new ot(Yn.apply(null,l))}{const l=a.map(V=>Zr(V)?Ge(mr.RAW,V).data:V.data_);let p=0;l.forEach(V=>{p+=V.byteLength});const I=new Uint8Array(p);let M=0;return l.forEach(V=>{for(let te=0;te<V.length;te++)I[M++]=V[te]}),new ot(I,!0)}}uploadData(){return this.data_}}function gn(u){let a;try{a=JSON.parse(u)}catch{return null}return function di(u){return"object"==typeof u&&!Array.isArray(u)}(a)?a:null}function ye(u){const a=u.lastIndexOf("/",u.length-2);return-1===a?u:u.slice(a+1)}function dt(u,a){return a}class Ot{constructor(a,l,p,I){this.server=a,this.local=l||a,this.writable=!!p,this.xform=I||dt}}let en=null;function Qn(){if(en)return en;const u=[];u.push(new Ot("bucket")),u.push(new Ot("generation")),u.push(new Ot("metageneration")),u.push(new Ot("name","fullPath",!0));const l=new Ot("name");l.xform=function a(M,V){return function Dn(u){return!Zr(u)||u.length<2?u:ye(u)}(V)},u.push(l);const I=new Ot("size");return I.xform=function p(M,V){return void 0!==V?Number(V):V},u.push(I),u.push(new Ot("timeCreated")),u.push(new Ot("updated")),u.push(new Ot("md5Hash",null,!0)),u.push(new Ot("cacheControl",null,!0)),u.push(new Ot("contentDisposition",null,!0)),u.push(new Ot("contentEncoding",null,!0)),u.push(new Ot("contentLanguage",null,!0)),u.push(new Ot("contentType",null,!0)),u.push(new Ot("metadata","customMetadata",!0)),en=u,en}function Ut(u,a,l){const p=gn(a);return null===p?null:function Gr(u,a,l){const p={type:"file"},I=l.length;for(let M=0;M<I;M++){const V=l[M];p[V.local]=V.xform(p,a[V.server])}return function cr(u,a){Object.defineProperty(u,"ref",{get:function l(){const M=new In(u.bucket,u.fullPath);return a._makeStorageReference(M)}})}(p,u),p}(u,p,l)}function Qt(u,a){const l={},p=a.length;for(let I=0;I<p;I++){const M=a[I];M.writable&&(l[M.server]=u[M.local])}return JSON.stringify(l)}const Nn="prefixes",jn="items";class $n{constructor(a,l,p,I){this.url=a,this.method=l,this.handler=p,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tr(u){if(!u)throw _t()}function Wn(u,a){return function l(p,I){const M=Ut(u,I,a);return tr(null!==M),M}}function ji(u){return function a(l,p){let I;return I=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function ke(){return new we(Ve.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ft(){return new we(Ve.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function wt(u){return new we(Ve.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function Le(u){return new we(Ve.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):p,I.status=l.getStatus(),I.serverResponse=p.serverResponse,I}}function Ji(u){const a=ji(u);return function l(p,I){let M=a(p,I);return 404===p.getStatus()&&(M=function ct(u){return new we(Ve.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),M.serverResponse=I.serverResponse,M}}function _s(u,a,l){const I=Tn(a.fullServerUrl(),u.host,u._protocol),V=u.maxOperationRetryTime,te=new $n(I,"GET",Wn(u,l),V);return te.errorHandler=Ji(a),te}function ri(u,a,l,p,I){const M={};M.prefix=a.isRoot?"":a.path+"/",l&&l.length>0&&(M.delimiter=l),p&&(M.pageToken=p),I&&(M.maxResults=I);const te=Tn(a.bucketOnlyServerUrl(),u.host,u._protocol),De=u.maxOperationRetryTime,xt=new $n(te,"GET",function ar(u,a){return function l(p,I){const M=function Cr(u,a,l){const p=gn(l);return null===p?null:function yr(u,a,l){const p={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[Nn])for(const I of l[Nn]){const M=I.replace(/\/$/,""),V=u._makeStorageReference(new In(a,M));p.prefixes.push(V)}if(l[jn])for(const I of l[jn]){const M=u._makeStorageReference(new In(a,I.name));p.items.push(M)}return p}(u,a,p)}(u,a,I);return tr(null!==M),M}}(u,a.bucket),De);return xt.urlParams=M,xt.errorHandler=ji(a),xt}function ii(u,a,l){const p=Object.assign({},l);return p.fullPath=u.path,p.size=a.size(),p.contentType||(p.contentType=function Xi(u,a){return u&&u.contentType||a&&a.type()||"application/octet-stream"}(null,a)),p}class re{constructor(a,l,p,I){this.current=a,this.total=l,this.finalized=!!p,this.metadata=I||null}}function Ee(u,a){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch{tr(!1)}return tr(!!l&&-1!==(a||["active"]).indexOf(l)),l}const Nt={STATE_CHANGED:"state_changed"},kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bt(u){switch(u){case"running":case"pausing":case"canceling":return kt.RUNNING;case"paused":return kt.PAUSED;case"success":return kt.SUCCESS;case"canceled":return kt.CANCELED;default:return kt.ERROR}}class Jt{constructor(a,l,p){if(function cn(u){return"function"==typeof u}(a)||null!=l||null!=p)this.next=a,this.error=null!=l?l:void 0,this.complete=null!=p?p:void 0;else{const M=a;this.next=M.next,this.error=M.error,this.complete=M.complete}}}function mn(u){return(...a)=>{Promise.resolve().then(()=>u(...a))}}let zn=null;class Gn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fn.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fn.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fn.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,l,p,I){if(this.sent_)throw nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,a,!0),void 0!==I)for(const M in I)I.hasOwnProperty(M)&&this.xhr_.setRequestHeader(M,I[M].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}class mi extends Gn{initXhr(){this.xhr_.responseType="text"}}function Jn(){return zn?zn():new mi}class qt{constructor(a,l,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=l,this._metadata=p,this._mappings=Qn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(Ve.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const M=this.isExponentialBackoffExpired();if(on(I.status,[])){if(!M)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=Fe()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(Ve.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,M)=>{this._resolve=I,this._reject=M,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const a=this._transferred;return l=>this._updateProgress(a+l)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,p])=>{switch(this._state){case"running":a(l,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,l)=>{const p=function it(u,a,l,p,I){const M=a.bucketOnlyServerUrl(),V=ii(a,p,I),te={name:V.fullPath},fe=Tn(M,u.host,u._protocol),xt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":V.contentType,"Content-Type":"application/json; charset=utf-8"},jt=Qt(V,l),Vn=new $n(fe,"POST",function En(Kr){let pi;Ee(Kr);try{pi=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{tr(!1)}return tr(Zr(pi)),pi},u.maxUploadRetryTime);return Vn.urlParams=te,Vn.headers=xt,Vn.body=jt,Vn.errorHandler=ji(a),Vn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Jn,a,l);this._request=I,I.getPromise().then(M=>{this._request=void 0,this._uploadUrl=M,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((l,p)=>{const I=function ae(u,a,l,p){const fe=new $n(l,"POST",function M(De){const xt=Ee(De,["active","final"]);let jt=null;try{jt=De.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tr(!1)}jt||tr(!1);const Yt=Number(jt);return tr(!isNaN(Yt)),new re(Yt,p.size(),"final"===xt)},u.maxUploadRetryTime);return fe.headers={"X-Goog-Upload-Command":"query"},fe.errorHandler=ji(a),fe}(this._ref.storage,this._ref._location,a,this._blob),M=this._ref.storage._makeRequest(I,Jn,l,p);this._request=M,M.getPromise().then(V=>{this._request=void 0,this._updateProgress(V.current),this._needToFetchStatus=!1,V.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,l=new re(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((I,M)=>{let V;try{V=function Ke(u,a,l,p,I,M,V,te){const fe=new re(0,0);if(V?(fe.current=V.current,fe.total=V.total):(fe.current=0,fe.total=p.size()),p.size()!==fe.total)throw function Dt(){return new we(Ve.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const De=fe.total-fe.current;let xt=De;I>0&&(xt=Math.min(xt,I));const jt=fe.current;let En="";En=0===xt?"finalize":De===xt?"upload, finalize":"upload";const Vn={"X-Goog-Upload-Command":En,"X-Goog-Upload-Offset":`${fe.current}`},Kr=p.slice(jt,jt+xt);if(null===Kr)throw vn();const fs=new $n(l,"POST",function pi(Ui,Ul){const hu=Ee(Ui,["active","final"]),tl=fe.current+xt,Gu=p.size();let fu;return fu="final"===hu?Wn(a,M)(Ui,Ul):null,new re(tl,Gu,"final"===hu,fu)},a.maxUploadRetryTime);return fs.headers=Vn,fs.body=Kr.uploadData(),fs.progressCallback=te||null,fs.errorHandler=ji(u),fs}(this._ref._location,this._ref.storage,p,this._blob,a,this._mappings,l,this._makeProgressCallback())}catch(fe){return this._error=fe,void this._transition("error")}const te=this._ref.storage._makeRequest(V,Jn,I,M,!1);this._request=te,te.getPromise().then(fe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fe.current),fe.finalized?(this._metadata=fe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,l)=>{const p=_s(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(p,Jn,a,l);this._request=I,I.getPromise().then(M=>{this._request=void 0,this._metadata=M,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,l)=>{const p=function Oi(u,a,l,p,I){const M=a.bucketOnlyServerUrl(),V={"X-Goog-Upload-Protocol":"multipart"},fe=function te(){let fs="";for(let Ui=0;Ui<2;Ui++)fs+=Math.random().toString().slice(2);return fs}();V["Content-Type"]="multipart/related; boundary="+fe;const De=ii(a,p,I),xt=Qt(De,l),En=ot.getBlob("--"+fe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xt+"\r\n--"+fe+"\r\nContent-Type: "+De.contentType+"\r\n\r\n",p,"\r\n--"+fe+"--");if(null===En)throw vn();const Vn={name:De.fullPath},Kr=Tn(M,u.host,u._protocol),No=u.maxUploadRetryTime,ls=new $n(Kr,"POST",Wn(u,l),No);return ls.urlParams=Vn,ls.headers=V,ls.body=En.uploadData(),ls.errorHandler=ji(a),ls}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,Jn,a,l);this._request=I,I.getPromise().then(M=>{this._request=void 0,this._metadata=M,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const l=this._transferred;this._transferred=a,this._transferred!==l&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const l="paused"===this._state;this._state=a,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=lt(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Bt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,l,p,I){const M=new Jt(l||void 0,p||void 0,I||void 0);return this._addObserver(M),()=>{this._removeObserver(M)}}then(a,l){return this._promise.then(a,l)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const l=this._observers.indexOf(a);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Bt(this._state)){case kt.SUCCESS:mn(this._resolve.bind(null,this.snapshot))();break;case kt.CANCELED:case kt.ERROR:mn(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Bt(this._state)){case kt.RUNNING:case kt.PAUSED:a.next&&mn(a.next.bind(a,this.snapshot))();break;case kt.SUCCESS:a.complete&&mn(a.complete.bind(a))();break;default:a.error&&mn(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class an{constructor(a,l){this._service=a,this._location=l instanceof In?l:In.makeFromUrl(l,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,l){return new an(a,l)}get root(){const a=new In(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ye(this._location.path)}get storage(){return this._service}get parent(){const a=function Ye(u){if(0===u.length)return null;const a=u.lastIndexOf("/");return-1===a?"":u.slice(0,a)}(this._location.path);if(null===a)return null;const l=new In(this._location.bucket,a);return new an(this._service,l)}_throwIfRoot(a){if(""===this._location.path)throw Kn(a)}}function $i(u,a,l){return ki.apply(this,arguments)}function ki(){return(ki=(0,de.Z)(function*(u,a,l){const I=yield Hi(u,{pageToken:l});a.prefixes.push(...I.prefixes),a.items.push(...I.items),null!=I.nextPageToken&&(yield $i(u,a,I.nextPageToken))})).apply(this,arguments)}function Hi(u,a){null!=a&&"number"==typeof a.maxResults&&Ir("options.maxResults",1,1e3,a.maxResults);const l=a||{},p=ri(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(p,Jn)}function qi(u){u._throwIfRoot("getDownloadURL");const a=function dr(u,a,l){const I=Tn(a.fullServerUrl(),u.host,u._protocol),V=u.maxOperationRetryTime,te=new $n(I,"GET",function Pi(u,a){return function l(p,I){const M=Ut(u,I,a);return tr(null!==M),function St(u,a,l,p){const I=gn(a);if(null===I||!Zr(I.downloadTokens))return null;const M=I.downloadTokens;if(0===M.length)return null;const V=encodeURIComponent;return M.split(",").map(De=>{const jt=u.fullPath;return Tn("/b/"+V(u.bucket)+"/o/"+V(jt),l,p)+tn({alt:"media",token:De})})[0]}(M,I,u.host,u._protocol)}}(u,l),V);return te.errorHandler=Ji(a),te}(u.storage,u._location,Qn());return u.storage.makeRequestWithTokens(a,Jn).then(l=>{if(null===l)throw function Te(){return new we(Ve.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return l})}function Ls(u,a){const l=function je(u,a){const l=a.split("/").filter(p=>p.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,a),p=new In(u._location.bucket,l);return new an(u.storage,p)}function Ms(u,a){if(u instanceof io){const l=u;if(null==l._bucket)throw function $t(){return new we(Ve.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+At+"' property when initializing the app?")}();const p=new an(l,l._bucket);return null!=a?Ms(p,a):p}return void 0!==a?Ls(u,a):u}function ro(u,a){if(a&&function wa(u){return/^[A-Za-z]+:\/\//.test(u)}(a)){if(u instanceof io)return function bo(u,a){return new an(u,a)}(u,a);throw ln("To use ref(service, url), the first argument must be a Storage instance.")}return Ms(u,a)}function ua(u,a){const l=null==a?void 0:a[At];return null==l?null:In.makeFromBucketSpec(l,u)}class io{constructor(a,l,p,I,M){this.app=a,this._authProvider=l,this._appCheckProvider=p,this._url=I,this._firebaseVersion=M,this._bucket=null,this._host=Ze,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?In.makeFromBucketSpec(I,this._host):ua(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?In.makeFromBucketSpec(this._url,a):ua(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){Ir("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){Ir("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,de.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const l=a._authProvider.getImmediate({optional:!0});if(l){const p=yield l.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,de.Z)(function*(){const l=a._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new an(this,a)}_makeRequest(a,l,p,I,M=!0){if(this._deleted)return new lr(Rn());{const V=function xi(u,a,l,p,I,M,V=!0){const te=tn(u.urlParams),fe=u.url+te,De=Object.assign({},u.headers);return function gi(u,a){a&&(u["X-Firebase-GMPID"]=a)}(De,a),function qr(u,a){null!==a&&a.length>0&&(u.Authorization="Firebase "+a)}(De,l),function ni(u,a){u["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager")}(De,M),function Ur(u,a){null!==a&&(u["X-Firebase-AppCheck"]=a)}(De,p),new Jr(fe,u.method,De,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,I,V)}(a,this._appId,p,I,l,this._firebaseVersion,M);return this._requests.add(V),V.getPromise().then(()=>this._requests.delete(V),()=>this._requests.delete(V)),V}}makeRequestWithTokens(a,l){var p=this;return(0,de.Z)(function*(){const[I,M]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(a,l,I,M).getPromise()})()}}const ps="@firebase/storage";function Ds(u,a){return ro(u=(0,Y.m9)(u),a)}function hi(u,{instanceIdentifier:a}){const l=u.getProvider("app").getImmediate(),p=u.getProvider("auth-internal"),I=u.getProvider("app-check-internal");return new io(l,p,I,a,pt.SDK_VERSION)}!function yo(){(0,pt._registerComponent)(new et.wA("storage",hi,"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(ps,"0.11.2",""),(0,pt.registerVersion)(ps,"0.11.2","esm2017")}();class Bo{constructor(a,l,p){this._delegate=a,this.task=l,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ti{constructor(a,l){this._delegate=a,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bo(this._delegate.snapshot,this,this._ref)}then(a,l){return this._delegate.then(p=>{if(a)return a(new Bo(p,this,this._ref))},l)}on(a,l,p,I){let M;return l&&(M="function"==typeof l?V=>l(new Bo(V,this,this._ref)):{next:l.next?V=>l.next(new Bo(V,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(a,M,p||void 0,I||void 0)}}class Qo{constructor(a,l){this._delegate=a,this._service=l}get prefixes(){return this._delegate.prefixes.map(a=>new Ts(a,this._service))}get items(){return this._delegate.items.map(a=>new Ts(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ts{constructor(a,l){this._delegate=a,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const l=function Xo(u,a){return Ls(u,a)}(this._delegate,a);return new Ts(l,this.storage)}get root(){return new Ts(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new Ts(a,this.storage)}put(a,l){return this._throwIfRoot("put"),new Ti(function so(u,a,l){return function xr(u,a,l){return u._throwIfRoot("uploadBytesResumable"),new qt(u,new ot(a),l)}(u=(0,Y.m9)(u),a,l)}(this._delegate,a,l),this)}putString(a,l=mr.RAW,p){this._throwIfRoot("putString");const I=Ge(l,a),M=Object.assign({},p);return null==M.contentType&&null!=I.contentType&&(M.contentType=I.contentType),new Ti(new qt(this._delegate,new ot(I.data,!0),M),this)}listAll(){return function Hs(u){return function fo(u){const a={prefixes:[],items:[]};return $i(u,a).then(()=>a)}(u=(0,Y.m9)(u))}(this._delegate).then(a=>new Qo(a,this.storage))}list(a){return function Do(u,a){return Hi(u=(0,Y.m9)(u),a)}(this._delegate,a||void 0).then(l=>new Qo(l,this.storage))}getMetadata(){return function Ii(u){return function Yo(u){u._throwIfRoot("getMetadata");const a=_s(u.storage,u._location,Qn());return u.storage.makeRequestWithTokens(a,Jn)}(u=(0,Y.m9)(u))}(this._delegate)}updateMetadata(a){return function ts(u,a){return function ca(u,a){u._throwIfRoot("updateMetadata");const l=function li(u,a,l,p){const M=Tn(a.fullServerUrl(),u.host,u._protocol),te=Qt(l,p),De=u.maxOperationRetryTime,xt=new $n(M,"PATCH",Wn(u,p),De);return xt.headers={"Content-Type":"application/json; charset=utf-8"},xt.body=te,xt.errorHandler=Ji(a),xt}(u.storage,u._location,a,Qn());return u.storage.makeRequestWithTokens(l,Jn)}(u=(0,Y.m9)(u),a)}(this._delegate,a)}getDownloadURL(){return function Zo(u){return qi(u=(0,Y.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function oo(u){return function no(u){u._throwIfRoot("deleteObject");const a=function Dr(u,a){const p=Tn(a.fullServerUrl(),u.host,u._protocol),te=new $n(p,"DELETE",function V(fe,De){},u.maxOperationRetryTime);return te.successCodes=[200,204],te.errorHandler=Ji(a),te}(u.storage,u._location);return u.storage.makeRequestWithTokens(a,Jn)}(u=(0,Y.m9)(u))}(this._delegate)}_throwIfRoot(a){if(""===this._delegate._location.path)throw Kn(a)}}class ns{constructor(a,l){this.app=a,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(yl(a))throw ln("ref() expected a child path but got a URL, use refFromURL instead.");return new Ts(Ds(this._delegate,a),this)}refFromURL(a){if(!yl(a))throw ln("refFromURL() expected a full URL but got a child path, use ref() instead.");try{In.makeFromUrl(a,this._delegate.host)}catch{throw ln("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ts(Ds(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,l,p={}){!function Ca(u,a,l,p={}){!function rl(u,a,l,p={}){u.host=`${a}:${l}`,u._protocol="http";const{mockUserToken:I}=p;I&&(u._overrideAuthToken="string"==typeof I?I:(0,Y.Sg)(I,u.app.options.projectId))}(u,a,l,p)}(this._delegate,a,l,p)}}function yl(u){return/^[A-Za-z]+:\/\//.test(u)}function us(u,{instanceIdentifier:a}){const l=u.getProvider("app-compat").getImmediate(),p=u.getProvider("storage").getImmediate({identifier:a});return new ns(l,p)}!function Jo(u){const a={TaskState:kt,TaskEvent:Nt,StringFormat:mr,Storage:ns,Reference:Ts};u.INTERNAL.registerComponent(new et.wA("storage-compat",us,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(Se.Z);var fa=H(6217),Is=H(9260);function ea(u){const a=function pa(u){return new me.y(a=>{const l=V=>a.next(V);l(u.snapshot);const M=u.on("state_changed",l);return u.then(V=>{l(V),a.complete()},V=>{l(u.snapshot),(V=>{a.error(V)})(V)}),function(){M()}}).pipe(function ze(u,a=_e.z){return(0,ge.e)((l,p)=>{let I=null,M=null,V=null;const te=()=>{if(I){I.unsubscribe(),I=null;const De=M;M=null,p.next(De)}};function fe(){const De=V+u,xt=a.now();if(xt<De)return I=this.schedule(void 0,De-xt),void p.add(I);te()}l.subscribe((0,ve.x)(p,De=>{M=De,V=a.now(),I||(I=a.schedule(fe,u),p.add(I))},()=>{te(),p.complete()},void 0,()=>{M=I=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,He.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function pr(u){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(bt.fc,(0,rt.w)(()=>u.getDownloadURL()),bt.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(bt.fc,(0,rt.w)(()=>u.getMetadata()),bt.iC),delete:()=>(0,Ne.D)(u.delete()),child:a=>pr(u.child(a)),updateMetadata:a=>(0,Ne.D)(u.updateMetadata(a)),put:(a,l)=>ea(u.put(a,l)),putString:(a,l,p)=>ea(u.putString(a,l,p)),list:a=>(0,Ne.D)(u.list(a)),listAll:()=>(0,Ne.D)(u.listAll())}}const $o=new _.OlP("angularfire2.storageBucket"),ga=new _.OlP("angularfire2.storage.maxUploadRetryTime"),b=new _.OlP("angularfire2.storage.maxOperationRetryTime"),q=new _.OlP("angularfire2.storage.use-emulator");let T=(()=>{class u{constructor(l,p,I,M,V,te,fe,De,xt,jt){const Yt=(0,Re.on)(l,V,p);this.storage=(0,Re.cc)(`${Yt.name}.storage.${I}`,"AngularFireStorage",Yt.name,()=>{const En=V.runOutsideAngular(()=>Yt.storage(I||void 0)),Vn=xt;return Vn&&En.useEmulator(...Vn),fe&&En.setMaxUploadRetryTime(fe),De&&En.setMaxOperationRetryTime(De),En},[fe,De])}ref(l){return pr(this.storage.ref(l))}refFromURL(l){return pr(this.storage.refFromURL(l))}upload(l,p,I){return pr(this.storage.ref(l)).put(p,I)}}return u.\u0275fac=function(l){return new(l||u)(_.LFG(Re.Dh),_.LFG(Re.xv,8),_.LFG($o,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(bt.HU),_.LFG(ga,8),_.LFG(b,8),_.LFG(q,8),_.LFG(fa.nm,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),pe=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})(),B=(()=>{class u{constructor(){Is.Z.registerVersion("angularfire",bt.q4.full,"gcs-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[T],imports:[pe]}),u})();var R=H(1762),O=H(6451),ne=H(3099),yt=H(5026),dn=H(1884),jr=H(8421),yi=H(4671),Si=H(5032),gs=H(7669);H(3042);var ma=H(1877);const ds="@firebase/database";let il="";function To(u){il=u}class vo{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,l){null==l?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,Y.Wl)(l))}get(a){const l=this.domStorage_.getItem(this.prefixedName_(a));return null==l?null:(0,Y.cI)(l)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}class _l{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,l){null==l?delete this.cache_[a]:this.cache_[a]=l}get(a){return(0,Y.r3)(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}const ya=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new vo(a)}}catch{}return new _l},Ua=ya("localStorage"),ms=ya("sessionStorage"),Os=new ma.Yd("@firebase/database"),Va=function(){let u=1;return function(){return u++}}(),ja=function(u){const a=(0,Y.dS)(u),l=new Y.gQ;l.update(a);const p=l.digest();return Y.US.encodeByteArray(p)},_o=function(...u){let a="";for(let l=0;l<u.length;l++){const p=u[l];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?a+=_o.apply(null,p):a+="object"==typeof p?(0,Y.Wl)(p):p,a+=" "}return a};let Uo=null,El=!0;const ta=function(u,a){(0,Y.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Os.logLevel=ma.in.VERBOSE,Uo=Os.log.bind(Os),a&&ms.set("logging_enabled",!0)):"function"==typeof u?Uo=u:(Uo=null,ms.remove("logging_enabled"))},hs=function(...u){if(!0===El&&(El=!1,null===Uo&&!0===ms.get("logging_enabled")&&ta(!0)),Uo){const a=_o.apply(null,u);Uo(a)}},Eo=function(u){return function(...a){hs(u,...a)}},Vo=function(...u){const a="FIREBASE INTERNAL ERROR: "+_o(...u);Os.error(a)},ao=function(...u){const a=`FIREBASE FATAL ERROR: ${_o(...u)}`;throw Os.error(a),new Error(a)},is=function(...u){const a="FIREBASE WARNING: "+_o(...u);Os.warn(a)},Ha=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Ni="[MIN_NAME]",si="[MAX_NAME]",Da=function(u,a){if(u===a)return 0;if(u===Ni||a===si)return-1;if(a===Ni||u===si)return 1;{const l=Vt(u),p=Vt(a);return null!==l?null!==p?l-p==0?u.length-a.length:l-p:-1:null!==p?1:u<a?-1:1}},So=function(u,a){return u===a?0:u<a?-1:1},Il=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,Y.Wl)(a))},lo=function(u){if("object"!=typeof u||null===u)return(0,Y.Wl)(u);const a=[];for(const p in u)a.push(p);a.sort();let l="{";for(let p=0;p<a.length;p++)0!==p&&(l+=","),l+=(0,Y.Wl)(a[p]),l+=":",l+=lo(u[a[p]]);return l+="}",l},jl=function(u,a){const l=u.length;if(l<=a)return[u];const p=[];for(let I=0;I<l;I+=a)p.push(u.substring(I,I+a>l?l:I+a));return p};function Rr(u,a){for(const l in u)u.hasOwnProperty(l)&&a(l,u[l])}const Hl=function(u){(0,Y.hu)(!Ha(u),"Invalid JSON number");const p=1023;let I,M,V,te,fe;0===u?(M=0,V=0,I=1/u==-1/0?1:0):(I=u<0,(u=Math.abs(u))>=Math.pow(2,1-p)?(te=Math.min(Math.floor(Math.log(u)/Math.LN2),p),M=te+p,V=Math.round(u*Math.pow(2,52-te)-Math.pow(2,52))):(M=0,V=Math.round(u/Math.pow(2,-1074))));const De=[];for(fe=52;fe;fe-=1)De.push(V%2?1:0),V=Math.floor(V/2);for(fe=11;fe;fe-=1)De.push(M%2?1:0),M=Math.floor(M/2);De.push(I?1:0),De.reverse();const xt=De.join("");let jt="";for(fe=0;fe<64;fe+=8){let Yt=parseInt(xt.substr(fe,8),2).toString(16);1===Yt.length&&(Yt="0"+Yt),jt+=Yt}return jt.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),Vt=function(u){if(j.test(u)){const a=Number(u);if(a>=-2147483648&&a<=2147483647)return a}return null},Wt=function(u){try{u()}catch(a){setTimeout(()=>{throw is("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},Ln=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gr=function(u,a){const l=setTimeout(u,a);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class $r{constructor(a,l){this.appName_=a,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(p=>this.appCheck=p)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((l,p)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(l,p):l(null)},0)})}addTokenChangeListener(a){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(p=>p.addTokenListener(a))}notifyForInvalidToken(){is(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lr{constructor(a,l,p){this.appName_=a,this.firebaseOptions_=l,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(I=>this.auth_=I)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(l=>l&&"auth/token-not-initialized"===l.code?(hs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,p)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(l,p):l(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(l=>l.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(l=>l.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',is(a)}}let wr=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Ws=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ta="websocket",za="long_polling";class zl{constructor(a,l,p,I,M=!1,V="",te=!1,fe=!1){this.secure=l,this.namespace=p,this.webSocketOnly=I,this.nodeAdmin=M,this.persistenceKey=V,this.includeNamespaceInQueryParams=te,this.isUsingEmulator=fe,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function va(u,a,l){let p;if((0,Y.hu)("string"==typeof a,"typeof type must == string"),(0,Y.hu)("object"==typeof l,"typeof params must == object"),a===Ta)p=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==za)throw new Error("Unknown connection type: "+a);p=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function sl(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const I=[];return Rr(l,(M,V)=>{I.push(M+"="+V)}),p+I.join("&")}class Gc{constructor(){this.counters_={}}incrementCounter(a,l=1){(0,Y.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=l}get(){return(0,Y.p$)(this.counters_)}}const Wi={},Cl={};function Zi(u){const a=u.toString();return Wi[a]||(Wi[a]=new Gc),Wi[a]}class Gl{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,l){this.closeAfterResponse=a,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,l){for(this.pendingResponses[a]=l;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let I=0;I<p.length;++I)p[I]&&Wt(()=>{this.onMessage_(p[I])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jo{constructor(a,l,p,I,M,V,te){this.connId=a,this.repoInfo=l,this.applicationId=p,this.appCheckToken=I,this.authToken=M,this.transportSessionId=V,this.lastSessionId=te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eo(a),this.stats_=Zi(l),this.urlFn=fe=>(this.appCheckToken&&(fe.ac=this.appCheckToken),va(l,za,fe))}open(a,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Gl(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Y.Yr)()||"complete"===document.readyState)u();else{let a=!1;const l=function(){document.body?a||(a=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ga((...M)=>{const[V,te,fe,De,xt]=M;if(this.incrementIncomingBytes_(M),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===V)this.id=te,this.password=fe;else{if("close"!==V)throw new Error("Unrecognized command received: "+V);te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(te,()=>{this.onClosed_()})):this.onClosed_()}},(...M)=>{const[V,te]=M;this.incrementIncomingBytes_(M),this.myPacketOrderer.handleResponse(V,te)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ws.test(location.hostname)&&(p.r="f");const I=this.urlFn(p);this.log_("Connecting via long-poll to "+I),this.scriptTagHolder.addTag(I,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jo.forceAllow_=!0}static forceDisallow(){jo.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!jo.forceAllow_&&(jo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const l=(0,Y.Wl)(a);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const p=(0,Y.h$)(l),I=jl(p,1840);for(let M=0;M<I.length;M++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[M]),this.curSegmentNum++}addDisconnectPingFrame(a,l){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=a,p.pw=l,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const l=(0,Y.Wl)(a).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Ga{constructor(a,l,p,I){if(this.onDisconnect=p,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=a,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=Va(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=Ga.createIFrame_();let M="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(M='<script>document.domain="'+document.domain+'";<\/script>');const V="<html><body>"+M+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(V),this.myIFrame.doc.close()}catch(te){hs("frame writing exception"),te.stack&&hs(te.stack),hs(te)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||hs("No IE domain setting required")}catch{const p=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,l){for(this.myID=a,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let l=this.urlFn(a),p="",I=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const V=this.pendingSegs.shift();p=p+"&seg"+I+"="+V.seg+"&ts"+I+"="+V.ts+"&d"+I+"="+V.d,I++}return l+=p,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(a,l,p){this.pendingSegs.push({seg:a,ts:l,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(a,l){this.outstandingRequests.add(l);const p=()=>{this.outstandingRequests.delete(l),this.newRequest_()},I=setTimeout(p,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(I),p()})}addTag(a,l){(0,Y.Yr)()?this.doNodeLongPoll(a,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=a,p.onload=p.onreadystatechange=function(){const I=p.readyState;(!I||"loaded"===I||"complete"===I)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),l())},p.onerror=()=>{hs("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch{}},Math.floor(1))}}let ol=null;typeof MozWebSocket<"u"?ol=MozWebSocket:typeof WebSocket<"u"&&(ol=WebSocket);let sr=(()=>{class u{constructor(l,p,I,M,V,te,fe){this.connId=l,this.applicationId=I,this.appCheckToken=M,this.authToken=V,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eo(this.connId),this.stats_=Zi(p),this.connURL=u.connectionURL_(p,te,fe,M,I),this.nodeAdmin=p.nodeAdmin}static connectionURL_(l,p,I,M,V){const te={v:"5"};return!(0,Y.Yr)()&&typeof location<"u"&&location.hostname&&Ws.test(location.hostname)&&(te.r="f"),p&&(te.s=p),I&&(te.ls=I),M&&(te.ac=M),V&&(te.p=V),va(l,Ta,te)}open(l,p){this.onDisconnect=p,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{let I;if((0,Y.Yr)()){I={headers:{"User-Agent":`Firebase/5/${il}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(I.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(I.headers["X-Firebase-AppCheck"]=this.appCheckToken);const V=process.env,te=0===this.connURL.indexOf("wss://")?V.HTTPS_PROXY||V.https_proxy:V.HTTP_PROXY||V.http_proxy;te&&(I.proxy={origin:te})}this.mySock=new ol(this.connURL,[],I)}catch(I){this.log_("Error instantiating WebSocket.");const M=I.message||I.data;return M&&this.log_(M),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=I=>{this.handleIncomingFrame(I)},this.mySock.onerror=I=>{this.log_("WebSocket error.  Closing connection.");const M=I.message||I.data;M&&this.log_(M),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const I=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);I&&I.length>1&&parseFloat(I[1])<4.4&&(l=!0)}return!l&&null!==ol&&!u.forceDisallow_}static previouslyFailed(){return Ua.isInMemoryStorage||!0===Ua.get("previous_websocket_failure")}markConnectionHealthy(){Ua.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const I=(0,Y.cI)(p);this.onMessage(I)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const p=Number(l);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const p=l.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const I=this.extractFrameCount_(p);null!==I&&this.appendFrame_(I)}}send(l){this.resetKeepAlive();const p=(0,Y.Wl)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const I=jl(p,16384);I.length>1&&this.sendString_(String(I.length));for(let M=0;M<I.length;M++)this.sendString_(I[M])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),ia=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[jo,sr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const p=sr&&sr.isAvailable();let I=p&&!sr.previouslyFailed();if(l.webSocketOnly&&(p||is("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),I=!0),I)this.transports_=[sr];else{const M=this.transports_=[];for(const V of u.ALL_TRANSPORTS)V&&V.isAvailable()&&M.push(V);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Wa{constructor(a,l,p,I,M,V,te,fe,De,xt){this.id=a,this.repoInfo_=l,this.applicationId_=p,this.appCheckToken_=I,this.authToken_=M,this.onMessage_=V,this.onReady_=te,this.onDisconnect_=fe,this.onKill_=De,this.lastSessionId=xt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eo("c:"+this.id+":"),this.transportManager_=new ia(l),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,p)},Math.floor(0));const I=a.healthyTimeout||0;I>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(I)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return l=>{a===this.conn_?this.onConnectionLost_(l):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return l=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(l):a===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(a){this.sendData_({t:"d",d:a})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){const l=a.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const l=Il("t",a),p=Il("d",a);if("c"===l)this.onSecondaryControl_(p);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const l=Il("t",a),p=Il("d",a);"c"===l?this.onControl_(p):"d"===l&&this.onDataMessage_(p)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const l=Il("t",a);if("d"in a){const p=a.d;if("h"===l){const I=Object.assign({},p);this.repoInfo_.isUsingEmulator&&(I.h=this.repoInfo_.host),this.onHandshake_(I)}else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(p):"r"===l?this.onReset_(p):"e"===l?Vo("Server Error: "+p):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vo("Unknown control packet command: "+l)}}onHandshake_(a){const l=a.ts,p=a.v,I=a.h;this.sessionId=a.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==p&&is("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,p),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,l){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Yc{put(a,l,p,I){}merge(a,l,p,I){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,l,p){}onDisconnectMerge(a,l,p){}onDisconnectCancel(a,l){}reportStats(a){}}class Zu{constructor(a){this.allowedEvents_=a,this.listeners_={},(0,Y.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...l){if(Array.isArray(this.listeners_[a])){const p=[...this.listeners_[a]];for(let I=0;I<p.length;I++)p[I].callback.apply(p[I].context,l)}}on(a,l,p){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:l,context:p});const I=this.getInitialEvent(a);I&&l.apply(p,I)}off(a,l,p){this.validateEventType_(a);const I=this.listeners_[a]||[];for(let M=0;M<I.length;M++)if(I[M].callback===l&&(!p||p===I[M].context))return void I.splice(M,1)}validateEventType_(a){(0,Y.hu)(this.allowedEvents_.find(l=>l===a),"Unknown event: "+a)}}class Yr extends Zu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yr}getInitialEvent(a){return(0,Y.hu)("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}const cc=32,Aa=768;class Mi{constructor(a,l){if(void 0===l){this.pieces_=a.split("/");let p=0;for(let I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[p]=this.pieces_[I],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=l}toString(){let a="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(a+="/"+this.pieces_[l]);return a||"/"}}function vr(){return new Mi("")}function Or(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Rt(u){return u.pieces_.length-u.pieceNum_}function wi(u){let a=u.pieceNum_;return a<u.pieces_.length&&a++,new Mi(u.pieces_,a)}function ws(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function _a(u,a=0){return u.pieces_.slice(u.pieceNum_+a)}function Ro(u){if(u.pieceNum_>=u.pieces_.length)return null;const a=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)a.push(u.pieces_[l]);return new Mi(a,0)}function Qi(u,a){const l=[];for(let p=u.pieceNum_;p<u.pieces_.length;p++)l.push(u.pieces_[p]);if(a instanceof Mi)for(let p=a.pieceNum_;p<a.pieces_.length;p++)l.push(a.pieces_[p]);else{const p=a.split("/");for(let I=0;I<p.length;I++)p[I].length>0&&l.push(p[I])}return new Mi(l,0)}function fr(u){return u.pieceNum_>=u.pieces_.length}function S(u,a){const l=Or(u),p=Or(a);if(null===l)return a;if(l===p)return S(wi(u),wi(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function x(u,a){const l=_a(u,0),p=_a(a,0);for(let I=0;I<l.length&&I<p.length;I++){const M=Da(l[I],p[I]);if(0!==M)return M}return l.length===p.length?0:l.length<p.length?-1:1}function w(u,a){if(Rt(u)!==Rt(a))return!1;for(let l=u.pieceNum_,p=a.pieceNum_;l<=u.pieces_.length;l++,p++)if(u.pieces_[l]!==a.pieces_[p])return!1;return!0}function k(u,a){let l=u.pieceNum_,p=a.pieceNum_;if(Rt(u)>Rt(a))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==a.pieces_[p])return!1;++l,++p}return!0}class z{constructor(a,l){this.errorPrefix_=l,this.parts_=_a(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,Y.ug)(this.parts_[p]);nt(this)}}function nt(u){if(u.byteLength_>Aa)throw new Error(u.errorPrefix_+"has a key path longer than "+Aa+" bytes ("+u.byteLength_+").");if(u.parts_.length>cc)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cc+") or object contains a cycle "+Pt(u))}function Pt(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class pn extends Zu{constructor(){let a,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const p=!document[a];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new pn}getInitialEvent(a){return(0,Y.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]}}const Bn=1e3;let Ys,$s=(()=>{class u extends Yc{constructor(l,p,I,M,V,te,fe,De){if(super(),this.repoInfo_=l,this.applicationId_=p,this.onDataUpdate_=I,this.onConnectStatus_=M,this.onServerInfoUpdate_=V,this.authTokenProvider_=te,this.appCheckTokenProvider_=fe,this.authOverride_=De,this.id=u.nextPersistentConnectionId_++,this.log_=Eo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,De&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pn.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Yr.getInstance().on("online",this.onOnline_,this)}sendRequest(l,p,I){const M=++this.requestNumber_,V={r:M,a:l,b:p};this.log_((0,Y.Wl)(V)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(V),I&&(this.requestCBHash_[M]=I)}get(l){this.initConnection_();const p=new Y.BH,M={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:te=>{const fe=te.d;"ok"===te.s?p.resolve(fe):p.reject(fe)}};return this.outstandingGets_.push(M),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),p.promise}listen(l,p,I,M){this.initConnection_();const V=l._queryIdentifier,te=l._path.toString();this.log_("Listen called for "+te+" "+V),this.listens.has(te)||this.listens.set(te,new Map),(0,Y.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(te).has(V),"listen() called twice for same path/queryId.");const fe={onComplete:M,hashFn:p,query:l,tag:I};this.listens.get(te).set(V,fe),this.connected_&&this.sendListen_(fe)}sendGet_(l){const p=this.outstandingGets_[l];this.sendRequest("g",p.request,I=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(I)})}sendListen_(l){const p=l.query,I=p._path.toString(),M=p._queryIdentifier;this.log_("Listen on "+I+" for "+M);const V={p:I};l.tag&&(V.q=p._queryObject,V.t=l.tag),V.h=l.hashFn(),this.sendRequest("q",V,fe=>{const De=fe.d,xt=fe.s;u.warnOnListenWarnings_(De,p),(this.listens.get(I)&&this.listens.get(I).get(M))===l&&(this.log_("listen response",fe),"ok"!==xt&&this.removeListen_(I,M),l.onComplete&&l.onComplete(xt,De))})}static warnOnListenWarnings_(l,p){if(l&&"object"==typeof l&&(0,Y.r3)(l,"w")){const I=(0,Y.DV)(l,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){const M='".indexOn": "'+p._queryParams.getIndex().toString()+'"',V=p._path.toString();is(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${M} at ${V} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,Y.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,p=(0,Y.w9)(l)?"auth":"gauth",I={cred:l};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(p,I,M=>{const V=M.s,te=M.d||"error";this.authToken_===l&&("ok"===V?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(V,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const p=l.s,I=l.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,I)})}unlisten(l,p){const I=l._path.toString(),M=l._queryIdentifier;this.log_("Unlisten called for "+I+" "+M),(0,Y.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,M)&&this.connected_&&this.sendUnlisten_(I,M,l._queryObject,p)}sendUnlisten_(l,p,I,M){this.log_("Unlisten on "+l+" for "+p);const V={p:l};M&&(V.q=I,V.t=M),this.sendRequest("n",V)}onDisconnectPut(l,p,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,p,I):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:p,onComplete:I})}onDisconnectMerge(l,p,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,p,I):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:p,onComplete:I})}onDisconnectCancel(l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,p):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(l,p,I,M){const V={p,d:I};this.log_("onDisconnect "+l,V),this.sendRequest(l,V,te=>{M&&setTimeout(()=>{M(te.s,te.d)},Math.floor(0))})}put(l,p,I,M){this.putInternal("p",l,p,I,M)}merge(l,p,I,M){this.putInternal("m",l,p,I,M)}putInternal(l,p,I,M,V){this.initConnection_();const te={p,d:I};void 0!==V&&(te.h=V),this.outstandingPuts_.push({action:l,request:te,onComplete:M}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(l){const p=this.outstandingPuts_[l].action,I=this.outstandingPuts_[l].request,M=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(p,I,V=>{this.log_(p+" response",V),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),M&&M(V.s,V.d)})}reportStats(l){if(this.connected_){const p={c:l};this.log_("reportStats",p),this.sendRequest("s",p,I=>{"ok"!==I.s&&this.log_("reportStats","Error sending stats: "+I.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,Y.Wl)(l));const p=l.r,I=this.requestCBHash_[p];I&&(delete this.requestCBHash_[p],I(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,p){this.log_("handleServerMessage",l,p),"d"===l?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===l?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===l?this.onListenRevoked_(p.p,p.q):"ac"===l?this.onAuthRevoked_(p.s,p.d):"apc"===l?this.onAppCheckRevoked_(p.s,p.d):"sd"===l?this.onSecurityDebugPacket_(p):Vo("Unrecognized action received from server: "+(0,Y.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-l);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,de.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const p=l.onDataMessage_.bind(l),I=l.onReady_.bind(l),M=l.onRealtimeDisconnect_.bind(l),V=l.id+":"+u.nextConnectionId_++,te=l.lastSessionId;let fe=!1,De=null;const xt=function(){De?De.close():(fe=!0,M())};l.realtime_={close:xt,sendRequest:function(En){(0,Y.hu)(De,"sendRequest call when we're not connected not allowed."),De.sendRequest(En)}};const Yt=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[En,Vn]=yield Promise.all([l.authTokenProvider_.getToken(Yt),l.appCheckTokenProvider_.getToken(Yt)]);fe?hs("getToken() completed but was canceled"):(hs("getToken() completed. Creating connection."),l.authToken_=En&&En.accessToken,l.appCheckToken_=Vn&&Vn.token,De=new Wa(V,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,p,I,M,Kr=>{is(Kr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},te))}catch(En){l.log_("Failed to get token: "+En),fe||(l.repoInfo_.nodeAdmin&&is(En),xt())}}})()}interrupt(l){hs("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){hs("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const p=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const p=this.outstandingPuts_[l];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,p){let I;I=p?p.map(V=>lo(V)).join("$"):"default";const M=this.removeListen_(l,I);M&&M.onComplete&&M.onComplete("permission_denied")}removeListen_(l,p){const I=new Mi(l).toString();let M;if(this.listens.has(I)){const V=this.listens.get(I);M=V.get(p),V.delete(p),0===V.size&&this.listens.delete(I)}else M=void 0;return M}onAuthRevoked_(l,p){hs("Auth token revoked: "+l+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,p){hs("App check token revoked: "+l+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const p of l.values())this.sendListen_(p);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let p="js";(0,Y.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+p+"."+il.replace(/\./g,"-")]=1,(0,Y.uI)()?l["framework.cordova"]=1:(0,Y.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Yr.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Ar{constructor(a,l){this.name=a,this.node=l}static Wrap(a,l){return new Ar(a,l)}}class Sl{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,l){const p=new Ar(Ni,a),I=new Ar(Ni,l);return 0!==this.compare(p,I)}minPost(){return Ar.MIN}}class Xc extends Sl{static get __EMPTY_NODE(){return Ys}static set __EMPTY_NODE(a){Ys=a}compare(a,l){return Da(a.name,l.name)}isDefinedOn(a){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,l){return!1}minPost(){return Ar.MIN}maxPost(){return new Ar(si,Ys)}makePost(a,l){return(0,Y.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new Ar(a,Ys)}toString(){return".key"}}const Ka=new Xc;class al{constructor(a,l,p,I,M=null){this.isReverse_=I,this.resultGenerator_=M,this.nodeStack_=[];let V=1;for(;!a.isEmpty();)if(V=l?p(a.key,l):1,I&&(V*=-1),V<0)a=this.isReverse_?a.left:a.right;else{if(0===V){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,a=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}let Ld,sa=(()=>{class u{constructor(l,p,I,M,V){this.key=l,this.value=p,this.color=null!=I?I:u.RED,this.left=null!=M?M:Ea.EMPTY_NODE,this.right=null!=V?V:Ea.EMPTY_NODE}copy(l,p,I,M,V){return new u(null!=l?l:this.key,null!=p?p:this.value,null!=I?I:this.color,null!=M?M:this.left,null!=V?V:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,p,I){let M=this;const V=I(l,M.key);return M=V<0?M.copy(null,null,null,M.left.insert(l,p,I),null):0===V?M.copy(null,p,null,null,null):M.copy(null,null,null,null,M.right.insert(l,p,I)),M.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ea.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,p){let I,M;if(I=this,p(l,I.key)<0)!I.left.isEmpty()&&!I.left.isRed_()&&!I.left.left.isRed_()&&(I=I.moveRedLeft_()),I=I.copy(null,null,null,I.left.remove(l,p),null);else{if(I.left.isRed_()&&(I=I.rotateRight_()),!I.right.isEmpty()&&!I.right.isRed_()&&!I.right.left.isRed_()&&(I=I.moveRedRight_()),0===p(l,I.key)){if(I.right.isEmpty())return Ea.EMPTY_NODE;M=I.right.min_(),I=I.copy(M.key,M.value,null,null,I.right.removeMin_())}I=I.copy(null,null,null,null,I.right.remove(l,p))}return I.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,p)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Ea{constructor(a,l=Ea.EMPTY_NODE){this.comparator_=a,this.root_=l}insert(a,l){return new Ea(this.comparator_,this.root_.insert(a,l,this.comparator_).copy(null,null,sa.BLACK,null,null))}remove(a){return new Ea(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,sa.BLACK,null,null))}get(a){let l,p=this.root_;for(;!p.isEmpty();){if(l=this.comparator_(a,p.key),0===l)return p.value;l<0?p=p.left:l>0&&(p=p.right)}return null}getPredecessorKey(a){let l,p=this.root_,I=null;for(;!p.isEmpty();){if(l=this.comparator_(a,p.key),0===l){if(p.left.isEmpty())return I?I.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}l<0?p=p.left:l>0&&(I=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new al(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,l){return new al(this.root_,a,this.comparator_,!1,l)}getReverseIteratorFrom(a,l){return new al(this.root_,a,this.comparator_,!0,l)}getReverseIterator(a){return new al(this.root_,null,this.comparator_,!0,a)}}function _u(u,a){return Da(u.name,a.name)}function Eu(u,a){return Da(u,a)}Ea.EMPTY_NODE=new class Xu{copy(a,l,p,I,M){return this}insert(a,l,p){return new sa(a,l,null)}remove(a,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bd=function(u){return"number"==typeof u?"number:"+Hl(u):"string:"+u},Qu=function(u){if(u.isLeafNode()){const a=u.val();(0,Y.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,Y.r3)(a,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(u===Ld||u.isEmpty(),"priority of unexpected type.");(0,Y.hu)(u===Ld||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ql,Ju,Ss,uc=(()=>{class u{constructor(l,p=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=p,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qu(this.priorityNode_)}static set __childrenNodeConstructor(l){ql=l}static get __childrenNodeConstructor(){return ql}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return fr(l)?this:".priority"===Or(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,p){return null}updateImmediateChild(l,p){return".priority"===l?this.updatePriority(p):p.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,p).updatePriority(this.priorityNode_)}updateChild(l,p){const I=Or(l);return null===I?p:p.isEmpty()&&".priority"!==I?this:((0,Y.hu)(".priority"!==I||1===Rt(l),".priority must be the last token in a path"),this.updateImmediateChild(I,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(wi(l),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,p){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+Bd(this.priorityNode_.val())+":");const p=typeof this.value_;l+=p+":",l+="number"===p?Hl(this.value_):this.value_,this.lazyHash_=ja(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,Y.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const p=typeof l.value_,I=typeof this.value_,M=u.VALUE_TYPE_ORDER.indexOf(p),V=u.VALUE_TYPE_ORDER.indexOf(I);return(0,Y.hu)(M>=0,"Unknown leaf type: "+p),(0,Y.hu)(V>=0,"Unknown leaf type: "+I),M===V?"object"===I?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:V-M}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Tr=new class wu extends Sl{compare(a,l){const p=a.node.getPriority(),I=l.node.getPriority(),M=p.compareTo(I);return 0===M?Da(a.name,l.name):M}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,l){return!a.getPriority().equals(l.getPriority())}minPost(){return Ar.MIN}maxPost(){return new Ar(si,new uc("[PRIORITY-POST]",Ss))}makePost(a,l){const p=Ju(a);return new Ar(l,new uc("[PRIORITY-POST]",p))}toString(){return".priority"}},dc=Math.log(2);class Cs{constructor(a){this.count=parseInt(Math.log(a+1)/dc,10),this.current_=this.count-1;const I=(M=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=a+1&I}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const Ki=function(u,a,l,p){u.sort(a);const I=function(fe,De){const xt=De-fe;let jt,Yt;if(0===xt)return null;if(1===xt)return jt=u[fe],Yt=l?l(jt):jt,new sa(Yt,jt.node,sa.BLACK,null,null);{const En=parseInt(xt/2,10)+fe,Vn=I(fe,En),Kr=I(En+1,De);return jt=u[En],Yt=l?l(jt):jt,new sa(Yt,jt.node,sa.BLACK,Vn,Kr)}},te=function(fe){let De=null,xt=null,jt=u.length;const Yt=function(Vn,Kr){const pi=jt-Vn,No=jt;jt-=Vn;const ls=I(pi+1,No),fs=u[pi],Ui=l?l(fs):fs;En(new sa(Ui,fs.node,Kr,null,ls))},En=function(Vn){De?(De.left=Vn,De=Vn):(xt=Vn,De=Vn)};for(let Vn=0;Vn<fe.count;++Vn){const Kr=fe.nextBitIsOne(),pi=Math.pow(2,fe.count-(Vn+1));Kr?Yt(pi,sa.BLACK):(Yt(pi,sa.BLACK),Yt(pi,sa.RED))}return xt}(new Cs(u.length));return new Ea(p||a,te)};let xc;const Po={};class ys{constructor(a,l){this.indexes_=a,this.indexSet_=l}static get Default(){return(0,Y.hu)(Po&&Tr,"ChildrenNode.ts has not been loaded"),xc=xc||new ys({".priority":Po},{".priority":Tr}),xc}get(a){const l=(0,Y.DV)(this.indexes_,a);if(!l)throw new Error("No index defined for "+a);return l instanceof Ea?l:null}hasIndex(a){return(0,Y.r3)(this.indexSet_,a.toString())}addIndex(a,l){(0,Y.hu)(a!==Ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let I=!1;const M=l.getIterator(Ar.Wrap);let te,V=M.getNext();for(;V;)I=I||a.isDefinedOn(V.node),p.push(V),V=M.getNext();te=I?Ki(p,a.getCompare()):Po;const fe=a.toString(),De=Object.assign({},this.indexSet_);De[fe]=a;const xt=Object.assign({},this.indexes_);return xt[fe]=te,new ys(xt,De)}addToIndexes(a,l){const p=(0,Y.UI)(this.indexes_,(I,M)=>{const V=(0,Y.DV)(this.indexSet_,M);if((0,Y.hu)(V,"Missing index implementation for "+M),I===Po){if(V.isDefinedOn(a.node)){const te=[],fe=l.getIterator(Ar.Wrap);let De=fe.getNext();for(;De;)De.name!==a.name&&te.push(De),De=fe.getNext();return te.push(a),Ki(te,V.getCompare())}return Po}{const te=l.get(a.name);let fe=I;return te&&(fe=fe.remove(new Ar(a.name,te))),fe.insert(a,a.node)}});return new ys(p,this.indexSet_)}removeFromIndexes(a,l){const p=(0,Y.UI)(this.indexes_,I=>{if(I===Po)return I;{const M=l.get(a.name);return M?I.remove(new Ar(a.name,M)):I}});return new ys(p,this.indexSet_)}}let hc,Xr=(()=>{class u{constructor(l,p,I){this.children_=l,this.priorityNode_=p,this.indexMap_=I,this.lazyHash_=null,this.priorityNode_&&Qu(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hc||(hc=new u(new Ea(Eu),null,ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hc}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const p=this.children_.get(l);return null===p?hc:p}}getChild(l){const p=Or(l);return null===p?this:this.getImmediateChild(p).getChild(wi(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,p){if((0,Y.hu)(p,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(p);{const I=new Ar(l,p);let M,V;p.isEmpty()?(M=this.children_.remove(l),V=this.indexMap_.removeFromIndexes(I,this.children_)):(M=this.children_.insert(l,p),V=this.indexMap_.addToIndexes(I,this.children_));const te=M.isEmpty()?hc:this.priorityNode_;return new u(M,te,V)}}updateChild(l,p){const I=Or(l);if(null===I)return p;{(0,Y.hu)(".priority"!==Or(l)||1===Rt(l),".priority must be the last token in a path");const M=this.getImmediateChild(I).updateChild(wi(l),p);return this.updateImmediateChild(I,M)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const p={};let I=0,M=0,V=!0;if(this.forEachChild(Tr,(te,fe)=>{p[te]=fe.val(l),I++,V&&u.INTEGER_REGEXP_.test(te)?M=Math.max(M,Number(te)):V=!1}),!l&&V&&M<2*I){const te=[];for(const fe in p)te[fe]=p[fe];return te}return l&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+Bd(this.getPriority().val())+":"),this.forEachChild(Tr,(p,I)=>{const M=I.hash();""!==M&&(l+=":"+p+":"+M)}),this.lazyHash_=""===l?"":ja(l)}return this.lazyHash_}getPredecessorChildName(l,p,I){const M=this.resolveIndex_(I);if(M){const V=M.getPredecessorKey(new Ar(l,p));return V?V.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const p=this.resolveIndex_(l);if(p){const I=p.minKey();return I&&I.name}return this.children_.minKey()}getFirstChild(l){const p=this.getFirstChildName(l);return p?new Ar(p,this.children_.get(p)):null}getLastChildName(l){const p=this.resolveIndex_(l);if(p){const I=p.maxKey();return I&&I.name}return this.children_.maxKey()}getLastChild(l){const p=this.getLastChildName(l);return p?new Ar(p,this.children_.get(p)):null}forEachChild(l,p){const I=this.resolveIndex_(l);return I?I.inorderTraversal(M=>p(M.name,M.node)):this.children_.inorderTraversal(p)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,p){const I=this.resolveIndex_(p);if(I)return I.getIteratorFrom(l,M=>M);{const M=this.children_.getIteratorFrom(l.name,Ar.Wrap);let V=M.peek();for(;null!=V&&p.compare(V,l)<0;)M.getNext(),V=M.peek();return M}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,p){const I=this.resolveIndex_(p);if(I)return I.getReverseIteratorFrom(l,M=>M);{const M=this.children_.getReverseIteratorFrom(l.name,Ar.Wrap);let V=M.peek();for(;null!=V&&p.compare(V,l)>0;)M.getNext(),V=M.peek();return M}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===ed?-1:0}withIndex(l){if(l===Ka||this.indexMap_.hasIndex(l))return this;{const p=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,p)}}isIndexed(l){return l===Ka||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const p=l;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const I=this.getIterator(Tr),M=p.getIterator(Tr);let V=I.getNext(),te=M.getNext();for(;V&&te;){if(V.name!==te.name||!V.node.equals(te.node))return!1;V=I.getNext(),te=M.getNext()}return null===V&&null===te}return!1}return!1}}resolveIndex_(l){return l===Ka?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const ed=new class Zs extends Xr{constructor(){super(new Ea(Eu),Xr.EMPTY_NODE,ys.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return Xr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ar,{MIN:{value:new Ar(Ni,Xr.EMPTY_NODE)},MAX:{value:new Ar(si,ed)}}),Xc.__EMPTY_NODE=Xr.EMPTY_NODE,uc.__childrenNodeConstructor=Xr,function Iu(u){Ld=u}(ed),function xa(u){Ss=u}(ed);const Yl=!0;function Hr(u,a=null){if(null===u)return Xr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,Y.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new uc(u,Hr(a));if(u instanceof Array||!Yl){let l=Xr.EMPTY_NODE;return Rr(u,(p,I)=>{if((0,Y.r3)(u,p)&&"."!==p.substring(0,1)){const M=Hr(I);(M.isLeafNode()||!M.isEmpty())&&(l=l.updateImmediateChild(p,M))}}),l.updatePriority(Hr(a))}{const l=[];let p=!1;if(Rr(u,(V,te)=>{if("."!==V.substring(0,1)){const fe=Hr(te);fe.isEmpty()||(p=p||!fe.getPriority().isEmpty(),l.push(new Ar(V,fe)))}}),0===l.length)return Xr.EMPTY_NODE;const M=Ki(l,_u,V=>V.name,Eu);if(p){const V=Ki(l,Tr.getCompare());return new Xr(M,Hr(a),new ys({".priority":V},{".priority":Tr}))}return new Xr(M,Hr(a),ys.Default)}}!function Sh(u){Ju=u}(Hr);class Us extends Sl{constructor(a){super(),this.indexPath_=a,(0,Y.hu)(!fr(a)&&".priority"!==Or(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,l){const p=this.extractChild(a.node),I=this.extractChild(l.node),M=p.compareTo(I);return 0===M?Da(a.name,l.name):M}makePost(a,l){const p=Hr(a),I=Xr.EMPTY_NODE.updateChild(this.indexPath_,p);return new Ar(l,I)}maxPost(){const a=Xr.EMPTY_NODE.updateChild(this.indexPath_,ed);return new Ar(si,a)}toString(){return _a(this.indexPath_,0).join("/")}}const fc=new class Rc extends Sl{compare(a,l){const p=a.node.compareTo(l.node);return 0===p?Da(a.name,l.name):p}isDefinedOn(a){return!0}indexedValueChanged(a,l){return!a.equals(l)}minPost(){return Ar.MIN}maxPost(){return Ar.MAX}makePost(a,l){const p=Hr(a);return new Ar(l,p)}toString(){return".value"}};function Zl(u){return{type:"value",snapshotNode:u}}function ks(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function Ho(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function uo(u,a,l){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:l}}class ll{constructor(a){this.index_=a}updateChild(a,l,p,I,M,V){(0,Y.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");const te=a.getImmediateChild(l);return te.getChild(I).equals(p.getChild(I))&&te.isEmpty()===p.isEmpty()||(null!=V&&(p.isEmpty()?a.hasChild(l)?V.trackChildChange(Ho(l,te)):(0,Y.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):te.isEmpty()?V.trackChildChange(ks(l,p)):V.trackChildChange(uo(l,p,te))),a.isLeafNode()&&p.isEmpty())?a:a.updateImmediateChild(l,p).withIndex(this.index_)}updateFullNode(a,l,p){return null!=p&&(a.isLeafNode()||a.forEachChild(Tr,(I,M)=>{l.hasChild(I)||p.trackChildChange(Ho(I,M))}),l.isLeafNode()||l.forEachChild(Tr,(I,M)=>{if(a.hasChild(I)){const V=a.getImmediateChild(I);V.equals(M)||p.trackChildChange(uo(I,M,V))}else p.trackChildChange(ks(I,M))})),l.withIndex(this.index_)}updatePriority(a,l){return a.isEmpty()?Xr.EMPTY_NODE:a.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wo{constructor(a){this.indexedFilter_=new ll(a.getIndex()),this.index_=a.getIndex(),this.startPost_=wo.getStartPost_(a),this.endPost_=wo.getEndPost_(a),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(a){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),a)<=0:this.index_.compare(this.getStartPost(),a)<0,p=this.endIsInclusive_?this.index_.compare(a,this.getEndPost())<=0:this.index_.compare(a,this.getEndPost())<0;return l&&p}updateChild(a,l,p,I,M,V){return this.matches(new Ar(l,p))||(p=Xr.EMPTY_NODE),this.indexedFilter_.updateChild(a,l,p,I,M,V)}updateFullNode(a,l,p){l.isLeafNode()&&(l=Xr.EMPTY_NODE);let I=l.withIndex(this.index_);I=I.updatePriority(Xr.EMPTY_NODE);const M=this;return l.forEachChild(Tr,(V,te)=>{M.matches(new Ar(V,te))||(I=I.updateImmediateChild(V,Xr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,I,p)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(a){if(a.hasStart()){const l=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),l)}return a.getIndex().minPost()}static getEndPost_(a){if(a.hasEnd()){const l=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),l)}return a.getIndex().maxPost()}}class Qc{constructor(a){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const p=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?p<=0:p<0},this.withinEndPost=l=>{const p=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?p<=0:p<0},this.rangedFilter_=new wo(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft(),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}updateChild(a,l,p,I,M,V){return this.rangedFilter_.matches(new Ar(l,p))||(p=Xr.EMPTY_NODE),a.getImmediateChild(l).equals(p)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,l,p,I,M,V):this.fullLimitUpdateChild_(a,l,p,M,V)}updateFullNode(a,l,p){let I;if(l.isLeafNode()||l.isEmpty())I=Xr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let M;I=Xr.EMPTY_NODE.withIndex(this.index_),M=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let V=0;for(;M.hasNext()&&V<this.limit_;){const te=M.getNext();if(this.withinDirectionalStart(te)){if(!this.withinDirectionalEnd(te))break;I=I.updateImmediateChild(te.name,te.node),V++}}}else{let M;I=l.withIndex(this.index_),I=I.updatePriority(Xr.EMPTY_NODE),M=this.reverse_?I.getReverseIterator(this.index_):I.getIterator(this.index_);let V=0;for(;M.hasNext();){const te=M.getNext();V<this.limit_&&this.withinDirectionalStart(te)&&this.withinDirectionalEnd(te)?V++:I=I.updateImmediateChild(te.name,Xr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,I,p)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(a,l,p,I,M){let V;if(this.reverse_){const jt=this.index_.getCompare();V=(Yt,En)=>jt(En,Yt)}else V=this.index_.getCompare();const te=a;(0,Y.hu)(te.numChildren()===this.limit_,"");const fe=new Ar(l,p),De=this.reverse_?te.getFirstChild(this.index_):te.getLastChild(this.index_),xt=this.rangedFilter_.matches(fe);if(te.hasChild(l)){const jt=te.getImmediateChild(l);let Yt=I.getChildAfterChild(this.index_,De,this.reverse_);for(;null!=Yt&&(Yt.name===l||te.hasChild(Yt.name));)Yt=I.getChildAfterChild(this.index_,Yt,this.reverse_);const En=null==Yt?1:V(Yt,fe);if(xt&&!p.isEmpty()&&En>=0)return null!=M&&M.trackChildChange(uo(l,p,jt)),te.updateImmediateChild(l,p);{null!=M&&M.trackChildChange(Ho(l,jt));const Kr=te.updateImmediateChild(l,Xr.EMPTY_NODE);return null!=Yt&&this.rangedFilter_.matches(Yt)?(null!=M&&M.trackChildChange(ks(Yt.name,Yt.node)),Kr.updateImmediateChild(Yt.name,Yt.node)):Kr}}return p.isEmpty()?a:xt&&V(De,fe)>=0?(null!=M&&(M.trackChildChange(Ho(De.name,De.node)),M.trackChildChange(ks(l,p))),te.updateImmediateChild(l,p).updateImmediateChild(De.name,Xr.EMPTY_NODE)):a}}class qa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const a=new qa;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.startAfterSet_=this.startAfterSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.endBeforeSet_=this.endBeforeSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function J(u,a,l){const p=u.copy();return p.startSet_=!0,void 0===a&&(a=null),p.indexStartValue_=a,null!=l?(p.startNameSet_=!0,p.indexStartName_=l):(p.startNameSet_=!1,p.indexStartName_=""),p}function st(u,a,l){const p=u.copy();return p.endSet_=!0,void 0===a&&(a=null),p.indexEndValue_=a,void 0!==l?(p.endNameSet_=!0,p.indexEndName_=l):(p.endNameSet_=!1,p.indexEndName_=""),p}function Gt(u,a){const l=u.copy();return l.index_=a,l}function wn(u){const a={};if(u.isDefault())return a;let l;if(u.index_===Tr?l="$priority":u.index_===fc?l="$value":u.index_===Ka?l="$key":((0,Y.hu)(u.index_ instanceof Us,"Unrecognized index type!"),l=u.index_.toString()),a.orderBy=(0,Y.Wl)(l),u.startSet_){const p=u.startAfterSet_?"startAfter":"startAt";a[p]=(0,Y.Wl)(u.indexStartValue_),u.startNameSet_&&(a[p]+=","+(0,Y.Wl)(u.indexStartName_))}if(u.endSet_){const p=u.endBeforeSet_?"endBefore":"endAt";a[p]=(0,Y.Wl)(u.indexEndValue_),u.endNameSet_&&(a[p]+=","+(0,Y.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_),a}function xn(u){const a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_),a.sin=!u.startAfterSet_),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_),a.ein=!u.endBeforeSet_),u.limitSet_){a.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),a.vf=l}return u.index_!==Tr&&(a.i=u.index_.toString()),a}class Zn extends Yc{constructor(a,l,p,I){super(),this.repoInfo_=a,this.onDataUpdate_=l,this.authTokenProvider_=p,this.appCheckTokenProvider_=I,this.log_=Eo("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,l){return void 0!==l?"tag$"+l:((0,Y.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,l,p,I){const M=a._path.toString();this.log_("Listen called for "+M+" "+a._queryIdentifier);const V=Zn.getListenId_(a,p),te={};this.listens_[V]=te;const fe=wn(a._queryParams);this.restRequest_(M+".json",fe,(De,xt)=>{let jt=xt;if(404===De&&(jt=null,De=null),null===De&&this.onDataUpdate_(M,jt,!1,p),(0,Y.DV)(this.listens_,V)===te){let Yt;Yt=De?401===De?"permission_denied":"rest_error:"+De:"ok",I(Yt,null)}})}unlisten(a,l){const p=Zn.getListenId_(a,l);delete this.listens_[p]}get(a){const l=wn(a._queryParams),p=a._path.toString(),I=new Y.BH;return this.restRequest_(p+".json",l,(M,V)=>{let te=V;404===M&&(te=null,M=null),null===M?(this.onDataUpdate_(p,te,!1,null),I.resolve(te)):I.reject(new Error(te))}),I.promise}refreshAuthToken(a){}restRequest_(a,l={},p){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([I,M])=>{I&&I.accessToken&&(l.auth=I.accessToken),M&&M.token&&(l.ac=M.token);const V=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(l);this.log_("Sending REST request for "+V);const te=new XMLHttpRequest;te.onreadystatechange=()=>{if(p&&4===te.readyState){this.log_("REST Response for "+V+" received. status:",te.status,"response:",te.responseText);let fe=null;if(te.status>=200&&te.status<300){try{fe=(0,Y.cI)(te.responseText)}catch{is("Failed to parse JSON response for "+V+": "+te.responseText)}p(null,fe)}else 401!==te.status&&404!==te.status&&is("Got unsuccessful REST response for "+V+" Status: "+te.status),p(te.status);p=null}},te.open("GET",V,!0),te.send()})}}class Nr{constructor(){this.rootNode_=Xr.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,l){this.rootNode_=this.rootNode_.updateChild(a,l)}}function Fr(){return{value:null,children:new Map}}function ho(u,a,l){if(fr(a))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,l);else{const p=Or(a);u.children.has(p)||u.children.set(p,Fr()),ho(u.children.get(p),a=wi(a),l)}}function As(u,a){if(fr(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(Tr,(p,I)=>{ho(u,new Mi(p),I)}),As(u,a)}}if(u.children.size>0){const l=Or(a);return a=wi(a),u.children.has(l)&&As(u.children.get(l),a)&&u.children.delete(l),0===u.children.size}return!0}function cl(u,a,l){null!==u.value?l(a,u.value):function Xs(u,a){u.children.forEach((l,p)=>{a(p,l)})}(u,(p,I)=>{cl(I,new Mi(a.toString()+"/"+p),l)})}class Al{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),l=Object.assign({},a);return this.last_&&Rr(this.last_,(p,I)=>{l[p]=l[p]-I}),this.last_=a,l}}class bu{constructor(a,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Al(a);const p=1e4+2e4*Math.random();gr(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const a=this.statsListener_.get(),l={};let p=!1;Rr(a,(I,M)=>{M>0&&(0,Y.r3)(this.statsToReport_,I)&&(l[I]=M,p=!0)}),p&&this.server_.reportStats(l),gr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zo=(()=>{return(u=zo||(zo={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",zo;var u})();function fi(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class bi{constructor(a,l,p){this.path=a,this.affectedTree=l,this.revert=p,this.type=zo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(a){if(fr(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Mi(a));return new bi(vr(),l,this.revert)}}return(0,Y.hu)(Or(this.path)===a,"operationForChild called for unrelated child."),new bi(wi(this.path),this.affectedTree,this.revert)}}class Ya{constructor(a,l){this.source=a,this.path=l,this.type=zo.LISTEN_COMPLETE}operationForChild(a){return fr(this.path)?new Ya(this.source,vr()):new Ya(this.source,wi(this.path))}}class xl{constructor(a,l,p){this.source=a,this.path=l,this.snap=p,this.type=zo.OVERWRITE}operationForChild(a){return fr(this.path)?new xl(this.source,vr(),this.snap.getImmediateChild(a)):new xl(this.source,wi(this.path),this.snap)}}class Za{constructor(a,l,p){this.source=a,this.path=l,this.children=p,this.type=zo.MERGE}operationForChild(a){if(fr(this.path)){const l=this.children.subtree(new Mi(a));return l.isEmpty()?null:l.value?new xl(this.source,vr(),l.value):new Za(this.source,vr(),l)}return(0,Y.hu)(Or(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new Za(this.source,wi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Rl{constructor(a,l,p){this.node_=a,this.fullyInitialized_=l,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(fr(a))return this.isFullyInitialized()&&!this.filtered_;const l=Or(a);return this.isCompleteForChild(l)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}class $d{constructor(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()}}function Mc(u,a,l,p,I,M){const V=p.filter(te=>te.type===l);V.sort((te,fe)=>function Lp(u,a,l){if(null==a.childName||null==l.childName)throw(0,Y.g5)("Should only compare child_ events.");const p=new Ar(a.childName,a.snapshotNode),I=new Ar(l.childName,l.snapshotNode);return u.index_.compare(p,I)}(u,te,fe)),V.forEach(te=>{const fe=function xh(u,a,l){return"value"===a.type||"child_removed"===a.type||(a.prevName=l.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,te,M);I.forEach(De=>{De.respondsTo(te.type)&&a.push(De.createEvent(fe,u.query_))})})}function Rh(u,a){return{eventCache:u,serverCache:a}}function Ml(u,a,l,p){return Rh(new Rl(a,l,p),u.serverCache)}function Mh(u,a,l,p){return Rh(u.eventCache,new Rl(a,l,p))}function Ud(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Pl(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let td;class os{constructor(a,l=(()=>(td||(td=new Ea(So)),td))()){this.value=a,this.children=l}static fromObject(a){let l=new os(null);return Rr(a,(p,I)=>{l=l.set(new Mi(p),I)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,l){if(null!=this.value&&l(this.value))return{path:vr(),value:this.value};if(fr(a))return null;{const p=Or(a),I=this.children.get(p);if(null!==I){const M=I.findRootMostMatchingPathAndValue(wi(a),l);return null!=M?{path:Qi(new Mi(p),M.path),value:M.value}:null}return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(fr(a))return this;{const l=Or(a),p=this.children.get(l);return null!==p?p.subtree(wi(a)):new os(null)}}set(a,l){if(fr(a))return new os(l,this.children);{const p=Or(a),M=(this.children.get(p)||new os(null)).set(wi(a),l),V=this.children.insert(p,M);return new os(this.value,V)}}remove(a){if(fr(a))return this.children.isEmpty()?new os(null):new os(null,this.children);{const l=Or(a),p=this.children.get(l);if(p){const I=p.remove(wi(a));let M;return M=I.isEmpty()?this.children.remove(l):this.children.insert(l,I),null===this.value&&M.isEmpty()?new os(null):new os(this.value,M)}return this}}get(a){if(fr(a))return this.value;{const l=Or(a),p=this.children.get(l);return p?p.get(wi(a)):null}}setTree(a,l){if(fr(a))return l;{const p=Or(a),M=(this.children.get(p)||new os(null)).setTree(wi(a),l);let V;return V=M.isEmpty()?this.children.remove(p):this.children.insert(p,M),new os(this.value,V)}}fold(a){return this.fold_(vr(),a)}fold_(a,l){const p={};return this.children.inorderTraversal((I,M)=>{p[I]=M.fold_(Qi(a,I),l)}),l(a,this.value,p)}findOnPath(a,l){return this.findOnPath_(a,vr(),l)}findOnPath_(a,l,p){const I=!!this.value&&p(l,this.value);if(I)return I;if(fr(a))return null;{const M=Or(a),V=this.children.get(M);return V?V.findOnPath_(wi(a),Qi(l,M),p):null}}foreachOnPath(a,l){return this.foreachOnPath_(a,vr(),l)}foreachOnPath_(a,l,p){if(fr(a))return this;{this.value&&p(l,this.value);const I=Or(a),M=this.children.get(I);return M?M.foreachOnPath_(wi(a),Qi(l,I),p):new os(null)}}foreach(a){this.foreach_(vr(),a)}foreach_(a,l){this.children.inorderTraversal((p,I)=>{I.foreach_(Qi(a,p),l)}),this.value&&l(a,this.value)}foreachChild(a){this.children.inorderTraversal((l,p)=>{p.value&&a(l,p.value)})}}class Xa{constructor(a){this.writeTree_=a}static empty(){return new Xa(new os(null))}}function Qa(u,a,l){if(fr(a))return new Xa(new os(l));{const p=u.writeTree_.findRootMostValueAndPath(a);if(null!=p){const I=p.path;let M=p.value;const V=S(I,a);return M=M.updateChild(V,l),new Xa(u.writeTree_.set(I,M))}{const I=new os(l),M=u.writeTree_.setTree(a,I);return new Xa(M)}}}function Pc(u,a,l){let p=u;return Rr(l,(I,M)=>{p=Qa(p,Qi(a,I),M)}),p}function Su(u,a){if(fr(a))return Xa.empty();{const l=u.writeTree_.setTree(a,new os(null));return new Xa(l)}}function Ra(u,a){return null!=pc(u,a)}function pc(u,a){const l=u.writeTree_.findRootMostValueAndPath(a);return null!=l?u.writeTree_.get(l.path).getChild(S(l.path,a)):null}function jd(u){const a=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Tr,(p,I)=>{a.push(new Ar(p,I))}):u.writeTree_.children.inorderTraversal((p,I)=>{null!=I.value&&a.push(new Ar(p,I.value))}),a}function oa(u,a){if(fr(a))return u;{const l=pc(u,a);return new Xa(null!=l?new os(l):u.writeTree_.subtree(a))}}function Ph(u){return u.writeTree_.isEmpty()}function Ma(u,a){return Hd(vr(),u.writeTree_,a)}function Hd(u,a,l){if(null!=a.value)return l.updateChild(u,a.value);{let p=null;return a.children.inorderTraversal((I,M)=>{".priority"===I?((0,Y.hu)(null!==M.value,"Priority writes must always be leaf nodes"),p=M.value):l=Hd(Qi(u,I),M,l)}),!l.getChild(u).isEmpty()&&null!==p&&(l=l.updateChild(Qi(u,".priority"),p)),l}}function gc(u,a){return Oh(a,u)}function Au(u,a){if(u.snap)return k(u.path,a);for(const l in u.children)if(u.children.hasOwnProperty(l)&&k(Qi(u.path,l),a))return!0;return!1}function mc(u){return u.visible}function rd(u,a,l){let p=Xa.empty();for(let I=0;I<u.length;++I){const M=u[I];if(a(M)){const V=M.path;let te;if(M.snap)k(l,V)?(te=S(l,V),p=Qa(p,te,M.snap)):k(V,l)&&(te=S(V,l),p=Qa(p,vr(),M.snap.getChild(te)));else{if(!M.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(k(l,V))te=S(l,V),p=Pc(p,te,M.children);else if(k(V,l))if(te=S(V,l),fr(te))p=Pc(p,vr(),M.children);else{const fe=(0,Y.DV)(M.children,Or(te));if(fe){const De=fe.getChild(wi(te));p=Qa(p,vr(),De)}}}}}return p}function xu(u,a,l,p,I){if(p||I){const M=oa(u.visibleWrites,a);return!I&&Ph(M)?l:I||null!=l||Ra(M,vr())?Ma(rd(u.allWrites,function(De){return(De.visible||I)&&(!p||!~p.indexOf(De.writeId))&&(k(De.path,a)||k(a,De.path))},a),l||Xr.EMPTY_NODE):null}{const M=pc(u.visibleWrites,a);if(null!=M)return M;{const V=oa(u.visibleWrites,a);return Ph(V)?l:null!=l||Ra(V,vr())?Ma(V,l||Xr.EMPTY_NODE):null}}}function Qs(u,a,l,p){return xu(u.writeTree,u.treePath,a,l,p)}function id(u,a){return function tu(u,a,l){let p=Xr.EMPTY_NODE;const I=pc(u.visibleWrites,a);if(I)return I.isLeafNode()||I.forEachChild(Tr,(M,V)=>{p=p.updateImmediateChild(M,V)}),p;if(l){const M=oa(u.visibleWrites,a);return l.forEachChild(Tr,(V,te)=>{const fe=Ma(oa(M,new Mi(V)),te);p=p.updateImmediateChild(V,fe)}),jd(M).forEach(V=>{p=p.updateImmediateChild(V.name,V.node)}),p}return jd(oa(u.visibleWrites,a)).forEach(V=>{p=p.updateImmediateChild(V.name,V.node)}),p}(u.writeTree,u.treePath,a)}function Oc(u,a,l,p){return function nu(u,a,l,p,I){(0,Y.hu)(p||I,"Either existingEventSnap or existingServerSnap must exist");const M=Qi(a,l);if(Ra(u.visibleWrites,M))return null;{const V=oa(u.visibleWrites,M);return Ph(V)?I.getChild(l):Ma(V,I.getChild(l))}}(u.writeTree,u.treePath,a,l,p)}function kc(u,a){return function Pf(u,a){return pc(u.visibleWrites,a)}(u.writeTree,Qi(u.treePath,a))}function vc(u,a,l){return function Mf(u,a,l,p){const I=Qi(a,l),M=pc(u.visibleWrites,I);return null!=M?M:p.isCompleteForChild(l)?Ma(oa(u.visibleWrites,I),p.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,a,l)}function Ru(u,a){return Oh(Qi(u.treePath,a),u.writeTree)}function Oh(u,a){return{treePath:u,writeTree:a}}class Of{constructor(){this.changeMap=new Map}trackChildChange(a){const l=a.type,p=a.childName;(0,Y.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const I=this.changeMap.get(p);if(I){const M=I.type;if("child_added"===l&&"child_removed"===M)this.changeMap.set(p,uo(p,a.snapshotNode,I.snapshotNode));else if("child_removed"===l&&"child_added"===M)this.changeMap.delete(p);else if("child_removed"===l&&"child_changed"===M)this.changeMap.set(p,Ho(p,I.oldSnap));else if("child_changed"===l&&"child_added"===M)this.changeMap.set(p,ks(p,a.snapshotNode));else{if("child_changed"!==l||"child_changed"!==M)throw(0,Y.g5)("Illegal combination of changes: "+a+" occurred after "+I);this.changeMap.set(p,uo(p,a.snapshotNode,I.oldSnap))}}else this.changeMap.set(p,a)}getChanges(){return Array.from(this.changeMap.values())}}const sd=new class Qr{getCompleteChild(a){return null}getChildAfterChild(a,l,p){return null}};class od{constructor(a,l,p=null){this.writes_=a,this.viewCache_=l,this.optCompleteServerCache_=p}getCompleteChild(a){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(a))return l.getNode().getImmediateChild(a);{const p=null!=this.optCompleteServerCache_?new Rl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vc(this.writes_,a,p)}}getChildAfterChild(a,l,p){const I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pl(this.viewCache_),M=function ul(u,a,l,p,I,M){return function yc(u,a,l,p,I,M,V){let te;const fe=oa(u.visibleWrites,a),De=pc(fe,vr());if(null!=De)te=De;else{if(null==l)return[];te=Ma(fe,l)}if(te=te.withIndex(V),te.isEmpty()||te.isLeafNode())return[];{const xt=[],jt=V.getCompare(),Yt=M?te.getReverseIteratorFrom(p,V):te.getIteratorFrom(p,V);let En=Yt.getNext();for(;En&&xt.length<I;)0!==jt(En,p)&&xt.push(En),En=Yt.getNext();return xt}}(u.writeTree,u.treePath,a,l,p,I,M)}(this.writes_,I,l,1,p,a);return 0===M.length?null:M[0]}}function Gd(u,a,l,p,I,M){const V=a.eventCache;if(null!=kc(p,l))return a;{let te,fe;if(fr(l))if((0,Y.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const De=Pl(a),jt=id(p,De instanceof Xr?De:Xr.EMPTY_NODE);te=u.filter.updateFullNode(a.eventCache.getNode(),jt,M)}else{const De=Qs(p,Pl(a));te=u.filter.updateFullNode(a.eventCache.getNode(),De,M)}else{const De=Or(l);if(".priority"===De){(0,Y.hu)(1===Rt(l),"Can't have a priority with additional path components");const xt=V.getNode();fe=a.serverCache.getNode();const jt=Oc(p,l,xt,fe);te=null!=jt?u.filter.updatePriority(xt,jt):V.getNode()}else{const xt=wi(l);let jt;if(V.isCompleteForChild(De)){fe=a.serverCache.getNode();const Yt=Oc(p,l,V.getNode(),fe);jt=null!=Yt?V.getNode().getImmediateChild(De).updateChild(xt,Yt):V.getNode().getImmediateChild(De)}else jt=vc(p,De,a.serverCache);te=null!=jt?u.filter.updateChild(V.getNode(),De,jt,xt,I,M):V.getNode()}}return Ml(a,te,V.isFullyInitialized()||fr(l),u.filter.filtersNodes())}}function cd(u,a,l,p,I,M,V,te){const fe=a.serverCache;let De;const xt=V?u.filter:u.filter.getIndexedFilter();if(fr(l))De=xt.updateFullNode(fe.getNode(),p,null);else if(xt.filtersNodes()&&!fe.isFiltered()){const En=fe.getNode().updateChild(l,p);De=xt.updateFullNode(fe.getNode(),En,null)}else{const En=Or(l);if(!fe.isCompleteForPath(l)&&Rt(l)>1)return a;const Vn=wi(l),pi=fe.getNode().getImmediateChild(En).updateChild(Vn,p);De=".priority"===En?xt.updatePriority(fe.getNode(),pi):xt.updateChild(fe.getNode(),En,pi,Vn,sd,null)}const jt=Mh(a,De,fe.isFullyInitialized()||fr(l),xt.filtersNodes());return Gd(u,jt,l,I,new od(I,jt,M),te)}function ru(u,a,l,p,I,M,V){const te=a.eventCache;let fe,De;const xt=new od(I,a,M);if(fr(l))De=u.filter.updateFullNode(a.eventCache.getNode(),p,V),fe=Ml(a,De,!0,u.filter.filtersNodes());else{const jt=Or(l);if(".priority"===jt)De=u.filter.updatePriority(a.eventCache.getNode(),p),fe=Ml(a,De,te.isFullyInitialized(),te.isFiltered());else{const Yt=wi(l),En=te.getNode().getImmediateChild(jt);let Vn;if(fr(Yt))Vn=p;else{const Kr=xt.getCompleteChild(jt);Vn=null!=Kr?".priority"===ws(Yt)&&Kr.getChild(Ro(Yt)).isEmpty()?Kr:Kr.updateChild(Yt,p):Xr.EMPTY_NODE}fe=En.equals(Vn)?a:Ml(a,u.filter.updateChild(te.getNode(),jt,Vn,Yt,xt,V),te.isFullyInitialized(),u.filter.filtersNodes())}}return fe}function Ec(u,a){return u.eventCache.isCompleteForChild(a)}function Wd(u,a,l){return l.foreach((p,I)=>{a=a.updateChild(p,I)}),a}function Ic(u,a,l,p,I,M,V,te){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let De,fe=a;De=fr(l)?p:new os(null).setTree(l,p);const xt=a.serverCache.getNode();return De.children.inorderTraversal((jt,Yt)=>{if(xt.hasChild(jt)){const Vn=Wd(0,a.serverCache.getNode().getImmediateChild(jt),Yt);fe=cd(u,fe,new Mi(jt),Vn,I,M,V,te)}}),De.children.inorderTraversal((jt,Yt)=>{const En=!a.serverCache.isCompleteForChild(jt)&&null===Yt.value;if(!xt.hasChild(jt)&&!En){const Kr=Wd(0,a.serverCache.getNode().getImmediateChild(jt),Yt);fe=cd(u,fe,new Mi(jt),Kr,I,M,V,te)}}),fe}class kf{constructor(a,l){this.query_=a,this.eventRegistrations_=[];const p=this.query_._queryParams,I=new ll(p.getIndex()),M=function Ah(u){return u.loadsAllData()?new ll(u.getIndex()):u.hasLimit()?new Qc(u):new wo(u)}(p);this.processor_=function ad(u){return{filter:u}}(M);const V=l.serverCache,te=l.eventCache,fe=I.updateFullNode(Xr.EMPTY_NODE,V.getNode(),null),De=M.updateFullNode(Xr.EMPTY_NODE,te.getNode(),null),xt=new Rl(fe,V.isFullyInitialized(),I.filtersNodes()),jt=new Rl(De,te.isFullyInitialized(),M.filtersNodes());this.viewCache_=Rh(jt,xt),this.eventGenerator_=new $d(this.query_)}get query(){return this.query_}}function Ja(u,a){const l=Pl(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!fr(a)&&!l.getImmediateChild(Or(a)).isEmpty())?l.getChild(a):null}function vs(u){return 0===u.eventRegistrations_.length}function Pu(u,a,l){const p=[];if(l){(0,Y.hu)(null==a,"A cancel should cancel all event registrations.");const I=u.query._path;u.eventRegistrations_.forEach(M=>{const V=M.createCancelEvent(l,I);V&&p.push(V)})}if(a){let I=[];for(let M=0;M<u.eventRegistrations_.length;++M){const V=u.eventRegistrations_[M];if(V.matches(a)){if(a.hasAnyCallback()){I=I.concat(u.eventRegistrations_.slice(M+1));break}}else I.push(V)}u.eventRegistrations_=I}else u.eventRegistrations_=[];return p}function kl(u,a,l,p){a.type===zo.MERGE&&null!==a.source.queryId&&((0,Y.hu)(Pl(u.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(Ud(u.viewCache_),"Missing event cache, even though we have a server cache"));const I=u.viewCache_,M=function aa(u,a,l,p,I){const M=new Of;let V,te;if(l.type===zo.OVERWRITE){const De=l;De.source.fromUser?V=ru(u,a,De.path,De.snap,p,I,M):((0,Y.hu)(De.source.fromServer,"Unknown source."),te=De.source.tagged||a.serverCache.isFiltered()&&!fr(De.path),V=cd(u,a,De.path,De.snap,p,I,te,M))}else if(l.type===zo.MERGE){const De=l;De.source.fromUser?V=function iu(u,a,l,p,I,M,V){let te=a;return p.foreach((fe,De)=>{const xt=Qi(l,fe);Ec(a,Or(xt))&&(te=ru(u,te,xt,De,I,M,V))}),p.foreach((fe,De)=>{const xt=Qi(l,fe);Ec(a,Or(xt))||(te=ru(u,te,xt,De,I,M,V))}),te}(u,a,De.path,De.children,p,I,M):((0,Y.hu)(De.source.fromServer,"Unknown source."),te=De.source.tagged||a.serverCache.isFiltered(),V=Ic(u,a,De.path,De.children,p,I,te,M))}else if(l.type===zo.ACK_USER_WRITE){const De=l;V=De.revert?function Mu(u,a,l,p,I,M){let V;if(null!=kc(p,l))return a;{const te=new od(p,a,I),fe=a.eventCache.getNode();let De;if(fr(l)||".priority"===Or(l)){let xt;if(a.serverCache.isFullyInitialized())xt=Qs(p,Pl(a));else{const jt=a.serverCache.getNode();(0,Y.hu)(jt instanceof Xr,"serverChildren would be complete if leaf node"),xt=id(p,jt)}De=u.filter.updateFullNode(fe,xt,M)}else{const xt=Or(l);let jt=vc(p,xt,a.serverCache);null==jt&&a.serverCache.isCompleteForChild(xt)&&(jt=fe.getImmediateChild(xt)),De=null!=jt?u.filter.updateChild(fe,xt,jt,wi(l),te,M):a.eventCache.getNode().hasChild(xt)?u.filter.updateChild(fe,xt,Xr.EMPTY_NODE,wi(l),te,M):fe,De.isEmpty()&&a.serverCache.isFullyInitialized()&&(V=Qs(p,Pl(a)),V.isLeafNode()&&(De=u.filter.updateFullNode(De,V,M)))}return V=a.serverCache.isFullyInitialized()||null!=kc(p,vr()),Ml(a,De,V,u.filter.filtersNodes())}}(u,a,De.path,p,I,M):function wc(u,a,l,p,I,M,V){if(null!=kc(I,l))return a;const te=a.serverCache.isFiltered(),fe=a.serverCache;if(null!=p.value){if(fr(l)&&fe.isFullyInitialized()||fe.isCompleteForPath(l))return cd(u,a,l,fe.getNode().getChild(l),I,M,te,V);if(fr(l)){let De=new os(null);return fe.getNode().forEachChild(Ka,(xt,jt)=>{De=De.set(new Mi(xt),jt)}),Ic(u,a,l,De,I,M,te,V)}return a}{let De=new os(null);return p.foreach((xt,jt)=>{const Yt=Qi(l,xt);fe.isCompleteForPath(Yt)&&(De=De.set(xt,fe.getNode().getChild(Yt)))}),Ic(u,a,l,De,I,M,te,V)}}(u,a,De.path,De.affectedTree,p,I,M)}else{if(l.type!==zo.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+l.type);V=function Pa(u,a,l,p,I){const M=a.serverCache;return Gd(u,Mh(a,M.getNode(),M.isFullyInitialized()||fr(l),M.isFiltered()),l,p,sd,I)}(u,a,l.path,p,M)}const fe=M.getChanges();return function _c(u,a,l){const p=a.eventCache;if(p.isFullyInitialized()){const I=p.getNode().isLeafNode()||p.getNode().isEmpty(),M=Ud(u);(l.length>0||!u.eventCache.isFullyInitialized()||I&&!p.getNode().equals(M)||!p.getNode().getPriority().equals(M.getPriority()))&&l.push(Zl(Ud(a)))}}(a,V,fe),{viewCache:V,changes:fe}}(u.processor_,I,a,l,p);return function ld(u,a){(0,Y.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,M.viewCache),(0,Y.hu)(M.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=M.viewCache,su(u,M.changes,M.viewCache.eventCache.getNode(),null)}function su(u,a,l,p){return function Rf(u,a,l,p){const I=[],M=[];return a.forEach(V=>{"child_changed"===V.type&&u.index_.indexedValueChanged(V.oldSnap,V.snapshotNode)&&M.push(function Cu(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(V.childName,V.snapshotNode))}),Mc(u,I,"child_removed",a,p,l),Mc(u,I,"child_added",a,p,l),Mc(u,I,"child_moved",M,p,l),Mc(u,I,"child_changed",a,p,l),Mc(u,I,"value",a,p,l),I}(u.eventGenerator_,a,l,p?[p]:u.eventRegistrations_)}let hd,Kt;class fd{constructor(){this.views=new Map}}function pd(u,a,l,p){const I=a.source.queryId;if(null!==I){const M=u.views.get(I);return(0,Y.hu)(null!=M,"SyncTree gave us an op for an invalid query."),kl(M,a,l,p)}{let M=[];for(const V of u.views.values())M=M.concat(kl(V,a,l,p));return M}}function qd(u,a,l,p,I){const V=u.views.get(a._queryIdentifier);if(!V){let te=Qs(l,I?p:null),fe=!1;te?fe=!0:p instanceof Xr?(te=id(l,p),fe=!1):(te=Xr.EMPTY_NODE,fe=!1);const De=Rh(new Rl(te,fe,!1),new Rl(p,I,!1));return new kf(a,De)}return V}function m(u){const a=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||a.push(l);return a}function A(u,a){let l=null;for(const p of u.views.values())l=l||Ja(p,a);return l}function K(u,a){return a._queryParams.loadsAllData()?mt(u):u.views.get(a._queryIdentifier)}function oe(u,a){return null!=K(u,a)}function Je(u){return null!=mt(u)}function mt(u){for(const a of u.views.values())if(a.query._queryParams.loadsAllData())return a;return null}let nr=1;class as{constructor(a){this.listenProvider_=a,this.syncPointTree_=new os(null),this.pendingWriteTree_=function Bp(){return{visibleWrites:Xa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Go(u,a,l,p,I){return function nd(u,a,l,p,I){(0,Y.hu)(p>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),u.allWrites.push({path:a,snap:l,writeId:p,visible:I}),I&&(u.visibleWrites=Qa(u.visibleWrites,a,l)),u.lastWriteId=p}(u.pendingWriteTree_,a,l,p,I),I?Fc(u,new xl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,l)):[]}function dl(u,a,l=!1){const p=function Ol(u,a){for(let l=0;l<u.allWrites.length;l++){const p=u.allWrites[l];if(p.writeId===a)return p}return null}(u.pendingWriteTree_,a);if(function ko(u,a){const l=u.allWrites.findIndex(te=>te.writeId===a);(0,Y.hu)(l>=0,"removeWrite called with nonexistent writeId.");const p=u.allWrites[l];u.allWrites.splice(l,1);let I=p.visible,M=!1,V=u.allWrites.length-1;for(;I&&V>=0;){const te=u.allWrites[V];te.visible&&(V>=l&&Au(te,p.path)?I=!1:k(p.path,te.path)&&(M=!0)),V--}return!!I&&(M?(function eu(u){u.visibleWrites=rd(u.allWrites,mc,vr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(p.snap?u.visibleWrites=Su(u.visibleWrites,p.path):Rr(p.children,fe=>{u.visibleWrites=Su(u.visibleWrites,Qi(p.path,fe))}),!0))}(u.pendingWriteTree_,a)){let M=new os(null);return null!=p.snap?M=M.set(vr(),!0):Rr(p.children,V=>{M=M.set(new Mi(V),!0)}),Fc(u,new bi(p.path,M,l))}return[]}function Nc(u,a,l){return Fc(u,new xl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,l))}function Xl(u,a,l,p,I=!1){const M=a._path,V=u.syncPointTree_.get(M);let te=[];if(V&&("default"===a._queryIdentifier||oe(V,a))){const fe=function g(u,a,l,p){const I=a._queryIdentifier,M=[];let V=[];const te=Je(u);if("default"===I)for(const[fe,De]of u.views.entries())V=V.concat(Pu(De,l,p)),vs(De)&&(u.views.delete(fe),De.query._queryParams.loadsAllData()||M.push(De.query));else{const fe=u.views.get(I);fe&&(V=V.concat(Pu(fe,l,p)),vs(fe)&&(u.views.delete(I),fe.query._queryParams.loadsAllData()||M.push(fe.query)))}return te&&!Je(u)&&M.push(new(function el(){return(0,Y.hu)(hd,"Reference.ts has not been loaded"),hd}())(a._repo,a._path)),{removed:M,events:V}}(V,a,l,p);(function kh(u){return 0===u.views.size})(V)&&(u.syncPointTree_=u.syncPointTree_.remove(M));const De=fe.removed;if(te=fe.events,!I){const xt=-1!==De.findIndex(Yt=>Yt._queryParams.loadsAllData()),jt=u.syncPointTree_.findOnPath(M,(Yt,En)=>Je(En));if(xt&&!jt){const Yt=u.syncPointTree_.subtree(M);if(!Yt.isEmpty()){const En=function kg(u){return u.fold((a,l,p)=>{if(l&&Je(l))return[mt(l)];{let I=[];return l&&(I=m(l)),Rr(p,(M,V)=>{I=I.concat(V)}),I}})}(Yt);for(let Vn=0;Vn<En.length;++Vn){const Kr=En[Vn],pi=Kr.query,No=Xd(u,Kr);u.listenProvider_.startListening(xs(pi),yd(u,pi),No.hashFn,No.onComplete)}}}!jt&&De.length>0&&!p&&(xt?u.listenProvider_.stopListening(xs(a),null):De.forEach(Yt=>{const En=u.queryToTagMap.get(Fh(Yt));u.listenProvider_.stopListening(xs(Yt),En)}))}!function Ff(u,a){for(let l=0;l<a.length;++l){const p=a[l];if(!p._queryParams.loadsAllData()){const I=Fh(p),M=u.queryToTagMap.get(I);u.queryToTagMap.delete(I),u.tagToQueryMap.delete(M)}}}(u,De)}return te}function au(u,a,l,p){const I=Qd(u,p);if(null!=I){const M=lu(I),V=M.path,te=M.queryId,fe=S(V,a);return Nf(u,V,new xl(fi(te),fe,l))}return[]}function gd(u,a,l,p=!1){const I=a._path;let M=null,V=!1;u.syncPointTree_.foreachOnPath(I,(Yt,En)=>{const Vn=S(Yt,I);M=M||A(En,Vn),V=V||Je(En)});let fe,te=u.syncPointTree_.get(I);te?(V=V||Je(te),M=M||A(te,vr())):(te=new fd,u.syncPointTree_=u.syncPointTree_.set(I,te)),null!=M?fe=!0:(fe=!1,M=Xr.EMPTY_NODE,u.syncPointTree_.subtree(I).foreachChild((En,Vn)=>{const Kr=A(Vn,vr());Kr&&(M=M.updateImmediateChild(En,Kr))}));const De=oe(te,a);if(!De&&!a._queryParams.loadsAllData()){const Yt=Fh(a);(0,Y.hu)(!u.queryToTagMap.has(Yt),"View does not exist, but we have a tag");const En=function Lf(){return nr++}();u.queryToTagMap.set(Yt,En),u.tagToQueryMap.set(En,Yt)}let jt=function C(u,a,l,p,I,M){const V=qd(u,a,p,I,M);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,V),function ud(u,a){u.eventRegistrations_.push(a)}(V,l),function dd(u,a){const l=u.viewCache_.eventCache,p=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Tr,(M,V)=>{p.push(ks(M,V))}),l.isFullyInitialized()&&p.push(Zl(l.getNode())),su(u,p,l.getNode(),a)}(V,l)}(te,a,l,gc(u.pendingWriteTree_,I),M,fe);if(!De&&!V&&!p){const Yt=K(te,a);jt=jt.concat(function Bf(u,a,l){const p=a._path,I=yd(u,a),M=Xd(u,l),V=u.listenProvider_.startListening(xs(a),I,M.hashFn,M.onComplete),te=u.syncPointTree_.subtree(p);if(I)(0,Y.hu)(!Je(te.value),"If we're adding a query, it shouldn't be shadowed");else{const fe=te.fold((De,xt,jt)=>{if(!fr(De)&&xt&&Je(xt))return[mt(xt).query];{let Yt=[];return xt&&(Yt=Yt.concat(m(xt).map(En=>En.query))),Rr(jt,(En,Vn)=>{Yt=Yt.concat(Vn)}),Yt}});for(let De=0;De<fe.length;++De){const xt=fe[De];u.listenProvider_.stopListening(xs(xt),yd(u,xt))}}return V}(u,a,Yt))}return jt}function md(u,a,l){const I=u.pendingWriteTree_,M=u.syncPointTree_.findOnPath(a,(V,te)=>{const De=A(te,S(V,a));if(De)return De});return xu(I,a,M,l,!0)}function Fc(u,a){return Og(a,u.syncPointTree_,null,gc(u.pendingWriteTree_,vr()))}function Og(u,a,l,p){if(fr(u.path))return Wm(u,a,l,p);{const I=a.get(vr());null==l&&null!=I&&(l=A(I,vr()));let M=[];const V=Or(u.path),te=u.operationForChild(V),fe=a.children.get(V);if(fe&&te){const De=l?l.getImmediateChild(V):null,xt=Ru(p,V);M=M.concat(Og(te,fe,De,xt))}return I&&(M=M.concat(pd(I,u,p,l))),M}}function Wm(u,a,l,p){const I=a.get(vr());null==l&&null!=I&&(l=A(I,vr()));let M=[];return a.children.inorderTraversal((V,te)=>{const fe=l?l.getImmediateChild(V):null,De=Ru(p,V),xt=u.operationForChild(V);xt&&(M=M.concat(Wm(xt,te,fe,De)))}),I&&(M=M.concat(pd(I,u,p,l))),M}function Xd(u,a){const l=a.query,p=yd(u,l);return{hashFn:()=>(function Kd(u){return u.viewCache_.serverCache.getNode()}(a)||Xr.EMPTY_NODE).hash(),onComplete:I=>{if("ok"===I)return p?function ou(u,a,l){const p=Qd(u,l);if(p){const I=lu(p),M=I.path,V=I.queryId,te=S(M,a);return Nf(u,M,new Ya(fi(V),te))}return[]}(u,l._path,p):function Ou(u,a){return Fc(u,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,l._path);{const M=function X(u,a){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const p=new Error(u+" at "+a._path.toString()+": "+l);return p.code=u.toUpperCase(),p}(I,l);return Xl(u,l,null,M)}}}}function yd(u,a){const l=Fh(a);return u.queryToTagMap.get(l)}function Fh(u){return u._path.toString()+"$"+u._queryIdentifier}function Qd(u,a){return u.tagToQueryMap.get(a)}function lu(u){const a=u.indexOf("$");return(0,Y.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new Mi(u.substr(0,a))}}function Nf(u,a,l){const p=u.syncPointTree_.get(a);return(0,Y.hu)(p,"Missing sync point for query tag that we're tracking"),pd(p,l,gc(u.pendingWriteTree_,a),null)}function xs(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function er(){return(0,Y.hu)(Kt,"Reference.ts has not been loaded"),Kt}())(u._repo,u._path):u}class hl{constructor(a){this.node_=a}getImmediateChild(a){const l=this.node_.getImmediateChild(a);return new hl(l)}node(){return this.node_}}class Lh{constructor(a,l){this.syncTree_=a,this.path_=l}getImmediateChild(a){const l=Qi(this.path_,a);return new Lh(this.syncTree_,l)}node(){return md(this.syncTree_,this.path_)}}const $f=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},vd=function(u,a,l){return u&&"object"==typeof u?((0,Y.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Up(u[".sv"],a,l):"object"==typeof u[".sv"]?ku(u[".sv"],a):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Up=function(u,a,l){if("timestamp"===u)return l.timestamp;(0,Y.hu)(!1,"Unexpected server value: "+u)},ku=function(u,a,l){u.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const p=u.increment;"number"!=typeof p&&(0,Y.hu)(!1,"Unexpected increment value: "+p);const I=a.node();if((0,Y.hu)(null!==I&&typeof I<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return p;const V=I.getValue();return"number"!=typeof V?p:V+p},Vp=function(u,a,l,p){return Jd(a,new Lh(l,u),p)},Bh=function(u,a,l){return Jd(u,new hl(a),l)};function Jd(u,a,l){const p=u.getPriority().val(),I=vd(p,a.getImmediateChild(".priority"),l);let M;if(u.isLeafNode()){const V=u,te=vd(V.getValue(),a,l);return te!==V.getValue()||I!==V.getPriority().val()?new uc(te,Hr(I)):u}{const V=u;return M=V,I!==V.getPriority().val()&&(M=M.updatePriority(new uc(I))),V.forEachChild(Tr,(te,fe)=>{const De=Jd(fe,a.getImmediateChild(te),l);De!==fe&&(M=M.updateImmediateChild(te,De))}),M}}class _d{constructor(a="",l=null,p={children:{},childCount:0}){this.name=a,this.parent=l,this.node=p}}function Nu(u,a){let l=a instanceof Mi?a:new Mi(a),p=u,I=Or(l);for(;null!==I;){const M=(0,Y.DV)(p.node.children,I)||{children:{},childCount:0};p=new _d(I,p,M),l=wi(l),I=Or(l)}return p}function Lc(u){return u.node.value}function Bc(u,a){u.node.value=a,Hp(u)}function $h(u){return u.node.childCount>0}function Vf(u,a){Rr(u.node.children,(l,p)=>{a(new _d(l,u,p))})}function jp(u,a,l,p){l&&!p&&a(u),Vf(u,I=>{jp(I,a,!0,p)}),l&&p&&a(u)}function $c(u){return new Mi(null===u.parent?u.name:$c(u.parent)+"/"+u.name)}function Hp(u){null!==u.parent&&function Fu(u,a,l){const p=function Uf(u){return void 0===Lc(u)&&!$h(u)}(l),I=(0,Y.r3)(u.node.children,a);p&&I?(delete u.node.children[a],u.node.childCount--,Hp(u)):!p&&!I&&(u.node.children[a]=l.node,u.node.childCount++,Hp(u))}(u.parent,u.name,u)}const eh=/[\[\].#$\/\u0000-\u001F\u007F]/,jf=/[\[\].#$\u0000-\u001F\u007F]/,zp=10485760,th=function(u){return"string"==typeof u&&0!==u.length&&!eh.test(u)},Uc=function(u){return"string"==typeof u&&0!==u.length&&!jf.test(u)},Hf=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Ha(u)||u&&"object"==typeof u&&(0,Y.r3)(u,".sv")},Cc=function(u,a,l,p){p&&void 0===a||Ql((0,Y.gK)(u,"value"),a,l)},Ql=function(u,a,l){const p=l instanceof Mi?new z(l,u):l;if(void 0===a)throw new Error(u+"contains undefined "+Pt(p));if("function"==typeof a)throw new Error(u+"contains a function "+Pt(p)+" with contents = "+a.toString());if(Ha(a))throw new Error(u+"contains "+a.toString()+" "+Pt(p));if("string"==typeof a&&a.length>zp/3&&(0,Y.ug)(a)>zp)throw new Error(u+"contains a string greater than "+zp+" utf8 bytes "+Pt(p)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){let I=!1,M=!1;if(Rr(a,(V,te)=>{if(".value"===V)I=!0;else if(".priority"!==V&&".sv"!==V&&(M=!0,!th(V)))throw new Error(u+" contains an invalid key ("+V+") "+Pt(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ie(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,Y.ug)(a),nt(u)})(p,V),Ql(u,te,p),function le(u){const a=u.parts_.pop();u.byteLength_-=(0,Y.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(p)}),I&&M)throw new Error(u+' contains ".value" child '+Pt(p)+" in addition to actual children.")}},Nl=function(u,a,l,p){if(p&&void 0===a)return;const I=(0,Y.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(I+" must be an object containing the children to replace.");const M=[];Rr(a,(V,te)=>{const fe=new Mi(V);if(Ql(I,te,Qi(l,fe)),".priority"===ws(fe)&&!Hf(te))throw new Error(I+"contains an invalid value for '"+fe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");M.push(fe)}),function(u,a){let l,p;for(l=0;l<a.length;l++){p=a[l];const M=_a(p);for(let V=0;V<M.length;V++)if((".priority"!==M[V]||V!==M.length-1)&&!th(M[V]))throw new Error(u+"contains an invalid key ("+M[V]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}a.sort(x);let I=null;for(l=0;l<a.length;l++){if(p=a[l],null!==I&&k(I,p))throw new Error(u+"contains a path "+I.toString()+" that is ancestor of another path "+p.toString());I=p}}(I,M)},Fl=function(u,a,l){if(!l||void 0!==a){if(Ha(a))throw new Error((0,Y.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hf(a))throw new Error((0,Y.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cu=function(u,a,l,p){if(!(p&&void 0===l||th(l)))throw new Error((0,Y.gK)(u,a)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Id=function(u,a,l,p){if(!(p&&void 0===l||Uc(l)))throw new Error((0,Y.gK)(u,a)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Wp=function(u,a,l,p){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Id(u,a,l,p)},fl=function(u,a){if(".info"===Or(a))throw new Error(u+" failed = Can't modify data under /.info/")},Kp=function(u,a){const l=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!th(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Uc(u)}(l))throw new Error((0,Y.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uh(u,a){let l=null;for(let p=0;p<a.length;p++){const I=a[p],M=I.getPath();null!==l&&!w(M,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:M}),l.events.push(I)}l&&u.eventLists_.push(l)}function Vh(u,a,l){Uh(u,l),jh(u,p=>w(p,a))}function Oa(u,a,l){Uh(u,l),jh(u,p=>k(p,a)||k(a,p))}function jh(u,a){u.recursionDepth_++;let l=!0;for(let p=0;p<u.eventLists_.length;p++){const I=u.eventLists_[p];I&&(a(I.path)?(wd(u.eventLists_[p]),u.eventLists_[p]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function wd(u){for(let a=0;a<u.events.length;a++){const l=u.events[a];if(null!==l){u.events[a]=null;const p=l.getEventRunner();Uo&&hs("event: "+l.toString()),Wt(p)}}}const Jl="repo_interrupt",Km=25;class Fg{constructor(a,l,p,I){this.repoInfo_=a,this.forceRestClient_=l,this.authTokenProvider_=p,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fr(),this.transactionQueueTree_=new _d,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Lg(u){const l=u.infoData_.getNode(new Mi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Hh(u){return $f({timestamp:Lg(u)})}function nh(u,a,l,p,I){u.dataUpdateCount++;const M=new Mi(a);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,l):l;let V=[];if(I)if(p){const fe=(0,Y.UI)(l,De=>Hr(De));V=function Zd(u,a,l,p){const I=Qd(u,p);if(I){const M=lu(I),V=M.path,te=M.queryId,fe=S(V,a),De=os.fromObject(l);return Nf(u,V,new Za(fi(te),fe,De))}return[]}(u.serverSyncTree_,M,fe,I)}else{const fe=Hr(l);V=au(u.serverSyncTree_,M,fe,I)}else if(p){const fe=(0,Y.UI)(l,De=>Hr(De));V=function Ns(u,a,l){const p=os.fromObject(l);return Fc(u,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,p))}(u.serverSyncTree_,M,fe)}else{const fe=Hr(l);V=Nc(u.serverSyncTree_,M,fe)}let te=M;V.length>0&&(te=$u(u,M)),Oa(u.eventQueue_,te,V)}function Lu(u,a){ec(u,"connected",a),!1===a&&function Gf(u){rh(u,"onDisconnectEvents");const a=Hh(u),l=Fr();cl(u.onDisconnect_,vr(),(I,M)=>{const V=Vp(I,M,u.serverSyncTree_,a);ho(l,I,V)});let p=[];cl(l,vr(),(I,M)=>{p=p.concat(Nc(u.serverSyncTree_,I,M));const V=bc(u,I);$u(u,V)}),u.onDisconnect_=Fr(),Oa(u.eventQueue_,vr(),p)}(u)}function ec(u,a,l){const p=new Mi("/.info/"+a),I=Hr(l);u.infoData_.updateSnapshot(p,I);const M=Nc(u.infoSyncTree_,p,I);Oa(u.eventQueue_,p,M)}function zf(u){return u.nextWriteId_++}function $g(u,a,l,p,I){rh(u,"set",{path:a.toString(),value:l,priority:p});const M=Hh(u),V=Hr(l,p),te=md(u.serverSyncTree_,a),fe=Bh(V,te,M),De=zf(u),xt=Go(u.serverSyncTree_,a,fe,De,!0);Uh(u.eventQueue_,xt),u.server_.put(a.toString(),V.val(!0),(Yt,En)=>{const Vn="ok"===Yt;Vn||is("set at "+a+" failed: "+Yt);const Kr=dl(u.serverSyncTree_,De,!Vn);Oa(u.eventQueue_,a,Kr),Vc(0,I,Yt,En)});const jt=bc(u,a);$u(u,jt),Oa(u.eventQueue_,jt,[])}function Ym(u,a,l){u.server_.onDisconnectCancel(a.toString(),(p,I)=>{"ok"===p&&As(u.onDisconnect_,a),Vc(0,l,p,I)})}function zh(u,a,l,p){const I=Hr(l);u.server_.onDisconnectPut(a.toString(),I.val(!0),(M,V)=>{"ok"===M&&ho(u.onDisconnect_,a,I),Vc(0,p,M,V)})}function Yp(u,a,l){let p;p=".info"===Or(a._path)?Xl(u.infoSyncTree_,a,l):Xl(u.serverSyncTree_,a,l),Vh(u.eventQueue_,a._path,p)}function Kf(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Jl)}function rh(u,...a){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),hs(l,...a)}function Vc(u,a,l,p){a&&Wt(()=>{if("ok"===l)a(null);else{const I=(l||"error").toUpperCase();let M=I;p&&(M+=": "+p);const V=new Error(M);V.code=I,a(V)}})}function ih(u,a,l){return md(u.serverSyncTree_,a,l)||Xr.EMPTY_NODE}function Bu(u,a=u.transactionQueueTree_){if(a||sh(u,a),Lc(a)){const l=Kh(u,a);(0,Y.hu)(l.length>0,"Sending zero length transaction queue"),l.every(I=>0===I.status)&&function jg(u,a,l){const p=l.map(De=>De.currentWriteId),I=ih(u,a,p);let M=I;const V=I.hash();for(let De=0;De<l.length;De++){const xt=l[De];(0,Y.hu)(0===xt.status,"tryToSendTransactionQueue_: items in queue should all be run."),xt.status=1,xt.retryCount++;const jt=S(a,xt.path);M=M.updateChild(jt,xt.currentOutputSnapshotRaw)}const te=M.val(!0),fe=a;u.server_.put(fe.toString(),te,De=>{rh(u,"transaction put response",{path:fe.toString(),status:De});let xt=[];if("ok"===De){const jt=[];for(let Yt=0;Yt<l.length;Yt++)l[Yt].status=2,xt=xt.concat(dl(u.serverSyncTree_,l[Yt].currentWriteId)),l[Yt].onComplete&&jt.push(()=>l[Yt].onComplete(null,!0,l[Yt].currentOutputSnapshotResolved)),l[Yt].unwatcher();sh(u,Nu(u.transactionQueueTree_,a)),Bu(u,u.transactionQueueTree_),Oa(u.eventQueue_,a,xt);for(let Yt=0;Yt<jt.length;Yt++)Wt(jt[Yt])}else{if("datastale"===De)for(let jt=0;jt<l.length;jt++)l[jt].status=3===l[jt].status?4:0;else{is("transaction at "+fe.toString()+" failed: "+De);for(let jt=0;jt<l.length;jt++)l[jt].status=4,l[jt].abortReason=De}$u(u,a)}},V)}(u,$c(a),l)}else $h(a)&&Vf(a,l=>{Bu(u,l)})}function $u(u,a){const l=Zp(u,a),p=$c(l);return function ka(u,a,l){if(0===a.length)return;const p=[];let I=[];const V=a.filter(te=>0===te.status).map(te=>te.currentWriteId);for(let te=0;te<a.length;te++){const fe=a[te],De=S(l,fe.path);let jt,xt=!1;if((0,Y.hu)(null!==De,"rerunTransactionsUnderNode_: relativePath should not be null."),4===fe.status)xt=!0,jt=fe.abortReason,I=I.concat(dl(u.serverSyncTree_,fe.currentWriteId,!0));else if(0===fe.status)if(fe.retryCount>=Km)xt=!0,jt="maxretry",I=I.concat(dl(u.serverSyncTree_,fe.currentWriteId,!0));else{const Yt=ih(u,fe.path,V);fe.currentInputSnapshot=Yt;const En=a[te].update(Yt.val());if(void 0!==En){Ql("transaction failed: Data returned ",En,fe.path);let Vn=Hr(En);"object"==typeof En&&null!=En&&(0,Y.r3)(En,".priority")||(Vn=Vn.updatePriority(Yt.getPriority()));const pi=fe.currentWriteId,No=Hh(u),ls=Bh(Vn,Yt,No);fe.currentOutputSnapshotRaw=Vn,fe.currentOutputSnapshotResolved=ls,fe.currentWriteId=zf(u),V.splice(V.indexOf(pi),1),I=I.concat(Go(u.serverSyncTree_,fe.path,ls,fe.currentWriteId,fe.applyLocally)),I=I.concat(dl(u.serverSyncTree_,pi,!0))}else xt=!0,jt="nodata",I=I.concat(dl(u.serverSyncTree_,fe.currentWriteId,!0))}Oa(u.eventQueue_,l,I),I=[],xt&&(a[te].status=2,setTimeout(a[te].unwatcher,Math.floor(0)),a[te].onComplete&&p.push("nodata"===jt?()=>a[te].onComplete(null,!1,a[te].currentInputSnapshot):()=>a[te].onComplete(new Error(jt),!1,null)))}sh(u,u.transactionQueueTree_);for(let te=0;te<p.length;te++)Wt(p[te]);Bu(u,u.transactionQueueTree_)}(u,Kh(u,l),p),p}function Zp(u,a){let l,p=u.transactionQueueTree_;for(l=Or(a);null!==l&&void 0===Lc(p);)p=Nu(p,l),l=Or(a=wi(a));return p}function Kh(u,a){const l=[];return Wr(u,a,l),l.sort((p,I)=>p.order-I.order),l}function Wr(u,a,l){const p=Lc(a);if(p)for(let I=0;I<p.length;I++)l.push(p[I]);Vf(a,I=>{Wr(u,I,l)})}function sh(u,a){const l=Lc(a);if(l){let p=0;for(let I=0;I<l.length;I++)2!==l[I].status&&(l[p]=l[I],p++);l.length=p,Bc(a,l.length>0?l:void 0)}Vf(a,p=>{sh(u,p)})}function bc(u,a){const l=$c(Zp(u,a)),p=Nu(u.transactionQueueTree_,a);return function Ng(u,a,l){let p=l?u:u.parent;for(;null!==p;){if(a(p))return!0;p=p.parent}}(p,I=>{uu(u,I)}),uu(u,p),jp(p,I=>{uu(u,I)}),l}function uu(u,a){const l=Lc(a);if(l){const p=[];let I=[],M=-1;for(let V=0;V<l.length;V++)3===l[V].status||(1===l[V].status?((0,Y.hu)(M===V-1,"All SENT items should be at beginning of queue."),M=V,l[V].status=3,l[V].abortReason="set"):((0,Y.hu)(0===l[V].status,"Unexpected transaction status in abort"),l[V].unwatcher(),I=I.concat(dl(u.serverSyncTree_,l[V].currentWriteId,!0)),l[V].onComplete&&p.push(l[V].onComplete.bind(null,new Error("set"),!1,null))));-1===M?Bc(a,void 0):l.length=M+1,Oa(u.eventQueue_,$c(a),I);for(let V=0;V<p.length;V++)Wt(p[V])}}const qf=function(u,a){const l=oh(u),p=l.namespace;return"firebase.com"===l.domain&&ao(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==l.domain&&ao("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&is("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zl(l.host,l.secure,p,"ws"===l.scheme||"wss"===l.scheme,a,"",p!==l.subdomain),path:new Mi(l.pathString)}},oh=function(u){let a="",l="",p="",I="",M="",V=!0,te="https",fe=443;if("string"==typeof u){let De=u.indexOf("//");De>=0&&(te=u.substring(0,De-1),u=u.substring(De+2));let xt=u.indexOf("/");-1===xt&&(xt=u.length);let jt=u.indexOf("?");-1===jt&&(jt=u.length),a=u.substring(0,Math.min(xt,jt)),xt<jt&&(I=function Hg(u){let a="";const l=u.split("/");for(let p=0;p<l.length;p++)if(l[p].length>0){let I=l[p];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch{}a+="/"+I}return a}(u.substring(xt,jt)));const Yt=function Cd(u){const a={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const p=l.split("=");2===p.length?a[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):is(`Invalid query segment '${l}' in query '${u}'`)}return a}(u.substring(Math.min(u.length,jt)));De=a.indexOf(":"),De>=0?(V="https"===te||"wss"===te,fe=parseInt(a.substring(De+1),10)):De=a.length;const En=a.slice(0,De);if("localhost"===En.toLowerCase())l="localhost";else if(En.split(".").length<=2)l=En;else{const Vn=a.indexOf(".");p=a.substring(0,Vn).toLowerCase(),l=a.substring(Vn+1),M=p}"ns"in Yt&&(M=Yt.ns)}return{host:a,port:fe,domain:l,subdomain:p,secure:V,scheme:te,pathString:I,namespace:M}},Yf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Uu=function(){let u=0;const a=[];return function(l){const p=l===u;let I;u=l;const M=new Array(8);for(I=7;I>=0;I--)M[I]=Yf.charAt(l%64),l=Math.floor(l/64);(0,Y.hu)(0===l,"Cannot push at time == 0");let V=M.join("");if(p){for(I=11;I>=0&&63===a[I];I--)a[I]=0;a[I]++}else for(I=0;I<12;I++)a[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)V+=Yf.charAt(a[I]);return(0,Y.hu)(20===V.length,"nextPushId: Length should be 20."),V}}();class Xp{constructor(a,l,p,I){this.eventType=a,this.eventRegistration=l,this.snapshot=p,this.prevName=I}getPath(){const a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Wl)(this.snapshot.exportVal())}}class Zm{constructor(a,l,p){this.eventRegistration=a,this.error=l,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qh{constructor(a,l){this.snapshotCallback=a,this.cancelCallback=l}onValue(a,l){this.snapshotCallback.call(null,a,l)}onCancel(a){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)}get hasCancelCallback(){return!!this.cancelCallback}matches(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context}}class Qp{constructor(a,l){this._repo=a,this._path=l}cancel(){const a=new Y.BH;return Ym(this._repo,this._path,a.wrapCallback(()=>{})),a.promise}remove(){fl("OnDisconnect.remove",this._path);const a=new Y.BH;return zh(this._repo,this._path,null,a.wrapCallback(()=>{})),a.promise}set(a){fl("OnDisconnect.set",this._path),Cc("OnDisconnect.set",a,this._path,!1);const l=new Y.BH;return zh(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}setWithPriority(a,l){fl("OnDisconnect.setWithPriority",this._path),Cc("OnDisconnect.setWithPriority",a,this._path,!1),Fl("OnDisconnect.setWithPriority",l,!1);const p=new Y.BH;return function Wf(u,a,l,p,I){const M=Hr(l,p);u.server_.onDisconnectPut(a.toString(),M.val(!0),(V,te)=>{"ok"===V&&ho(u.onDisconnect_,a,M),Vc(0,I,V,te)})}(this._repo,this._path,a,l,p.wrapCallback(()=>{})),p.promise}update(a){fl("OnDisconnect.update",this._path),Nl("OnDisconnect.update",a,this._path,!1);const l=new Y.BH;return function Vg(u,a,l,p){if((0,Y.xb)(l))return hs("onDisconnect().update() called with empty data.  Don't do anything."),void Vc(0,p,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),l,(I,M)=>{"ok"===I&&Rr(l,(V,te)=>{const fe=Hr(te);ho(u.onDisconnect_,Qi(a,V),fe)}),Vc(0,p,I,M)})}(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}}class Co{constructor(a,l,p,I){this._repo=a,this._path=l,this._queryParams=p,this._orderByCalled=I}get key(){return fr(this._path)?null:ws(this._path)}get ref(){return new tc(this._repo,this._path)}get _queryIdentifier(){const a=xn(this._queryParams),l=lo(a);return"{}"===l?"default":l}get _queryObject(){return xn(this._queryParams)}isEqual(a){if(!((a=(0,Y.m9)(a))instanceof Co))return!1;const l=this._repo===a._repo,p=w(this._path,a._path);return l&&p&&this._queryIdentifier===a._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Zc(u){let a="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(a+="/"+encodeURIComponent(String(u.pieces_[l])));return a||"/"}(this._path)}}function Zf(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Bl(u){let a=null,l=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===Ka){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Ni)throw new Error(p);if("string"!=typeof a)throw new Error(I)}if(u.hasEnd()){if(u.getIndexEndName()!==si)throw new Error(p);if("string"!=typeof l)throw new Error(I)}}else if(u.getIndex()===Tr){if(null!=a&&!Hf(a)||null!=l&&!Hf(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(u.getIndex()instanceof Us||u.getIndex()===fc,"unknown index type."),null!=a&&"object"==typeof a||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bd(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class tc extends Co{constructor(a,l){super(a,l,new qa,!1)}get parent(){const a=Ro(this._path);return null===a?null:new tc(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}class Dd{constructor(a,l,p){this._node=a,this.ref=l,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(a){const l=new Mi(a),p=$l(this.ref,a);return new Dd(this._node.getChild(l),p,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(a){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,I)=>a(new Dd(I,$l(this.ref,p),Tr)))}hasChild(a){const l=new Mi(a);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xm(u,a){return(u=(0,Y.m9)(u))._checkNotDeleted("ref"),void 0!==a?$l(u._root,a):u._root}function zg(u,a){(u=(0,Y.m9)(u))._checkNotDeleted("refFromURL");const l=qf(a,u._repo.repoInfo_.nodeAdmin);Kp("refFromURL",l);const p=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&p.host!==u._repo.repoInfo_.host&&ao("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+u._repo.repoInfo_.host+")"),Xm(u,l.path.toString())}function $l(u,a){return null===Or((u=(0,Y.m9)(u))._path)?Wp("child","path",a,!1):Id("child","path",a,!1),new tc(u._repo,Qi(u._path,a))}function Vu(u,a){u=(0,Y.m9)(u),fl("set",u._path),Cc("set",a,u._path,!1);const l=new Y.BH;return $g(u._repo,u._path,a,null,l.wrapCallback(()=>{})),l.promise}function Xf(u,a){Nl("update",a,u._path,!1);const l=new Y.BH;return function Ug(u,a,l,p){rh(u,"update",{path:a.toString(),value:l});let I=!0;const M=Hh(u),V={};if(Rr(l,(te,fe)=>{I=!1,V[te]=Vp(Qi(a,te),Hr(fe),u.serverSyncTree_,M)}),I)hs("update() called with empty data.  Don't do anything."),Vc(0,p,"ok",void 0);else{const te=zf(u),fe=function Yd(u,a,l,p){!function zd(u,a,l,p){(0,Y.hu)(p>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:l,writeId:p,visible:!0}),u.visibleWrites=Pc(u.visibleWrites,a,l),u.lastWriteId=p}(u.pendingWriteTree_,a,l,p);const I=os.fromObject(l);return Fc(u,new Za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,I))}(u.serverSyncTree_,a,V,te);Uh(u.eventQueue_,fe),u.server_.merge(a.toString(),l,(De,xt)=>{const jt="ok"===De;jt||is("update at "+a+" failed: "+De);const Yt=dl(u.serverSyncTree_,te,!jt),En=Yt.length>0?$u(u,a):a;Oa(u.eventQueue_,En,Yt),Vc(0,p,De,xt)}),Rr(l,De=>{const xt=bc(u,Qi(a,De));$u(u,xt)}),Oa(u.eventQueue_,a,[])}}(u._repo,u._path,a,l.wrapCallback(()=>{})),l.promise}function Jp(u){u=(0,Y.m9)(u);const a=new qh(()=>{}),l=new Js(a);return function Bg(u,a,l){const p=function Nh(u,a){const l=a._path;let p=null;u.syncPointTree_.foreachOnPath(l,(De,xt)=>{const jt=S(De,l);p=p||A(xt,jt)});let I=u.syncPointTree_.get(l);I?p=p||A(I,vr()):(I=new fd,u.syncPointTree_=u.syncPointTree_.set(l,I));const M=null!=p,V=M?new Rl(p,!0,!1):null;return function $p(u){return Ud(u.viewCache_)}(qd(I,a,gc(u.pendingWriteTree_,a._path),M?V.getNode():Xr.EMPTY_NODE,M))}(u.serverSyncTree_,a);return null!=p?Promise.resolve(p):u.server_.get(a).then(I=>{const M=Hr(I).withIndex(a._queryParams.getIndex());let V;if(gd(u.serverSyncTree_,a,l,!0),a._queryParams.loadsAllData())V=Nc(u.serverSyncTree_,a._path,M);else{const te=yd(u.serverSyncTree_,a);V=au(u.serverSyncTree_,a._path,M,te)}return Oa(u.eventQueue_,a._path,V),Xl(u.serverSyncTree_,a,l,null,!0),M},I=>(rh(u,"get for query "+(0,Y.Wl)(a)+" failed: "+I),Promise.reject(new Error(I))))}(u._repo,u,l).then(p=>new Dd(p,new tc(u._repo,u._path),u._queryParams.getIndex()))}class Js{constructor(a){this.callbackContext=a}respondsTo(a){return"value"===a}createEvent(a,l){const p=l._queryParams.getIndex();return new Xp("value",this,new Dd(a.snapshotNode,new tc(l._repo,l._path),p))}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,null)}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new Zm(this,a,l):null}matches(a){return a instanceof Js&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qf{constructor(a,l){this.eventType=a,this.callbackContext=l}respondsTo(a){let l="children_added"===a?"child_added":a;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new Zm(this,a,l):null}createEvent(a,l){(0,Y.hu)(null!=a.childName,"Child events should have a childName.");const p=$l(new tc(l._repo,l._path),a.childName),I=l._queryParams.getIndex();return new Xp(a.type,this,new Dd(a.snapshotNode,p,I),a.prevName)}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,a.prevName)}matches(a){return a instanceof Qf&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Zh(u,a,l,p,I){let M;if("object"==typeof p&&(M=void 0,I=p),"function"==typeof p&&(M=p),I&&I.onlyOnce){const fe=l,De=(xt,jt)=>{Yp(u._repo,u,te),fe(xt,jt)};De.userCallback=l.userCallback,De.context=l.context,l=De}const V=new qh(l,M||void 0),te="value"===a?new Js(V):new Qf(a,V);return function Gh(u,a,l){let p;p=".info"===Or(a._path)?gd(u.infoSyncTree_,a,l):gd(u.serverSyncTree_,a,l),Vh(u.eventQueue_,a._path,p)}(u._repo,u,te),()=>Yp(u._repo,u,te)}function eg(u,a,l,p){return Zh(u,"value",a,l,p)}function qg(u,a,l,p){return Zh(u,"child_added",a,l,p)}function Jf(u,a,l,p){return Zh(u,"child_changed",a,l,p)}function tg(u,a,l,p){return Zh(u,"child_moved",a,l,p)}function Xh(u,a,l,p){return Zh(u,"child_removed",a,l,p)}function ah(u,a,l){let p=null;const I=l?new qh(l):null;"value"===a?p=new Js(I):a&&(p=new Qf(a,I)),Yp(u._repo,u,p)}class nc{}class Qh extends nc{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){Cc("endAt",this._value,a._path,!0);const l=st(a._queryParams,this._value,this._key);if(bd(l),Bl(l),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(a._repo,a._path,l,a._orderByCalled)}}class Jh extends nc{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){Cc("endBefore",this._value,a._path,!1);const l=function It(u,a,l){let p;return p=st(u,a,u.index_===Ka||l?l:Ni),p.endBeforeSet_=!0,p}(a._queryParams,this._value,this._key);if(bd(l),Bl(l),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(a._repo,a._path,l,a._orderByCalled)}}class ep extends nc{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){Cc("startAt",this._value,a._path,!0);const l=J(a._queryParams,this._value,this._key);if(bd(l),Bl(l),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Co(a._repo,a._path,l,a._orderByCalled)}}class tp extends nc{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){Cc("startAfter",this._value,a._path,!1);const l=function Ie(u,a,l){let p;return p=J(u,a,u.index_===Ka||l?l:si),p.startAfterSet_=!0,p}(a._queryParams,this._value,this._key);if(bd(l),Bl(l),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Co(a._repo,a._path,l,a._orderByCalled)}}class Xg extends nc{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(a._repo,a._path,function P(u,a){const l=u.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="l",l}(a._queryParams,this._limit),a._orderByCalled)}}class Jg extends nc{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(a._repo,a._path,function $(u,a){const l=u.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="r",l}(a._queryParams,this._limit),a._orderByCalled)}}class ch extends nc{constructor(a){super(),this._path=a}_apply(a){Zf(a,"orderByChild");const l=new Mi(this._path);if(fr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new Us(l),I=Gt(a._queryParams,p);return Bl(I),new Co(a._repo,a._path,I,!0)}}class tf extends nc{_apply(a){Zf(a,"orderByKey");const l=Gt(a._queryParams,Ka);return Bl(l),new Co(a._repo,a._path,l,!0)}}class ip extends nc{_apply(a){Zf(a,"orderByPriority");const l=Gt(a._queryParams,Tr);return Bl(l),new Co(a._repo,a._path,l,!0)}}class Hu extends nc{_apply(a){Zf(a,"orderByValue");const l=Gt(a._queryParams,fc);return Bl(l),new Co(a._repo,a._path,l,!0)}}class uh extends nc{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){if(Cc("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qh(this._value,this._key)._apply(new ep(this._value,this._key)._apply(a))}}function gl(u,...a){let l=(0,Y.m9)(u);for(const p of a)l=p._apply(l);return l}(function la(u){(0,Y.hu)(!hd,"__referenceConstructor has already been defined"),hd=u})(tc),function kn(u){(0,Y.hu)(!Kt,"__referenceConstructor has already been defined"),Kt=u}(tc);const em="FIREBASE_DATABASE_EMULATOR_HOST",rg={};let rf=!1;function sf(u,a,l,p,I){let M=p||u.options.databaseURL;void 0===M&&(u.options.projectId||ao("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hs("Using default host for project ",u.options.projectId),M=`${u.options.projectId}-default-rtdb.firebaseio.com`);let fe,De,V=qf(M,I),te=V.repoInfo;typeof process<"u"&&process.env&&(De=process.env[em]),De?(fe=!0,M=`http://${De}?ns=${te.namespace}`,V=qf(M,I),te=V.repoInfo):fe=!V.repoInfo.secure;const xt=I&&fe?new wr(wr.OWNER):new Lr(u.name,u.options,a);Kp("Invalid Firebase Database URL",V),fr(V.path)||ao("Database URL must point to the root of a Firebase Database (not including a child path).");const jt=function tm(u,a,l,p){let I=rg[a.name];I||(I={},rg[a.name]=I);let M=I[u.toURLString()];return M&&ao("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),M=new Fg(u,rf,l,p),I[u.toURLString()]=M,M}(te,u,xt,new $r(u.name,l));return new Na(jt,u)}class Na{constructor(a,l){this._repoInternal=a,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qm(u,a,l){if(u.stats_=Zi(u.repoInfo_),u.forceRestClient_||Ln())u.server_=new Zn(u.repoInfo_,(p,I,M,V)=>{nh(u,p,I,M,V)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Lu(u,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Wl)(l)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}u.persistentConnection_=new $s(u.repoInfo_,a,(p,I,M,V)=>{nh(u,p,I,M,V)},p=>{Lu(u,p)},p=>{!function Ll(u,a){Rr(a,(l,p)=>{ec(u,l,p)})}(u,p)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(p=>{u.server_.refreshAuthToken(p)}),u.appCheckProvider_.addTokenChangeListener(p=>{u.server_.refreshAppCheckToken(p.token)}),u.statsReporter_=function mu(u,a){const l=u.toString();return Cl[l]||(Cl[l]=a()),Cl[l]}(u.repoInfo_,()=>new bu(u.stats_,u.server_)),u.infoData_=new Nr,u.infoSyncTree_=new as({startListening:(p,I,M,V)=>{let te=[];const fe=u.infoData_.getNode(p._path);return fe.isEmpty()||(te=Nc(u.infoSyncTree_,p._path,fe),setTimeout(()=>{V("ok")},0)),te},stopListening:()=>{}}),ec(u,"connected",!1),u.serverSyncTree_=new as({startListening:(p,I,M,V)=>(u.server_.listen(p,M,I,(te,fe)=>{const De=V(te,fe);Oa(u.eventQueue_,p._path,De)}),[]),stopListening:(p,I)=>{u.server_.unlisten(p,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tc(this._repo,vr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ig(u,a){const l=rg[a];(!l||l[u.key]!==u)&&ao(`Database ${a}(${u.repoInfo_}) has already been deleted.`),Kf(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&ao("Cannot call "+a+" on a deleted database.")}}function dh(){ia.IS_TRANSPORT_INITIALIZED&&is("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sp(){dh(),jo.forceDisallow()}function nm(){dh(),sr.forceDisallow(),jo.forceAllow()}function im(u,a){ta(u,a)}const og={".sv":"timestamp"};class Fa{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$s.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},$s.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)},function lf(u){To(pt.SDK_VERSION),(0,pt._registerComponent)(new et.wA("database",(a,{instanceIdentifier:l})=>sf(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(ds,"0.14.4",u),(0,pt.registerVersion)(ds,"0.14.4","esm2017")}();const ap=new ma.Yd("@firebase/database-compat"),sm=function(u){ap.warn("FIREBASE WARNING: "+u)};class sy{constructor(a){this._delegate=a}cancel(a){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",a,!0);const l=this._delegate.cancel();return a&&l.then(()=>a(null),p=>a(p)),l}remove(a){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",a,!0);const l=this._delegate.remove();return a&&l.then(()=>a(null),p=>a(p)),l}set(a,l){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",l,!0);const p=this._delegate.set(a);return l&&p.then(()=>l(null),I=>l(I)),p}setWithPriority(a,l,p){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const I=this._delegate.setWithPriority(a,l);return p&&I.then(()=>p(null),M=>p(M)),I}update(a,l){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){const I={};for(let M=0;M<a.length;++M)I[""+M]=a[M];a=I,sm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",l,!0);const p=this._delegate.update(a);return l&&p.then(()=>l(null),I=>l(I)),p}}class cg{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class zu{constructor(a,l){this._database=a,this._delegate=l}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(a){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),Id("DataSnapshot.child","path",a,!1),new zu(this._database,this._delegate.child(a))}hasChild(a){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Id("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(a){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(l=>a(new zu(this._database,l)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ia(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wo{constructor(a,l){this.database=a,this._delegate=l}on(a,l,p,I){var M;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",l,!1);const V=Wo.getCancelAndContextArgs_("Query.on",p,I),te=(De,xt)=>{l.call(V.context,new zu(this.database,De),xt)};te.userCallback=l,te.context=V.context;const fe=null===(M=V.cancel)||void 0===M?void 0:M.bind(V.context);switch(a){case"value":return eg(this._delegate,te,fe),l;case"child_added":return qg(this._delegate,te,fe),l;case"child_removed":return Xh(this._delegate,te,fe),l;case"child_changed":return Jf(this._delegate,te,fe),l;case"child_moved":return tg(this._delegate,te,fe),l;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(a,l,p){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(u,a,l){if(void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,a),(0,Y.Wj)("Query.off","callback",l,!0),(0,Y.lb)("Query.off","context",p,!0),l){const I=()=>{};I.userCallback=l,I.context=p,ah(this._delegate,a,I)}else ah(this._delegate,a)}get(){return Jp(this._delegate).then(a=>new zu(this.database,a))}once(a,l,p,I){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",l,!0);const M=Wo.getCancelAndContextArgs_("Query.once",p,I),V=new Y.BH,te=(De,xt)=>{const jt=new zu(this.database,De);l&&l.call(M.context,jt,xt),V.resolve(jt)};te.userCallback=l,te.context=M.context;const fe=De=>{M.cancel&&M.cancel.call(M.context,De),V.reject(De)};switch(a){case"value":eg(this._delegate,te,fe,{onlyOnce:!0});break;case"child_added":qg(this._delegate,te,fe,{onlyOnce:!0});break;case"child_removed":Xh(this._delegate,te,fe,{onlyOnce:!0});break;case"child_changed":Jf(this._delegate,te,fe,{onlyOnce:!0});break;case"child_moved":tg(this._delegate,te,fe,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return V.promise}limitToFirst(a){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new Wo(this.database,gl(this._delegate,function Qg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xg(u)}(a)))}limitToLast(a){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new Wo(this.database,gl(this._delegate,function lh(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jg(u)}(a)))}orderByChild(a){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new Wo(this.database,gl(this._delegate,function np(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Id("orderByChild","path",u,!1),new ch(u)}(a)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new Wo(this.database,gl(this._delegate,function rp(){return new tf}()))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new Wo(this.database,gl(this._delegate,function Td(){return new ip}()))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new Wo(this.database,gl(this._delegate,function nf(){return new Hu}()))}startAt(a=null,l){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new Wo(this.database,gl(this._delegate,function ju(u=null,a){return cu("startAt","key",a,!0),new ep(u,a)}(a,l)))}startAfter(a=null,l){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new Wo(this.database,gl(this._delegate,function Zg(u,a){return cu("startAfter","key",a,!0),new tp(u,a)}(a,l)))}endAt(a=null,l){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new Wo(this.database,gl(this._delegate,function Yg(u,a){return cu("endAt","key",a,!0),new Qh(u,a)}(a,l)))}endBefore(a=null,l){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new Wo(this.database,gl(this._delegate,function ef(u,a){return cu("endBefore","key",a,!0),new Jh(u,a)}(a,l)))}equalTo(a,l){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new Wo(this.database,gl(this._delegate,function ng(u,a){return cu("equalTo","key",a,!0),new uh(u,a)}(a,l)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(a){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof Wo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(a._delegate)}static getCancelAndContextArgs_(a,l,p){const I={cancel:void 0,context:void 0};if(l&&p)I.cancel=l,(0,Y.Wj)(a,"cancel",I.cancel,!0),I.context=p,(0,Y.lb)(a,"context",I.context,!0);else if(l)if("object"==typeof l&&null!==l)I.context=l;else{if("function"!=typeof l)throw new Error((0,Y.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=l}return I}get ref(){return new Ia(this.database,new tc(this._delegate._repo,this._delegate._path))}}class Ia extends Wo{constructor(a,l){super(a,new Co(l._repo,l._path,new qa,!1)),this.database=a,this._delegate=l}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(a){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new Ia(this.database,$l(this._delegate,a))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const a=this._delegate.parent;return a?new Ia(this.database,a):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new Ia(this.database,this._delegate.root)}set(a,l){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",l,!0);const p=Vu(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}update(a,l){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){const I={};for(let M=0;M<a.length;++M)I[""+M]=a[M];a=I,sm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fl("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",l,!0);const p=Xf(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}setWithPriority(a,l,p){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",p,!0);const I=function Kg(u,a,l){if(fl("setWithPriority",u._path),Cc("setWithPriority",a,u._path,!1),Fl("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const p=new Y.BH;return $g(u._repo,u._path,a,l,p.wrapCallback(()=>{})),p.promise}(this._delegate,a,l);return p&&I.then(()=>p(null),M=>p(M)),I}remove(a){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",a,!0);const l=function Gg(u){return fl("remove",u._path),Vu(u,null)}(this._delegate);return a&&l.then(()=>a(null),p=>a(p)),l}transaction(a,l,p){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,Y.Wj)("Reference.transaction","onComplete",l,!0),function(u,a,l,p){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const I=function ny(u,a,l){var p;if(u=(0,Y.m9)(u),fl("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const I=null===(p=null==l?void 0:l.applyLocally)||void 0===p||p,M=new Y.BH,te=eg(u,()=>{});return function Wh(u,a,l,p,I,M){rh(u,"transaction on "+a);const V={path:a,update:l,onComplete:p,status:null,order:Va(),applyLocally:M,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},te=ih(u,a,void 0);V.currentInputSnapshot=te;const fe=V.update(te.val());if(void 0===fe)V.unwatcher(),V.currentOutputSnapshotRaw=null,V.currentOutputSnapshotResolved=null,V.onComplete&&V.onComplete(null,!1,V.currentInputSnapshot);else{Ql("transaction failed: Data returned ",fe,V.path),V.status=0;const De=Nu(u.transactionQueueTree_,a),xt=Lc(De)||[];let jt;xt.push(V),Bc(De,xt),"object"==typeof fe&&null!==fe&&(0,Y.r3)(fe,".priority")?(jt=(0,Y.DV)(fe,".priority"),(0,Y.hu)(Hf(jt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):jt=(md(u.serverSyncTree_,a)||Xr.EMPTY_NODE).getPriority().val();const Yt=Hh(u),En=Hr(fe,jt),Vn=Bh(En,te,Yt);V.currentOutputSnapshotRaw=En,V.currentOutputSnapshotResolved=Vn,V.currentWriteId=zf(u);const Kr=Go(u.serverSyncTree_,a,Vn,V.currentWriteId,V.applyLocally);Oa(u.eventQueue_,a,Kr),Bu(u,u.transactionQueueTree_)}}(u._repo,u._path,a,(fe,De,xt)=>{let jt=null;fe?M.reject(fe):(jt=new Dd(xt,new tc(u._repo,u._path),Tr),M.resolve(new Fa(De,jt)))},te,I),M.promise}(this._delegate,a,{applyLocally:p}).then(M=>new cg(M.committed,new zu(this.database,M.snapshot)));return l&&I.then(M=>l(null,M.committed,M.snapshot),M=>l(M,!1,null)),I}setPriority(a,l){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",l,!0);const p=function Wg(u,a){u=(0,Y.m9)(u),fl("setPriority",u._path),Fl("setPriority",a,!1);const l=new Y.BH;return $g(u._repo,Qi(u._path,".priority"),a,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,a);return l&&p.then(()=>l(null),I=>l(I)),p}push(a,l){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",l,!0);const p=function Qm(u,a){u=(0,Y.m9)(u),fl("push",u._path),Cc("push",a,u._path,!0);const l=Lg(u._repo),p=Uu(l),I=$l(u,p),M=$l(u,p);let V;return V=null!=a?Vu(M,a).then(()=>M):Promise.resolve(M),I.then=V.then.bind(V),I.catch=V.then.bind(V,void 0),I}(this._delegate,a),I=p.then(V=>new Ia(this.database,V));l&&I.then(()=>l(null),V=>l(V));const M=new Ia(this.database,p);return M.then=I.then.bind(I),M.catch=I.catch.bind(I,void 0),M}onDisconnect(){return fl("Reference.onDisconnect",this._delegate._path),new sy(new Qp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Sd{constructor(a,l){this._delegate=a,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sp,forceLongPolling:nm}}useEmulator(a,l,p={}){!function af(u,a,l,p={}){(u=(0,Y.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&ao("Cannot call useEmulator() after instance has already been initialized.");const I=u._repoInternal;let M;if(I.repoInfo_.nodeAdmin)p.mockUserToken&&ao('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),M=new wr(wr.OWNER);else if(p.mockUserToken){const V="string"==typeof p.mockUserToken?p.mockUserToken:(0,Y.Sg)(p.mockUserToken,u.app.options.projectId);M=new wr(V)}!function Jm(u,a,l,p){u.repoInfo_=new zl(`${a}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),p&&(u.authTokenProvider_=p)}(I,a,l,M)}(this._delegate,a,l,p)}ref(a){if((0,Y.Dv)("database.ref",0,1,arguments.length),a instanceof Ia){const l=zg(this._delegate,a.toString());return new Ia(this,l)}{const l=Xm(this._delegate,a);return new Ia(this,l)}}refFromURL(a){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const p=zg(this._delegate,a);return new Ia(this,p)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function rm(u){(u=(0,Y.m9)(u))._checkNotDeleted("goOffline"),Kf(u._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function ey(u){(u=(0,Y.m9)(u))._checkNotDeleted("goOnline"),function pl(u){u.persistentConnection_&&u.persistentConnection_.resume(Jl)}(u._repo)}(this._delegate)}}Sd.ServerValue={TIMESTAMP:function ty(){return og}(),increment:u=>function ag(u){return{".sv":{increment:u}}}(u)};var hh=Object.freeze({__proto__:null,initStandalone:function du({app:u,url:a,version:l,customAuthImpl:p,namespace:I,nodeAdmin:M=!1}){To(l);const V=new et.zt("auth-internal",new et.H0("database-standalone"));return V.setComponent(new et.wA("auth-internal",()=>p,"PRIVATE")),{instance:new Sd(sf(u,V,void 0,a,M),u),namespace:I}}});const Ad=Sd.ServerValue;function df(u){return null==u}function hf(u){return"function"==typeof u.set}function jc(u,a){return hf(a)?a:u.ref(a)}function cp(u,a){if(function uf(u){return"string"==typeof u}(u))return a.stringCase();if(hf(u))return a.firebaseCase();if(function oy(u){return"function"==typeof u.exportVal}(u))return a.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function xd(u,a,l="on",p=_e.z){return new me.y(I=>{let M=null;return M=u[l](a,(V,te)=>{p.schedule(()=>{I.next({snapshot:V,prevKey:te})}),"once"===l&&p.schedule(()=>I.complete())},V=>{p.schedule(()=>I.error(V))}),"on"===l?{unsubscribe(){null!=M&&u.off(a,M)}}:{unsubscribe(){}}}).pipe((0,He.U)(I=>{const{snapshot:M,prevKey:V}=I;let te=null;return M.exists()&&(te=M.key),{type:a,payload:M,prevKey:V,key:te}}),(0,ne.B)())}function ff(u,a){const l=u.length;for(let p=0;p<l;p++)if(u[p].payload.key===a)return p;return-1}function pf(u,a){const{payload:l,prevKey:p,key:I}=a,M=ff(u,I),V=function fh(u,a){if(df(a))return 0;{const l=ff(u,a);return-1===l?u.length:l+1}}(u,p);switch(a.type){case"value":if(a.payload&&a.payload.exists()){let te=null;a.payload.forEach(fe=>{const De={payload:fe,type:"value",prevKey:te,key:fe.key};return te=fe.key,u=[...u,De],!1})}return u;case"child_added":if(M>-1){const te=u[M-1];(te&&te.key||null)!==p&&(u=u.filter(fe=>fe.payload.key!==l.key)).splice(V,0,a)}else{if(null==p)return[a,...u];(u=u.slice()).splice(V,0,a)}return u;case"child_removed":return u.filter(te=>te.payload.key!==l.key);case"child_changed":return u.map(te=>te.payload.key===I?a:te);case"child_moved":if(M>-1){const te=u.splice(M,1)[0];return(u=u.slice()).splice(V,0,te),u}return u;default:return u}}function up(u){return(df(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function ph(u,a,l){return function Dc(u,a,l){return xd(u,"value","once",l).pipe((0,rt.w)(p=>{const I=[(0,Ue.of)(p)];return a.forEach(M=>I.push(xd(u,M,"on",l))),(0,O.T)(...I).pipe((0,yt.R)(pf,[]))}),(0,dn.x)())}(u,a=up(a),l)}function gf(u,a,l){const p=(a=up(a)).map(I=>xd(u,I,"on",l));return(0,O.T)(...p)}function lm(u,a){return function(p,I){return cp(p,{stringCase:()=>u.child(p)[a](I),firebaseCase:()=>p[a](I),snapshotCase:()=>p.ref[a](I)})}}function ev(u){return function(l){return l?cp(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function ug(u,a){return function(){return xd(u,"value","on",a)}}!function lp(u){u.INTERNAL.registerComponent(new et.wA("database-compat",(a,{instanceIdentifier:l})=>{const p=a.getProvider("app-compat").getImmediate(),I=a.getProvider("database").getImmediate({identifier:l});return new Sd(I,p)},"PUBLIC").setServiceProps({Reference:Ia,Query:Wo,Database:Sd,DataSnapshot:zu,enableLogging:im,INTERNAL:hh,ServerValue:Ad}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(Se.Z);const dg=new _.OlP("angularfire2.realtimeDatabaseURL"),ly=new _.OlP("angularfire2.database.use-emulator");let hg=(()=>{class u{constructor(l,p,I,M,V,te,fe,De,xt,jt,Yt,En,Vn,Kr,pi){this.schedulers=te;const No=fe,ls=(0,Re.on)(l,V,p);De&&(0,xe.nw)(ls,V,xt,Yt,En,Vn,jt,Kr),this.database=(0,Re.cc)(`${ls.name}.database.${I}`,"AngularFireDatabase",ls.name,()=>{const fs=V.runOutsideAngular(()=>ls.database(I||void 0));return No&&fs.useEmulator(...No),fs},[No])}list(l,p){const I=this.schedulers.ngZone.runOutsideAngular(()=>jc(this.database,l));let M=I;return p&&(M=p(I)),function cm(u,a){const l=a.schedulers.outsideAngular,p=a.schedulers.ngZone.run(()=>u.ref);return{query:u,update:lm(p,"update"),set:lm(p,"set"),push:I=>p.push(I),remove:ev(p),snapshotChanges:I=>ph(u,I,l).pipe(bt.iC),stateChanges:I=>gf(u,I,l).pipe(bt.iC),auditTrail:I=>function am(u,a,l){return function Rd(u,a,l){return function gh(u,a){return xd(u,"value","on",a).pipe((0,He.U)(l=>{let p;return l.payload.forEach(I=>(p=I.key,!1)),{data:l,lastKeyToLoad:p}}))}(u,l).pipe(function Gs(...u){const a=(0,gs.jO)(u);return(0,ge.e)((l,p)=>{const I=u.length,M=new Array(I);let V=u.map(()=>!1),te=!1;for(let fe=0;fe<I;fe++)(0,jr.Xf)(u[fe]).subscribe((0,ve.x)(p,De=>{M[fe]=De,!te&&!V[fe]&&(V[fe]=!0,(te=V.every(yi.y))&&(V=null))},Si.Z));l.subscribe((0,ve.x)(p,fe=>{if(te){const De=[fe,...M];p.next(a?a(...De):De)}}))})}(a),(0,He.U)(([I,M])=>{const V=I.lastKeyToLoad,te=M.map(fe=>fe.key);return{actions:M,lastKeyToLoad:V,loadedKeys:te}}),function Ai(u){return(0,ge.e)((a,l)=>{let p=!1,I=0;a.subscribe((0,ve.x)(l,M=>(p||(p=!u(M,I++)))&&l.next(M)))})}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,He.U)(I=>I.actions))}(u,gf(u,a).pipe((0,yt.R)((I,M)=>[...I,M],[])),l)}(u,I,l).pipe(bt.iC),valueChanges:(I,M)=>ph(u,I,l).pipe((0,He.U)(te=>te.map(fe=>M&&M.idField?Object.assign(Object.assign({},fe.payload.val()),{[M.idField]:fe.key}):fe.payload.val())),bt.iC)}}(M,this)}object(l){return function ay(u,a){return{query:u,snapshotChanges:()=>ug(u,a.schedulers.outsideAngular)().pipe(bt.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>ug(u,a.schedulers.outsideAngular)().pipe(bt.iC,(0,He.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>jc(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(_.LFG(Re.Dh),_.LFG(Re.xv,8),_.LFG(dg,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(bt.HU),_.LFG(ly,8),_.LFG(xe.zQ,8),_.LFG(xe.Qv,8),_.LFG(xe.L6,8),_.LFG(xe._Q,8),_.LFG(xe.rT,8),_.LFG(xe.lh,8),_.LFG(xe.f7,8),_.LFG(fa.nm,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),cy=(()=>{class u{constructor(){Is.Z.registerVersion("angularfire",bt.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[hg]}),u})();var dp=H(7556);let fg=(()=>{class u{constructor(l){this.authService=l,this.authService.fetchJWT()}}return u.\u0275fac=function(l){return new(l||u)(_.Y36(dp.e))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-root"]],standalone:!0,features:[_.jDz],decls:2,vars:0,template:function(l,p){1&l&&(_.TgZ(0,"ion-app"),_._UZ(1,"ion-router-outlet"),_.qZA())},dependencies:[he.Pc,he.dr,he.jP,xe.ww,R.yb,B,cy]}),u})();var hp=H(2340),fp=H(529);hp.N.production&&(0,_.G48)(),(0,y.Cg)(fg,{providers:[(0,fp.h_)(),{provide:ee.wN,useClass:he.r4},(0,_.RIp)(he.Pc.forRoot({})),(0,ee.bU)(Be),(0,_.RIp)(Re.hO.initializeApp(hp.N.firebase))]})},1135:(yn,gt,H)=>{"use strict";H.d(gt,{X:()=>y});var _=H(7579);class y extends _.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const Be=super._subscribe(he);return!Be.closed&&he.next(this._value),Be}getValue(){const{hasError:he,thrownError:Be,_value:xe}=this;if(he)throw Be;return this._throwIfClosed(),xe}next(he){super.next(this._value=he)}}},9751:(yn,gt,H)=>{"use strict";H.d(gt,{y:()=>Ue});var _=H(930),y=H(727),ee=H(8822),he=H(9635),Be=H(2416),xe=H(576),me=H(2806);let Ue=(()=>{class ve{constructor(He){He&&(this._subscribe=He)}lift(He){const rt=new ve;return rt.source=this,rt.operator=He,rt}subscribe(He,rt,bt){const Re=function ge(ve){return ve&&ve instanceof _.Lv||function _e(ve){return ve&&(0,xe.m)(ve.next)&&(0,xe.m)(ve.error)&&(0,xe.m)(ve.complete)}(ve)&&(0,y.Nn)(ve)}(He)?He:new _.Hp(He,rt,bt);return(0,me.x)(()=>{const{operator:Se,source:de}=this;Re.add(Se?Se.call(Re,de):de?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(He){try{return this._subscribe(He)}catch(rt){He.error(rt)}}forEach(He,rt){return new(rt=Ne(rt))((bt,Re)=>{const Se=new _.Hp({next:de=>{try{He(de)}catch(pt){Re(pt),Se.unsubscribe()}},error:Re,complete:bt});this.subscribe(Se)})}_subscribe(He){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(He)}[ee.L](){return this}pipe(...He){return(0,he.U)(He)(this)}toPromise(He){return new(He=Ne(He))((rt,bt)=>{let Re;this.subscribe(Se=>Re=Se,Se=>bt(Se),()=>rt(Re))})}}return ve.create=ze=>new ve(ze),ve})();function Ne(ve){var ze;return null!==(ze=null!=ve?ve:Be.v.Promise)&&void 0!==ze?ze:Promise}},7579:(yn,gt,H)=>{"use strict";H.d(gt,{x:()=>me});var _=H(9751),y=H(727);const he=(0,H(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=H(8737),xe=H(2806);let me=(()=>{class Ne extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ve=new Ue(this,this);return ve.operator=ge,ve}_throwIfClosed(){if(this.closed)throw new he}next(ge){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ge)}})}error(ge){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ge)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ve,isStopped:ze,observers:He}=this;return ve||ze?y.Lc:(this.currentObservers=null,He.push(ge),new y.w0(()=>{this.currentObservers=null,(0,Be.P)(He,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ve,thrownError:ze,isStopped:He}=this;ve?ge.error(ze):He&&ge.complete()}asObservable(){const ge=new _.y;return ge.source=this,ge}}return Ne.create=(_e,ge)=>new Ue(_e,ge),Ne})();class Ue extends me{constructor(_e,ge){super(),this.destination=_e,this.source=ge}next(_e){var ge,ve;null===(ve=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ve||ve.call(ge,_e)}error(_e){var ge,ve;null===(ve=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ve||ve.call(ge,_e)}complete(){var _e,ge;null===(ge=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===ge||ge.call(_e)}_subscribe(_e){var ge,ve;return null!==(ve=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(_e))&&void 0!==ve?ve:y.Lc}}},930:(yn,gt,H)=>{"use strict";H.d(gt,{Hp:()=>bt,Lv:()=>ve});var _=H(576),y=H(727),ee=H(2416),he=H(7849),Be=H(5032);const xe=Ne("C",void 0,void 0);function Ne(Y,et,Ze){return{kind:Y,value:et,error:Ze}}var _e=H(3410),ge=H(2806);class ve extends y.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,y.Nn)(et)&&et.add(this)):this.destination=pt}static create(et,Ze,At){return new bt(et,Ze,At)}next(et){this.isStopped?de(function Ue(Y){return Ne("N",Y,void 0)}(et),this):this._next(et)}error(et){this.isStopped?de(function me(Y){return Ne("E",void 0,Y)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?de(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function He(Y,et){return ze.call(Y,et)}class rt{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(et)}catch(At){Re(At)}}error(et){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(et)}catch(At){Re(At)}else Re(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ze){Re(Ze)}}}class bt extends ve{constructor(et,Ze,At){let $e;if(super(),(0,_.m)(et)||!et)$e={next:null!=et?et:void 0,error:null!=Ze?Ze:void 0,complete:null!=At?At:void 0};else{let Oe;this&&ee.v.useDeprecatedNextContext?(Oe=Object.create(et),Oe.unsubscribe=()=>this.unsubscribe(),$e={next:et.next&&He(et.next,Oe),error:et.error&&He(et.error,Oe),complete:et.complete&&He(et.complete,Oe)}):$e=et}this.destination=new rt($e)}}function Re(Y){ee.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Y):(0,he.h)(Y)}function de(Y,et){const{onStoppedNotification:Ze}=ee.v;Ze&&_e.z.setTimeout(()=>Ze(Y,et))}const pt={closed:!0,next:Be.Z,error:function Se(Y){throw Y},complete:Be.Z}},727:(yn,gt,H)=>{"use strict";H.d(gt,{Lc:()=>xe,w0:()=>Be,Nn:()=>me});var _=H(576);const ee=(0,H(3888).d)(Ne=>function(ge){Ne(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ve,ze)=>`${ze+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var he=H(8737);class Be{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const He of ge)He.remove(this);else ge.remove(this);const{initialTeardown:ve}=this;if((0,_.m)(ve))try{ve()}catch(He){_e=He instanceof ee?He.errors:[He]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const He of ze)try{Ue(He)}catch(rt){_e=null!=_e?_e:[],rt instanceof ee?_e=[..._e,...rt.errors]:_e.push(rt)}}if(_e)throw new ee(_e)}}add(_e){var ge;if(_e&&_e!==this)if(this.closed)Ue(_e);else{if(_e instanceof Be){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(_e)}}_hasParent(_e){const{_parentage:ge}=this;return ge===_e||Array.isArray(ge)&&ge.includes(_e)}_addParent(_e){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(_e),ge):ge?[ge,_e]:_e}_removeParent(_e){const{_parentage:ge}=this;ge===_e?this._parentage=null:Array.isArray(ge)&&(0,he.P)(ge,_e)}remove(_e){const{_finalizers:ge}=this;ge&&(0,he.P)(ge,_e),_e instanceof Be&&_e._removeParent(this)}}Be.EMPTY=(()=>{const Ne=new Be;return Ne.closed=!0,Ne})();const xe=Be.EMPTY;function me(Ne){return Ne instanceof Be||Ne&&"closed"in Ne&&(0,_.m)(Ne.remove)&&(0,_.m)(Ne.add)&&(0,_.m)(Ne.unsubscribe)}function Ue(Ne){(0,_.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(yn,gt,H)=>{"use strict";H.d(gt,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(yn,gt,H)=>{"use strict";H.d(gt,{z:()=>Be});var _=H(8189),ee=H(7669),he=H(8996);function Be(...xe){return function y(){return(0,_.J)(1)}()((0,he.D)(xe,(0,ee.yG)(xe)))}},515:(yn,gt,H)=>{"use strict";H.d(gt,{E:()=>y});const y=new(H(9751).y)(Be=>Be.complete())},8996:(yn,gt,H)=>{"use strict";H.d(gt,{D:()=>et});var _=H(8421),y=H(5363),ee=H(9468),xe=H(9751),Ue=H(2202),Ne=H(576),_e=H(9672);function ve(Ze,At){if(!Ze)throw new Error("Iterable cannot be null");return new xe.y($e=>{(0,_e.f)($e,At,()=>{const Oe=Ze[Symbol.asyncIterator]();(0,_e.f)($e,At,()=>{Oe.next().then(Pe=>{Pe.done?$e.complete():$e.next(Pe.value)})},0,!0)})})}var ze=H(3670),He=H(8239),rt=H(1144),bt=H(6495),Re=H(2206),Se=H(4532),de=H(3260);function et(Ze,At){return At?function Y(Ze,At){if(null!=Ze){if((0,ze.c)(Ze))return function he(Ze,At){return(0,_.Xf)(Ze).pipe((0,ee.R)(At),(0,y.Q)(At))}(Ze,At);if((0,rt.z)(Ze))return function me(Ze,At){return new xe.y($e=>{let Oe=0;return At.schedule(function(){Oe===Ze.length?$e.complete():($e.next(Ze[Oe++]),$e.closed||this.schedule())})})}(Ze,At);if((0,He.t)(Ze))return function Be(Ze,At){return(0,_.Xf)(Ze).pipe((0,ee.R)(At),(0,y.Q)(At))}(Ze,At);if((0,Re.D)(Ze))return ve(Ze,At);if((0,bt.T)(Ze))return function ge(Ze,At){return new xe.y($e=>{let Oe;return(0,_e.f)($e,At,()=>{Oe=Ze[Ue.h](),(0,_e.f)($e,At,()=>{let Pe,we;try{({value:Pe,done:we}=Oe.next())}catch(Ve){return void $e.error(Ve)}we?$e.complete():$e.next(Pe)},0,!0)}),()=>(0,Ne.m)(null==Oe?void 0:Oe.return)&&Oe.return()})}(Ze,At);if((0,de.L)(Ze))return function pt(Ze,At){return ve((0,de.Q)(Ze),At)}(Ze,At)}throw(0,Se.z)(Ze)}(Ze,At):(0,_.Xf)(Ze)}},8421:(yn,gt,H)=>{"use strict";H.d(gt,{Xf:()=>ze});var _=H(655),y=H(1144),ee=H(8239),he=H(9751),Be=H(3670),xe=H(2206),me=H(4532),Ue=H(6495),Ne=H(3260),_e=H(576),ge=H(7849),ve=H(8822);function ze(Y){if(Y instanceof he.y)return Y;if(null!=Y){if((0,Be.c)(Y))return function He(Y){return new he.y(et=>{const Ze=Y[ve.L]();if((0,_e.m)(Ze.subscribe))return Ze.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,y.z)(Y))return function rt(Y){return new he.y(et=>{for(let Ze=0;Ze<Y.length&&!et.closed;Ze++)et.next(Y[Ze]);et.complete()})}(Y);if((0,ee.t)(Y))return function bt(Y){return new he.y(et=>{Y.then(Ze=>{et.closed||(et.next(Ze),et.complete())},Ze=>et.error(Ze)).then(null,ge.h)})}(Y);if((0,xe.D)(Y))return Se(Y);if((0,Ue.T)(Y))return function Re(Y){return new he.y(et=>{for(const Ze of Y)if(et.next(Ze),et.closed)return;et.complete()})}(Y);if((0,Ne.L)(Y))return function de(Y){return Se((0,Ne.Q)(Y))}(Y)}throw(0,me.z)(Y)}function Se(Y){return new he.y(et=>{(function pt(Y,et){var Ze,At,$e,Oe;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,_.KL)(Y);!(At=yield Ze.next()).done;)if(et.next(At.value),et.closed)return}catch(Pe){$e={error:Pe}}finally{try{At&&!At.done&&(Oe=Ze.return)&&(yield Oe.call(Ze))}finally{if($e)throw $e.error}}et.complete()})})(Y,et).catch(Ze=>et.error(Ze))})}},6451:(yn,gt,H)=>{"use strict";H.d(gt,{T:()=>xe});var _=H(8189),y=H(8421),ee=H(515),he=H(7669),Be=H(8996);function xe(...me){const Ue=(0,he.yG)(me),Ne=(0,he._6)(me,1/0),_e=me;return _e.length?1===_e.length?(0,y.Xf)(_e[0]):(0,_.J)(Ne)((0,Be.D)(_e,Ue)):ee.E}},9646:(yn,gt,H)=>{"use strict";H.d(gt,{of:()=>ee});var _=H(7669),y=H(8996);function ee(...he){const Be=(0,_.yG)(he);return(0,y.D)(he,Be)}},5403:(yn,gt,H)=>{"use strict";H.d(gt,{x:()=>y});var _=H(930);function y(he,Be,xe,me,Ue){return new ee(he,Be,xe,me,Ue)}class ee extends _.Lv{constructor(Be,xe,me,Ue,Ne,_e){super(Be),this.onFinalize=Ne,this.shouldUnsubscribe=_e,this._next=xe?function(ge){try{xe(ge)}catch(ve){Be.error(ve)}}:super._next,this._error=Ue?function(ge){try{Ue(ge)}catch(ve){Be.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ge){Be.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Be=this.onFinalize)||void 0===Be||Be.call(this))}}}},262:(yn,gt,H)=>{"use strict";H.d(gt,{K:()=>he});var _=H(8421),y=H(5403),ee=H(4482);function he(Be){return(0,ee.e)((xe,me)=>{let _e,Ue=null,Ne=!1;Ue=xe.subscribe((0,y.x)(me,void 0,void 0,ge=>{_e=(0,_.Xf)(Be(ge,he(Be)(xe))),Ue?(Ue.unsubscribe(),Ue=null,_e.subscribe(me)):Ne=!0})),Ne&&(Ue.unsubscribe(),Ue=null,_e.subscribe(me))})}},4351:(yn,gt,H)=>{"use strict";H.d(gt,{b:()=>ee});var _=H(5577),y=H(576);function ee(he,Be){return(0,y.m)(Be)?(0,_.z)(he,Be,1):(0,_.z)(he,1)}},6590:(yn,gt,H)=>{"use strict";H.d(gt,{d:()=>ee});var _=H(4482),y=H(5403);function ee(he){return(0,_.e)((Be,xe)=>{let me=!1;Be.subscribe((0,y.x)(xe,Ue=>{me=!0,xe.next(Ue)},()=>{me||xe.next(he),xe.complete()}))})}},1884:(yn,gt,H)=>{"use strict";H.d(gt,{x:()=>he});var _=H(4671),y=H(4482),ee=H(5403);function he(xe,me=_.y){return xe=null!=xe?xe:Be,(0,y.e)((Ue,Ne)=>{let _e,ge=!0;Ue.subscribe((0,ee.x)(Ne,ve=>{const ze=me(ve);(ge||!xe(_e,ze))&&(ge=!1,_e=ze,Ne.next(ve))}))})}function Be(xe,me){return xe===me}},9300:(yn,gt,H)=>{"use strict";H.d(gt,{h:()=>ee});var _=H(4482),y=H(5403);function ee(he,Be){return(0,_.e)((xe,me)=>{let Ue=0;xe.subscribe((0,y.x)(me,Ne=>he.call(Be,Ne,Ue++)&&me.next(Ne)))})}},590:(yn,gt,H)=>{"use strict";H.d(gt,{P:()=>me});var _=H(6805),y=H(9300),ee=H(5698),he=H(6590),Be=H(8068),xe=H(4671);function me(Ue,Ne){const _e=arguments.length>=2;return ge=>ge.pipe(Ue?(0,y.h)((ve,ze)=>Ue(ve,ze,ge)):xe.y,(0,ee.q)(1),_e?(0,he.d)(Ne):(0,Be.T)(()=>new _.K))}},4004:(yn,gt,H)=>{"use strict";H.d(gt,{U:()=>ee});var _=H(4482),y=H(5403);function ee(he,Be){return(0,_.e)((xe,me)=>{let Ue=0;xe.subscribe((0,y.x)(me,Ne=>{me.next(he.call(Be,Ne,Ue++))}))})}},8189:(yn,gt,H)=>{"use strict";H.d(gt,{J:()=>ee});var _=H(5577),y=H(4671);function ee(he=1/0){return(0,_.z)(y.y,he)}},5577:(yn,gt,H)=>{"use strict";H.d(gt,{z:()=>Ue});var _=H(4004),y=H(8421),ee=H(4482),he=H(9672),Be=H(5403),me=H(576);function Ue(Ne,_e,ge=1/0){return(0,me.m)(_e)?Ue((ve,ze)=>(0,_.U)((He,rt)=>_e(ve,He,ze,rt))((0,y.Xf)(Ne(ve,ze))),ge):("number"==typeof _e&&(ge=_e),(0,ee.e)((ve,ze)=>function xe(Ne,_e,ge,ve,ze,He,rt,bt){const Re=[];let Se=0,de=0,pt=!1;const Y=()=>{pt&&!Re.length&&!Se&&_e.complete()},et=At=>Se<ve?Ze(At):Re.push(At),Ze=At=>{He&&_e.next(At),Se++;let $e=!1;(0,y.Xf)(ge(At,de++)).subscribe((0,Be.x)(_e,Oe=>{null==ze||ze(Oe),He?et(Oe):_e.next(Oe)},()=>{$e=!0},void 0,()=>{if($e)try{for(Se--;Re.length&&Se<ve;){const Oe=Re.shift();rt?(0,he.f)(_e,rt,()=>Ze(Oe)):Ze(Oe)}Y()}catch(Oe){_e.error(Oe)}}))};return Ne.subscribe((0,Be.x)(_e,et,()=>{pt=!0,Y()})),()=>{null==bt||bt()}}(ve,ze,Ne,ge)))}},5363:(yn,gt,H)=>{"use strict";H.d(gt,{Q:()=>he});var _=H(9672),y=H(4482),ee=H(5403);function he(Be,xe=0){return(0,y.e)((me,Ue)=>{me.subscribe((0,ee.x)(Ue,Ne=>(0,_.f)(Ue,Be,()=>Ue.next(Ne),xe),()=>(0,_.f)(Ue,Be,()=>Ue.complete(),xe),Ne=>(0,_.f)(Ue,Be,()=>Ue.error(Ne),xe)))})}},5026:(yn,gt,H)=>{"use strict";H.d(gt,{R:()=>he});var _=H(4482),y=H(5403);function he(Be,xe){return(0,_.e)(function ee(Be,xe,me,Ue,Ne){return(_e,ge)=>{let ve=me,ze=xe,He=0;_e.subscribe((0,y.x)(ge,rt=>{const bt=He++;ze=ve?Be(ze,rt,bt):(ve=!0,rt),Ue&&ge.next(ze)},Ne&&(()=>{ve&&ge.next(ze),ge.complete()})))}}(Be,xe,arguments.length>=2,!0))}},3099:(yn,gt,H)=>{"use strict";H.d(gt,{B:()=>Be});var _=H(8421),y=H(7579),ee=H(930),he=H(4482);function Be(me={}){const{connector:Ue=(()=>new y.x),resetOnError:Ne=!0,resetOnComplete:_e=!0,resetOnRefCountZero:ge=!0}=me;return ve=>{let ze,He,rt,bt=0,Re=!1,Se=!1;const de=()=>{null==He||He.unsubscribe(),He=void 0},pt=()=>{de(),ze=rt=void 0,Re=Se=!1},Y=()=>{const et=ze;pt(),null==et||et.unsubscribe()};return(0,he.e)((et,Ze)=>{bt++,!Se&&!Re&&de();const At=rt=null!=rt?rt:Ue();Ze.add(()=>{bt--,0===bt&&!Se&&!Re&&(He=xe(Y,ge))}),At.subscribe(Ze),!ze&&bt>0&&(ze=new ee.Hp({next:$e=>At.next($e),error:$e=>{Se=!0,de(),He=xe(pt,Ne,$e),At.error($e)},complete:()=>{Re=!0,de(),He=xe(pt,_e),At.complete()}}),(0,_.Xf)(et).subscribe(ze))})(ve)}}function xe(me,Ue,...Ne){if(!0===Ue)return void me();if(!1===Ue)return;const _e=new ee.Hp({next:()=>{_e.unsubscribe(),me()}});return Ue(...Ne).subscribe(_e)}},8675:(yn,gt,H)=>{"use strict";H.d(gt,{O:()=>he});var _=H(7272),y=H(7669),ee=H(4482);function he(...Be){const xe=(0,y.yG)(Be);return(0,ee.e)((me,Ue)=>{(xe?(0,_.z)(Be,me,xe):(0,_.z)(Be,me)).subscribe(Ue)})}},9468:(yn,gt,H)=>{"use strict";H.d(gt,{R:()=>y});var _=H(4482);function y(ee,he=0){return(0,_.e)((Be,xe)=>{xe.add(ee.schedule(()=>Be.subscribe(xe),he))})}},3900:(yn,gt,H)=>{"use strict";H.d(gt,{w:()=>he});var _=H(8421),y=H(4482),ee=H(5403);function he(Be,xe){return(0,y.e)((me,Ue)=>{let Ne=null,_e=0,ge=!1;const ve=()=>ge&&!Ne&&Ue.complete();me.subscribe((0,ee.x)(Ue,ze=>{null==Ne||Ne.unsubscribe();let He=0;const rt=_e++;(0,_.Xf)(Be(ze,rt)).subscribe(Ne=(0,ee.x)(Ue,bt=>Ue.next(xe?xe(ze,bt,rt,He++):bt),()=>{Ne=null,ve()}))},()=>{ge=!0,ve()}))})}},5698:(yn,gt,H)=>{"use strict";H.d(gt,{q:()=>he});var _=H(515),y=H(4482),ee=H(5403);function he(Be){return Be<=0?()=>_.E:(0,y.e)((xe,me)=>{let Ue=0;xe.subscribe((0,ee.x)(me,Ne=>{++Ue<=Be&&(me.next(Ne),Be<=Ue&&me.complete())}))})}},8505:(yn,gt,H)=>{"use strict";H.d(gt,{b:()=>Be});var _=H(576),y=H(4482),ee=H(5403),he=H(4671);function Be(xe,me,Ue){const Ne=(0,_.m)(xe)||me||Ue?{next:xe,error:me,complete:Ue}:xe;return Ne?(0,y.e)((_e,ge)=>{var ve;null===(ve=Ne.subscribe)||void 0===ve||ve.call(Ne);let ze=!0;_e.subscribe((0,ee.x)(ge,He=>{var rt;null===(rt=Ne.next)||void 0===rt||rt.call(Ne,He),ge.next(He)},()=>{var He;ze=!1,null===(He=Ne.complete)||void 0===He||He.call(Ne),ge.complete()},He=>{var rt;ze=!1,null===(rt=Ne.error)||void 0===rt||rt.call(Ne,He),ge.error(He)},()=>{var He,rt;ze&&(null===(He=Ne.unsubscribe)||void 0===He||He.call(Ne)),null===(rt=Ne.finalize)||void 0===rt||rt.call(Ne)}))}):he.y}},8068:(yn,gt,H)=>{"use strict";H.d(gt,{T:()=>he});var _=H(6805),y=H(4482),ee=H(5403);function he(xe=Be){return(0,y.e)((me,Ue)=>{let Ne=!1;me.subscribe((0,ee.x)(Ue,_e=>{Ne=!0,Ue.next(_e)},()=>Ne?Ue.complete():Ue.error(xe())))})}function Be(){return new _.K}},4408:(yn,gt,H)=>{"use strict";H.d(gt,{o:()=>Be});var _=H(727);class y extends _.w0{constructor(me,Ue){super()}schedule(me,Ue=0){return this}}const ee={setInterval(xe,me,...Ue){const{delegate:Ne}=ee;return null!=Ne&&Ne.setInterval?Ne.setInterval(xe,me,...Ue):setInterval(xe,me,...Ue)},clearInterval(xe){const{delegate:me}=ee;return((null==me?void 0:me.clearInterval)||clearInterval)(xe)},delegate:void 0};var he=H(8737);class Be extends y{constructor(me,Ue){super(me,Ue),this.scheduler=me,this.work=Ue,this.pending=!1}schedule(me,Ue=0){var Ne;if(this.closed)return this;this.state=me;const _e=this.id,ge=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(ge,_e,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(ge,this.id,Ue),this}requestAsyncId(me,Ue,Ne=0){return ee.setInterval(me.flush.bind(me,this),Ne)}recycleAsyncId(me,Ue,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Ue;null!=Ue&&ee.clearInterval(Ue)}execute(me,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(me,Ue);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,Ue){let _e,Ne=!1;try{this.work(me)}catch(ge){Ne=!0,_e=ge||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:me,scheduler:Ue}=this,{actions:Ne}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Ne,this),null!=me&&(this.id=this.recycleAsyncId(Ue,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(yn,gt,H)=>{"use strict";H.d(gt,{v:()=>ee});var _=H(6063);class y{constructor(Be,xe=y.now){this.schedulerActionCtor=Be,this.now=xe}schedule(Be,xe=0,me){return new this.schedulerActionCtor(this,Be).schedule(me,xe)}}y.now=_.l.now;class ee extends y{constructor(Be,xe=y.now){super(Be,xe),this.actions=[],this._active=!1}flush(Be){const{actions:xe}=this;if(this._active)return void xe.push(Be);let me;this._active=!0;do{if(me=Be.execute(Be.state,Be.delay))break}while(Be=xe.shift());if(this._active=!1,me){for(;Be=xe.shift();)Be.unsubscribe();throw me}}}},4986:(yn,gt,H)=>{"use strict";H.d(gt,{z:()=>ee});var _=H(4408);const ee=new(H(7565).v)(_.o)},6063:(yn,gt,H)=>{"use strict";H.d(gt,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(yn,gt,H)=>{"use strict";H.d(gt,{z:()=>_});const _={setTimeout(y,ee,...he){const{delegate:Be}=_;return null!=Be&&Be.setTimeout?Be.setTimeout(y,ee,...he):setTimeout(y,ee,...he)},clearTimeout(y){const{delegate:ee}=_;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(yn,gt,H)=>{"use strict";H.d(gt,{h:()=>y});const y=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yn,gt,H)=>{"use strict";H.d(gt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(yn,gt,H)=>{"use strict";H.d(gt,{K:()=>y});const y=(0,H(3888).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(yn,gt,H)=>{"use strict";H.d(gt,{_6:()=>xe,jO:()=>he,yG:()=>Be});var _=H(576);function ee(me){return me[me.length-1]}function he(me){return(0,_.m)(ee(me))?me.pop():void 0}function Be(me){return function y(me){return me&&(0,_.m)(me.schedule)}(ee(me))?me.pop():void 0}function xe(me,Ue){return"number"==typeof ee(me)?me.pop():Ue}},4742:(yn,gt,H)=>{"use strict";H.d(gt,{D:()=>Be});const{isArray:_}=Array,{getPrototypeOf:y,prototype:ee,keys:he}=Object;function Be(me){if(1===me.length){const Ue=me[0];if(_(Ue))return{args:Ue,keys:null};if(function xe(me){return me&&"object"==typeof me&&y(me)===ee}(Ue)){const Ne=he(Ue);return{args:Ne.map(_e=>Ue[_e]),keys:Ne}}}return{args:me,keys:null}}},8737:(yn,gt,H)=>{"use strict";function _(y,ee){if(y){const he=y.indexOf(ee);0<=he&&y.splice(he,1)}}H.d(gt,{P:()=>_})},3888:(yn,gt,H)=>{"use strict";function _(y){const he=y(Be=>{Error.call(Be),Be.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}H.d(gt,{d:()=>_})},1810:(yn,gt,H)=>{"use strict";function _(y,ee){return y.reduce((he,Be,xe)=>(he[Be]=ee[xe],he),{})}H.d(gt,{n:()=>_})},2806:(yn,gt,H)=>{"use strict";H.d(gt,{O:()=>he,x:()=>ee});var _=H(2416);let y=null;function ee(Be){if(_.v.useDeprecatedSynchronousErrorHandling){const xe=!y;if(xe&&(y={errorThrown:!1,error:null}),Be(),xe){const{errorThrown:me,error:Ue}=y;if(y=null,me)throw Ue}}else Be()}function he(Be){_.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=Be)}},9672:(yn,gt,H)=>{"use strict";function _(y,ee,he,Be=0,xe=!1){const me=ee.schedule(function(){he(),xe?y.add(this.schedule(null,Be)):this.unsubscribe()},Be);if(y.add(me),!xe)return me}H.d(gt,{f:()=>_})},4671:(yn,gt,H)=>{"use strict";function _(y){return y}H.d(gt,{y:()=>_})},1144:(yn,gt,H)=>{"use strict";H.d(gt,{z:()=>_});const _=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(yn,gt,H)=>{"use strict";H.d(gt,{D:()=>y});var _=H(576);function y(ee){return Symbol.asyncIterator&&(0,_.m)(null==ee?void 0:ee[Symbol.asyncIterator])}},576:(yn,gt,H)=>{"use strict";function _(y){return"function"==typeof y}H.d(gt,{m:()=>_})},3670:(yn,gt,H)=>{"use strict";H.d(gt,{c:()=>ee});var _=H(8822),y=H(576);function ee(he){return(0,y.m)(he[_.L])}},6495:(yn,gt,H)=>{"use strict";H.d(gt,{T:()=>ee});var _=H(2202),y=H(576);function ee(he){return(0,y.m)(null==he?void 0:he[_.h])}},8239:(yn,gt,H)=>{"use strict";H.d(gt,{t:()=>y});var _=H(576);function y(ee){return(0,_.m)(null==ee?void 0:ee.then)}},3260:(yn,gt,H)=>{"use strict";H.d(gt,{L:()=>he,Q:()=>ee});var _=H(655),y=H(576);function ee(Be){return(0,_.FC)(this,arguments,function*(){const me=Be.getReader();try{for(;;){const{value:Ue,done:Ne}=yield(0,_.qq)(me.read());if(Ne)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Ue)}}finally{me.releaseLock()}})}function he(Be){return(0,y.m)(null==Be?void 0:Be.getReader)}},4482:(yn,gt,H)=>{"use strict";H.d(gt,{A:()=>y,e:()=>ee});var _=H(576);function y(he){return(0,_.m)(null==he?void 0:he.lift)}function ee(he){return Be=>{if(y(Be))return Be.lift(function(xe){try{return he(xe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yn,gt,H)=>{"use strict";H.d(gt,{Z:()=>he});var _=H(4004);const{isArray:y}=Array;function he(Be){return(0,_.U)(xe=>function ee(Be,xe){return y(xe)?Be(...xe):Be(xe)}(Be,xe))}},5032:(yn,gt,H)=>{"use strict";function _(){}H.d(gt,{Z:()=>_})},9635:(yn,gt,H)=>{"use strict";H.d(gt,{U:()=>ee,z:()=>y});var _=H(4671);function y(...he){return ee(he)}function ee(he){return 0===he.length?_.y:1===he.length?he[0]:function(xe){return he.reduce((me,Ue)=>Ue(me),xe)}}},7849:(yn,gt,H)=>{"use strict";H.d(gt,{h:()=>ee});var _=H(2416),y=H(3410);function ee(he){y.z.setTimeout(()=>{const{onUnhandledError:Be}=_.v;if(!Be)throw he;Be(he)})}},4532:(yn,gt,H)=>{"use strict";function _(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(gt,{z:()=>_})},863:(yn,gt,H)=>{var _={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,8594,9230],"./ion-datetime_3.entry.js":[4959,8594,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function y(ee){if(!H.o(_,ee))return Promise.resolve().then(()=>{var xe=new Error("Cannot find module '"+ee+"'");throw xe.code="MODULE_NOT_FOUND",xe});var he=_[ee],Be=he[0];return Promise.all(he.slice(1).map(H.e)).then(()=>H(Be))}y.keys=()=>Object.keys(_),y.id=863,yn.exports=y},655:(yn,gt,H)=>{"use strict";function he(ct,wt){var ft={};for(var ke in ct)Object.prototype.hasOwnProperty.call(ct,ke)&&wt.indexOf(ke)<0&&(ft[ke]=ct[ke]);if(null!=ct&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ke=Object.getOwnPropertySymbols(ct);Le<ke.length;Le++)wt.indexOf(ke[Le])<0&&Object.prototype.propertyIsEnumerable.call(ct,ke[Le])&&(ft[ke[Le]]=ct[ke[Le]])}return ft}function Be(ct,wt,ft,ke){var lt,Le=arguments.length,Fe=Le<3?wt:null===ke?ke=Object.getOwnPropertyDescriptor(wt,ft):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(ct,wt,ft,ke);else for(var vt=ct.length-1;vt>=0;vt--)(lt=ct[vt])&&(Fe=(Le<3?lt(Fe):Le>3?lt(wt,ft,Fe):lt(wt,ft))||Fe);return Le>3&&Fe&&Object.defineProperty(wt,ft,Fe),Fe}function ve(ct,wt,ft,ke){return new(ft||(ft=Promise))(function(Fe,lt){function vt(vn){try{$t(ke.next(vn))}catch(Dt){lt(Dt)}}function Zt(vn){try{$t(ke.throw(vn))}catch(Dt){lt(Dt)}}function $t(vn){vn.done?Fe(vn.value):function Le(Fe){return Fe instanceof ft?Fe:new ft(function(lt){lt(Fe)})}(vn.value).then(vt,Zt)}$t((ke=ke.apply(ct,wt||[])).next())})}function Y(ct){return this instanceof Y?(this.v=ct,this):new Y(ct)}function et(ct,wt,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ke=ft.apply(ct,wt||[]),Fe=[];return Le={},lt("next"),lt("throw"),lt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function lt(Te){ke[Te]&&(Le[Te]=function(Tt){return new Promise(function(ln,Rn){Fe.push([Te,Tt,ln,Rn])>1||vt(Te,Tt)})})}function vt(Te,Tt){try{!function Zt(Te){Te.value instanceof Y?Promise.resolve(Te.value.v).then($t,vn):Dt(Fe[0][2],Te)}(ke[Te](Tt))}catch(ln){Dt(Fe[0][3],ln)}}function $t(Te){vt("next",Te)}function vn(Te){vt("throw",Te)}function Dt(Te,Tt){Te(Tt),Fe.shift(),Fe.length&&vt(Fe[0][0],Fe[0][1])}}function At(ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,wt=ct[Symbol.asyncIterator];return wt?wt.call(ct):(ct=function bt(ct){var wt="function"==typeof Symbol&&Symbol.iterator,ft=wt&&ct[wt],ke=0;if(ft)return ft.call(ct);if(ct&&"number"==typeof ct.length)return{next:function(){return ct&&ke>=ct.length&&(ct=void 0),{value:ct&&ct[ke++],done:!ct}}};throw new TypeError(wt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ct),ft={},ke("next"),ke("throw"),ke("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function ke(Fe){ft[Fe]=ct[Fe]&&function(lt){return new Promise(function(vt,Zt){!function Le(Fe,lt,vt,Zt){Promise.resolve(Zt).then(function($t){Fe({value:$t,done:vt})},lt)}(vt,Zt,(lt=ct[Fe](lt)).done,lt.value)})}}}H.d(gt,{FC:()=>et,KL:()=>At,_T:()=>he,gn:()=>Be,mG:()=>ve,qq:()=>Y})},6895:(yn,gt,H)=>{"use strict";H.d(gt,{Do:()=>de,EM:()=>Hs,HT:()=>he,JF:()=>go,K0:()=>xe,Mx:()=>Ji,O5:()=>Ee,PM:()=>so,S$:()=>bt,V_:()=>Ne,Ye:()=>pt,b0:()=>Se,bD:()=>da,ez:()=>ps,q:()=>ee,sg:()=>ii,tP:()=>Gn,uU:()=>$i,w_:()=>Be});var _=H(4650);let y=null;function ee(){return y}function he(L){y||(y=L)}class Be{}const xe=new _.OlP("DocumentToken");let me=(()=>{class L{historyGo(j){throw new Error("Not implemented")}}return L.\u0275fac=function(j){return new(j||L)},L.\u0275prov=_.Yz7({token:L,factory:function(){return function Ue(){return(0,_.LFG)(_e)}()},providedIn:"platform"}),L})();const Ne=new _.OlP("Location Initialized");let _e=(()=>{class L extends me{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(j){const se=ee().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",j,!1),()=>se.removeEventListener("popstate",j)}onHashChange(j){const se=ee().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",j,!1),()=>se.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,se,Me){ge()?this._history.pushState(j,se,Me):this._location.hash=Me}replaceState(j,se,Me){ge()?this._history.replaceState(j,se,Me):this._location.hash=Me}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return L.\u0275fac=function(j){return new(j||L)(_.LFG(xe))},L.\u0275prov=_.Yz7({token:L,factory:function(){return function ve(){return new _e((0,_.LFG)(xe))}()},providedIn:"platform"}),L})();function ge(){return!!window.history.pushState}function ze(L,X){if(0==L.length)return X;if(0==X.length)return L;let j=0;return L.endsWith("/")&&j++,X.startsWith("/")&&j++,2==j?L+X.substring(1):1==j?L+X:L+"/"+X}function He(L){const X=L.match(/#|\?|$/),j=X&&X.index||L.length;return L.slice(0,j-("/"===L[j-1]?1:0))+L.slice(j)}function rt(L){return L&&"?"!==L[0]?"?"+L:L}let bt=(()=>{class L{historyGo(j){throw new Error("Not implemented")}}return L.\u0275fac=function(j){return new(j||L)},L.\u0275prov=_.Yz7({token:L,factory:function(){return(0,_.f3M)(Se)},providedIn:"root"}),L})();const Re=new _.OlP("appBaseHref");let Se=(()=>{class L extends bt{constructor(j,se){var Me,Vt,Wt;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(Me=null!==(Vt=null!=se?se:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Vt?Vt:null===(Wt=(0,_.f3M)(xe).location)||void 0===Wt?void 0:Wt.origin)&&void 0!==Me?Me:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ze(this._baseHref,j)}path(j=!1){const se=this._platformLocation.pathname+rt(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&j?`${se}${Me}`:se}pushState(j,se,Me,Vt){const Wt=this.prepareExternalUrl(Me+rt(Vt));this._platformLocation.pushState(j,se,Wt)}replaceState(j,se,Me,Vt){const Wt=this.prepareExternalUrl(Me+rt(Vt));this._platformLocation.replaceState(j,se,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var se,Me;null===(se=(Me=this._platformLocation).historyGo)||void 0===se||se.call(Me,j)}}return L.\u0275fac=function(j){return new(j||L)(_.LFG(me),_.LFG(Re,8))},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),de=(()=>{class L extends bt{constructor(j,se){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(j){const se=ze(this._baseHref,j);return se.length>0?"#"+se:se}pushState(j,se,Me,Vt){let Wt=this.prepareExternalUrl(Me+rt(Vt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(j,se,Wt)}replaceState(j,se,Me,Vt){let Wt=this.prepareExternalUrl(Me+rt(Vt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(j,se,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var se,Me;null===(se=(Me=this._platformLocation).historyGo)||void 0===se||se.call(Me,j)}}return L.\u0275fac=function(j){return new(j||L)(_.LFG(me),_.LFG(Re,8))},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac}),L})(),pt=(()=>{class L{constructor(j){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const se=this._locationStrategy.getBaseHref();this._basePath=function At(L){if(new RegExp("^(https?:)?//").test(L)){const[,j]=L.split(/\/\/[^\/]+/);return j}return L}(He(Ze(se))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,se=""){return this.path()==this.normalize(j+rt(se))}normalize(j){return L.stripTrailingSlash(function et(L,X){if(!L||!X.startsWith(L))return X;const j=X.substring(L.length);return""===j||["/",";","?","#"].includes(j[0])?j:X}(this._basePath,Ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,se="",Me=null){this._locationStrategy.pushState(Me,"",j,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+rt(se)),Me)}replaceState(j,se="",Me=null){this._locationStrategy.replaceState(Me,"",j,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+rt(se)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var se,Me;null===(se=(Me=this._locationStrategy).historyGo)||void 0===se||se.call(Me,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(j);var Me;this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(null===(Me=this._urlChangeSubscription)||void 0===Me||Me.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",se){this._urlChangeListeners.forEach(Me=>Me(j,se))}subscribe(j,se,Me){return this._subject.subscribe({next:j,error:se,complete:Me})}}return L.normalizeQueryParams=rt,L.joinWithSlash=ze,L.stripTrailingSlash=He,L.\u0275fac=function(j){return new(j||L)(_.LFG(bt))},L.\u0275prov=_.Yz7({token:L,factory:function(){return function Y(){return new pt((0,_.LFG)(bt))}()},providedIn:"root"}),L})();function Ze(L){return L.replace(/\/index.html$/,"")}var we=(()=>((we=we||{})[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we))(),Ve=(()=>((Ve=Ve||{})[Ve.Narrow=0]="Narrow",Ve[Ve.Abbreviated=1]="Abbreviated",Ve[Ve.Wide=2]="Wide",Ve[Ve.Short=3]="Short",Ve))(),ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.Medium=1]="Medium",ht[ht.Long=2]="Long",ht[ht.Full=3]="Full",ht))(),_t=(()=>((_t=_t||{})[_t.Decimal=0]="Decimal",_t[_t.Group=1]="Group",_t[_t.List=2]="List",_t[_t.PercentSign=3]="PercentSign",_t[_t.PlusSign=4]="PlusSign",_t[_t.MinusSign=5]="MinusSign",_t[_t.Exponential=6]="Exponential",_t[_t.SuperscriptingExponent=7]="SuperscriptingExponent",_t[_t.PerMille=8]="PerMille",_t[_t.Infinity=9]="Infinity",_t[_t.NaN=10]="NaN",_t[_t.TimeSeparator=11]="TimeSeparator",_t[_t.CurrencyDecimal=12]="CurrencyDecimal",_t[_t.CurrencyGroup=13]="CurrencyGroup",_t))();function Zt(L,X){return Xn((0,_.cg1)(L)[_.wAp.DateFormat],X)}function $t(L,X){return Xn((0,_.cg1)(L)[_.wAp.TimeFormat],X)}function vn(L,X){return Xn((0,_.cg1)(L)[_.wAp.DateTimeFormat],X)}function Dt(L,X){const j=(0,_.cg1)(L),se=j[_.wAp.NumberSymbols][X];if(typeof se>"u"){if(X===_t.CurrencyDecimal)return j[_.wAp.NumberSymbols][_t.Decimal];if(X===_t.CurrencyGroup)return j[_.wAp.NumberSymbols][_t.Group]}return se}function nn(L){if(!L[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xn(L,X){for(let j=X;j>-1;j--)if(typeof L[j]<"u")return L[j];throw new Error("Locale data API: locale data undefined")}function br(L){const[X,j]=L.split(":");return{hours:+X,minutes:+j}}const Br=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Di={},Ir=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=(()=>((Tn=Tn||{})[Tn.Short=0]="Short",Tn[Tn.ShortGMT=1]="ShortGMT",Tn[Tn.Long=2]="Long",Tn[Tn.Extended=3]="Extended",Tn))(),tn=(()=>((tn=tn||{})[tn.FullYear=0]="FullYear",tn[tn.Month=1]="Month",tn[tn.Date=2]="Date",tn[tn.Hours=3]="Hours",tn[tn.Minutes=4]="Minutes",tn[tn.Seconds=5]="Seconds",tn[tn.FractionalSeconds=6]="FractionalSeconds",tn[tn.Day=7]="Day",tn))(),fn=(()=>((fn=fn||{})[fn.DayPeriods=0]="DayPeriods",fn[fn.Days=1]="Days",fn[fn.Months=2]="Months",fn[fn.Eras=3]="Eras",fn))();function on(L,X,j,se){let Me=function ot(L){if(Ye(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[Me,Vt=1,Wt=1]=L.split("-").map(Ln=>+Ln);return Jr(Me,Vt-1,Wt)}const j=parseFloat(L);if(!isNaN(L-j))return new Date(j);let se;if(se=L.match(Br))return function gn(L){const X=new Date(0);let j=0,se=0;const Me=L[8]?X.setUTCFullYear:X.setFullYear,Vt=L[8]?X.setUTCHours:X.setHours;L[9]&&(j=Number(L[9]+L[10]),se=Number(L[9]+L[11])),Me.call(X,Number(L[1]),Number(L[2])-1,Number(L[3]));const Wt=Number(L[4]||0)-j,Ln=Number(L[5]||0)-se,gr=Number(L[6]||0),$r=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return Vt.call(X,Wt,Ln,gr,$r),X}(se)}const X=new Date(L);if(!Ye(X))throw new Error(`Unable to convert "${L}" into a date`);return X}(L);X=Sr(j,X)||X;let Ln,Wt=[];for(;X;){if(Ln=Ir.exec(X),!Ln){Wt.push(X);break}{Wt=Wt.concat(Ln.slice(1));const Lr=Wt.pop();if(!Lr)break;X=Lr}}let gr=Me.getTimezoneOffset();se&&(gr=be(se,gr),Me=function Ct(L,X,j){const se=j?-1:1,Me=L.getTimezoneOffset();return function We(L,X){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+X),L}(L,se*(be(X,Me)-Me))}(Me,se,!0));let $r="";return Wt.forEach(Lr=>{const wr=function Ce(L){if(zt[L])return zt[L];let X;switch(L){case"G":case"GG":case"GGG":X=or(fn.Eras,Ve.Abbreviated);break;case"GGGG":X=or(fn.Eras,Ve.Wide);break;case"GGGGG":X=or(fn.Eras,Ve.Narrow);break;case"y":X=Ur(tn.FullYear,1,0,!1,!0);break;case"yy":X=Ur(tn.FullYear,2,0,!0,!0);break;case"yyy":X=Ur(tn.FullYear,3,0,!1,!0);break;case"yyyy":X=Ur(tn.FullYear,4,0,!1,!0);break;case"Y":X=Xt(1);break;case"YY":X=Xt(2,!0);break;case"YYY":X=Xt(3);break;case"YYYY":X=Xt(4);break;case"M":case"L":X=Ur(tn.Month,1,1);break;case"MM":case"LL":X=Ur(tn.Month,2,1);break;case"MMM":X=or(fn.Months,Ve.Abbreviated);break;case"MMMM":X=or(fn.Months,Ve.Wide);break;case"MMMMM":X=or(fn.Months,Ve.Narrow);break;case"LLL":X=or(fn.Months,Ve.Abbreviated,we.Standalone);break;case"LLLL":X=or(fn.Months,Ve.Wide,we.Standalone);break;case"LLLLL":X=or(fn.Months,Ve.Narrow,we.Standalone);break;case"w":X=Qe(1);break;case"ww":X=Qe(2);break;case"W":X=Qe(1,!0);break;case"d":X=Ur(tn.Date,1);break;case"dd":X=Ur(tn.Date,2);break;case"c":case"cc":X=Ur(tn.Day,1);break;case"ccc":X=or(fn.Days,Ve.Abbreviated,we.Standalone);break;case"cccc":X=or(fn.Days,Ve.Wide,we.Standalone);break;case"ccccc":X=or(fn.Days,Ve.Narrow,we.Standalone);break;case"cccccc":X=or(fn.Days,Ve.Short,we.Standalone);break;case"E":case"EE":case"EEE":X=or(fn.Days,Ve.Abbreviated);break;case"EEEE":X=or(fn.Days,Ve.Wide);break;case"EEEEE":X=or(fn.Days,Ve.Narrow);break;case"EEEEEE":X=or(fn.Days,Ve.Short);break;case"a":case"aa":case"aaa":X=or(fn.DayPeriods,Ve.Abbreviated);break;case"aaaa":X=or(fn.DayPeriods,Ve.Wide);break;case"aaaaa":X=or(fn.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":X=or(fn.DayPeriods,Ve.Abbreviated,we.Standalone,!0);break;case"bbbb":X=or(fn.DayPeriods,Ve.Wide,we.Standalone,!0);break;case"bbbbb":X=or(fn.DayPeriods,Ve.Narrow,we.Standalone,!0);break;case"B":case"BB":case"BBB":X=or(fn.DayPeriods,Ve.Abbreviated,we.Format,!0);break;case"BBBB":X=or(fn.DayPeriods,Ve.Wide,we.Format,!0);break;case"BBBBB":X=or(fn.DayPeriods,Ve.Narrow,we.Format,!0);break;case"h":X=Ur(tn.Hours,1,-12);break;case"hh":X=Ur(tn.Hours,2,-12);break;case"H":X=Ur(tn.Hours,1);break;case"HH":X=Ur(tn.Hours,2);break;case"m":X=Ur(tn.Minutes,1);break;case"mm":X=Ur(tn.Minutes,2);break;case"s":X=Ur(tn.Seconds,1);break;case"ss":X=Ur(tn.Seconds,2);break;case"S":X=Ur(tn.FractionalSeconds,1);break;case"SS":X=Ur(tn.FractionalSeconds,2);break;case"SSS":X=Ur(tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=Ei(Tn.Short);break;case"ZZZZZ":X=Ei(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=Ei(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=Ei(Tn.Long);break;default:return null}return zt[L]=X,X}(Lr);$r+=wr?wr(Me,j,gr):"''"===Lr?"'":Lr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),$r}function Jr(L,X,j){const se=new Date(0);return se.setFullYear(L,X,j),se.setHours(0,0,0),se}function Sr(L,X){const j=function wt(L){return(0,_.cg1)(L)[_.wAp.LocaleId]}(L);if(Di[j]=Di[j]||{},Di[j][X])return Di[j][X];let se="";switch(X){case"shortDate":se=Zt(L,ht.Short);break;case"mediumDate":se=Zt(L,ht.Medium);break;case"longDate":se=Zt(L,ht.Long);break;case"fullDate":se=Zt(L,ht.Full);break;case"shortTime":se=$t(L,ht.Short);break;case"mediumTime":se=$t(L,ht.Medium);break;case"longTime":se=$t(L,ht.Long);break;case"fullTime":se=$t(L,ht.Full);break;case"short":const Me=Sr(L,"shortTime"),Vt=Sr(L,"shortDate");se=qr(vn(L,ht.Short),[Me,Vt]);break;case"medium":const Wt=Sr(L,"mediumTime"),Ln=Sr(L,"mediumDate");se=qr(vn(L,ht.Medium),[Wt,Ln]);break;case"long":const gr=Sr(L,"longTime"),$r=Sr(L,"longDate");se=qr(vn(L,ht.Long),[gr,$r]);break;case"full":const Lr=Sr(L,"fullTime"),wr=Sr(L,"fullDate");se=qr(vn(L,ht.Full),[Lr,wr])}return se&&(Di[j][X]=se),se}function qr(L,X){return X&&(L=L.replace(/\{([^}]+)}/g,function(j,se){return null!=X&&se in X?X[se]:j})),L}function ni(L,X,j="-",se,Me){let Vt="";(L<0||Me&&L<=0)&&(Me?L=1-L:(L=-L,Vt=j));let Wt=String(L);for(;Wt.length<X;)Wt="0"+Wt;return se&&(Wt=Wt.slice(Wt.length-X)),Vt+Wt}function Ur(L,X,j=0,se=!1,Me=!1){return function(Vt,Wt){let Ln=function xi(L,X){switch(L){case tn.FullYear:return X.getFullYear();case tn.Month:return X.getMonth();case tn.Date:return X.getDate();case tn.Hours:return X.getHours();case tn.Minutes:return X.getMinutes();case tn.Seconds:return X.getSeconds();case tn.FractionalSeconds:return X.getMilliseconds();case tn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,Vt);if((j>0||Ln>-j)&&(Ln+=j),L===tn.Hours)0===Ln&&-12===j&&(Ln=12);else if(L===tn.FractionalSeconds)return function gi(L,X){return ni(L,3).substring(0,X)}(Ln,X);const gr=Dt(Wt,_t.MinusSign);return ni(Ln,X,gr,se,Me)}}function or(L,X,j=we.Format,se=!1){return function(Me,Vt){return function Yn(L,X,j,se,Me,Vt){switch(j){case fn.Months:return function Le(L,X,j){const se=(0,_.cg1)(L),Vt=Xn([se[_.wAp.MonthsFormat],se[_.wAp.MonthsStandalone]],X);return Xn(Vt,j)}(X,Me,se)[L.getMonth()];case fn.Days:return function ke(L,X,j){const se=(0,_.cg1)(L),Vt=Xn([se[_.wAp.DaysFormat],se[_.wAp.DaysStandalone]],X);return Xn(Vt,j)}(X,Me,se)[L.getDay()];case fn.DayPeriods:const Wt=L.getHours(),Ln=L.getMinutes();if(Vt){const $r=function In(L){const X=(0,_.cg1)(L);return nn(X),(X[_.wAp.ExtraData][2]||[]).map(se=>"string"==typeof se?br(se):[br(se[0]),br(se[1])])}(X),Lr=function lr(L,X,j){const se=(0,_.cg1)(L);nn(se);const Vt=Xn([se[_.wAp.ExtraData][0],se[_.wAp.ExtraData][1]],X)||[];return Xn(Vt,j)||[]}(X,Me,se),wr=$r.findIndex(Fi=>{if(Array.isArray(Fi)){const[Ri,Gi]=Fi,na=Wt>=Ri.hours&&Ln>=Ri.minutes,Ao=Wt<Gi.hours||Wt===Gi.hours&&Ln<Gi.minutes;if(Ri.hours<Gi.hours){if(na&&Ao)return!0}else if(na||Ao)return!0}else if(Fi.hours===Wt&&Fi.minutes===Ln)return!0;return!1});if(-1!==wr)return Lr[wr]}return function ft(L,X,j){const se=(0,_.cg1)(L),Vt=Xn([se[_.wAp.DayPeriodsFormat],se[_.wAp.DayPeriodsStandalone]],X);return Xn(Vt,j)}(X,Me,se)[Wt<12?0:1];case fn.Eras:return function Fe(L,X){return Xn((0,_.cg1)(L)[_.wAp.Eras],X)}(X,se)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Me,Vt,L,X,j,se)}}function Ei(L){return function(X,j,se){const Me=-1*se,Vt=Dt(j,_t.MinusSign),Wt=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(L){case Tn.Short:return(Me>=0?"+":"")+ni(Wt,2,Vt)+ni(Math.abs(Me%60),2,Vt);case Tn.ShortGMT:return"GMT"+(Me>=0?"+":"")+ni(Wt,1,Vt);case Tn.Long:return"GMT"+(Me>=0?"+":"")+ni(Wt,2,Vt)+":"+ni(Math.abs(Me%60),2,Vt);case Tn.Extended:return 0===se?"Z":(Me>=0?"+":"")+ni(Wt,2,Vt)+":"+ni(Math.abs(Me%60),2,Vt);default:throw new Error(`Unknown zone width "${L}"`)}}}const Pr=0,mr=4;function Ge(L){return Jr(L.getFullYear(),L.getMonth(),L.getDate()+(mr-L.getDay()))}function Qe(L,X=!1){return function(j,se){let Me;if(X){const Vt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Wt=j.getDate();Me=1+Math.floor((Wt+Vt)/7)}else{const Vt=Ge(j),Wt=function Ht(L){const X=Jr(L,Pr,1).getDay();return Jr(L,0,1+(X<=mr?mr:mr+7)-X)}(Vt.getFullYear()),Ln=Vt.getTime()-Wt.getTime();Me=1+Math.round(Ln/6048e5)}return ni(Me,L,Dt(se,_t.MinusSign))}}function Xt(L,X=!1){return function(j,se){return ni(Ge(j).getFullYear(),L,Dt(se,_t.MinusSign),X)}}const zt={};function be(L,X){L=L.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(j)?X:j}function Ye(L){return L instanceof Date&&!isNaN(L.valueOf())}function Ji(L,X){X=encodeURIComponent(X);for(const j of L.split(";")){const se=j.indexOf("="),[Me,Vt]=-1==se?[j,""]:[j.slice(0,se),j.slice(se+1)];if(Me.trim()===X)return decodeURIComponent(Vt)}return null}class Xi{constructor(X,j,se,Me){this.$implicit=X,this.ngForOf=j,this.index=se,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ii=(()=>{class L{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,se,Me){this._viewContainer=j,this._template=se,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const se=this._viewContainer;j.forEachOperation((Me,Vt,Wt)=>{if(null==Me.previousIndex)se.createEmbeddedView(this._template,new Xi(Me.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)se.remove(null===Vt?void 0:Vt);else if(null!==Vt){const Ln=se.get(Vt);se.move(Ln,Wt),Oi(Ln,Me)}});for(let Me=0,Vt=se.length;Me<Vt;Me++){const Ln=se.get(Me).context;Ln.index=Me,Ln.count=Vt,Ln.ngForOf=this._ngForOf}j.forEachIdentityChange(Me=>{Oi(se.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(j,se){return!0}}return L.\u0275fac=function(j){return new(j||L)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function Oi(L,X){L.context.$implicit=X.item}let Ee=(()=>{class L{constructor(j,se){this._viewContainer=j,this._context=new it,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ae("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ae("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,se){return!0}}return L.\u0275fac=function(j){return new(j||L)(_.Y36(_.s_b),_.Y36(_.Rgc))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class it{constructor(){this.$implicit=null,this.ngIf=null}}function ae(L,X){if(X&&!X.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,_.AaK)(X)}'.`)}let Gn=(()=>{class L{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Me,ngTemplateOutletContext:Vt,ngTemplateOutletInjector:Wt}=this;this._viewRef=se.createEmbeddedView(Me,Vt,Wt?{injector:Wt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(j){return new(j||L)(_.Y36(_.s_b))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),L})();const Rs=new _.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),fo=new _.OlP("DATE_PIPE_DEFAULT_OPTIONS");let $i=(()=>{class L{constructor(j,se,Me){this.locale=j,this.defaultTimezone=se,this.defaultOptions=Me}transform(j,se,Me,Vt){if(null==j||""===j||j!=j)return null;try{var Wt,Ln,gr,$r,Lr;const wr=null!==(Wt=null!=se?se:null===(Ln=this.defaultOptions)||void 0===Ln?void 0:Ln.dateFormat)&&void 0!==Wt?Wt:"mediumDate",Fi=null!==(gr=null!==($r=null!=Me?Me:null===(Lr=this.defaultOptions)||void 0===Lr?void 0:Lr.timezone)&&void 0!==$r?$r:this.defaultTimezone)&&void 0!==gr?gr:void 0;return on(j,wr,Vt||this.locale,Fi)}catch(wr){throw function Jn(L,X){return new _.vHH(2100,!1)}()}}}return L.\u0275fac=function(j){return new(j||L)(_.Y36(_.soG,16),_.Y36(Rs,24),_.Y36(fo,24))},L.\u0275pipe=_.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),ps=(()=>{class L{}return L.\u0275fac=function(j){return new(j||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({}),L})();const da="browser",po="server";function so(L){return L===po}let Hs=(()=>{class L{}return L.\u0275prov=(0,_.Yz7)({token:L,providedIn:"root",factory:()=>new Zo((0,_.LFG)(xe),window)}),L})();class Zo{constructor(X,j){this.document=X,this.window=j,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const j=function Ds(L,X){const j=L.getElementById(X)||L.getElementsByName(X)[0];if(j)return j;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const se=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let Me=se.currentNode;for(;Me;){const Vt=Me.shadowRoot;if(Vt){const Wt=Vt.getElementById(X)||Vt.querySelector(`[name="${X}"]`);if(Wt)return Wt}Me=se.nextNode()}}return null}(this.document,X);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=X)}}scrollToElement(X){const j=X.getBoundingClientRect(),se=j.left+this.window.pageXOffset,Me=j.top+this.window.pageYOffset,Vt=this.offset();this.window.scrollTo(se-Vt[0],Me-Vt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=oo(this.window.history)||oo(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oo(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class go{}},529:(yn,gt,H)=>{"use strict";H.d(gt,{eN:()=>wt,h_:()=>Jr});var _=H(6895),y=H(4650),ee=H(9646),he=H(9751),Be=H(4351),xe=H(9300),me=H(4004);class Ue{}class Ne{}class _e{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?this.lazyInit="string"==typeof Ge?()=>{this.headers=new Map,Ge.split("\n").forEach(Qe=>{const Xt=Qe.indexOf(":");if(Xt>0){const zt=Qe.slice(0,Xt),Ce=zt.toLowerCase(),be=Qe.slice(Xt+1).trim();this.maybeSetNormalizedName(zt,Ce),this.headers.has(Ce)?this.headers.get(Ce).push(be):this.headers.set(Ce,[be])}})}:()=>{this.headers=new Map,Object.keys(Ge).forEach(Qe=>{let Xt=Ge[Qe];const zt=Qe.toLowerCase();"string"==typeof Xt&&(Xt=[Xt]),Xt.length>0&&(this.headers.set(zt,Xt),this.maybeSetNormalizedName(Qe,zt))})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const Qe=this.headers.get(Ge.toLowerCase());return Qe&&Qe.length>0?Qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,Qe){return this.clone({name:Ge,value:Qe,op:"a"})}set(Ge,Qe){return this.clone({name:Ge,value:Qe,op:"s"})}delete(Ge,Qe){return this.clone({name:Ge,value:Qe,op:"d"})}maybeSetNormalizedName(Ge,Qe){this.normalizedNames.has(Qe)||this.normalizedNames.set(Qe,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof _e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(Qe=>{this.headers.set(Qe,Ge.headers.get(Qe)),this.normalizedNames.set(Qe,Ge.normalizedNames.get(Qe))})}clone(Ge){const Qe=new _e;return Qe.lazyInit=this.lazyInit&&this.lazyInit instanceof _e?this.lazyInit:this,Qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),Qe}applyUpdate(Ge){const Qe=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let Xt=Ge.value;if("string"==typeof Xt&&(Xt=[Xt]),0===Xt.length)return;this.maybeSetNormalizedName(Ge.name,Qe);const zt=("a"===Ge.op?this.headers.get(Qe):void 0)||[];zt.push(...Xt),this.headers.set(Qe,zt);break;case"d":const Ce=Ge.value;if(Ce){let be=this.headers.get(Qe);if(!be)return;be=be.filter(We=>-1===Ce.indexOf(We)),0===be.length?(this.headers.delete(Qe),this.normalizedNames.delete(Qe)):this.headers.set(Qe,be)}else this.headers.delete(Qe),this.normalizedNames.delete(Qe)}}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(Qe=>Ge(this.normalizedNames.get(Qe),this.headers.get(Qe)))}}class ve{encodeKey(Ge){return bt(Ge)}encodeValue(Ge){return bt(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const He=/%(\d[a-f0-9])/gi,rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(Ht){return encodeURIComponent(Ht).replace(He,(Ge,Qe)=>{var Xt;return null!==(Xt=rt[Qe])&&void 0!==Xt?Xt:Ge})}function Re(Ht){return`${Ht}`}class Se{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new ve,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ze(Ht,Ge){const Qe=new Map;return Ht.length>0&&Ht.replace(/^\?/,"").split("&").forEach(zt=>{const Ce=zt.indexOf("="),[be,We]=-1==Ce?[Ge.decodeKey(zt),""]:[Ge.decodeKey(zt.slice(0,Ce)),Ge.decodeValue(zt.slice(Ce+1))],Ct=Qe.get(be)||[];Ct.push(We),Qe.set(be,Ct)}),Qe}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(Qe=>{const Xt=Ge.fromObject[Qe],zt=Array.isArray(Xt)?Xt.map(Re):[Re(Xt)];this.map.set(Qe,zt)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const Qe=this.map.get(Ge);return Qe?Qe[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,Qe){return this.clone({param:Ge,value:Qe,op:"a"})}appendAll(Ge){const Qe=[];return Object.keys(Ge).forEach(Xt=>{const zt=Ge[Xt];Array.isArray(zt)?zt.forEach(Ce=>{Qe.push({param:Xt,value:Ce,op:"a"})}):Qe.push({param:Xt,value:zt,op:"a"})}),this.clone(Qe)}set(Ge,Qe){return this.clone({param:Ge,value:Qe,op:"s"})}delete(Ge,Qe){return this.clone({param:Ge,value:Qe,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const Qe=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(Xt=>Qe+"="+this.encoder.encodeValue(Xt)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const Qe=new Se({encoder:this.encoder});return Qe.cloneFrom=this.cloneFrom||this,Qe.updates=(this.updates||[]).concat(Ge),Qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const Qe=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];Qe.push(Re(Ge.value)),this.map.set(Ge.param,Qe);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let Xt=this.map.get(Ge.param)||[];const zt=Xt.indexOf(Re(Ge.value));-1!==zt&&Xt.splice(zt,1),Xt.length>0?this.map.set(Ge.param,Xt):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(Ge,Qe){return this.map.set(Ge,Qe),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function et(Ht){return typeof ArrayBuffer<"u"&&Ht instanceof ArrayBuffer}function Ze(Ht){return typeof Blob<"u"&&Ht instanceof Blob}function At(Ht){return typeof FormData<"u"&&Ht instanceof FormData}class Oe{constructor(Ge,Qe,Xt,zt){let Ce;if(this.url=Qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function Y(Ht){switch(Ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zt?(this.body=void 0!==Xt?Xt:null,Ce=zt):Ce=Xt,Ce&&(this.reportProgress=!!Ce.reportProgress,this.withCredentials=!!Ce.withCredentials,Ce.responseType&&(this.responseType=Ce.responseType),Ce.headers&&(this.headers=Ce.headers),Ce.context&&(this.context=Ce.context),Ce.params&&(this.params=Ce.params)),this.headers||(this.headers=new _e),this.context||(this.context=new pt),this.params){const be=this.params.toString();if(0===be.length)this.urlWithParams=Qe;else{const We=Qe.indexOf("?");this.urlWithParams=Qe+(-1===We?"?":We<Qe.length-1?"&":"")+be}}else this.params=new Se,this.urlWithParams=Qe}serializeBody(){return null===this.body?null:et(this.body)||Ze(this.body)||At(this.body)||function $e(Ht){return typeof URLSearchParams<"u"&&Ht instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||At(this.body)?null:Ze(this.body)?this.body.type||null:et(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){var Qe;const Xt=Ge.method||this.method,zt=Ge.url||this.url,Ce=Ge.responseType||this.responseType,be=void 0!==Ge.body?Ge.body:this.body,We=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,Ct=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let ot=Ge.headers||this.headers,gn=Ge.params||this.params;const Ye=null!==(Qe=Ge.context)&&void 0!==Qe?Qe:this.context;return void 0!==Ge.setHeaders&&(ot=Object.keys(Ge.setHeaders).reduce((je,ye)=>je.set(ye,Ge.setHeaders[ye]),ot)),Ge.setParams&&(gn=Object.keys(Ge.setParams).reduce((je,ye)=>je.set(ye,Ge.setParams[ye]),gn)),new Oe(Xt,zt,be,{params:gn,headers:ot,context:Ye,reportProgress:Ct,responseType:Ce,withCredentials:We})}}var Pe=(()=>((Pe=Pe||{})[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe))();class we{constructor(Ge,Qe=200,Xt="OK"){this.headers=Ge.headers||new _e,this.status=void 0!==Ge.status?Ge.status:Qe,this.statusText=Ge.statusText||Xt,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends we{constructor(Ge={}){super(Ge),this.type=Pe.ResponseHeader}clone(Ge={}){return new Ve({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class ht extends we{constructor(Ge={}){super(Ge),this.type=Pe.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new ht({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class _t extends we{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function ct(Ht,Ge){return{body:Ge,headers:Ht.headers,context:Ht.context,observe:Ht.observe,params:Ht.params,reportProgress:Ht.reportProgress,responseType:Ht.responseType,withCredentials:Ht.withCredentials}}let wt=(()=>{class Ht{constructor(Qe){this.handler=Qe}request(Qe,Xt,zt={}){let Ce;if(Qe instanceof Oe)Ce=Qe;else{let Ct,ot;Ct=zt.headers instanceof _e?zt.headers:new _e(zt.headers),zt.params&&(ot=zt.params instanceof Se?zt.params:new Se({fromObject:zt.params})),Ce=new Oe(Qe,Xt,void 0!==zt.body?zt.body:null,{headers:Ct,context:zt.context,params:ot,reportProgress:zt.reportProgress,responseType:zt.responseType||"json",withCredentials:zt.withCredentials})}const be=(0,ee.of)(Ce).pipe((0,Be.b)(Ct=>this.handler.handle(Ct)));if(Qe instanceof Oe||"events"===zt.observe)return be;const We=be.pipe((0,xe.h)(Ct=>Ct instanceof ht));switch(zt.observe||"body"){case"body":switch(Ce.responseType){case"arraybuffer":return We.pipe((0,me.U)(Ct=>{if(null!==Ct.body&&!(Ct.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ct.body}));case"blob":return We.pipe((0,me.U)(Ct=>{if(null!==Ct.body&&!(Ct.body instanceof Blob))throw new Error("Response is not a Blob.");return Ct.body}));case"text":return We.pipe((0,me.U)(Ct=>{if(null!==Ct.body&&"string"!=typeof Ct.body)throw new Error("Response is not a string.");return Ct.body}));default:return We.pipe((0,me.U)(Ct=>Ct.body))}case"response":return We;default:throw new Error(`Unreachable: unhandled observe type ${zt.observe}}`)}}delete(Qe,Xt={}){return this.request("DELETE",Qe,Xt)}get(Qe,Xt={}){return this.request("GET",Qe,Xt)}head(Qe,Xt={}){return this.request("HEAD",Qe,Xt)}jsonp(Qe,Xt){return this.request("JSONP",Qe,{params:(new Se).append(Xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Qe,Xt={}){return this.request("OPTIONS",Qe,Xt)}patch(Qe,Xt,zt={}){return this.request("PATCH",Qe,ct(zt,Xt))}post(Qe,Xt,zt={}){return this.request("POST",Qe,ct(zt,Xt))}put(Qe,Xt,zt={}){return this.request("PUT",Qe,ct(zt,Xt))}}return Ht.\u0275fac=function(Qe){return new(Qe||Ht)(y.LFG(Ue))},Ht.\u0275prov=y.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();function ft(Ht,Ge){return Ge(Ht)}const lt=new y.OlP("HTTP_INTERCEPTOR_FNS");let Zt=(()=>{class Ht extends Ue{constructor(Qe,Xt){super(),this.backend=Qe,this.injector=Xt,this.chain=null}handle(Qe){if(null===this.chain){const Xt=Array.from(new Set(this.injector.get(lt)));this.chain=Xt.reduceRight((zt,Ce)=>function Le(Ht,Ge,Qe){return(Xt,zt)=>Qe.runInContext(()=>Ge(Xt,Ce=>Ht(Ce,zt)))}(zt,Ce,this.injector),ft)}return this.chain(Qe,Xt=>this.backend.handle(Xt))}}return Ht.\u0275fac=function(Qe){return new(Qe||Ht)(y.LFG(Ne),y.LFG(y.lqb))},Ht.\u0275prov=y.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const lr=/^\)\]\}',?\n/;let Xn=(()=>{class Ht{constructor(Qe){this.xhrFactory=Qe}handle(Qe){if("JSONP"===Qe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he.y(Xt=>{const zt=this.xhrFactory.build();if(zt.open(Qe.method,Qe.urlWithParams),Qe.withCredentials&&(zt.withCredentials=!0),Qe.headers.forEach((ye,dt)=>zt.setRequestHeader(ye,dt.join(","))),Qe.headers.has("Accept")||zt.setRequestHeader("Accept","application/json, text/plain, */*"),!Qe.headers.has("Content-Type")){const ye=Qe.detectContentTypeHeader();null!==ye&&zt.setRequestHeader("Content-Type",ye)}if(Qe.responseType){const ye=Qe.responseType.toLowerCase();zt.responseType="json"!==ye?ye:"text"}const Ce=Qe.serializeBody();let be=null;const We=()=>{if(null!==be)return be;const ye=zt.statusText||"OK",dt=new _e(zt.getAllResponseHeaders()),Ot=function Er(Ht){return"responseURL"in Ht&&Ht.responseURL?Ht.responseURL:/^X-Request-URL:/m.test(Ht.getAllResponseHeaders())?Ht.getResponseHeader("X-Request-URL"):null}(zt)||Qe.url;return be=new Ve({headers:dt,status:zt.status,statusText:ye,url:Ot}),be},Ct=()=>{let{headers:ye,status:dt,statusText:Ot,url:en}=We(),Dn=null;204!==dt&&(Dn=typeof zt.response>"u"?zt.responseText:zt.response),0===dt&&(dt=Dn?200:0);let Qn=dt>=200&&dt<300;if("json"===Qe.responseType&&"string"==typeof Dn){const cr=Dn;Dn=Dn.replace(lr,"");try{Dn=""!==Dn?JSON.parse(Dn):null}catch(Gr){Dn=cr,Qn&&(Qn=!1,Dn={error:Gr,text:Dn})}}Qn?(Xt.next(new ht({body:Dn,headers:ye,status:dt,statusText:Ot,url:en||void 0})),Xt.complete()):Xt.error(new _t({error:Dn,headers:ye,status:dt,statusText:Ot,url:en||void 0}))},ot=ye=>{const{url:dt}=We(),Ot=new _t({error:ye,status:zt.status||0,statusText:zt.statusText||"Unknown Error",url:dt||void 0});Xt.error(Ot)};let gn=!1;const Ye=ye=>{gn||(Xt.next(We()),gn=!0);let dt={type:Pe.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(dt.total=ye.total),"text"===Qe.responseType&&zt.responseText&&(dt.partialText=zt.responseText),Xt.next(dt)},je=ye=>{let dt={type:Pe.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(dt.total=ye.total),Xt.next(dt)};return zt.addEventListener("load",Ct),zt.addEventListener("error",ot),zt.addEventListener("timeout",ot),zt.addEventListener("abort",ot),Qe.reportProgress&&(zt.addEventListener("progress",Ye),null!==Ce&&zt.upload&&zt.upload.addEventListener("progress",je)),zt.send(Ce),Xt.next({type:Pe.Sent}),()=>{zt.removeEventListener("error",ot),zt.removeEventListener("abort",ot),zt.removeEventListener("load",Ct),zt.removeEventListener("timeout",ot),Qe.reportProgress&&(zt.removeEventListener("progress",Ye),null!==Ce&&zt.upload&&zt.upload.removeEventListener("progress",je)),zt.readyState!==zt.DONE&&zt.abort()}})}}return Ht.\u0275fac=function(Qe){return new(Qe||Ht)(y.LFG(_.JF))},Ht.\u0275prov=y.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const br=new y.OlP("XSRF_ENABLED"),di=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Br=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Di{}let Ir=(()=>{class Ht{constructor(Qe,Xt,zt){this.doc=Qe,this.platform=Xt,this.cookieName=zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Qe=this.doc.cookie||"";return Qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(Qe,this.cookieName),this.lastCookieString=Qe),this.lastToken}}return Ht.\u0275fac=function(Qe){return new(Qe||Ht)(y.LFG(_.K0),y.LFG(y.Lbi),y.LFG(di))},Ht.\u0275prov=y.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();function Tn(Ht,Ge){const Qe=Ht.url.toLowerCase();if(!(0,y.f3M)(br)||"GET"===Ht.method||"HEAD"===Ht.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return Ge(Ht);const Xt=(0,y.f3M)(Di).getToken(),zt=(0,y.f3M)(Br);return null!=Xt&&!Ht.headers.has(zt)&&(Ht=Ht.clone({headers:Ht.headers.set(zt,Xt)})),Ge(Ht)}function Jr(...Ht){const Ge=[wt,Xn,Zt,{provide:Ue,useExisting:Zt},{provide:Ne,useExisting:Xn},{provide:lt,useValue:Tn,multi:!0},{provide:br,useValue:!0},{provide:Di,useClass:Ir}];for(const Qe of Ht)Ge.push(...Qe.\u0275providers);return(0,y.MR2)(Ge)}},4650:(yn,gt,H)=>{"use strict";H.d(gt,{$8M:()=>ol,$WT:()=>ar,$Z:()=>tp,AFp:()=>UE,ALo:()=>c,AaK:()=>Ue,BQk:()=>Hc,CHM:()=>ne,CRH:()=>vE,CZH:()=>p_,CqO:()=>av,D6c:()=>xw,DdM:()=>i_,EJc:()=>GI,EpF:()=>sv,F$t:()=>mm,F4k:()=>ov,FYo:()=>Id,FiY:()=>Li,G48:()=>fw,Gf:()=>mE,GfV:()=>qp,GkF:()=>vg,Gpc:()=>ge,Hsn:()=>my,JOm:()=>ks,KtG:()=>yt,LFG:()=>Pr,LMc:()=>Mw,Lbi:()=>jI,Lck:()=>Jv,MMx:()=>Yy,MR2:()=>Nf,NdJ:()=>Eg,OlP:()=>Mr,Oqu:()=>Cg,P3R:()=>Fc,PXZ:()=>ow,Q6J:()=>pg,QGY:()=>_g,Qsj:()=>Wp,R0b:()=>Yu,RDi:()=>od,RIp:()=>kg,Rgc:()=>Bi,SBq:()=>Fl,Sil:()=>KI,Suo:()=>yE,TTD:()=>Hs,TgZ:()=>Md,X6Q:()=>hw,XFs:()=>cn,Xpm:()=>cr,Xts:()=>yd,Y36:()=>ju,YKP:()=>ml,YNc:()=>iv,Yjl:()=>Cr,Yz7:()=>Dt,Z0I:()=>Rn,ZZ4:()=>Z0,_Bn:()=>Ch,_UZ:()=>yg,_Vd:()=>Ql,_uU:()=>bv,aQg:()=>X0,c2e:()=>HI,cJS:()=>Tt,cg1:()=>Sm,dDg:()=>nw,dqk:()=>Tn,eJc:()=>k0,ekj:()=>My,eoX:()=>YE,f3M:()=>Ht,g9A:()=>jE,h0i:()=>nl,hij:()=>bm,iGM:()=>gE,iPO:()=>cw,ifc:()=>ot,ip1:()=>$E,jDz:()=>Af,kL8:()=>Am,lG2:()=>yr,lqb:()=>Bc,lri:()=>KE,n5z:()=>jo,oAB:()=>Qt,oxw:()=>gm,q4F:()=>Uh,qLn:()=>Jl,qOj:()=>fg,qZA:()=>mg,rWj:()=>qE,s9C:()=>yy,sBO:()=>pw,s_b:()=>$a,soG:()=>g_,tb:()=>XE,tp0:()=>Io,uIk:()=>Gu,vHH:()=>Re,vpe:()=>Mn,wAp:()=>kr,xi3:()=>G,xp6:()=>sh,ynx:()=>vp,z2F:()=>m_,zSh:()=>Bh,zs3:()=>Co});var _=H(7579),y=H(727),ee=H(9751),he=H(6451),Be=H(3099);function xe(n){for(let i in n)if(n[i]===xe)return i;throw Error("Could not find renamed property on target object.")}function me(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ne(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const _e=xe({__forward_ref__:xe});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return Ue(this())},n}function ve(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(_e)&&n.__forward_ref__===ge}function He(n){return n&&!!n.\u0275providers}const bt="https://g.co/ng/security#xss";class Re extends Error{constructor(i,o){super(Se(i,o)),this.code=i}}function Se(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function de(n){return"string"==typeof n?n:null==n?"":String(n)}function pt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():de(n)}function At(n,i){throw new Re(-201,!1)}function lt(n,i){null==n&&function vt(n,i,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ln(n){return Kn(n,lr)||Kn(n,Xn)}function Rn(n){return null!==ln(n)}function Kn(n,i){return n.hasOwnProperty(i)?n[i]:null}function In(n){return n&&(n.hasOwnProperty(Er)||n.hasOwnProperty(br))?n[Er]:null}const lr=xe({\u0275prov:xe}),Er=xe({\u0275inj:xe}),Xn=xe({ngInjectableDef:xe}),br=xe({ngInjectorDef:xe});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let di;function Br(n){const i=di;return di=n,i}function Di(n,i,o){const d=ln(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&cn.Optional?null:void 0!==i?i:void At(Ue(n))}const Tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Sr="__NG_DI_FLAG__",qr="ngTempTokenPath",ni="ngTokenPath",gi=/\n/gm,Ur="\u0275",xi="__source";let or;function Yn(n){const i=or;return or=n,i}function Ei(n,i=cn.Default){if(void 0===or)throw new Re(-203,!1);return null===or?Di(n,void 0,i):or.get(n,i&cn.Optional?null:void 0,i)}function Pr(n,i=cn.Default){return(function Zr(){return di}()||Ei)(ve(n),i)}function Ht(n,i=cn.Default){return Pr(n,Ge(i))}function Ge(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qe(n){const i=[];for(let o=0;o<n.length;o++){const d=ve(n[o]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,!1);let h,v=cn.Default;for(let D=0;D<d.length;D++){const F=d[D],U=zt(F);"number"==typeof U?-1===U?h=F.token:v|=U:h=F}i.push(Pr(h,v))}else i.push(Pr(d))}return i}function Xt(n,i){return n[Sr]=i,n.prototype[Sr]=i,n}function zt(n){return n[Sr]}function We(n){return{toString:n}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),ot=(()=>{return(n=ot||(ot={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ot;var n})();const gn={},Ye=[],je=xe({\u0275cmp:xe}),ye=xe({\u0275dir:xe}),dt=xe({\u0275pipe:xe}),Ot=xe({\u0275mod:xe}),en=xe({\u0275fac:xe}),Dn=xe({__NG_ELEMENT_ID__:xe});let Qn=0;function cr(n){return We(()=>{const i=ji(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ot.Emulated,id:"c"+Qn++,styles:n.styles||Ye,_:null,schemas:n.schemas||null,tView:null};Ji(o);const d=n.dependencies;return o.directiveDefs=_s(d,!1),o.pipeDefs=_s(d,!0),o})}function Ut(n){return $n(n)||tr(n)}function St(n){return null!==n}function Qt(n){return We(()=>({type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jn(n,i){if(null==n)return gn;const o={};for(const d in n)if(n.hasOwnProperty(d)){let h=n[d],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),o[h]=d,i&&(i[h]=v)}return o}function yr(n){return We(()=>{const i=ji(n);return Ji(i),i})}function Cr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[je]||null}function tr(n){return n[ye]||null}function Wn(n){return n[dt]||null}function ar(n){const i=$n(n)||tr(n)||Wn(n);return null!==i&&i.standalone}function Pi(n,i){const o=n[Ot]||null;if(!o&&!0===i)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return o}function ji(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jn(n.inputs,i),outputs:jn(n.outputs)}}function Ji(n){var i;null===(i=n.features)||void 0===i||i.forEach(o=>o(n))}function _s(n,i){if(!n)return null;const o=i?Wn:Ut;return()=>("function"==typeof n?n():n).map(d=>o(d)).filter(St)}const ri=0,bn=1,dr=2,li=3,Dr=4,Xi=5,ii=6,Oi=7,re=8,Ee=9,it=10,ae=11,qe=12,Ke=13,Nt=14,kt=15,Bt=16,Jt=17,mn=18,zn=19,Gn=20,mi=21,Jn=22,ut=1,tt=2,Et=7,qt=8,an=9,Un=10;function hr(n){return Array.isArray(n)&&"object"==typeof n[ut]}function xr(n){return Array.isArray(n)&&!0===n[ut]}function Rs(n){return 0!=(4&n.flags)}function fo(n){return n.componentOffset>-1}function $i(n){return 1==(1&n.flags)}function ki(n){return!!n.template}function Hi(n){return 0!=(256&n[dr])}function ts(n,i){return n.hasOwnProperty(en)?n[en]:null}class Do{constructor(i,o,d){this.previousValue=i,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function Hs(){return Zo}function Zo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ds),oo}function oo(){const n=go(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===gn)n.previous=i;else for(let d in i)o[d]=i[d];n.current=null,this.ngOnChanges(i)}}function Ds(n,i,o,d){const h=this.declaredInputs[o],v=go(n)||function Ca(n,i){return n[Xo]=i}(n,{previous:gn,current:null}),D=v.current||(v.current={}),F=v.previous,U=F[h];D[h]=new Do(U&&U.currentValue,i,F===gn),n[d]=i}Hs.ngInherit=!0;const Xo="__ngSimpleChanges__";function go(n){return n[Xo]||null}const hi=function(n,i,o){};function Ti(n){for(;Array.isArray(n);)n=n[ri];return n}function Ts(n,i){return Ti(i[n])}function ns(n,i){return Ti(i[n.index])}function Ps(n,i){return n.data[i]}function zi(n,i){const o=i[n];return hr(o)?o:o[ri]}function Jo(n){return 64==(64&n[dr])}function Is(n,i){return null==i?null:n[i]}function pa(n){n[mn]=0}function ea(n,i){n[Xi]+=i;let o=n,d=n[li];for(;null!==d&&(1===i&&1===o[Xi]||-1===i&&0===o[Xi]);)d[Xi]+=i,o=d,d=d[li]}const pr={lFrame:Eo(null),bindingsEnabled:!0};function W(){return pr.bindingsEnabled}function R(){return pr.lFrame.lView}function O(){return pr.lFrame.tView}function ne(n){return pr.lFrame.contextLView=n,n[re]}function yt(n){return pr.lFrame.contextLView=null,n}function dn(){let n=jr();for(;null!==n&&64===n.type;)n=n.parent;return n}function jr(){return pr.lFrame.currentTNode}function Si(n,i){const o=pr.lFrame;o.currentTNode=n,o.isParent=i}function gs(){return pr.lFrame.isParent}function Gs(){pr.lFrame.isParent=!1}function ds(){const n=pr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function To(){return pr.lFrame.bindingIndex++}function Ua(n,i){const o=pr.lFrame;o.bindingIndex=o.bindingRootIndex=n,Os(i)}function Os(n){pr.lFrame.currentDirectiveIndex=n}function ja(){return pr.lFrame.currentQueryIndex}function _o(n){pr.lFrame.currentQueryIndex=n}function Uo(n){const i=n[bn];return 2===i.type?i.declTNode:1===i.type?n[ii]:null}function El(n,i,o){if(o&cn.SkipSelf){let h=i,v=n;for(;!(h=h.parent,null!==h||o&cn.Host||(h=Uo(v),null===h||(v=v[kt],10&h.type))););if(null===h)return!1;i=h,n=v}const d=pr.lFrame=hs();return d.currentTNode=i,d.lView=n,!0}function ta(n){const i=hs(),o=n[bn];pr.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function hs(){const n=pr.lFrame,i=null===n?null:n.child;return null===i?Eo(n):i}function Eo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Vo(){const n=pr.lFrame;return pr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ao=Vo;function is(){const n=Vo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yi(){return pr.lFrame.selectedIndex}function Ni(n){pr.lFrame.selectedIndex=n}function si(){const n=pr.lFrame;return Ps(n.tView,n.selectedIndex)}function Hl(n,i){for(let Z=i.directiveStart,ce=i.directiveEnd;Z<ce;Z++){const at=n.data[Z].type.prototype,{ngAfterContentInit:Ft,ngAfterContentChecked:un,ngAfterViewInit:An,ngAfterViewChecked:qn,ngOnDestroy:_r}=at;var o,d,h,v,D,F,U;Ft&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-Z,Ft),un&&((null!==(d=n.contentHooks)&&void 0!==d?d:n.contentHooks=[]).push(Z,un),(null!==(h=n.contentCheckHooks)&&void 0!==h?h:n.contentCheckHooks=[]).push(Z,un)),An&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-Z,An),qn&&((null!==(D=n.viewHooks)&&void 0!==D?D:n.viewHooks=[]).push(Z,qn),(null!==(F=n.viewCheckHooks)&&void 0!==F?F:n.viewCheckHooks=[]).push(Z,qn)),null!=_r&&(null!==(U=n.destroyHooks)&&void 0!==U?U:n.destroyHooks=[]).push(Z,_r)}}function wl(n,i,o){j(n,i,3,o)}function L(n,i,o,d){(3&n[dr])===o&&j(n,i,o,d)}function X(n,i){let o=n[dr];(3&o)===i&&(o&=2047,o+=1,n[dr]=o)}function j(n,i,o,d){const v=null!=d?d:-1,D=i.length-1;let F=0;for(let U=void 0!==d?65535&n[mn]:0;U<D;U++)if("number"==typeof i[U+1]){if(F=i[U],null!=d&&F>=d)break}else i[U]<0&&(n[mn]+=65536),(F<v||-1==v)&&(se(n,o,i,U),n[mn]=(4294901760&n[mn])+U+2),U++}function se(n,i,o,d){const h=o[d]<0,v=o[d+1],F=n[h?-o[d]:o[d]];if(h){if(n[dr]>>11<n[mn]>>16&&(3&n[dr])===i){n[dr]+=2048,hi(4,F,v);try{v.call(F)}finally{hi(5,F,v)}}}else{hi(4,F,v);try{v.call(F)}finally{hi(5,F,v)}}}const Me=-1;class Vt{constructor(i,o,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Gi(n,i,o){let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const v=o[d++],D=o[d++],F=o[d++];n.setAttribute(i,D,F,v)}else{const v=h,D=o[++d];Ao(v)?n.setProperty(i,v,D):n.setAttribute(i,v,D),d++}}return d}function na(n){return 3===n||4===n||6===n}function Ao(n){return 64===n.charCodeAt(0)}function Ws(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let d=0;d<i.length;d++){const h=i[d];"number"==typeof h?o=h:0===o||Bs(n,o,h,null,-1===o||2===o?i[++d]:null)}}return n}function Bs(n,i,o,d,h){let v=0,D=n.length;if(-1===i)D=-1;else for(;v<n.length;){const F=n[v++];if("number"==typeof F){if(F===i){D=-1;break}if(F>i){D=v-1;break}}}for(;v<n.length;){const F=n[v];if("number"==typeof F)break;if(F===o){if(null===d)return void(null!==h&&(n[v+1]=h));if(d===n[v+1])return void(n[v+2]=h)}v++,null!==d&&v++,null!==h&&v++}-1!==D&&(n.splice(D,0,i),v=D+1),n.splice(v++,0,o),null!==d&&n.splice(v++,0,d),null!==h&&n.splice(v++,0,h)}function ra(n){return n!==Me}function Ks(n){return 32767&n}function za(n,i){let o=function Ta(n){return n>>16}(n),d=i;for(;o>0;)d=d[kt],o--;return d}let zl=!0;function sl(n){const i=zl;return zl=n,i}const Gc=255,Wi=5;let Cl=0;const Zi={};function Gl(n,i){const o=ss(n,i);if(-1!==o)return o;const d=i[bn];d.firstCreatePass&&(n.injectorIndex=i.length,hn(d.data,n),hn(i,null),hn(d.blueprint,null));const h=ci(n,i),v=n.injectorIndex;if(ra(h)){const D=Ks(h),F=za(h,i),U=F[bn].data;for(let Z=0;Z<8;Z++)i[v+Z]=F[D+Z]|U[D+Z]}return i[v+8]=h,v}function hn(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ss(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ci(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,h=i;for(;null!==h;){if(d=co(h),null===d)return Me;if(o++,h=h[kt],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return Me}function ic(n,i,o){!function mu(n,i,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(Dn)&&(d=o[Dn]),null==d&&(d=o[Dn]=Cl++);const h=d&Gc;i.data[n+(h>>Wi)]|=1<<h}(n,i,o)}function ir(n,i,o){if(o&cn.Optional||void 0!==n)return n;At()}function sc(n,i,o,d){if(o&cn.Optional&&void 0===d&&(d=null),!(o&(cn.Self|cn.Host))){const h=n[Ee],v=Br(void 0);try{return h?h.get(i,d,o&cn.Optional):Di(i,d,o&cn.Optional)}finally{Br(v)}}return ir(d,0,o)}function Fn(n,i,o,d=cn.Default,h){if(null!==n){if(1024&i[dr]){const D=function Wc(n,i,o,d,h){let v=n,D=i;for(;null!==v&&null!==D&&1024&D[dr]&&!(256&D[dr]);){const F=Lt(v,D,o,d|cn.Self,Zi);if(F!==Zi)return F;let U=v.parent;if(!U){const Z=D[mi];if(Z){const ce=Z.get(o,Zi,d);if(ce!==Zi)return ce}U=co(D),D=D[kt]}v=U}return h}(n,i,o,d,Zi);if(D!==Zi)return D}const v=Lt(n,i,o,d,Zi);if(v!==Zi)return v}return sc(i,o,d,h)}function Lt(n,i,o,d,h){const v=function Ac(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Dn)?n[Dn]:void 0;return"number"==typeof i?i>=0?i&Gc:yu:i}(o);if("function"==typeof v){if(!El(i,n,d))return d&cn.Host?ir(h,0,d):sc(i,o,d,h);try{const D=v(d);if(null!=D||d&cn.Optional)return D;At()}finally{ao()}}else if("number"==typeof v){let D=null,F=ss(n,i),U=Me,Z=d&cn.Host?i[Bt][ii]:null;for((-1===F||d&cn.SkipSelf)&&(U=-1===F?ci(n,i):i[F+8],U!==Me&&Wl(d,!1)?(D=i[bn],F=Ks(U),i=za(U,i)):F=-1);-1!==F;){const ce=i[bn];if(bl(v,F,ce.data)){const Ae=sn(F,i,o,D,d,Z);if(Ae!==Zi)return Ae}U=i[F+8],U!==Me&&Wl(d,i[bn].data[F+8]===Z)&&bl(v,F,i)?(D=ce,F=Ks(U),i=za(U,i)):F=-1}}return h}function sn(n,i,o,d,h,v){const D=i[bn],F=D.data[n+8],ce=ui(F,D,o,null==d?fo(F)&&zl:d!=D&&0!=(3&F.type),h&cn.Host&&v===F);return null!==ce?xo(i,D,ce,F):Zi}function ui(n,i,o,d,h){const v=n.providerIndexes,D=i.data,F=1048575&v,U=n.directiveStart,ce=v>>20,at=h?F+ce:n.directiveEnd;for(let Ft=d?F:F+ce;Ft<at;Ft++){const un=D[Ft];if(Ft<U&&o===un||Ft>=U&&un.type===o)return Ft}if(h){const Ft=D[U];if(Ft&&ki(Ft)&&Ft.type===o)return U}return null}function xo(n,i,o,d){let h=n[o];const v=i.data;if(function Wt(n){return n instanceof Vt}(h)){const D=h;D.resolving&&function Y(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${o}`)}(pt(v[o]));const F=sl(D.canSeeViewProviders);D.resolving=!0;const U=D.injectImpl?Br(D.injectImpl):null;El(n,d,cn.Default);try{h=n[o]=D.factory(void 0,v,n,d),i.firstCreatePass&&o>=d.directiveStart&&function Rr(n,i,o){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:v}=i.type.prototype;if(d){var D,F;const Ae=Zo(i);(null!==(D=o.preOrderHooks)&&void 0!==D?D:o.preOrderHooks=[]).push(n,Ae),(null!==(F=o.preOrderCheckHooks)&&void 0!==F?F:o.preOrderCheckHooks=[]).push(n,Ae)}var U,Z,ce;h&&(null!==(U=o.preOrderHooks)&&void 0!==U?U:o.preOrderHooks=[]).push(0-n,h),v&&((null!==(Z=o.preOrderHooks)&&void 0!==Z?Z:o.preOrderHooks=[]).push(n,v),(null!==(ce=o.preOrderCheckHooks)&&void 0!==ce?ce:o.preOrderCheckHooks=[]).push(n,v))}(o,v[o],i)}finally{null!==U&&Br(U),sl(F),D.resolving=!1,ao()}}return h}function bl(n,i,o){return!!(o[i+(n>>Wi)]&1<<n)}function Wl(n,i){return!(n&cn.Self||n&cn.Host&&i)}class oc{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,d){return Fn(this._tNode,this._lView,i,Ge(d),o)}}function yu(){return new oc(dn(),R())}function jo(n){return We(()=>{const i=n.prototype.constructor,o=i[en]||Ga(i),d=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==d;){const v=h[en]||Ga(h);if(v&&v!==o)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function Ga(n){return ze(n)?()=>{const i=Ga(ve(n));return i&&i()}:ts(n)}function co(n){const i=n[bn],o=i.type;return 2===o?i.declTNode:1===o?n[ii]:null}function ol(n){return function Hn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const d=o.length;let h=0;for(;h<d;){const v=o[h];if(na(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<d&&"string"==typeof o[h];)h++;else{if(v===i)return o[h+1];h+=2}}}return null}(dn(),n)}const ia="__parameters__";function Sa(n,i,o){return We(()=>{const d=function rr(n){return function(...o){if(n){const d=n(...o);for(const h in d)this[h]=d[h]}}}(i);function h(...v){if(this instanceof h)return d.apply(this,v),this;const D=new h(...v);return F.annotation=D,F;function F(U,Z,ce){const Ae=U.hasOwnProperty(ia)?U[ia]:Object.defineProperty(U,ia,{value:[]})[ia];for(;Ae.length<=ce;)Ae.push(null);return(Ae[ce]=Ae[ce]||[]).push(D),U}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class Mr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Or(n,i){n.forEach(o=>Array.isArray(o)?Or(o,i):i(o))}function Rt(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function wi(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function ws(n,i){const o=[];for(let d=0;d<n;d++)o.push(i);return o}function fr(n,i,o){let d=x(n,i);return d>=0?n[1|d]=o:(d=~d,function Ro(n,i,o,d){let h=n.length;if(h==i)n.push(o,d);else if(1===h)n.push(d,n[0]),n[0]=o;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=o,n[i+1]=d}}(n,d,i,o)),d}function S(n,i){const o=x(n,i);if(o>=0)return n[1|o]}function x(n,i){return function k(n,i,o){let d=0,h=n.length>>o;for(;h!==d;){const v=d+(h-d>>1),D=n[v<<o];if(i===D)return v<<o;D>i?h=v:d=v+1}return~(h<<o)}(n,i,1)}const Li=Xt(Sa("Optional"),8),Io=Xt(Sa("SkipSelf"),4);var ks=(()=>((ks=ks||{})[ks.Important=1]="Important",ks[ks.DashCase=2]="DashCase",ks))();const wo=new Map;let Qc=0;const Gt="__ngContext__";function wn(n,i){hr(i)?(n[Gt]=i[Gn],function Ah(n){wo.set(n[Gn],n)}(i)):n[Gt]=i}let Jc;function bu(n,i){return Jc(n,i)}function Du(n){const i=n[li];return xr(i)?i[li]:i}function bi(n){return xl(n[Ke])}function Ya(n){return xl(n[Dr])}function xl(n){for(;null!==n&&!xr(n);)n=n[Dr];return n}function Za(n,i,o,d,h){if(null!=d){let v,D=!1;xr(d)?v=d:hr(d)&&(D=!0,d=d[ri]);const F=Ti(d);0===n&&null!==o?null==h?pc(i,o,F):Ra(i,o,F,h||null,!0):1===n&&null!==o?Ra(i,o,F,h||null,!0):2===n?function xu(n,i,o){const d=Ma(n,i);d&&function oa(n,i,o,d){n.removeChild(i,o,d)}(n,d,i,o)}(i,F,D):3===n&&i.destroyNode(F),null!=v&&function yc(n,i,o,d,h){const v=o[Et];v!==Ti(o)&&Za(i,n,d,v,h);for(let F=Un;F<o.length;F++){const U=o[F];nu(U[bn],U,n,i,d,v)}}(i,n,v,o,h)}}function Mc(n,i,o){return n.createElement(i,o)}function Pl(n,i){const o=n[an],d=o.indexOf(i),h=i[li];512&i[dr]&&(i[dr]&=-513,ea(h,-1)),o.splice(d,1)}function td(n,i){if(n.length<=Un)return;const o=Un+i,d=n[o];if(d){const h=d[Jt];null!==h&&h!==n&&Pl(h,d),i>0&&(n[o-1][Dr]=d[Dr]);const v=wi(n,Un+i);!function xh(n,i){nu(n,i,i[ae],2,null,null),i[ri]=null,i[ii]=null}(d[bn],d);const D=v[zn];null!==D&&D.detachView(v[bn]),d[li]=null,d[Dr]=null,d[dr]&=-65}return d}function Vd(n,i){if(!(128&i[dr])){const o=i[ae];o.destroyNode&&nu(n,i,o,3,null,null),function Ml(n){let i=n[Ke];if(!i)return os(n[bn],n);for(;i;){let o=null;if(hr(i))o=i[Ke];else{const d=i[Un];d&&(o=d)}if(!o){for(;i&&!i[Dr]&&i!==n;)hr(i)&&os(i[bn],i),i=i[li];null===i&&(i=n),hr(i)&&os(i[bn],i),o=i&&i[Dr]}i=o}}(i)}}function os(n,i){if(!(128&i[dr])){i[dr]&=-65,i[dr]|=128,function Qa(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const h=i[o[d]];if(!(h instanceof Vt)){const v=o[d+1];if(Array.isArray(v))for(let D=0;D<v.length;D+=2){const F=h[v[D]],U=v[D+1];hi(4,F,U);try{U.call(F)}finally{hi(5,F,U)}}else{hi(4,h,v);try{v.call(h)}finally{hi(5,h,v)}}}}}(n,i),function Xa(n,i){const o=n.cleanup,d=i[Oi];let h=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const D=o[v+3];D>=0?d[h=D]():d[h=-D].unsubscribe(),v+=2}else{const D=d[h=o[v+1]];o[v].call(D)}if(null!==d){for(let v=h+1;v<d.length;v++)(0,d[v])();i[Oi]=null}}(n,i),1===i[bn].type&&i[ae].destroy();const o=i[Jt];if(null!==o&&xr(i[li])){o!==i[li]&&Pl(o,i);const d=i[zn];null!==d&&d.detachView(n)}!function $(n){wo.delete(n[Gn])}(i)}}function Pc(n,i,o){return function Su(n,i,o){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return o[ri];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:v}=n.data[d.directiveStart+h];if(v===ot.None||v===ot.Emulated)return null}return ns(d,o)}}(n,i.parent,o)}function Ra(n,i,o,d,h){n.insertBefore(i,o,d,h)}function pc(n,i,o){n.appendChild(i,o)}function jd(n,i,o,d,h){null!==d?Ra(n,i,o,d,h):pc(n,i,o)}function Ma(n,i){return n.parentNode(i)}function gc(n,i,o){return zd(n,i,o)}let Ol,sd,ld,zd=function nd(n,i,o){return 40&n.type?ns(n,o):null};function Au(n,i,o,d){const h=Pc(n,d,i),v=i[ae],F=gc(d.parent||i[ii],d,i);if(null!=h)if(Array.isArray(o))for(let U=0;U<o.length;U++)jd(v,h,o[U],F,!1);else jd(v,h,o,F,!1);void 0!==Ol&&Ol(v,d,i,o,h)}function eu(n,i){if(null!==i){const o=i.type;if(3&o)return ns(i,n);if(4&o)return rd(-1,n[i.index]);if(8&o){const d=i.child;if(null!==d)return eu(n,d);{const h=n[i.index];return xr(h)?rd(-1,h):Ti(h)}}if(32&o)return bu(i,n)()||Ti(n[i.index]);{const d=mc(n,i);return null!==d?Array.isArray(d)?d[0]:eu(Du(n[Bt]),d):eu(n,i.next)}}return null}function mc(n,i){return null!==i?n[Bt][ii].projection[i.projection]:null}function rd(n,i){const o=Un+n+1;if(o<i.length){const d=i[o],h=d[bn].firstChild;if(null!==h)return eu(d,h)}return i[Et]}function tu(n,i,o,d,h,v,D){for(;null!=o;){const F=d[o.index],U=o.type;if(D&&0===i&&(F&&wn(Ti(F),d),o.flags|=2),32!=(32&o.flags))if(8&U)tu(n,i,o.child,d,h,v,!1),Za(i,n,h,F,v);else if(32&U){const Z=bu(o,d);let ce;for(;ce=Z();)Za(i,n,h,ce,v);Za(i,n,h,F,v)}else 16&U?Pf(n,i,d,o,h,v):Za(i,n,h,F,v);o=D?o.projectionNext:o.next}}function nu(n,i,o,d,h,v){tu(o,d,n.firstChild,i,h,v,!1)}function Pf(n,i,o,d,h,v){const D=o[Bt],U=D[ii].projection[d.projection];if(Array.isArray(U))for(let Z=0;Z<U.length;Z++)Za(i,n,h,U[Z],v);else tu(n,i,U,D[li],h,v,!0)}function id(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Oc(n,i,o){const{mergedAttrs:d,classes:h,styles:v}=o;null!==d&&Gi(n,i,d),null!==h&&id(n,i,h),null!==v&&function Qs(n,i,o){n.setAttribute(i,"style",o)}(n,i,v)}function od(n){sd=n}function cd(n){var i;return(null===(i=function aa(){if(void 0===ld&&(ld=null,Tn.trustedTypes))try{ld=Tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ld}())||void 0===i?void 0:i.createScriptURL(n))||n}class ru{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}function Pa(n){return n instanceof ru?n.changingThisBreaksApplicationSecurity:n}function Mu(n,i){const o=function kf(n){return n instanceof ru&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${bt})`)}return o===i}const hd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ns=(()=>((Ns=Ns||{})[Ns.NONE=0]="NONE",Ns[Ns.HTML=1]="HTML",Ns[Ns.STYLE=2]="STYLE",Ns[Ns.SCRIPT=3]="SCRIPT",Ns[Ns.URL=4]="URL",Ns[Ns.RESOURCE_URL=5]="RESOURCE_URL",Ns))();function Xl(n){const i=Xd();return i?i.sanitize(Ns.URL,n)||"":Mu(n,"URL")?Pa(n):function fd(n){return(n=String(n)).match(hd)?n:"unsafe:"+n}(de(n))}function au(n){const i=Xd();if(i)return cd(i.sanitize(Ns.RESOURCE_URL,n)||"");if(Mu(n,"ResourceURL"))return cd(Pa(n));throw new Re(904,!1)}function Fc(n,i,o){return function Nh(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?au:Xl}(i,o)(n)}function Xd(){const n=R();return n&&n[qe]}const yd=new Mr("ENVIRONMENT_INITIALIZER"),Fh=new Mr("INJECTOR",-1),Qd=new Mr("INJECTOR_DEF_TYPES");class lu{get(i,o=Jr){if(o===Jr){const d=new Error(`NullInjectorError: No provider for ${Ue(i)}!`);throw d.name="NullInjectorError",d}return o}}function Nf(n){return{\u0275providers:n}}function kg(...n){return{\u0275providers:xs(0,n),\u0275fromNgModule:!0}}function xs(n,...i){const o=[],d=new Set;let h;return Or(i,v=>{const D=v;Lf(D,o,[],d)&&(h||(h=[]),h.push(D))}),void 0!==h&&Ff(h,o),o}function Ff(n,i){for(let o=0;o<n.length;o++){const{providers:h}=n[o];hl(h,v=>{i.push(v)})}}function Lf(n,i,o,d){if(!(n=ve(n)))return!1;let h=null,v=In(n);const D=!v&&$n(n);if(v||D){if(D&&!D.standalone)return!1;h=n}else{const U=n.ngModule;if(v=In(U),!v)return!1;h=U}const F=d.has(h);if(D){if(F)return!1;if(d.add(h),D.dependencies){const U="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const Z of U)Lf(Z,i,o,d)}}else{if(!v)return!1;{if(null!=v.imports&&!F){let Z;d.add(h);try{Or(v.imports,ce=>{Lf(ce,i,o,d)&&(Z||(Z=[]),Z.push(ce))})}finally{}void 0!==Z&&Ff(Z,i)}if(!F){const Z=ts(h)||(()=>new h);i.push({provide:h,useFactory:Z,deps:Ye},{provide:Qd,useValue:h,multi:!0},{provide:yd,useValue:()=>Pr(h),multi:!0})}const U=v.providers;null==U||F||hl(U,ce=>{i.push(ce)})}}return h!==n&&void 0!==n.providers}function hl(n,i){for(let o of n)He(o)&&(o=o.\u0275providers),Array.isArray(o)?hl(o,i):i(o)}const Lh=xe({provide:String,useValue:xe});function $f(n){return null!==n&&"object"==typeof n&&Lh in n}function ku(n){return"function"==typeof n}const Bh=new Mr("Set Injector scope."),Jd={},_d={};let Nu;function Lc(){return void 0===Nu&&(Nu=new lu),Nu}class Bc{}class $h extends Bc{get destroyed(){return this._destroyed}constructor(i,o,d,h){super(),this.parent=o,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(i,D=>this.processProvider(D)),this.records.set(Fh,$c(void 0,this)),h.has("environment")&&this.records.set(Bc,$c(void 0,this));const v=this.records.get(Bh);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Qd.multi,Ye,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Yn(this),d=Br(void 0);try{return i()}finally{Yn(o),Br(d)}}get(i,o=Jr,d=cn.Default){this.assertNotDestroyed(),d=Ge(d);const h=Yn(this),v=Br(void 0);try{if(!(d&cn.SkipSelf)){let F=this.records.get(i);if(void 0===F){const U=function eh(n){return"function"==typeof n||"object"==typeof n&&n instanceof Mr}(i)&&ln(i);F=U&&this.injectableDefInScope(U)?$c(Uf(i),Jd):null,this.records.set(i,F)}if(null!=F)return this.hydrate(i,F)}return(d&cn.Self?Lc():this.parent).get(i,o=d&cn.Optional&&o===Jr?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[qr]=D[qr]||[]).unshift(Ue(i)),h)throw D;return function Ce(n,i,o,d){const h=n[qr];throw i[xi]&&h.unshift(i[xi]),n.message=function be(n,i,o,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ur?n.slice(2):n;let h=Ue(i);if(Array.isArray(i))h=i.map(Ue).join(" -> ");else if("object"==typeof i){let v=[];for(let D in i)if(i.hasOwnProperty(D)){let F=i[D];v.push(D+":"+("string"==typeof F?JSON.stringify(F):Ue(F)))}h=`{${v.join(", ")}}`}return`${o}${d?"("+d+")":""}[${h}]: ${n.replace(gi,"\n  ")}`}("\n"+n.message,h,o,d),n[ni]=h,n[qr]=null,n}(D,i,"R3InjectorError",this.source)}throw D}finally{Br(v),Yn(h)}}resolveInjectorInitializers(){const i=Yn(this),o=Br(void 0);try{const d=this.get(yd.multi,Ye,cn.Self);for(const h of d)h()}finally{Yn(i),Br(o)}}toString(){const i=[],o=this.records;for(const d of o.keys())i.push(Ue(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(i){let o=ku(i=ve(i))?i:ve(i&&i.provide);const d=function jp(n){return $f(n)?$c(void 0,n.useValue):$c(Ng(n),Jd)}(i);if(ku(i)||!0!==i.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=$c(void 0,Jd,!0),h.factory=()=>Qe(h.multi),this.records.set(o,h)),o=i,h.multi.push(i)}this.records.set(o,d)}hydrate(i,o){return o.value===Jd&&(o.value=_d,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Fu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ve(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Uf(n){const i=ln(n),o=null!==i?i.factory:ts(n);if(null!==o)return o;if(n instanceof Mr)throw new Re(204,!1);if(n instanceof Function)return function Vf(n){const i=n.length;if(i>0)throw ws(i,"?"),new Re(204,!1);const o=function Cn(n){const i=n&&(n[lr]||n[Xn]);return i?(function nn(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),i):null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Re(204,!1)}function Ng(n,i,o){let d;if(ku(n)){const h=ve(n);return ts(h)||Uf(h)}if($f(n))d=()=>ve(n.useValue);else if(function Up(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Qe(n.deps||[]));else if(function vd(n){return!(!n||!n.useExisting)}(n))d=()=>Pr(ve(n.useExisting));else{const h=ve(n&&(n.useClass||n.provide));if(!function Hp(n){return!!n.deps}(n))return ts(h)||Uf(h);d=()=>new h(...Qe(n.deps))}return d}function $c(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function jf(n,i){for(const o of n)Array.isArray(o)?jf(o,i):o&&He(o)?jf(o.\u0275providers,i):i(o)}class zp{}class th{}class Cc{resolveComponentFactory(i){throw function Uc(n){const i=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ql=(()=>{class n{}return n.NULL=new Cc,n})();function Ed(){return Nl(dn(),R())}function Nl(n,i){return new Fl(ns(n,i))}let Fl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ed,n})();function cu(n){return n instanceof Fl?n.nativeElement:n}class Id{}let Wp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function fl(){const n=R(),o=zi(dn().index,n);return(hr(o)?o:n)[ae]}(),n})(),Kp=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class qp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Uh=new qp("15.2.7"),Vh={},Oa="ngOriginalError";function wd(n){return n[Oa]}class Jl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&wd(i);for(;o&&wd(o);)o=wd(o);return o||null}}function ec(n){return n instanceof Function?n():n}function zh(n,i,o){let d=n.length;for(;;){const h=n.indexOf(i,o);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const v=i.length;if(h+v===d||n.charCodeAt(h+v)<=32)return h}o=h+1}}const Wf="ng-template";function Vg(n,i,o){let d=0,h=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&h){const D=n[d++];if(o&&"class"===v&&-1!==zh(D.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function Gh(n){return 4===n.type&&n.value!==Wf}function Yp(n,i,o){return i===(4!==n.type||o?n.value:Wf)}function Kf(n,i,o){let d=4;const h=n.attrs||[],v=function ih(n){for(let i=0;i<n.length;i++)if(na(n[i]))return i;return n.length}(h);let D=!1;for(let F=0;F<i.length;F++){const U=i[F];if("number"!=typeof U){if(!D)if(4&d){if(d=2|1&d,""!==U&&!Yp(n,U,o)||""===U&&1===i.length){if(pl(d))return!1;D=!0}}else{const Z=8&d?U:i[++F];if(8&d&&null!==n.attrs){if(!Vg(n.attrs,Z,o)){if(pl(d))return!1;D=!0}continue}const Ae=rh(8&d?"class":U,h,Gh(n),o);if(-1===Ae){if(pl(d))return!1;D=!0;continue}if(""!==Z){let at;at=Ae>v?"":h[Ae+1].toLowerCase();const Ft=8&d?at:null;if(Ft&&-1!==zh(Ft,Z,0)||2&d&&Z!==at){if(pl(d))return!1;D=!0}}}}else{if(!D&&!pl(d)&&!pl(U))return!1;if(D&&pl(U))continue;D=!1,d=U|1&d}}return pl(d)||D}function pl(n){return 0==(1&n)}function rh(n,i,o,d){if(null===i)return-1;let h=0;if(d||!o){let v=!1;for(;h<i.length;){const D=i[h];if(D===n)return h;if(3===D||6===D)v=!0;else{if(1===D||2===D){let F=i[++h];for(;"string"==typeof F;)F=i[++h];continue}if(4===D)break;if(0===D){h+=4;continue}}h+=v?1:2}return-1}return function Bu(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===i)return o;o++}return-1}(i,n)}function Vc(n,i,o=!1){for(let d=0;d<i.length;d++)if(Kf(n,i[d],o))return!0;return!1}function jg(n,i){e:for(let o=0;o<i.length;o++){const d=i[o];if(n.length===d.length){for(let h=0;h<n.length;h++)if(n[h]!==d[h])continue e;return!0}}return!1}function $u(n,i){return n?":not("+i.trim()+")":i}function ka(n){let i=n[0],o=1,d=2,h="",v=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&d){const F=n[++o];h+="["+D+(F.length>0?'="'+F+'"':"")+"]"}else 8&d?h+="."+D:4&d&&(h+=" "+D);else""!==h&&!pl(D)&&(i+=$u(v,h),h=""),d=D,v=v||!pl(d);o++}return""!==h&&(i+=$u(v,h)),i}const Wr={};function sh(n){bc(O(),R(),Yi()+n,!1)}function bc(n,i,o,d){if(!d)if(3==(3&i[dr])){const v=n.preOrderCheckHooks;null!==v&&wl(i,v,o)}else{const v=n.preOrderHooks;null!==v&&L(i,v,0,o)}Ni(o)}function qh(n,i=null,o=null,d){const h=Qp(n,i,o,d);return h.resolveInjectorInitializers(),h}function Qp(n,i=null,o=null,d,h=new Set){const v=[o||Ye,kg(n)];return d=d||("object"==typeof n?void 0:Ue(n)),new $h(v,i||Lc(),d||null,h)}let Co=(()=>{class n{static create(o,d){if(Array.isArray(o))return qh({name:""},d,o,"");{var h;const v=null!==(h=o.name)&&void 0!==h?h:"";return qh({name:v},o.parent,o.providers,v)}}}return n.THROW_IF_NOT_FOUND=Jr,n.NULL=new lu,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>Pr(Fh)}),n.__NG_ELEMENT_ID__=-1,n})();function ju(n,i=cn.Default){const o=R();return null===o?Pr(n,i):Fn(dn(),o,ve(n),i)}function tp(){throw new Error("invalid")}function Xg(n,i){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const v=o[d+1];if(-1!==v){const D=n.data[v];_o(o[d]),D.contentQueries(2,i[v],v)}}}function lh(n,i,o,d,h,v,D,F,U,Z,ce){const Ae=i.blueprint.slice();return Ae[ri]=h,Ae[dr]=76|d,(null!==ce||n&&1024&n[dr])&&(Ae[dr]|=1024),pa(Ae),Ae[li]=Ae[kt]=n,Ae[re]=o,Ae[it]=D||n&&n[it],Ae[ae]=F||n&&n[ae],Ae[qe]=U||n&&n[qe]||null,Ae[Ee]=Z||n&&n[Ee]||null,Ae[ii]=v,Ae[Gn]=function qa(){return Qc++}(),Ae[mi]=ce,Ae[Bt]=2==i.type?n[Bt]:Ae,Ae}function ch(n,i,o,d,h){let v=n.data[i];if(null===v)v=function np(n,i,o,d,h){const v=jr(),D=gs(),U=n.data[i]=function Jm(n,i,o,d,h,v){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?v:v&&v.parent,o,i,d,h);return null===n.firstChild&&(n.firstChild=U),null!==v&&(D?null==v.child&&null!==U.parent&&(v.child=U):null===v.next&&(v.next=U,U.prev=v)),U}(n,i,o,d,h),function _l(){return pr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=o,v.value=d,v.attrs=h;const D=function yi(){const n=pr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===D?-1:D.injectorIndex}return Si(v,!0),v}function tf(n,i,o,d){if(0===o)return-1;const h=i.length;for(let v=0;v<o;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return h}function rp(n,i,o){ta(i);try{const d=n.viewQuery;null!==d&&uf(1,d,o);const h=n.template;null!==h&&Td(n,i,h,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xg(n,i),n.staticViewQueries&&uf(2,n.viewQuery,o);const v=n.components;null!==v&&function Jg(n,i){for(let o=0;o<i.length;o++)Ia(n,i[o])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[dr]&=-5,is()}}function ip(n,i,o,d){const h=i[dr];if(128!=(128&h)){ta(i);try{pa(i),function il(n){return pr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Td(n,i,o,2,d);const D=3==(3&h);if(D){const Z=n.preOrderCheckHooks;null!==Z&&wl(i,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&L(i,Z,0,null),X(i,0)}if(function cg(n){for(let i=bi(n);null!==i;i=Ya(i)){if(!i[tt])continue;const o=i[an];for(let d=0;d<o.length;d++){const h=o[d];512&h[dr]||ea(h[li],1),h[dr]|=512}}}(i),function sy(n){for(let i=bi(n);null!==i;i=Ya(i))for(let o=Un;o<i.length;o++){const d=i[o],h=d[bn];Jo(d)&&ip(h,d,h.template,d[re])}}(i),null!==n.contentQueries&&Xg(n,i),D){const Z=n.contentCheckHooks;null!==Z&&wl(i,Z)}else{const Z=n.contentHooks;null!==Z&&L(i,Z,1),X(i,1)}!function Zg(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const h=o[d];if(h<0)Ni(~h);else{const v=h,D=o[++d],F=o[++d];Ua(D,v),F(2,i[v])}}}finally{Ni(-1)}}(n,i);const F=n.components;null!==F&&function Qg(n,i){for(let o=0;o<i.length;o++)zu(n,i[o])}(i,F);const U=n.viewQuery;if(null!==U&&uf(2,U,d),D){const Z=n.viewCheckHooks;null!==Z&&wl(i,Z)}else{const Z=n.viewHooks;null!==Z&&L(i,Z,2),X(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[dr]&=-41,512&i[dr]&&(i[dr]&=-513,ea(i[li],-1))}finally{is()}}}function Td(n,i,o,d,h){const v=Yi(),D=2&d;try{Ni(-1),D&&i.length>Jn&&bc(n,i,Jn,!1),hi(D?2:0,h),o(d,h)}finally{Ni(v),hi(D?3:1,h)}}function Hu(n,i,o){if(Rs(i)){const h=i.directiveEnd;for(let v=i.directiveStart;v<h;v++){const D=n.data[v];D.contentQueries&&D.contentQueries(1,o[v],v)}}}function nf(n,i,o){W()&&(function im(n,i,o,d){const h=o.directiveStart,v=o.directiveEnd;fo(o)&&function cf(n,i,o){const d=ns(i,n),h=ng(o),v=n[it],D=du(n,lh(n,h,null,o.onPush?32:16,d,i,v,v.createRenderer(d,o),null,null,null));n[i.index]=D}(i,o,n.data[h+o.componentOffset]),n.firstCreatePass||Gl(o,i),wn(d,i);const D=o.initialInputs;for(let F=h;F<v;F++){const U=n.data[F],Z=xo(i,n,F,o);wn(Z,i),null!==D&&sm(0,F-h,Z,U,0,D),ki(U)&&(zi(o.index,i)[re]=xo(i,n,F,o))}}(n,i,o,ns(o,i)),64==(64&o.flags)&&lf(n,i,o))}function uh(n,i,o=ns){const d=i.localNames;if(null!==d){let h=i.index+1;for(let v=0;v<d.length;v+=2){const D=d[v+1],F=-1===D?o(i,n):n[D];n[h++]=F}}}function ng(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=gl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function gl(n,i,o,d,h,v,D,F,U,Z){const ce=Jn+d,Ae=ce+h,at=function em(n,i){const o=[];for(let d=0;d<i;d++)o.push(d<n?null:Wr);return o}(ce,Ae),Ft="function"==typeof Z?Z():Z;return at[bn]={type:n,blueprint:at,template:o,queries:null,viewQuery:F,declTNode:i,data:at.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:U,consts:Ft,incompleteFirstPass:!1}}function rf(n,i,o,d){const h=df(i);null===o?h.push(d):(h.push(o),n.firstCreatePass&&hf(n).push(d,h.length-1))}function sf(n,i,o,d){for(let h in n)if(n.hasOwnProperty(h)){o=null===o?{}:o;const v=n[h];null===d?ig(o,i,h,v):d.hasOwnProperty(h)&&ig(o,i,d[h],v)}return o}function ig(n,i,o,d){n.hasOwnProperty(o)?n[o].push(i,d):n[o]=[i,d]}function Na(n,i,o,d,h,v,D,F){const U=ns(i,o);let ce,Z=i.inputs;!F&&null!=Z&&(ce=Z[d])?(xd(n,o,ce,d,h),fo(i)&&function dh(n,i){const o=zi(i,n);16&o[dr]||(o[dr]|=32)}(o,i.index)):3&i.type&&(d=function sg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),h=null!=D?D(h,i.value||"",d):h,v.setProperty(U,d,h))}function op(n,i,o,d){if(W()){const h=null===d?null:{"":-1},v=function ty(n,i){const o=n.directiveRegistry;let d=null,h=null;if(o)for(let D=0;D<o.length;D++){const F=o[D];if(Vc(i,F.selectors,!1))if(d||(d=[]),ki(F))if(null!==F.findHostDirectiveDefs){const U=[];h=h||new Map,F.findHostDirectiveDefs(F,U,h),d.unshift(...U,F),ag(n,i,U.length)}else d.unshift(F),ag(n,i,0);else{var v;h=h||new Map,null===(v=F.findHostDirectiveDefs)||void 0===v||v.call(F,F,d,h),d.push(F)}}return null===d?null:[d,h]}(n,o);let D,F;null===v?D=F=null:[D,F]=v,null!==D&&af(n,i,o,D,h,F),h&&function Fa(n,i,o){if(i){const d=n.localNames=[];for(let h=0;h<i.length;h+=2){const v=o[i[h+1]];if(null==v)throw new Re(-301,!1);d.push(i[h],v)}}}(o,d,h)}o.mergedAttrs=Ws(o.mergedAttrs,o.attrs)}function af(n,i,o,d,h,v){for(let Ae=0;Ae<d.length;Ae++)ic(Gl(o,i),n,d[Ae].type);!function ry(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,d.length);for(let Ae=0;Ae<d.length;Ae++){const at=d[Ae];at.providersResolver&&at.providersResolver(at)}let D=!1,F=!1,U=tf(n,i,d.length,null);for(let Ae=0;Ae<d.length;Ae++){const at=d[Ae];o.mergedAttrs=Ws(o.mergedAttrs,at.hostAttrs),lg(n,o,i,U,at),ny(U,at,h),null!==at.contentQueries&&(o.flags|=4),(null!==at.hostBindings||null!==at.hostAttrs||0!==at.hostVars)&&(o.flags|=64);const Ft=at.type.prototype;var Z,ce;!D&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((null!==(Z=n.preOrderHooks)&&void 0!==Z?Z:n.preOrderHooks=[]).push(o.index),D=!0),F||!Ft.ngOnChanges&&!Ft.ngDoCheck||((null!==(ce=n.preOrderCheckHooks)&&void 0!==ce?ce:n.preOrderCheckHooks=[]).push(o.index),F=!0),U++}!function tm(n,i,o){const h=i.directiveEnd,v=n.data,D=i.attrs,F=[];let U=null,Z=null;for(let ce=i.directiveStart;ce<h;ce++){const Ae=v[ce],at=o?o.get(Ae):null,un=at?at.outputs:null;U=sf(Ae.inputs,ce,U,at?at.inputs:null),Z=sf(Ae.outputs,ce,Z,un);const An=null===U||null===D||Gh(i)?null:iy(U,ce,D);F.push(An)}null!==U&&(U.hasOwnProperty("class")&&(i.flags|=8),U.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=F,i.inputs=U,i.outputs=Z}(n,o,v)}function lf(n,i,o){const d=o.directiveStart,h=o.directiveEnd,v=o.index,D=function ms(){return pr.lFrame.currentDirectiveIndex}();try{Ni(v);for(let F=d;F<h;F++){const U=n.data[F],Z=i[F];Os(F),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&og(U,Z)}}finally{Ni(-1),Os(D)}}function og(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ag(n,i,o){var d;i.componentOffset=o,(null!==(d=n.components)&&void 0!==d?d:n.components=[]).push(i.index)}function ny(n,i,o){if(o){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)o[i.exportAs[d]]=n;ki(i)&&(o[""]=n)}}function lg(n,i,o,d,h){n.data[d]=h;const v=h.factory||(h.factory=ts(h.type)),D=new Vt(v,ki(h),ju);n.blueprint[d]=D,o[d]=D,function rm(n,i,o,d,h){const v=h.hostBindings;if(v){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const F=~i.index;(function ey(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(D)!=F&&D.push(F),D.push(o,d,v)}}(n,i,d,tf(n,o,h.hostVars,Wr),h)}function rc(n,i,o,d,h,v){const D=ns(n,i);!function ap(n,i,o,d,h,v,D){if(null==v)n.removeAttribute(i,h,o);else{const F=null==D?de(v):D(v,d||"",h);n.setAttribute(i,h,F,o)}}(i[ae],D,v,n.value,o,d,h)}function sm(n,i,o,d,h,v){const D=v[i];if(null!==D){const F=d.setInput;for(let U=0;U<D.length;){const Z=D[U++],ce=D[U++],Ae=D[U++];null!==F?d.setInput(o,Ae,Z,ce):o[ce]=Ae}}}function iy(n,i,o){let d=null,h=0;for(;h<o.length;){const v=o[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const D=n[v];for(let F=0;F<D.length;F+=2)if(D[F]===i){d.push(v,D[F+1],o[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function om(n,i,o,d){return[n,!0,!1,i,null,0,d,o,null,null]}function zu(n,i){const o=zi(i,n);if(Jo(o)){const d=o[bn];48&o[dr]?ip(d,o,d.template,o[re]):o[Xi]>0&&Wo(o)}}function Wo(n){for(let d=bi(n);null!==d;d=Ya(d))for(let h=Un;h<d.length;h++){const v=d[h];if(Jo(v))if(512&v[dr]){const D=v[bn];ip(D,v,D.template,v[re])}else v[Xi]>0&&Wo(v)}const o=n[bn].components;if(null!==o)for(let d=0;d<o.length;d++){const h=zi(o[d],n);Jo(h)&&h[Xi]>0&&Wo(h)}}function Ia(n,i){const o=zi(i,n),d=o[bn];(function Sd(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(d,o),rp(d,o,o[re])}function du(n,i){return n[Ke]?n[Nt][Dr]=i:n[Ke]=i,n[Nt]=i,i}function hh(n){for(;n;){n[dr]|=32;const i=Du(n);if(Hi(n)&&!i)return n;n=i}return null}function Ad(n,i,o,d=!0){const h=i[it];h.begin&&h.begin();try{ip(n,i,n.template,o)}catch(D){throw d&&cp(i,D),D}finally{h.end&&h.end()}}function uf(n,i,o){_o(0),i(n,o)}function df(n){return n[Oi]||(n[Oi]=[])}function hf(n){return n.cleanup||(n.cleanup=[])}function cp(n,i){const o=n[Ee],d=o?o.get(Jl,null):null;d&&d.handleError(i)}function xd(n,i,o,d,h){for(let v=0;v<o.length;){const D=o[v++],F=o[v++],U=i[D],Z=n.data[D];null!==Z.setInput?Z.setInput(U,h,d,F):U[F]=h}}function ff(n,i,o){let d=o?n.styles:null,h=o?n.classes:null,v=0;if(null!==i)for(let D=0;D<i.length;D++){const F=i[D];"number"==typeof F?v=F:1==v?h=Ne(h,F):2==v&&(d=Ne(d,F+": "+i[++D]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=h:n.classesWithoutHost=h}function fh(n,i,o,d,h=!1){for(;null!==o;){const v=i[o.index];if(null!==v&&d.push(Ti(v)),xr(v))for(let F=Un;F<v.length;F++){const U=v[F],Z=U[bn].firstChild;null!==Z&&fh(U[bn],U,Z,d)}const D=o.type;if(8&D)fh(n,i,o.child,d);else if(32&D){const F=bu(o,i);let U;for(;U=F();)d.push(U)}else if(16&D){const F=mc(i,o);if(Array.isArray(F))d.push(...F);else{const U=Du(i[Bt]);fh(U[bn],U,F,d,!0)}}o=h?o.projectionNext:o.next}return d}class pf{get rootNodes(){const i=this._lView,o=i[bn];return fh(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[re]}set context(i){this._lView[re]=i}get destroyed(){return 128==(128&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[li];if(xr(i)){const o=i[qt],d=o?o.indexOf(this):-1;d>-1&&(td(i,d),wi(o,d))}this._attachedToViewContainer=!1}Vd(this._lView[bn],this._lView)}onDestroy(i){rf(this._lView[bn],this._lView,null,i)}markForCheck(){hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-65}reattach(){this._lView[dr]|=64}detectChanges(){Ad(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rh(n,i){nu(n,i,i[ae],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=i}}class up extends pf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ad(i[bn],i,i[re],!1)}checkNoChanges(){}get context(){return null}}class ph extends Ql{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=$n(i);return new Rd(o,this.ngModule)}}function gf(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class gh{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,d){d=Ge(d);const h=this.injector.get(i,Vh,d);return h!==Vh||o===Vh?h:this.parentInjector.get(i,o,d)}}class Rd extends th{get inputs(){return gf(this.componentDef.inputs)}get outputs(){return gf(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Zp(n){return n.map(ka).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,d,h){var v;let D=(h=h||this.ngModule)instanceof Bc?h:null===(v=h)||void 0===v?void 0:v.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const F=D?new gh(i,D):i,U=F.get(Id,null);if(null===U)throw new Re(407,!1);const Z=F.get(Kp,null),ce=U.createRenderer(null,this.componentDef),Ae=this.componentDef.selectors[0][0]||"div",at=d?function rg(n,i,o){return n.selectRootElement(i,o===ot.ShadowDom)}(ce,d,this.componentDef.encapsulation):Mc(ce,Ae,function am(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Ae)),Ft=this.componentDef.onPush?288:272,un=gl(0,null,null,1,0,null,null,null,null,null),An=lh(null,un,null,Ft,null,null,U,ce,Z,F,null);let qn,_r;ta(An);try{const zr=this.componentDef;let _n,ai=null;zr.findHostDirectiveDefs?(_n=[],ai=new Map,zr.findHostDirectiveDefs(zr,_n,ai),_n.push(zr)):_n=[zr];const to=function cm(n,i){const o=n[bn],d=Jn;return n[d]=i,ch(o,d,2,"#host",null)}(An,at),qo=function ug(n,i,o,d,h,v,D,F){const U=h[bn];!function ay(n,i,o,d){for(const h of n)i.mergedAttrs=Ws(i.mergedAttrs,h.hostAttrs);null!==i.mergedAttrs&&(ff(i,i.mergedAttrs,!0),null!==o&&Oc(d,o,i))}(d,n,i,D);const Z=v.createRenderer(i,o),ce=lh(h,ng(o),null,o.onPush?32:16,h[n.index],n,v,Z,F||null,null,null);return U.firstCreatePass&&ag(U,n,d.length-1),du(h,ce),h[n.index]=ce}(to,at,zr,_n,An,U,ce);_r=Ps(un,Jn),at&&function ly(n,i,o,d){if(d)Gi(n,o,["ng-version",Uh.full]);else{const{attrs:h,classes:v}=function Kh(n){const i=[],o=[];let d=1,h=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===h?""!==v&&i.push(v,n[++d]):8===h&&o.push(v);else{if(!pl(h))break;h=v}d++}return{attrs:i,classes:o}}(i.selectors[0]);h&&Gi(n,o,h),v&&v.length>0&&id(n,o,v.join(" "))}}(ce,zr,at,d),void 0!==o&&function hg(n,i,o){const d=n.projection=[];for(let h=0;h<i.length;h++){const v=o[h];d.push(null!=v?Array.from(v):null)}}(_r,this.ngContentSelectors,o),qn=function dg(n,i,o,d,h,v){const D=dn(),F=h[bn],U=ns(D,h);af(F,h,D,o,null,d);for(let ce=0;ce<o.length;ce++)wn(xo(h,F,D.directiveStart+ce,D),h);lf(F,h,D),U&&wn(U,h);const Z=xo(h,F,D.directiveStart+D.componentOffset,D);if(n[re]=h[re]=Z,null!==v)for(const ce of v)ce(Z,i);return Hu(F,D,n),Z}(qo,zr,_n,ai,An,[cy]),rp(un,An,null)}finally{is()}return new lm(this.componentType,qn,Nl(_r,An),An,_r)}}class lm extends zp{constructor(i,o,d,h,v){super(),this.location=d,this._rootLView=h,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new up(h),this.componentType=i}setInput(i,o){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[i])){const v=this._rootLView;xd(v[bn],v,h,i,o),hh(zi(this._tNode.index,v))}}get injector(){return new oc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function cy(){const n=dn();Hl(R()[bn],n)}function fg(n){let i=function dp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const d=[n];for(;i;){let h;if(ki(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Re(903,!1);h=i.\u0275dir}if(h){if(o){d.push(h);const D=n;D.inputs=fp(n.inputs),D.declaredInputs=fp(n.declaredInputs),D.outputs=fp(n.outputs);const F=h.hostBindings;F&&l(n,F);const U=h.viewQuery,Z=h.contentQueries;if(U&&u(n,U),Z&&a(n,Z),me(n.inputs,h.inputs),me(n.declaredInputs,h.declaredInputs),me(n.outputs,h.outputs),ki(h)&&h.data.animation){const ce=n.data;ce.animation=(ce.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let D=0;D<v.length;D++){const F=v[D];F&&F.ngInherit&&F(n),F===fg&&(o=!1)}}i=Object.getPrototypeOf(i)}!function hp(n){let i=0,o=null;for(let d=n.length-1;d>=0;d--){const h=n[d];h.hostVars=i+=h.hostVars,h.hostAttrs=Ws(h.hostAttrs,o=Ws(o,h.hostAttrs))}}(d)}function fp(n){return n===gn?{}:n===Ye?[]:n}function u(n,i){const o=n.viewQuery;n.viewQuery=o?(d,h)=>{i(d,h),o(d,h)}:i}function a(n,i){const o=n.contentQueries;n.contentQueries=o?(d,h,v)=>{i(d,h,v),o(d,h,v)}:i}function l(n,i){const o=n.hostBindings;n.hostBindings=o?(d,h)=>{i(d,h),o(d,h)}:i}function En(n){return!!pi(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pi(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ls(n,i,o){return n[i]=o}function Ui(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Gu(n,i,o,d){const h=R();return Ui(h,To(),i)&&(O(),rc(si(),h,n,i,o,d)),Gu}function mf(n,i,o,d){return Ui(n,To(),o)?i+de(o)+d:Wr}function iv(n,i,o,d,h,v,D,F){const U=R(),Z=O(),ce=n+Jn,Ae=Z.firstCreatePass?function hy(n,i,o,d,h,v,D,F,U){const Z=i.consts,ce=ch(i,n,4,D||null,Is(Z,F));op(i,o,ce,Is(Z,U)),Hl(i,ce);const Ae=ce.tView=gl(2,ce,d,h,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Z);return null!==i.queries&&(i.queries.template(i,ce),Ae.queries=i.queries.embeddedTView(ce)),ce}(ce,Z,U,i,o,d,h,v,D):Z.data[ce];Si(Ae,!1);const at=U[ae].createComment("");Au(Z,U,at,Ae),wn(at,U),du(U,U[ce]=om(at,U,at,Ae)),$i(Ae)&&nf(Z,U,Ae),null!=D&&uh(U,Ae,F)}function pg(n,i,o){const d=R();return Ui(d,To(),i)&&Na(O(),si(),d,n,i,d[ae],o,!1),pg}function gg(n,i,o,d,h){const D=h?"class":"style";xd(n,o,i.inputs[D],D,d)}function Md(n,i,o,d){const h=R(),v=O(),D=Jn+n,F=h[ae],U=v.firstCreatePass?function py(n,i,o,d,h,v){const D=i.consts,U=ch(i,n,2,d,Is(D,h));return op(i,o,U,Is(D,v)),null!==U.attrs&&ff(U,U.attrs,!1),null!==U.mergedAttrs&&ff(U,U.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,U),U}(D,v,h,i,o,d):v.data[D],Z=h[D]=Mc(F,i,function jl(){return pr.lFrame.currentNamespace}()),ce=$i(U);return Si(U,!0),Oc(F,Z,U),32!=(32&U.flags)&&Au(v,h,Z,U),0===function b(){return pr.lFrame.elementDepthCount}()&&wn(Z,h),function q(){pr.lFrame.elementDepthCount++}(),ce&&(nf(v,h,U),Hu(v,U,h)),null!==d&&uh(h,U),Md}function mg(){let n=dn();gs()?Gs():(n=n.parent,Si(n,!1));const i=n;!function T(){pr.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(Hl(o,n),Rs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Lr(n){return 0!=(8&n.flags)}(i)&&gg(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function wr(n){return 0!=(16&n.flags)}(i)&&gg(o,i,R(),i.stylesWithoutHost,!1),mg}function yg(n,i,o,d){return Md(n,i,o,d),mg(),yg}function vp(n,i,o){const d=R(),h=O(),v=n+Jn,D=h.firstCreatePass?function w_(n,i,o,d,h){const v=i.consts,D=Is(v,d),F=ch(i,n,8,"ng-container",D);return null!==D&&ff(F,D,!0),op(i,o,F,Is(v,h)),null!==i.queries&&i.queries.elementStart(i,F),F}(v,h,d,i,o):h.data[v];Si(D,!0);const F=d[v]=d[ae].createComment("");return Au(h,d,F,D),wn(F,d),$i(D)&&(nf(h,d,D),Hu(h,D,d)),null!=o&&uh(d,D),vp}function Hc(){let n=dn();const i=O();return gs()?Gs():(n=n.parent,Si(n,!1)),i.firstCreatePass&&(Hl(i,n),Rs(n)&&i.queries.elementEnd(n)),Hc}function vg(n,i,o){return vp(n,i,o),Hc(),vg}function sv(){return R()}function _g(n){return!!n&&"function"==typeof n.then}function ov(n){return!!n&&"function"==typeof n.subscribe}const av=ov;function Eg(n,i,o,d){const h=R(),v=O(),D=dn();return function cv(n,i,o,d,h,v,D){const F=$i(d),Z=n.firstCreatePass&&hf(n),ce=i[re],Ae=df(i);let at=!0;if(3&d.type||D){const An=ns(d,i),qn=D?D(An):An,_r=Ae.length,zr=D?ai=>D(Ti(ai[d.index])):d.index;let _n=null;if(!D&&F&&(_n=function gy(n,i,o,d){const h=n.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const D=h[v];if(D===o&&h[v+1]===d){const F=i[Oi],U=h[v+2];return F.length>U?F[U]:null}"string"==typeof D&&(v+=2)}return null}(n,i,h,d.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=v,_n.__ngLastListenerFn__=v,at=!1;else{v=uv(d,i,ce,v,!1);const ai=o.listen(qn,h,v);Ae.push(v,ai),Z&&Z.push(h,zr,_r,_r+1)}}else v=uv(d,i,ce,v,!1);const Ft=d.outputs;let un;if(at&&null!==Ft&&(un=Ft[h])){const An=un.length;if(An)for(let qn=0;qn<An;qn+=2){const to=i[un[qn]][un[qn+1]].subscribe(v),qo=Ae.length;Ae.push(v,to),Z&&Z.push(h,d.index,qo,-(qo+1))}}}(v,h,h[ae],D,n,i,d),Eg}function pm(n,i,o,d){try{return hi(6,i,o),!1!==o(d)}catch(h){return cp(n,h),!1}finally{hi(7,i,o)}}function uv(n,i,o,d,h){return function v(D){if(D===Function)return d;hh(n.componentOffset>-1?zi(n.index,i):i);let U=pm(i,o,d,D),Z=v.__ngNextListenerFn__;for(;Z;)U=pm(i,o,Z,D)&&U,Z=Z.__ngNextListenerFn__;return h&&!1===U&&(D.preventDefault(),D.returnValue=!1),U}}function gm(n=1){return function ba(n){return(pr.lFrame.contextLView=function Ha(n,i){for(;n>0;)i=i[kt],n--;return i}(n,pr.lFrame.contextLView))[re]}(n)}function dv(n,i){let o=null;const d=function Wh(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let h=0;h<i.length;h++){const v=i[h];if("*"!==v){if(null===d?Vc(n,v,!0):jg(d,v))return h}else o=h}return o}function mm(n){const i=R()[Bt][ii];if(!i.projection){const d=i.projection=ws(n?n.length:1,null),h=d.slice();let v=i.child;for(;null!==v;){const D=n?dv(v,n):0;null!==D&&(h[D]?h[D].projectionNext=v:d[D]=v,h[D]=v),v=v.next}}}function my(n,i=0,o){const d=R(),h=O(),v=ch(h,Jn+n,16,null,o||null);null===v.projection&&(v.projection=i),Gs(),32!=(32&v.flags)&&function Mf(n,i,o){Pf(i[ae],0,i,o,Pc(n,o,i),gc(o.parent||i[ii],o,i))}(h,d,v)}function yy(n,i,o){return vy(n,"",i,"",o),yy}function vy(n,i,o,d,h){const v=R(),D=mf(v,i,o,d);return D!==Wr&&Na(O(),si(),v,n,D,v[ae],h,!1),vy}function Ep(n,i){return n<<17|i<<2}function Pd(n){return n>>17&32767}function wp(n){return 2|n}function yf(n){return(131068&n)>>2}function _y(n,i){return-131069&n|i<<2}function Ey(n){return 1|n}function by(n,i,o,d,h){const v=n[o+1],D=null===i;let F=d?Pd(v):yf(v),U=!1;for(;0!==F&&(!1===U||D);){const ce=n[F+1];Dy(n[F],i)&&(U=!0,n[F+1]=d?Ey(ce):wp(ce)),F=d?Pd(ce):yf(ce)}U&&(n[o+1]=d?wp(v):Ey(v))}function Dy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&x(n,i)>=0}function My(n,i){return function Tc(n,i,o,d){const h=R(),v=O(),D=function vo(n){const i=pr.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);v.firstUpdatePass&&function Oy(n,i,o,d){const h=n.data;if(null===h[o+1]){const v=h[Yi()],D=function Py(n,i){return i>=n.expandoStartIndex}(n,o);(function Cm(n,i){return 0!=(n.flags&(i?8:16))})(v,d)&&null===i&&!D&&(i=!1),i=function wm(n,i,o,d){const h=function Va(n){const i=pr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=d?i.residualClasses:i.residualStyles;if(null===h)0===(d?i.classBindings:i.styleBindings)&&(o=Cp(o=vf(null,n,i,o,d),i.attrs,d),v=null);else{const D=i.directiveStylingLast;if(-1===D||n[D]!==h)if(o=vf(h,n,i,o,d),null===v){let U=function Vi(n,i,o){const d=o?i.classBindings:i.styleBindings;if(0!==yf(d))return n[Pd(d)]}(n,i,d);void 0!==U&&Array.isArray(U)&&(U=vf(null,n,i,U[1],d),U=Cp(U,i.attrs,d),function Ev(n,i,o,d){n[Pd(o?i.classBindings:i.styleBindings)]=d}(n,i,d,U))}else v=function Iv(n,i,o){let d;const h=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<h;v++)d=Cp(d,n[v].hostAttrs,o);return Cp(d,i.attrs,o)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),o}(h,v,i,d),function wy(n,i,o,d,h,v){let D=v?i.classBindings:i.styleBindings,F=Pd(D),U=yf(D);n[d]=o;let ce,Z=!1;if(Array.isArray(o)?(ce=o[1],(null===ce||x(o,ce)>0)&&(Z=!0)):ce=o,h)if(0!==U){const at=Pd(n[F+1]);n[d+1]=Ep(at,F),0!==at&&(n[at+1]=_y(n[at+1],d)),n[F+1]=function gv(n,i){return 131071&n|i<<17}(n[F+1],d)}else n[d+1]=Ep(F,0),0!==F&&(n[F+1]=_y(n[F+1],d)),F=d;else n[d+1]=Ep(U,0),0===F?F=d:n[U+1]=_y(n[U+1],d),U=d;Z&&(n[d+1]=wp(n[d+1])),by(n,ce,d,!0),by(n,ce,d,!1),function Cy(n,i,o,d,h){const v=h?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&x(v,i)>=0&&(o[d+1]=Ey(o[d+1]))}(i,ce,n,d,v),D=Ep(F,U),v?i.classBindings=D:i.styleBindings=D}(h,v,i,o,D,d)}}(v,n,D,d),i!==Wr&&Ui(h,D,i)&&function ky(n,i,o,d,h,v,D,F){if(!(3&i.type))return;const U=n.data,Z=U[F+1],ce=function C_(n){return 1==(1&n)}(Z)?wv(U,i,o,h,yf(Z),D):void 0;_f(ce)||(_f(v)||function Ip(n){return 2==(2&n)}(Z)&&(v=wv(U,null,o,h,F,D)),function Bp(n,i,o,d,h){if(i)h?n.addClass(o,d):n.removeClass(o,d);else{let v=-1===d.indexOf("-")?void 0:ks.DashCase;null==h?n.removeStyle(o,d,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=ks.Important),n.setStyle(o,d,h,v))}}(d,D,Ts(Yi(),o),h,v))}(v,v.data[Yi()],h,h[ae],n,h[D+1]=function Cv(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ue(Pa(n)))),n}(i,o),d,D)}(n,i,null,!0),My}function vf(n,i,o,d,h){let v=null;const D=o.directiveEnd;let F=o.directiveStylingLast;for(-1===F?F=o.directiveStart:F++;F<D&&(v=i[F],d=Cp(d,v.hostAttrs,h),v!==n);)F++;return null!==n&&(o.directiveStylingLast=F),d}function Cp(n,i,o){const d=o?1:2;let h=-1;if(null!==i)for(let v=0;v<i.length;v++){const D=i[v];"number"==typeof D?h=D:h===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fr(n,D,!!o||i[++v]))}return void 0===n?null:n}function wv(n,i,o,d,h,v){const D=null===i;let F;for(;h>0;){const U=n[h],Z=Array.isArray(U),ce=Z?U[1]:U,Ae=null===ce;let at=o[h+1];at===Wr&&(at=Ae?Ye:void 0);let Ft=Ae?S(at,d):ce===d?at:void 0;if(Z&&!_f(Ft)&&(Ft=S(U,d)),_f(Ft)&&(F=Ft,D))return F;const un=n[h+1];h=D?Pd(un):yf(un)}if(null!==i){let U=v?i.residualClasses:i.residualStyles;null!=U&&(F=S(U,d))}return F}function _f(n){return void 0!==n}function bv(n,i=""){const o=R(),d=O(),h=n+Jn,v=d.firstCreatePass?ch(d,h,1,i,null):d.data[h],D=o[h]=function Rl(n,i){return n.createText(i)}(o[ae],i);Au(d,o,D,v),Si(v,!1)}function Cg(n){return bm("",n,""),Cg}function bm(n,i,o){const d=R(),h=mf(d,n,i,o);return h!==Wr&&function Dc(n,i,o){const d=Ts(i,n);!function $d(n,i,o){n.setValue(i,o)}(n[ae],d,o)}(d,Yi(),h),bm}const If=void 0;var Uy=["en",[["a","p"],["AM","PM"],If],[["AM","PM"],If,If],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],If,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],If,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",If,"{1} 'at' {0}",If],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $y(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let wf={};function Sm(n){const i=function xm(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Tp(i);if(o)return o;const d=i.split("-")[0];if(o=Tp(d),o)return o;if("en"===d)return Uy;throw new Re(701,!1)}function Am(n){return Sm(n)[kr.PluralCase]}function Tp(n){return n in wf||(wf[n]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[n]),wf[n]}var kr=(()=>((kr=kr||{})[kr.LocaleId=0]="LocaleId",kr[kr.DayPeriodsFormat=1]="DayPeriodsFormat",kr[kr.DayPeriodsStandalone=2]="DayPeriodsStandalone",kr[kr.DaysFormat=3]="DaysFormat",kr[kr.DaysStandalone=4]="DaysStandalone",kr[kr.MonthsFormat=5]="MonthsFormat",kr[kr.MonthsStandalone=6]="MonthsStandalone",kr[kr.Eras=7]="Eras",kr[kr.FirstDayOfWeek=8]="FirstDayOfWeek",kr[kr.WeekendRange=9]="WeekendRange",kr[kr.DateFormat=10]="DateFormat",kr[kr.TimeFormat=11]="TimeFormat",kr[kr.DateTimeFormat=12]="DateTimeFormat",kr[kr.NumberSymbols=13]="NumberSymbols",kr[kr.NumberFormats=14]="NumberFormats",kr[kr.CurrencyCode=15]="CurrencyCode",kr[kr.CurrencySymbol=16]="CurrencySymbol",kr[kr.CurrencyName=17]="CurrencyName",kr[kr.Currencies=18]="Currencies",kr[kr.Directionality=19]="Directionality",kr[kr.PluralCase=20]="PluralCase",kr[kr.ExtraData=21]="ExtraData",kr))();const Sp="en-US";let xp=Sp;function Mg(n,i,o,d,h){if(n=ve(n),Array.isArray(n))for(let v=0;v<n.length;v++)Mg(n[v],i,o,d,h);else{const v=O(),D=R();let F=ku(n)?n:ve(n.provide),U=Ng(n);const Z=dn(),ce=1048575&Z.providerIndexes,Ae=Z.directiveStart,at=Z.providerIndexes>>20;if(ku(n)||!n.multi){const Ft=new Vt(U,h,ju),un=$m(F,i,h?ce:ce+at,Ae);-1===un?(ic(Gl(Z,D),v,F),qy(v,n,i.length),i.push(F),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),o.push(Ft),D.push(Ft)):(o[un]=Ft,D[un]=Ft)}else{const Ft=$m(F,i,ce+at,Ae),un=$m(F,i,ce,ce+at),qn=un>=0&&o[un];if(h&&!qn||!h&&!(Ft>=0&&o[Ft])){ic(Gl(Z,D),v,F);const _r=function Qv(n,i,o,d,h){const v=new Vt(n,o,ju);return v.multi=[],v.index=i,v.componentProviders=0,Xv(v,h,d&&!o),v}(h?y0:Um,o.length,h,d,U);!h&&qn&&(o[un].providerFactory=_r),qy(v,n,i.length,0),i.push(F),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),o.push(_r),D.push(_r)}else qy(v,n,Ft>-1?Ft:un,Xv(o[h?un:Ft],U,!h&&d));!h&&d&&qn&&o[un].componentProviders++}}}function qy(n,i,o,d){const h=ku(i),v=function Vp(n){return!!n.useClass}(i);if(h||v){const U=(v?ve(i.useClass):i).prototype.ngOnDestroy;if(U){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const ce=Z.indexOf(o);-1===ce?Z.push(o,[d,U]):Z[ce+1].push(d,U)}else Z.push(o,U)}}}function Xv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function $m(n,i,o,d){for(let h=o;h<d;h++)if(i[h]===n)return h;return-1}function Um(n,i,o,d){return Vm(this.multi,[])}function y0(n,i,o,d){const h=this.multi;let v;if(this.providerFactory){const D=this.providerFactory.componentProviders,F=xo(o,o[bn],this.providerFactory.index,d);v=F.slice(0,D),Vm(h,v);for(let U=D;U<F.length;U++)v.push(F[U])}else v=[],Vm(h,v);return v}function Vm(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Ch(n,i=[]){return o=>{o.providersResolver=(d,h)=>function Rg(n,i,o){const d=O();if(d.firstCreatePass){const h=ki(n);Mg(o,d.data,d.blueprint,h,!0),Mg(i,d.data,d.blueprint,h,!1)}}(d,h?h(n):n,i)}}class nl{}class ml{}function Jv(n,i){return new kp(n,null!=i?i:null)}class kp extends nl{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const d=Pi(i);this._bootstrapComponents=ec(d.bootstrap),this._r3Injector=Qp(i,o,[{provide:nl,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],Ue(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Sf extends ml{constructor(i){super(),this.moduleType=i}create(i){return new kp(this.moduleType,i)}}class Vl extends nl{constructor(i,o,d){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const h=new $h([...i,{provide:nl,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],o||Lc(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Yy(n,i,o=null){return new Vl(n,i,o).injector}let Zy=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const d=xs(0,o.type),h=d.length>0?Yy([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(Pr(Bc))}),n})();function Af(n){n.getStandaloneInjector=i=>i.get(Zy).getOrCreateStandaloneInjector(n)}function i_(n,i,o){const d=ds()+n,h=R();return h[d]===Wr?ls(h,d,o?i.call(o):i()):function fs(n,i){return n[i]}(h,d)}function r(n,i,o,d,h,v,D){const F=i+o;return function Ul(n,i,o,d){const h=Ui(n,i,o);return Ui(n,i+1,d)||h}(n,F,h,v)?ls(n,F+2,D?d.call(D,h,v):d(h,v)):function Np(n,i){const o=n[i];return o===Wr?void 0:o}(n,F+2)}function c(n,i){const o=O();let d;const h=n+Jn;var v;o.firstCreatePass?(d=function f(n,i){if(i)for(let o=i.length-1;o>=0;o--){const d=i[o];if(n===d.name)return d}}(i,o.pipeRegistry),o.data[h]=d,d.onDestroy&&(null!==(v=o.destroyHooks)&&void 0!==v?v:o.destroyHooks=[]).push(h,d.onDestroy)):d=o.data[h];const D=d.factory||(d.factory=ts(d.type)),F=Br(ju);try{const U=sl(!1),Z=D();return sl(U),function fy(n,i,o,d){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=d}(o,R(),h,Z),Z}finally{Br(F)}}function G(n,i,o,d){const h=n+Jn,v=R(),D=function zs(n,i){return n[i]}(v,h);return function Mt(n,i){return n[bn].data[i].pure}(v,h)?r(v,ds(),i,D.transform,o,d,D):D.transform(o,d)}function Sn(n){return i=>{setTimeout(n,void 0,i)}}const Mn=class rn extends _.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,d){let h=i,v=o||(()=>null),D=d;if(i&&"object"==typeof i){var F,U,Z;const Ae=i;h=null===(F=Ae.next)||void 0===F?void 0:F.bind(Ae),v=null===(U=Ae.error)||void 0===U?void 0:U.bind(Ae),D=null===(Z=Ae.complete)||void 0===Z?void 0:Z.bind(Ae)}this.__isAsync&&(v=Sn(v),h&&(h=Sn(h)),D&&(D=Sn(D)));const ce=super.subscribe({next:h,error:v,complete:D});return i instanceof y.w0&&i.add(ce),ce}};function ur(){return this._results[Symbol.iterator]()}class ei{get changes(){return this._changes||(this._changes=new Mn)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ei.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ur)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const d=this;d.dirty=!1;const h=function vr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Mi(n,i,o){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let h=n[d],v=i[d];if(o&&(h=o(h),v=o(v)),v!==h)return!1}return!0}(d._results,h,o))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Fs,n})();const ti=Bi,Ba=class extends ti{constructor(i,o,d){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(i,o){const d=this._declarationTContainer.tView,h=lh(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,o||null);h[Jt]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[zn];return null!==D&&(h[zn]=D.createEmbeddedView(d)),rp(d,h,i),new pf(h)}};function Fs(){return bs(dn(),R())}function bs(n,i){return 4&n.type?new Ba(i,n,Nl(n,i)):null}let $a=(()=>{class n{}return n.__NG_ELEMENT_ID__=Th,n})();function Th(){return hE(dn(),R())}const gI=$a,uE=class extends gI{constructor(i,o,d){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=d}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new oc(this._hostTNode,this._hostLView)}get parentInjector(){const i=ci(this._hostTNode,this._hostLView);if(ra(i)){const o=za(i,this._hostLView),d=Ks(i);return new oc(o[bn].data[d+8],o)}return new oc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=dE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(i,o,d){let h,v;"number"==typeof d?h=d:null!=d&&(h=d.index,v=d.injector);const D=i.createEmbeddedView(o||{},v);return this.insert(D,h),D}createComponent(i,o,d,h,v){const D=i&&!function Aa(n){return"function"==typeof n}(i);let F;if(D)F=o;else{const Ae=o||{};F=Ae.index,d=Ae.injector,h=Ae.projectableNodes,v=Ae.environmentInjector||Ae.ngModuleRef}const U=D?i:new Rd($n(i)),Z=d||this.parentInjector;if(!v&&null==U.ngModule){const at=(D?Z:this.parentInjector).get(Bc,null);at&&(v=at)}const ce=U.create(Z,h,void 0,v);return this.insert(ce.hostView,F),ce}insert(i,o){const d=i._lView,h=d[bn];if(function fa(n){return xr(n[li])}(d)){const ce=this.indexOf(i);if(-1!==ce)this.detach(ce);else{const Ae=d[li],at=new uE(Ae,Ae[ii],Ae[li]);at.detach(at.indexOf(i))}}const v=this._adjustIndex(o),D=this._lContainer;!function Mh(n,i,o,d){const h=Un+d,v=o.length;d>0&&(o[h-1][Dr]=i),d<v-Un?(i[Dr]=o[h],Rt(o,Un+d,i)):(o.push(i),i[Dr]=null),i[li]=o;const D=i[Jt];null!==D&&o!==D&&function Ud(n,i){const o=n[an];i[Bt]!==i[li][li][Bt]&&(n[tt]=!0),null===o?n[an]=[i]:o.push(i)}(D,i);const F=i[zn];null!==F&&F.insertView(n),i[dr]|=64}(h,d,D,v);const F=rd(v,D),U=d[ae],Z=Ma(U,D[Et]);return null!==Z&&function Lp(n,i,o,d,h,v){d[ri]=h,d[ii]=i,nu(n,d,o,1,h,v)}(h,D[ii],U,d,Z,F),i.attachToViewContainerRef(),Rt(A0(D),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=dE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),d=td(this._lContainer,o);d&&(wi(A0(this._lContainer),o),Vd(d[bn],d))}detach(i){const o=this._adjustIndex(i,-1),d=td(this._lContainer,o);return d&&null!=wi(A0(this._lContainer),o)?new pf(d):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function dE(n){return n[qt]}function A0(n){return n[qt]||(n[qt]=[])}function hE(n,i){let o;const d=i[n.index];if(xr(d))o=d;else{let h;if(8&n.type)h=Ti(d);else{const v=i[ae];h=v.createComment("");const D=ns(n,i);Ra(v,Ma(v,D),h,function Hd(n,i){return n.nextSibling(i)}(v,D),!1)}i[n.index]=o=om(d,i,h,n),du(i,o)}return new uE(o,n,i)}class x0{constructor(i){this.queryList=i,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const d=null!==i.contentQueries?i.contentQueries[0]:o.length,h=[];for(let v=0;v<d;v++){const D=o.getByIndex(v);h.push(this.queries[D.indexInDeclarationView].clone())}return new R0(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==IE(i,o).matches&&this.queries[o].setDirty()}}class fE{constructor(i,o,d=null){this.predicate=i,this.flags=o,this.read=d}}class M0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let d=0;d<this.length;d++){const h=null!==o?o.length:0,v=this.getByIndex(d).embeddedTView(i,h);v&&(v.indexInDeclarationView=d,null!==o?o.push(v):o=[v])}return null!==o?new M0(o):null}template(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class P0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new P0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const v=d[h];this.matchTNodeWithReadOption(i,o,mI(o,v)),this.matchTNodeWithReadOption(i,o,ui(o,i,v,!1,!1))}else d===Bi?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ui(o,i,d,!1,!1))}matchTNodeWithReadOption(i,o,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Fl||h===$a||h===Bi&&4&o.type)this.addMatch(o.index,-2);else{const v=ui(o,i,h,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,d)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function mI(n,i){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===i)return o[d+1];return null}function vI(n,i,o,d){return-1===o?function yI(n,i){return 11&n.type?Nl(n,i):4&n.type?bs(n,i):null}(i,n):-2===o?function _I(n,i,o){return o===Fl?Nl(i,n):o===Bi?bs(i,n):o===$a?hE(i,n):void 0}(n,i,d):xo(n,n[bn],o,i)}function pE(n,i,o,d){const h=i[zn].queries[d];if(null===h.matches){const v=n.data,D=o.matches,F=[];for(let U=0;U<D.length;U+=2){const Z=D[U];F.push(Z<0?null:vI(i,v[Z],D[U+1],o.metadata.read))}h.matches=F}return h.matches}function O0(n,i,o,d){const h=n.queries.getByIndex(o),v=h.matches;if(null!==v){const D=pE(n,i,h,o);for(let F=0;F<v.length;F+=2){const U=v[F];if(U>0)d.push(D[F/2]);else{const Z=v[F+1],ce=i[-U];for(let Ae=Un;Ae<ce.length;Ae++){const at=ce[Ae];at[Jt]===at[li]&&O0(at[bn],at,Z,d)}if(null!==ce[an]){const Ae=ce[an];for(let at=0;at<Ae.length;at++){const Ft=Ae[at];O0(Ft[bn],Ft,Z,d)}}}}}return d}function gE(n){const i=R(),o=O(),d=ja();_o(d+1);const h=IE(o,d);if(n.dirty&&function us(n){return 4==(4&n[dr])}(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const v=h.crossesNgTemplate?O0(o,i,d,[]):pE(o,i,h,d);n.reset(v,cu),n.notifyOnChanges()}return!0}return!1}function mE(n,i,o){const d=O();d.firstCreatePass&&(EE(d,new fE(n,i,o),-1),2==(2&i)&&(d.staticViewQueries=!0)),_E(d,R(),i)}function yE(n,i,o,d){const h=O();if(h.firstCreatePass){const v=dn();EE(h,new fE(i,o,d),v.index),function II(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(h,n),2==(2&o)&&(h.staticContentQueries=!0)}_E(h,R(),o)}function vE(){return function EI(n,i){return n[zn].queries[i].queryList}(R(),ja())}function _E(n,i,o){const d=new ei(4==(4&o));rf(n,i,d,d.destroy),null===i[zn]&&(i[zn]=new R0),i[zn].queries.push(new x0(d))}function EE(n,i,o){null===n.queries&&(n.queries=new M0),n.queries.track(new P0(i,o))}function IE(n,i){return n.queries.getByIndex(i)}function k0(n){return!!Pi(n)}function f_(...n){}const $E=new Mr("Application Initializer");let p_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const v=this.appInits[h]();if(_g(v))o.push(v);else if(av(v)){const D=new Promise((F,U)=>{v.subscribe({complete:F,error:U})});o.push(D)}}Promise.all(o).then(()=>{d()}).catch(h=>{this.reject(h)}),0===o.length&&d(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Pr($E,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new Mr("AppId",{providedIn:"root",factory:function VE(){return`${$0()}${$0()}${$0()}`}});function $0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jE=new Mr("Platform Initializer"),jI=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let HI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const g_=new Mr("LocaleId",{providedIn:"root",factory:()=>Ht(g_,cn.Optional|cn.SkipSelf)||function zI(){return typeof $localize<"u"&&$localize.locale||Sp}()}),GI=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let KI=(()=>{class n{compileModuleSync(o){return new Sf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),v=ec(Pi(o).declarations).reduce((D,F)=>{const U=$n(F);return U&&D.push(new Rd(U)),D},[]);return new WI(d,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZI=(()=>Promise.resolve(0))();function U0(n){typeof Zone>"u"?ZI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&o,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function XI(){let n=Tn.requestAnimationFrame,i=Tn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ew(n){const i=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Tn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j0(n),n.isCheckStableRunning=!0,V0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,h,v,D,F)=>{try{return GE(n),o.invokeTask(h,v,D,F)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),WE(n)}},onInvoke:(o,d,h,v,D,F,U)=>{try{return GE(n),o.invoke(h,v,D,F,U)}finally{n.shouldCoalesceRunChangeDetection&&i(),WE(n)}},onHasTask:(o,d,h,v)=>{o.hasTask(h,v),d===h&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,j0(n),V0(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,d,h,v)=>(o.handleError(h,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Yu.isInAngularZone())throw new Re(909,!1)}run(i,o,d){return this._inner.run(i,o,d)}runTask(i,o,d,h){const v=this._inner,D=v.scheduleEventTask("NgZoneEvent: "+h,i,QI,f_,f_);try{return v.runTask(D,o,d)}finally{v.cancelTask(D)}}runGuarded(i,o,d){return this._inner.runGuarded(i,o,d)}runOutsideAngular(i){return this._outer.run(i)}}const QI={};function V0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function GE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WE(n){n._nesting--,V0(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(i,o,d){return i.apply(o,d)}runGuarded(i,o,d){return i.apply(o,d)}runOutsideAngular(i){return i()}runTask(i,o,d,h){return i.apply(o,d)}}const KE=new Mr(""),qE=new Mr("");let H0,nw=(()=>{class n{constructor(o,d,h){this._ngZone=o,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H0||(function rw(n){H0=n}(h),h.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yu.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,h){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==v),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:h})}whenStable(o,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,h){return[]}}return n.\u0275fac=function(o){return new(o||n)(Pr(Yu),Pr(YE),Pr(qE))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),YE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){var h,v;return null!==(h=null===(v=H0)||void 0===v?void 0:v.findTestabilityInTree(this,o,d))&&void 0!==h?h:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xf=!1;let Fp=null;const z0=new Mr("PlatformDestroyListeners"),XE=new Mr("appBootstrapListener");class ow{constructor(i,o){this.name=i,this.token=o}}function cw(n){const{rootComponent:i,appProviders:o,platformProviders:d}=n;xf&&void 0!==i&&function zf(n){if(function Bg(n){if(!$n(n))throw new Re(906,`The ${pt(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!$n(n).standalone)throw new Re(907,`The ${pt(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${pt(n)} component has the \`standalone: true\` flag in the decorator.`)}(i);const h=function lw(n=[]){if(Fp)return Fp;const i=function JE(n=[],i){return Co.create({name:i,providers:[{provide:Bh,useValue:"platform"},{provide:z0,useValue:new Set([()=>Fp=null])},...n]})}(n);return Fp=i,function QE(n){const i=n.get(jE,null);i&&i.forEach(o=>o())}(i),i}(d),v=function nI(n,i){let o;return o="noop"===n?new tw:("zone.js"===n?void 0:n)||new Yu(i),o}("zone.js",function tI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return v.run(()=>{const F=Yy([{provide:Yu,useValue:v},...o||[]],h,"Environment Injector"),U=F.get(Jl,null);if(xf&&!U)throw new Re(402,"No `ErrorHandler` found in the Dependency Injection tree.");let Z;v.runOutsideAngular(()=>{Z=v.onError.subscribe({next:at=>{U.handleError(at)}})});const ce=()=>F.destroy(),Ae=h.get(z0);return Ae.add(ce),F.onDestroy(()=>{Z.unsubscribe(),Ae.delete(ce)}),function rI(n,i,o){try{const d=o();return _g(d)?d.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(U,v,()=>{const at=F.get(p_);return at.runInitializers(),at.donePromise.then(()=>{!function kv(n){lt(n,"Expected localeId to be defined"),"string"==typeof n&&(xp=n.toLowerCase().replace(/_/g,"-"))}(F.get(g_,Sp)||Sp);const un=F.get(m_);return void 0!==i&&un.bootstrap(i),un})})})}let m_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,d,h){this._zone=o,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ee.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),D=new ee.y(F=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Yu.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{Yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{U.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,he.T)(v,D.pipe((0,Be.B)()))}bootstrap(o,d){xf&&this.warnIfDestroyed();const h=o instanceof th;if(!this._injector.get(p_).done){const Ft="Cannot bootstrap as there are still asynchronous initializers running."+(!h&&ar(o)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Re(405,xf&&Ft)}let D;D=h?o:this._injector.get(Ql).resolveComponentFactory(o),this.componentTypes.push(D.componentType);const F=function sw(n){return n.isBoundToModule}(D)?void 0:this._injector.get(nl),Z=D.create(Co.NULL,[],d||D.selector,F),ce=Z.location.nativeElement,Ae=Z.injector.get(KE,null);return null==Ae||Ae.registerApplication(ce),Z.onDestroy(()=>{this.detachView(Z.hostView),y_(this.components,Z),null==Ae||Ae.unregisterApplication(ce)}),this._loadComponent(Z),Z}tick(){if(xf&&this.warnIfDestroyed(),this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){xf&&this.warnIfDestroyed();const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){xf&&this.warnIfDestroyed();const d=o;y_(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const d=this._injector.get(XE,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return xf&&this.warnIfDestroyed(),this._destroyListeners.push(o),()=>y_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){xf&&this._destroyed&&console.warn(Se(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(o){return new(o||n)(Pr(Yu),Pr(Bc),Pr(Jl))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function hw(){return!1}function fw(){}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(n){return function mw(n,i,o){if(fo(n)&&!o){const d=zi(n.index,i);return new pf(d,d)}return 47&n.type?new pf(i[Bt],i):null}(dn(),R(),16==(16&n))}class cI{constructor(){}supports(i){return En(i)}create(i){return new ww(i)}}const Iw=(n,i)=>i;class ww{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Iw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,d=this._removalsHead,h=0,v=null;for(;o||d;){const D=!d||o&&o.currentIndex<dI(d,h,v)?o:d,F=dI(D,h,v),U=D.currentIndex;if(D===d)h--,d=d._nextRemoved;else if(o=o._next,null==D.previousIndex)h++;else{v||(v=[]);const Z=F-h,ce=U-h;if(Z!=ce){for(let at=0;at<Z;at++){const Ft=at<v.length?v[at]:v[at]=0,un=Ft+at;ce<=un&&un<Z&&(v[at]=Ft+1)}v[D.previousIndex]=ce-Z}}F!==U&&i(D,F,U)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!En(i))throw new Re(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,v,D,o=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let F=0;F<this.length;F++)v=i[F],D=this._trackByFn(F,v),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,v,D,F)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,D,F),d=!0),o=o._next}else h=0,function Kr(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let d;for(;!(d=o.next()).done;)i(d.value)}}(i,F=>{D=this._trackByFn(h,F),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,F,D,h)),Object.is(o.item,F)||this._addIdentityChange(o,F)):(o=this._mismatch(o,F,D,h),d=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,d,h){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,v,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,v,h)):i=this._addAfter(new Cw(o,d),v,h),i}_verifyReinsertion(i,o,d,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,v=i._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(i,o,d),this._addToMoves(i,d),i}_moveAfter(i,o,d){return this._unlink(i),this._insertAfter(i,o,d),this._addToMoves(i,d),i}_addAfter(i,o,d){return this._insertAfter(i,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,d){const h=null===o?this._itHead:o._next;return i._next=h,i._prev=o,null===h?this._itTail=i:h._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new uI),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,d=i._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Cw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const o=i._prevDup,d=i._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class uI{constructor(){this.map=new Map}put(i){const o=i.trackById;let d=this.map.get(o);d||(d=new bw,this.map.set(o,d)),d.add(i)}get(i,o){const h=this.map.get(i);return h?h.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dI(n,i,o){const d=n.previousIndex;if(null===d)return d;let h=0;return o&&d<o.length&&(h=o[d]),d+i+h}class hI{constructor(){}supports(i){return i instanceof Map||pi(i)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||pi(i)))throw new Re(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(h,d);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const d=i._prev;return o._next=i,o._prev=d,i._prev=o,d&&(d._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,o);const v=h._prev,D=h._next;return v&&(v._next=D),D&&(D._prev=v),h._next=null,h._prev=null,h}const d=new Tw(i);return this._records.set(i,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(d=>o(i[d],d))}}class Tw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fI(){return new Z0([new cI])}let Z0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(null!=d){const h=d.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||fI()),deps:[[n,new Io,new Li]]}}find(o){const d=this.factories.find(h=>h.supports(o));if(null!=d)return d;throw new Re(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:fI}),n})();function pI(){return new X0([new hI])}let X0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(d){const h=d.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||pI()),deps:[[n,new Io,new Li]]}}find(o){const d=this.factories.find(h=>h.supports(o));if(d)return d;throw new Re(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:pI}),n})();function xw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Mw(n,i){const o=$n(n),d=i.elementInjector||Lc();return new Rd(o).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(yn,gt,H)=>{"use strict";H.d(gt,{qu:()=>ga,NI:()=>kt,u:()=>io,sg:()=>Ls,u5:()=>W,JU:()=>rt,a5:()=>di,JJ:()=>Ir,JL:()=>Tn,On:()=>qt,UX:()=>pe,kI:()=>we,_Y:()=>an});var _=H(4650),y=H(6895),ee=H(8996),he=H(9751),Be=H(4742),xe=H(8421),me=H(7669),Ue=H(5403),Ne=H(3268),_e=H(1810),ve=H(4004);let ze=(()=>{class B{constructor(O,ne){this._renderer=O,this._elementRef=ne,this.onChange=yt=>{},this.onTouched=()=>{}}setProperty(O,ne){this._renderer.setProperty(this._elementRef.nativeElement,O,ne)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return B.\u0275fac=function(O){return new(O||B)(_.Y36(_.Qsj),_.Y36(_.SBq))},B.\u0275dir=_.lG2({type:B}),B})(),He=(()=>{class B extends ze{}return B.\u0275fac=function(){let R;return function(ne){return(R||(R=_.n5z(B)))(ne||B)}}(),B.\u0275dir=_.lG2({type:B,features:[_.qOj]}),B})();const rt=new _.OlP("NgValueAccessor"),Se={provide:rt,useExisting:(0,_.Gpc)(()=>Y),multi:!0},pt=new _.OlP("CompositionEventMode");let Y=(()=>{class B extends ze{constructor(O,ne,yt){super(O,ne),this._compositionMode=yt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function de(){const B=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(O){this.setProperty("value",null==O?"":O)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return B.\u0275fac=function(O){return new(O||B)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(pt,8))},B.\u0275dir=_.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ne){1&O&&_.NdJ("input",function(dn){return ne._handleInput(dn.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(dn){return ne._compositionEnd(dn.target.value)})},features:[_._Bn([Se]),_.qOj]}),B})();const et=!1;function Ze(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function At(B){return null!=B&&"number"==typeof B.length}const $e=new _.OlP("NgValidators"),Oe=new _.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(R){return function Ve(B){return R=>{if(Ze(R.value)||Ze(B))return null;const O=parseFloat(R.value);return!isNaN(O)&&O<B?{min:{min:B,actual:R.value}}:null}}(R)}static max(R){return function ht(B){return R=>{if(Ze(R.value)||Ze(B))return null;const O=parseFloat(R.value);return!isNaN(O)&&O>B?{max:{max:B,actual:R.value}}:null}}(R)}static required(R){return function _t(B){return Ze(B.value)?{required:!0}:null}(R)}static requiredTrue(R){return function ct(B){return!0===B.value?null:{required:!0}}(R)}static email(R){return function wt(B){return Ze(B.value)||Pe.test(B.value)?null:{email:!0}}(R)}static minLength(R){return function ft(B){return R=>Ze(R.value)||!At(R.value)?null:R.value.length<B?{minlength:{requiredLength:B,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function ke(B){return R=>At(R.value)&&R.value.length>B?{maxlength:{requiredLength:B,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Le(B){if(!B)return Fe;let R,O;return"string"==typeof B?(O="","^"!==B.charAt(0)&&(O+="^"),O+=B,"$"!==B.charAt(B.length-1)&&(O+="$"),R=new RegExp(O)):(O=B.toString(),R=B),ne=>{if(Ze(ne.value))return null;const yt=ne.value;return R.test(yt)?null:{pattern:{requiredPattern:O,actualValue:yt}}}}(R)}static nullValidator(R){return null}static compose(R){return Te(R)}static composeAsync(R){return ln(R)}}function Fe(B){return null}function lt(B){return null!=B}function vt(B){const R=(0,_.QGY)(B)?(0,ee.D)(B):B;if(et&&!(0,_.CqO)(R)){let O="Expected async validator to return Promise or Observable.";throw"object"==typeof B&&(O+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,O)}return R}function Zt(B){let R={};return B.forEach(O=>{R=null!=O?{...R,...O}:R}),0===Object.keys(R).length?null:R}function $t(B,R){return R.map(O=>O(B))}function Dt(B){return B.map(R=>function vn(B){return!B.validate}(R)?R:O=>R.validate(O))}function Te(B){if(!B)return null;const R=B.filter(lt);return 0==R.length?null:function(O){return Zt($t(O,R))}}function Tt(B){return null!=B?Te(Dt(B)):null}function ln(B){if(!B)return null;const R=B.filter(lt);return 0==R.length?null:function(O){return function ge(...B){const R=(0,me.jO)(B),{args:O,keys:ne}=(0,Be.D)(B),yt=new he.y(dn=>{const{length:jr}=O;if(!jr)return void dn.complete();const yi=new Array(jr);let Si=jr,gs=jr;for(let Gs=0;Gs<jr;Gs++){let Ai=!1;(0,xe.Xf)(O[Gs]).subscribe((0,Ue.x)(dn,vl=>{Ai||(Ai=!0,gs--),yi[Gs]=vl},()=>Si--,void 0,()=>{(!Si||!Ai)&&(gs||dn.next(ne?(0,_e.n)(ne,yi):yi),dn.complete())}))}});return R?yt.pipe((0,Ne.Z)(R)):yt}($t(O,R).map(vt)).pipe((0,ve.U)(Zt))}}function Rn(B){return null!=B?ln(Dt(B)):null}function Kn(B,R){return null===B?[R]:Array.isArray(B)?[...B,R]:[B,R]}function Cn(B){return B._rawValidators}function nn(B){return B._rawAsyncValidators}function In(B){return B?Array.isArray(B)?B:[B]:[]}function lr(B,R){return Array.isArray(B)?B.includes(R):B===R}function Er(B,R){const O=In(R);return In(B).forEach(yt=>{lr(O,yt)||O.push(yt)}),O}function Xn(B,R){return In(R).filter(O=>!lr(B,O))}class br{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=Tt(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,O){return!!this.control&&this.control.hasError(R,O)}getError(R,O){return this.control?this.control.getError(R,O):null}}class cn extends br{get formDirective(){return null}get path(){return null}}class di extends br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zr{constructor(R){this._cd=R}get isTouched(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.touched)}get isUntouched(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.untouched)}get isPristine(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.pristine)}get isDirty(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.dirty)}get isValid(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.valid)}get isInvalid(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.invalid)}get isPending(){var R,O;return!(null===(R=this._cd)||void 0===R||null===(O=R.control)||void 0===O||!O.pending)}get isSubmitted(){var R;return!(null===(R=this._cd)||void 0===R||!R.submitted)}}let Ir=(()=>{class B extends Zr{constructor(O){super(O)}}return B.\u0275fac=function(O){return new(O||B)(_.Y36(di,2))},B.\u0275dir=_.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ne){2&O&&_.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[_.qOj]}),B})(),Tn=(()=>{class B extends Zr{constructor(O){super(O)}}return B.\u0275fac=function(O){return new(O||B)(_.Y36(cn,10))},B.\u0275dir=_.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ne){2&O&&_.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[_.qOj]}),B})();function Pr(B,R){return B?`with name: '${R}'`:`at index: ${R}`}const Qe=!1,Xt="VALID",zt="INVALID",Ce="PENDING",be="DISABLED";function We(B){return(Ye(B)?B.validators:B)||null}function ot(B,R){return(Ye(R)?R.asyncValidators:B)||null}function Ye(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function je(B,R,O){const ne=B.controls;if(!(R?Object.keys(ne):ne).length)throw new _.vHH(1e3,Qe?function mr(B){return`\n    There are no form controls registered with this ${B?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(R):"");if(!ne[O])throw new _.vHH(1001,Qe?function Ht(B,R){return`Cannot find form control ${Pr(B,R)}`}(R,O):"")}function ye(B,R,O){B._forEachChild((ne,yt)=>{if(void 0===O[yt])throw new _.vHH(1002,Qe?function Ge(B,R){return`Must supply a value for form control ${Pr(B,R)}`}(R,yt):"")})}class dt{constructor(R,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===zt}get pending(){return this.status==Ce}get disabled(){return this.status===be}get enabled(){return this.status!==be}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(Er(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Er(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Xn(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Xn(R,this._rawAsyncValidators))}hasValidator(R){return lr(this._rawValidators,R)}hasAsyncValidator(R){return lr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Ce,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const O=this._parentMarkedDirty(R.onlySelf);this.status=be,this.errors=null,this._forEachChild(ne=>{ne.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:O}),this._onDisabledChange.forEach(ne=>ne(!0))}enable(R={}){const O=this._parentMarkedDirty(R.onlySelf);this.status=Xt,this._forEachChild(ne=>{ne.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:O}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===Ce)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?be:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Ce,this._hasOwnPendingAsyncValidator=!0;const O=vt(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,O={}){this.errors=R,this._updateControlsErrors(!1!==O.emitEvent)}get(R){let O=R;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ne,yt)=>ne&&ne._find(yt),this)}getError(R,O){const ne=O?this.get(O):this;return ne&&ne.errors?ne.errors[R]:null}hasError(R,O){return!!this.getError(R,O)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?be:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ce)?Ce:this._anyControlsHaveStatus(zt)?zt:Xt}_anyControlsHaveStatus(R){return this._anyControls(O=>O.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Ye(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function Ct(B){return Array.isArray(B)?Tt(B):B||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function gn(B){return Array.isArray(B)?Rn(B):B||null}(this._rawAsyncValidators)}}class Ot extends dt{constructor(R,O,ne){super(We(O),ot(ne,O)),this.controls=R,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,O){return this.controls[R]?this.controls[R]:(this.controls[R]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(R,O,ne={}){this.registerControl(R,O),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(R,O={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(R,O,ne={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],O&&this.registerControl(R,O),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,O={}){ye(this,!0,R),Object.keys(R).forEach(ne=>{je(this,!0,ne),this.controls[ne].setValue(R[ne],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(R,O={}){null!=R&&(Object.keys(R).forEach(ne=>{const yt=this.controls[ne];yt&&yt.patchValue(R[ne],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(R={},O={}){this._forEachChild((ne,yt)=>{ne.reset(R[yt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(R,O,ne)=>(R[ne]=O.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(O,ne)=>!!ne._syncPendingControls()||O);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(O=>{const ne=this.controls[O];ne&&R(ne,O)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[O,ne]of Object.entries(this.controls))if(this.contains(O)&&R(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ne,yt)=>((ne.enabled||this.disabled)&&(O[yt]=ne.value),O))}_reduceChildren(R,O){let ne=R;return this._forEachChild((yt,dn)=>{ne=O(ne,yt,dn)}),ne}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class Qn extends Ot{}const Gr=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ut}),Ut="always";function St(B,R){return[...R.path,B]}function Qt(B,R,O=Ut){var ne,yt;Cr(B,R),R.valueAccessor.writeValue(B.value),(B.disabled||"always"===O)&&(null===(ne=(yt=R.valueAccessor).setDisabledState)||void 0===ne||ne.call(yt,B.disabled)),function tr(B,R){R.valueAccessor.registerOnChange(O=>{B._pendingValue=O,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&ar(B,R)})}(B,R),function Pi(B,R){const O=(ne,yt)=>{R.valueAccessor.writeValue(ne),yt&&R.viewToModelUpdate(ne)};B.registerOnChange(O),R._registerOnDestroy(()=>{B._unregisterOnChange(O)})}(B,R),function Wn(B,R){R.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&ar(B,R),"submit"!==B.updateOn&&B.markAsTouched()})}(B,R),function yr(B,R){if(R.valueAccessor.setDisabledState){const O=ne=>{R.valueAccessor.setDisabledState(ne)};B.registerOnDisabledChange(O),R._registerOnDestroy(()=>{B._unregisterOnDisabledChange(O)})}}(B,R)}function Nn(B,R,O=!0){const ne=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(ne),R.valueAccessor.registerOnTouched(ne)),$n(B,R),B&&(R._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function jn(B,R){B.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(R)})}function Cr(B,R){const O=Cn(B);null!==R.validator?B.setValidators(Kn(O,R.validator)):"function"==typeof O&&B.setValidators([O]);const ne=nn(B);null!==R.asyncValidator?B.setAsyncValidators(Kn(ne,R.asyncValidator)):"function"==typeof ne&&B.setAsyncValidators([ne]);const yt=()=>B.updateValueAndValidity();jn(R._rawValidators,yt),jn(R._rawAsyncValidators,yt)}function $n(B,R){let O=!1;if(null!==B){if(null!==R.validator){const yt=Cn(B);if(Array.isArray(yt)&&yt.length>0){const dn=yt.filter(jr=>jr!==R.validator);dn.length!==yt.length&&(O=!0,B.setValidators(dn))}}if(null!==R.asyncValidator){const yt=nn(B);if(Array.isArray(yt)&&yt.length>0){const dn=yt.filter(jr=>jr!==R.asyncValidator);dn.length!==yt.length&&(O=!0,B.setAsyncValidators(dn))}}}const ne=()=>{};return jn(R._rawValidators,ne),jn(R._rawAsyncValidators,ne),O}function ar(B,R){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function Dr(B,R){if(!B.hasOwnProperty("model"))return!1;const O=B.model;return!!O.isFirstChange()||!Object.is(R,O.currentValue)}function Oi(B,R){if(!R)return null;let O,ne,yt;return Array.isArray(R),R.forEach(dn=>{dn.constructor===Y?O=dn:function Xi(B){return Object.getPrototypeOf(B.constructor)===He}(dn)?ne=dn:yt=dn}),yt||ne||O||null}function Ke(B,R){const O=B.indexOf(R);O>-1&&B.splice(O,1)}function Nt(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const kt=class extends dt{constructor(R=null,O,ne){super(We(O),ot(ne,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ye(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Nt(R)?R.value:R)}setValue(R,O={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(R,O={}){this.setValue(R,O)}reset(R=this.defaultValue,O={}){this._applyFormState(R),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Ke(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Ke(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Nt(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},tt={provide:di,useExisting:(0,_.Gpc)(()=>qt)},Et=(()=>Promise.resolve())();let qt=(()=>{class B extends di{constructor(O,ne,yt,dn,jr,yi){super(),this._changeDetectorRef=jr,this.callSetDisabledState=yi,this.control=new kt,this._registered=!1,this.update=new _.vpe,this._parent=O,this._setValidators(ne),this._setAsyncValidators(yt),this.valueAccessor=Oi(0,dn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const ne=O.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Dr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Et.then(()=>{var ne;this.control.setValue(O,{emitViewToModelChange:!1}),null===(ne=this._changeDetectorRef)||void 0===ne||ne.markForCheck()})}_updateDisabled(O){const ne=O.isDisabled.currentValue,yt=0!==ne&&(0,_.D6c)(ne);Et.then(()=>{var dn;yt&&!this.control.disabled?this.control.disable():!yt&&this.control.disabled&&this.control.enable(),null===(dn=this._changeDetectorRef)||void 0===dn||dn.markForCheck()})}_getPath(O){return this._parent?St(O,this._parent):[O]}}return B.\u0275fac=function(O){return new(O||B)(_.Y36(cn,9),_.Y36($e,10),_.Y36(Oe,10),_.Y36(rt,10),_.Y36(_.sBO,8),_.Y36(Gr,8))},B.\u0275dir=_.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([tt]),_.qOj,_.TTD]}),B})(),an=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275dir=_.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),Rs=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({}),B})();const Yo=new _.OlP("NgModelWithFormControlWarning"),no={provide:cn,useExisting:(0,_.Gpc)(()=>Ls)};let Ls=(()=>{class B extends cn{constructor(O,ne,yt){super(),this.callSetDisabledState=yt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(O),this._setAsyncValidators(ne)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($n(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ne=this.form.get(O.path);return Qt(ne,O,this.callSetDisabledState),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ne}getControl(O){return this.form.get(O.path)}removeControl(O){Nn(O.control||null,O,!1),function re(B,R){const O=B.indexOf(R);O>-1&&B.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ne){this.form.get(O.path).setValue(ne)}onSubmit(O){var ne;return this.submitted=!0,function ii(B,R){B._syncPendingControls(),R.forEach(O=>{const ne=O.control;"submit"===ne.updateOn&&ne._pendingChange&&(O.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===(null==O||null===(ne=O.target)||void 0===ne?void 0:ne.method)}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ne=O.control,yt=this.form.get(O.path);ne!==yt&&(Nn(ne||null,O),(B=>B instanceof kt)(yt)&&(Qt(yt,O,this.callSetDisabledState),O.control=yt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ne=this.form.get(O.path);(function ji(B,R){Cr(B,R)})(ne,O),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ne=this.form.get(O.path);ne&&function Ji(B,R){return $n(B,R)}(ne,O)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cr(this.form,this),this._oldForm&&$n(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(O){return new(O||B)(_.Y36($e,10),_.Y36(Oe,10),_.Y36(Gr,8))},B.\u0275dir=_.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(O,ne){1&O&&_.NdJ("submit",function(dn){return ne.onSubmit(dn)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([no]),_.qOj,_.TTD]}),B})();const rl={provide:di,useExisting:(0,_.Gpc)(()=>io)};let io=(()=>{class B extends di{set isDisabled(O){}constructor(O,ne,yt,dn,jr){super(),this._ngModelWarningConfig=jr,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ne),this._setAsyncValidators(yt),this.valueAccessor=Oi(0,dn)}ngOnChanges(O){this._added||this._setUpControl(),Dr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(O){return new(O||B)(_.Y36(cn,13),_.Y36($e,10),_.Y36(Oe,10),_.Y36(rt,10),_.Y36(Yo,8))},B.\u0275dir=_.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([rl]),_.qOj,_.TTD]}),B})(),Is=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({imports:[Rs]}),B})();class pa extends dt{constructor(R,O,ne){super(We(O),ot(ne,O)),this.controls=R,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,O={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(R,O,ne={}){this.controls.splice(R,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(R,O={}){let ne=this._adjustIndex(R);ne<0&&(ne=0),this.controls[ne]&&this.controls[ne]._registerOnCollectionChange(()=>{}),this.controls.splice(ne,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(R,O,ne={}){let yt=this._adjustIndex(R);yt<0&&(yt=0),this.controls[yt]&&this.controls[yt]._registerOnCollectionChange(()=>{}),this.controls.splice(yt,1),O&&(this.controls.splice(yt,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,O={}){ye(this,!1,R),R.forEach((ne,yt)=>{je(this,!1,yt),this.at(yt).setValue(ne,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(R,O={}){null!=R&&(R.forEach((ne,yt)=>{this.at(yt)&&this.at(yt).patchValue(ne,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(R=[],O={}){this._forEachChild((ne,yt)=>{ne.reset(R[yt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((O,ne)=>!!ne._syncPendingControls()||O,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((O,ne)=>{R(O,ne)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(O=>O.enabled&&R(O))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){var O;return null!==(O=this.at(R))&&void 0!==O?O:null}}function $o(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let ga=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new B;return O.useNonNullable=!0,O}group(O,ne=null){const yt=this._reduceControls(O);let dn={};return $o(ne)?dn=ne:null!==ne&&(dn.validators=ne.validator,dn.asyncValidators=ne.asyncValidator),new Ot(yt,dn)}record(O,ne=null){const yt=this._reduceControls(O);return new Qn(yt,ne)}control(O,ne,yt){let dn={};return this.useNonNullable?($o(ne)?dn=ne:(dn.validators=ne,dn.asyncValidators=yt),new kt(O,{...dn,nonNullable:!0})):new kt(O,ne,yt)}array(O,ne,yt){const dn=O.map(jr=>this._createControl(jr));return new pa(dn,ne,yt)}_reduceControls(O){const ne={};return Object.keys(O).forEach(yt=>{ne[yt]=this._createControl(O[yt])}),ne}_createControl(O){return O instanceof kt||O instanceof dt?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),W=(()=>{class B{static withConfig(O){var ne;return{ngModule:B,providers:[{provide:Gr,useValue:null!==(ne=O.callSetDisabledState)&&void 0!==ne?ne:Ut}]}}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({imports:[Is]}),B})(),pe=(()=>{class B{static withConfig(O){var ne,yt;return{ngModule:B,providers:[{provide:Yo,useValue:null!==(ne=O.warnOnNgModelWithFormControl)&&void 0!==ne?ne:"always"},{provide:Gr,useValue:null!==(yt=O.callSetDisabledState)&&void 0!==yt?yt:Ut}]}}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({imports:[Is]}),B})()},1481:(yn,gt,H)=>{"use strict";H.d(gt,{Cg:()=>Tt,Dx:()=>Tn});var _=H(6895),y=H(4650);class ee extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends ee{static makeCurrent(){(0,_.HT)(new he)}onAndCancel(je,ye,dt){return je.addEventListener(ye,dt,!1),()=>{je.removeEventListener(ye,dt,!1)}}dispatchEvent(je,ye){je.dispatchEvent(ye)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,ye){return(ye=ye||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,ye){return"window"===ye?window:"document"===ye?je:"body"===ye?je.body:null}getBaseHref(je){const ye=function xe(){return Be=Be||document.querySelector("base"),Be?Be.getAttribute("href"):null}();return null==ye?null:function Ue(Ye){me=me||document.createElement("a"),me.setAttribute("href",Ye);const je=me.pathname;return"/"===je.charAt(0)?je:`/${je}`}(ye)}resetBaseElement(){Be=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,_.Mx)(document.cookie,je)}}let me,Be=null,ze=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const He=new y.OlP("EventManagerPlugins");let rt=(()=>{class Ye{constructor(ye,dt){this._zone=dt,this._eventNameToPlugin=new Map,ye.forEach(Ot=>{Ot.manager=this}),this._plugins=ye.slice().reverse()}addEventListener(ye,dt,Ot){return this._findPluginFor(dt).addEventListener(ye,dt,Ot)}addGlobalEventListener(ye,dt,Ot){return this._findPluginFor(dt).addGlobalEventListener(ye,dt,Ot)}getZone(){return this._zone}_findPluginFor(ye){const dt=this._eventNameToPlugin.get(ye);if(dt)return dt;const Ot=this._plugins;for(let en=0;en<Ot.length;en++){const Dn=Ot[en];if(Dn.supports(ye))return this._eventNameToPlugin.set(ye,Dn),Dn}throw new Error(`No event manager plugin found for event ${ye}`)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(He),y.LFG(y.R0b))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class bt{constructor(je){this._doc=je}addGlobalEventListener(je,ye,dt){const Ot=(0,_.q)().getGlobalEventTarget(this._doc,je);if(!Ot)throw new Error(`Unsupported event target ${Ot} for event ${ye}`);return this.addEventListener(Ot,ye,dt)}}let Re=(()=>{class Ye{constructor(){this.usageCount=new Map}addStyles(ye){for(const dt of ye)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(ye){for(const dt of ye)0===this.changeUsageCount(dt,-1)&&this.onStyleRemoved(dt)}onStyleRemoved(ye){}onStyleAdded(ye){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ye,dt){var Ot;const en=this.usageCount;let Dn=null!==(Ot=en.get(ye))&&void 0!==Ot?Ot:0;return Dn+=dt,Dn>0?en.set(ye,Dn):en.delete(ye),Dn}ngOnDestroy(){for(const ye of this.getAllStyles())this.onStyleRemoved(ye);this.usageCount.clear()}}return Ye.\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Se=(()=>{class Ye extends Re{constructor(ye){super(),this.doc=ye,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ye){for(const dt of this.hostNodes)this.addStyleToHost(dt,ye)}onStyleRemoved(ye){const dt=this.styleRef,Ot=dt.get(ye);null==Ot||Ot.forEach(en=>en.remove()),dt.delete(ye)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ye){this.hostNodes.add(ye);for(const dt of this.getAllStyles())this.addStyleToHost(ye,dt)}removeHost(ye){this.hostNodes.delete(ye)}addStyleToHost(ye,dt){const Ot=this.doc.createElement("style");Ot.textContent=dt,ye.appendChild(Ot);const en=this.styleRef.get(dt);en?en.push(Ot):this.styleRef.set(dt,[Ot])}resetHostNodes(){const ye=this.hostNodes;ye.clear(),ye.add(this.doc.head)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(_.K0))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g,Oe=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ve(Ye,je){return je.flat(100).map(ye=>ye.replace(pt,Ye))}function ht(Ye){return je=>{if("__ngUnwrap__"===je)return Ye;!1===Ye(je)&&(je.preventDefault(),je.returnValue=!1)}}let _t=(()=>{class Ye{constructor(ye,dt,Ot,en){this.eventManager=ye,this.sharedStylesHost=dt,this.appId=Ot,this.removeStylesOnCompDestory=en,this.rendererByCompId=new Map,this.defaultRenderer=new ct(ye)}createRenderer(ye,dt){if(!ye||!dt)return this.defaultRenderer;const Ot=this.getOrCreateRenderer(ye,dt);return Ot instanceof lt?Ot.applyToHost(ye):Ot instanceof Fe&&Ot.applyStyles(),Ot}getOrCreateRenderer(ye,dt){const Ot=this.rendererByCompId;let en=Ot.get(dt.id);if(!en){const Dn=this.eventManager,Qn=this.sharedStylesHost,cr=this.removeStylesOnCompDestory;switch(dt.encapsulation){case y.ifc.Emulated:en=new lt(Dn,Qn,dt,this.appId,cr);break;case y.ifc.ShadowDom:return new Le(Dn,Qn,ye,dt);default:en=new Fe(Dn,Qn,dt,cr)}en.onDestroy=()=>Ot.delete(dt.id),Ot.set(dt.id,en)}return en}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(rt),y.LFG(Se),y.LFG(y.AFp),y.LFG(Oe))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class ct{constructor(je){this.eventManager=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(je,ye){return ye?document.createElementNS(de[ye]||ye,je):document.createElement(je)}createComment(je){return document.createComment(je)}createText(je){return document.createTextNode(je)}appendChild(je,ye){(ke(je)?je.content:je).appendChild(ye)}insertBefore(je,ye,dt){je&&(ke(je)?je.content:je).insertBefore(ye,dt)}removeChild(je,ye){je&&je.removeChild(ye)}selectRootElement(je,ye){let dt="string"==typeof je?document.querySelector(je):je;if(!dt)throw new Error(`The selector "${je}" did not match any elements`);return ye||(dt.textContent=""),dt}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,ye,dt,Ot){if(Ot){ye=Ot+":"+ye;const en=de[Ot];en?je.setAttributeNS(en,ye,dt):je.setAttribute(ye,dt)}else je.setAttribute(ye,dt)}removeAttribute(je,ye,dt){if(dt){const Ot=de[dt];Ot?je.removeAttributeNS(Ot,ye):je.removeAttribute(`${dt}:${ye}`)}else je.removeAttribute(ye)}addClass(je,ye){je.classList.add(ye)}removeClass(je,ye){je.classList.remove(ye)}setStyle(je,ye,dt,Ot){Ot&(y.JOm.DashCase|y.JOm.Important)?je.style.setProperty(ye,dt,Ot&y.JOm.Important?"important":""):je.style[ye]=dt}removeStyle(je,ye,dt){dt&y.JOm.DashCase?je.style.removeProperty(ye):je.style[ye]=""}setProperty(je,ye,dt){je[ye]=dt}setValue(je,ye){je.nodeValue=ye}listen(je,ye,dt){return"string"==typeof je?this.eventManager.addGlobalEventListener(je,ye,ht(dt)):this.eventManager.addEventListener(je,ye,ht(dt))}}function ke(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class Le extends ct{constructor(je,ye,dt,Ot){super(je),this.sharedStylesHost=ye,this.hostEl=dt,this.shadowRoot=dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=Ve(Ot.id,Ot.styles);for(const Dn of en){const Qn=document.createElement("style");Qn.textContent=Dn,this.shadowRoot.appendChild(Qn)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}appendChild(je,ye){return super.appendChild(this.nodeOrShadowRoot(je),ye)}insertBefore(je,ye,dt){return super.insertBefore(this.nodeOrShadowRoot(je),ye,dt)}removeChild(je,ye){return super.removeChild(this.nodeOrShadowRoot(je),ye)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fe extends ct{constructor(je,ye,dt,Ot,en=dt.id){super(je),this.sharedStylesHost=ye,this.removeStylesOnCompDestory=Ot,this.rendererUsageCount=0,this.styles=Ve(en,dt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var je;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(je=this.onDestroy)||void 0===je||je.call(this))}}class lt extends Fe{constructor(je,ye,dt,Ot,en){const Dn=Ot+"-"+dt.id;super(je,ye,dt,en,Dn),this.contentAttr=function Pe(Ye){return"_ngcontent-%COMP%".replace(pt,Ye)}(Dn),this.hostAttr=function we(Ye){return"_nghost-%COMP%".replace(pt,Ye)}(Dn)}applyToHost(je){this.applyStyles(),this.setAttribute(je,this.hostAttr,"")}createElement(je,ye){const dt=super.createElement(je,ye);return super.setAttribute(dt,this.contentAttr,""),dt}}let vt=(()=>{class Ye extends bt{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,dt,Ot){return ye.addEventListener(dt,Ot,!1),()=>this.removeEventListener(ye,dt,Ot)}removeEventListener(ye,dt,Ot){return ye.removeEventListener(dt,Ot)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(_.K0))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Zt=["alt","control","meta","shift"],$t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let Dt=(()=>{class Ye extends bt{constructor(ye){super(ye)}supports(ye){return null!=Ye.parseEventName(ye)}addEventListener(ye,dt,Ot){const en=Ye.parseEventName(dt),Dn=Ye.eventCallback(en.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ye,en.domEventName,Dn))}static parseEventName(ye){const dt=ye.toLowerCase().split("."),Ot=dt.shift();if(0===dt.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const en=Ye._normalizeKey(dt.pop());let Dn="",Qn=dt.indexOf("code");if(Qn>-1&&(dt.splice(Qn,1),Dn="code."),Zt.forEach(Gr=>{const Ut=dt.indexOf(Gr);Ut>-1&&(dt.splice(Ut,1),Dn+=Gr+".")}),Dn+=en,0!=dt.length||0===en.length)return null;const cr={};return cr.domEventName=Ot,cr.fullKey=Dn,cr}static matchEventFullKeyCode(ye,dt){let Ot=$t[ye.key]||ye.key,en="";return dt.indexOf("code.")>-1&&(Ot=ye.code,en="code."),!(null==Ot||!Ot)&&(Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),Zt.forEach(Dn=>{Dn!==Ot&&(0,vn[Dn])(ye)&&(en+=Dn+".")}),en+=Ot,en===dt)}static eventCallback(ye,dt,Ot){return en=>{Ye.matchEventFullKeyCode(en,ye)&&Ot.runGuarded(()=>dt(en))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(_.K0))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Tt(Ye,je){return(0,y.iPO)({rootComponent:Ye,...Rn(je)})}function Rn(Ye){var je;return{appProviders:[...cn,...null!==(je=null==Ye?void 0:Ye.providers)&&void 0!==je?je:[]],platformProviders:lr}}const lr=[{provide:y.Lbi,useValue:_.bD},{provide:y.g9A,useValue:function Cn(){he.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function In(){return(0,y.RDi)(document),document},deps:[]}],cn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function nn(){return new y.qLn},deps:[]},{provide:He,useClass:vt,multi:!0,deps:[_.K0,y.R0b,y.Lbi]},{provide:He,useClass:Dt,multi:!0,deps:[_.K0]},{provide:_t,useClass:_t,deps:[rt,Se,y.AFp,Oe]},{provide:y.FYo,useExisting:_t},{provide:Re,useExisting:Se},{provide:Se,useClass:Se,deps:[_.K0]},{provide:rt,useClass:rt,deps:[He,y.R0b]},{provide:_.JF,useClass:ze,deps:[]},[]];let Tn=(()=>{class Ye{constructor(ye){this._doc=ye}getTitle(){return this._doc.title}setTitle(ye){this._doc.title=ye||""}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(y.LFG(_.K0))},Ye.\u0275prov=y.Yz7({token:Ye,factory:function(ye){let dt=null;return dt=ye?new ye:function Ir(){return new Tn((0,y.LFG)(_.K0))}(),dt},providedIn:"root"}),Ye})();typeof window<"u"&&window},2607:(yn,gt,H)=>{"use strict";H.d(gt,{gz:()=>Ms,y6:()=>Xo,OD:()=>kt,eC:()=>nn,wN:()=>Zi,F0:()=>sn,rH:()=>xo,Bz:()=>Or,Hx:()=>Ge,bU:()=>ia});var _=H(4650),y=H(8996),ee=H(9646),he=H(1135),Be=H(6805),xe=H(9751),me=H(4742),Ue=H(4671),Ne=H(3268),_e=H(7669),ge=H(1810),ve=H(5403),ze=H(9672);function He(...S){const x=(0,_e.yG)(S),w=(0,_e.jO)(S),{args:k,keys:z}=(0,me.D)(S);if(0===k.length)return(0,y.D)([],x);const ie=new xe.y(function rt(S,x,w=Ue.y){return k=>{bt(x,()=>{const{length:z}=S,ie=new Array(z);let le=z,nt=z;for(let Pt=0;Pt<z;Pt++)bt(x,()=>{const pn=(0,y.D)(S[Pt],x);let Bn=!1;pn.subscribe((0,ve.x)(k,On=>{ie[Pt]=On,Bn||(Bn=!0,nt--),nt||k.next(w(ie.slice()))},()=>{--le||k.complete()}))},k)},k)}}(k,x,z?le=>(0,ge.n)(z,le):Ue.y));return w?ie.pipe((0,Ne.Z)(w)):ie}function bt(S,x,w){S?(0,ze.f)(w,S,x):x()}var Re=H(7272),Se=H(8421);function de(S){return new xe.y(x=>{(0,Se.Xf)(S()).subscribe(x)})}var pt=H(9635),Y=H(576);function et(S,x){const w=(0,Y.m)(S)?S:()=>S,k=z=>z.error(w());return new xe.y(x?z=>x.schedule(k,0,z):k)}var Ze=H(515),At=H(727),$e=H(4482);function Oe(){return(0,$e.e)((S,x)=>{let w=null;S._refCount++;const k=(0,ve.x)(x,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const z=S._connection,ie=w;w=null,z&&(!ie||z===ie)&&z.unsubscribe(),x.unsubscribe()});S.subscribe(k),k.closed||(w=S.connect())})}class Pe extends xe.y{constructor(x,w){super(),this.source=x,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new At.w0;const w=this.getSubject();x.add(this.source.subscribe((0,ve.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),x.closed&&(this._connection=null,x=At.w0.EMPTY)}return x}refCount(){return Oe()(this)}}var we=H(7579),Ve=H(6895),ht=H(4004),_t=H(3900),ct=H(5698),wt=H(8675),ft=H(9300),ke=H(5577),Le=H(590),Fe=H(4351),lt=H(8505),vt=H(262),Zt=H(5026);function $t(S){return S<=0?()=>Ze.E:(0,$e.e)((x,w)=>{let k=[];x.subscribe((0,ve.x)(w,z=>{k.push(z),S<k.length&&k.shift()},()=>{for(const z of k)w.next(z);w.complete()},void 0,()=>{k=null}))})}var vn=H(8068),Dt=H(6590);function Te(S,x){const w=arguments.length>=2;return k=>k.pipe(S?(0,ft.h)((z,ie)=>S(z,ie,k)):Ue.y,$t(1),w?(0,Dt.d)(x):(0,vn.T)(()=>new Be.K))}function Rn(S){return(0,$e.e)((x,w)=>{try{x.subscribe(w)}finally{w.add(S)}})}var Kn=H(8189),Cn=H(1481);const nn="primary",In=Symbol("RouteTitle");class lr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w[0]:w}return null}getAll(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Er(S){return new lr(S)}function Xn(S,x,w){const k=w.path.split("/");if(k.length>S.length||"full"===w.pathMatch&&(x.hasChildren()||k.length<S.length))return null;const z={};for(let ie=0;ie<k.length;ie++){const le=k[ie],nt=S[ie];if(le.startsWith(":"))z[le.substring(1)]=nt;else if(le!==nt.path)return null}return{consumed:S.slice(0,k.length),posParams:z}}function cn(S,x){const w=S?Object.keys(S):void 0,k=x?Object.keys(x):void 0;if(!w||!k||w.length!=k.length)return!1;let z;for(let ie=0;ie<w.length;ie++)if(z=w[ie],!di(S[z],x[z]))return!1;return!0}function di(S,x){if(Array.isArray(S)&&Array.isArray(x)){if(S.length!==x.length)return!1;const w=[...S].sort(),k=[...x].sort();return w.every((z,ie)=>k[ie]===z)}return S===x}function Zr(S){return Array.prototype.concat.apply([],S)}function Br(S){return S.length>0?S[S.length-1]:null}function Ir(S,x){for(const w in S)S.hasOwnProperty(w)&&x(S[w],w)}function Tn(S){return(0,_.CqO)(S)?S:(0,_.QGY)(S)?(0,y.D)(Promise.resolve(S)):(0,ee.of)(S)}const tn=!1,fn={exact:function qr(S,x,w){if(!mr(S.segments,x.segments)||!xi(S.segments,x.segments,w)||S.numberOfChildren!==x.numberOfChildren)return!1;for(const k in x.children)if(!S.children[k]||!qr(S.children[k],x.children[k],w))return!1;return!0},subset:gi},on={exact:function Sr(S,x){return cn(S,x)},subset:function ni(S,x){return Object.keys(x).length<=Object.keys(S).length&&Object.keys(x).every(w=>di(S[w],x[w]))},ignored:()=>!0};function Jr(S,x,w){return fn[w.paths](S.root,x.root,w.matrixParams)&&on[w.queryParams](S.queryParams,x.queryParams)&&!("exact"===w.fragment&&S.fragment!==x.fragment)}function gi(S,x,w){return Ur(S,x,x.segments,w)}function Ur(S,x,w,k){if(S.segments.length>w.length){const z=S.segments.slice(0,w.length);return!(!mr(z,w)||x.hasChildren()||!xi(z,w,k))}if(S.segments.length===w.length){if(!mr(S.segments,w)||!xi(S.segments,w,k))return!1;for(const z in x.children)if(!S.children[z]||!gi(S.children[z],x.children[z],k))return!1;return!0}{const z=w.slice(0,S.segments.length),ie=w.slice(S.segments.length);return!!(mr(S.segments,z)&&xi(S.segments,z,k)&&S.children[nn])&&Ur(S.children[nn],x,ie,k)}}function xi(S,x,w){return x.every((k,z)=>on[w](S[z].parameters,k.parameters))}class or{constructor(x=new Yn([],{}),w={},k=null){this.root=x,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return Xt.serialize(this)}}class Yn{constructor(x,w){this.segments=x,this.children=w,this.parent=null,Ir(w,(k,z)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class Ei{constructor(x,w){this.path=x,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Er(this.parameters)),this._parameterMap}toString(){return je(this)}}function mr(S,x){return S.length===x.length&&S.every((w,k)=>w.path===x[k].path)}let Ge=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return new Qe},providedIn:"root"}),S})();class Qe{parse(x){const w=new Ut(x);return new or(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(x){const w=`/${Ce(x.root,!0)}`,k=function dt(S){const x=Object.keys(S).map(w=>{const k=S[w];return Array.isArray(k)?k.map(z=>`${We(w)}=${We(z)}`).join("&"):`${We(w)}=${We(k)}`}).filter(w=>!!w);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${w}${k}${"string"==typeof x.fragment?`#${function Ct(S){return encodeURI(S)}(x.fragment)}`:""}`}}const Xt=new Qe;function zt(S){return S.segments.map(x=>je(x)).join("/")}function Ce(S,x){if(!S.hasChildren())return zt(S);if(x){const w=S.children[nn]?Ce(S.children[nn],!1):"",k=[];return Ir(S.children,(z,ie)=>{ie!==nn&&k.push(`${ie}:${Ce(z,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function Ht(S,x){let w=[];return Ir(S.children,(k,z)=>{z===nn&&(w=w.concat(x(k,z)))}),Ir(S.children,(k,z)=>{z!==nn&&(w=w.concat(x(k,z)))}),w}(S,(k,z)=>z===nn?[Ce(S.children[nn],!1)]:[`${z}:${Ce(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[nn]?`${zt(S)}/${w[0]}`:`${zt(S)}/(${w.join("//")})`}}function be(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function We(S){return be(S).replace(/%3B/gi,";")}function ot(S){return be(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(S){return decodeURIComponent(S)}function Ye(S){return gn(S.replace(/\+/g,"%20"))}function je(S){return`${ot(S.path)}${function ye(S){return Object.keys(S).map(x=>`;${ot(x)}=${ot(S[x])}`).join("")}(S.parameters)}`}const Ot=/^[^\/()?;=#]+/;function en(S){const x=S.match(Ot);return x?x[0]:""}const Dn=/^[^=?&#]+/,cr=/^[^&#]+/;class Ut{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(x.length>0||Object.keys(w).length>0)&&(k[nn]=new Yn(x,w)),k}parseSegment(){const x=en(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new _.vHH(4009,tn);return this.capture(x),new Ei(gn(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const w=en(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const z=en(this.remaining);z&&(k=z,this.capture(k))}x[gn(w)]=gn(k)}parseQueryParam(x){const w=function Qn(S){const x=S.match(Dn);return x?x[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const le=function Gr(S){const x=S.match(cr);return x?x[0]:""}(this.remaining);le&&(k=le,this.capture(k))}const z=Ye(w),ie=Ye(k);if(x.hasOwnProperty(z)){let le=x[z];Array.isArray(le)||(le=[le],x[z]=le),le.push(ie)}else x[z]=ie}parseParens(x){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=en(this.remaining),z=this.remaining[k.length];if("/"!==z&&")"!==z&&";"!==z)throw new _.vHH(4010,tn);let ie;k.indexOf(":")>-1?(ie=k.slice(0,k.indexOf(":")),this.capture(ie),this.capture(":")):x&&(ie=nn);const le=this.parseChildren();w[ie]=1===Object.keys(le).length?le[nn]:new Yn([],le),this.consumeOptional("//")}return w}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new _.vHH(4011,tn)}}function St(S){return S.segments.length>0?new Yn([],{[nn]:S}):S}function Qt(S){const x={};for(const k of Object.keys(S.children)){const ie=Qt(S.children[k]);(ie.segments.length>0||ie.hasChildren())&&(x[k]=ie)}return function Nn(S){if(1===S.numberOfChildren&&S.children[nn]){const x=S.children[nn];return new Yn(S.segments.concat(x.segments),x.children)}return S}(new Yn(S.segments,x))}function jn(S){return S instanceof or}const yr=!1;function Wn(S,x,w,k,z){var ie;if(0===w.length)return ji(x.root,x.root,x.root,k,z);const le=function ri(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new _s(!0,0,S);let x=0,w=!1;const k=S.reduce((z,ie,le)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const nt={};return Ir(ie.outlets,(Pt,pn)=>{nt[pn]="string"==typeof Pt?Pt.split("/"):Pt}),[...z,{outlets:nt}]}if(ie.segmentPath)return[...z,ie.segmentPath]}return"string"!=typeof ie?[...z,ie]:0===le?(ie.split("/").forEach((nt,Pt)=>{0==Pt&&"."===nt||(0==Pt&&""===nt?w=!0:".."===nt?x++:""!=nt&&z.push(nt))}),z):[...z,ie]},[]);return new _s(w,x,k)}(w);return le.toRoot()?ji(x.root,x.root,new Yn([],{}),k,z):function nt(pn){var Bn;const On=function li(S,x,w,k){if(S.isAbsolute)return new bn(x.root,!0,0);if(-1===k)return new bn(w,w===x.root,0);return function Dr(S,x,w){let k=S,z=x,ie=w;for(;ie>z;){if(ie-=z,k=k.parent,!k)throw new _.vHH(4005,yr&&"Invalid number of '../'");z=k.segments.length}return new bn(k,!1,z-ie)}(w,k+(ar(S.commands[0])?0:1),S.numberOfDoubleDots)}(le,x,null===(Bn=S.snapshot)||void 0===Bn?void 0:Bn._urlSegment,pn),Ci=On.processChildren?Oi(On.segmentGroup,On.index,le.commands):ii(On.segmentGroup,On.index,le.commands);return ji(x.root,On.segmentGroup,Ci,k,z)}(null===(ie=S.snapshot)||void 0===ie?void 0:ie._lastPathIndex)}function ar(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Pi(S){return"object"==typeof S&&null!=S&&S.outlets}function ji(S,x,w,k,z){let le,ie={};k&&Ir(k,(Pt,pn)=>{ie[pn]=Array.isArray(Pt)?Pt.map(Bn=>`${Bn}`):`${Pt}`}),le=S===x?w:Ji(S,x,w);const nt=St(Qt(le));return new or(nt,ie,z)}function Ji(S,x,w){const k={};return Ir(S.children,(z,ie)=>{k[ie]=z===x?w:Ji(z,x,w)}),new Yn(S.segments,k)}class _s{constructor(x,w,k){if(this.isAbsolute=x,this.numberOfDoubleDots=w,this.commands=k,x&&k.length>0&&ar(k[0]))throw new _.vHH(4003,yr&&"Root segment cannot have matrix parameters");const z=k.find(Pi);if(z&&z!==Br(k))throw new _.vHH(4004,yr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bn{constructor(x,w,k){this.segmentGroup=x,this.processChildren=w,this.index=k}}function ii(S,x,w){if(S||(S=new Yn([],{})),0===S.segments.length&&S.hasChildren())return Oi(S,x,w);const k=function re(S,x,w){let k=0,z=x;const ie={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(k>=w.length)return ie;const le=S.segments[z],nt=w[k];if(Pi(nt))break;const Pt=`${nt}`,pn=k<w.length-1?w[k+1]:null;if(z>0&&void 0===Pt)break;if(Pt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!qe(Pt,pn,le))return ie;k+=2}else{if(!qe(Pt,{},le))return ie;k++}z++}return{match:!0,pathIndex:z,commandIndex:k}}(S,x,w),z=w.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const ie=new Yn(S.segments.slice(0,k.pathIndex),{});return ie.children[nn]=new Yn(S.segments.slice(k.pathIndex),S.children),Oi(ie,0,z)}return k.match&&0===z.length?new Yn(S.segments,{}):k.match&&!S.hasChildren()?Ee(S,x,w):k.match?Oi(S,0,z):Ee(S,x,w)}function Oi(S,x,w){if(0===w.length)return new Yn(S.segments,{});{const k=function Xi(S){return Pi(S[0])?S[0].outlets:{[nn]:S}}(w),z={};if(!k[nn]&&S.children[nn]&&1===S.numberOfChildren&&0===S.children[nn].segments.length){const ie=Oi(S.children[nn],x,w);return new Yn(S.segments,ie.children)}return Ir(k,(ie,le)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(z[le]=ii(S.children[le],x,ie))}),Ir(S.children,(ie,le)=>{void 0===k[le]&&(z[le]=ie)}),new Yn(S.segments,z)}}function Ee(S,x,w){const k=S.segments.slice(0,x);let z=0;for(;z<w.length;){const ie=w[z];if(Pi(ie)){const Pt=it(ie.outlets);return new Yn(k,Pt)}if(0===z&&ar(w[0])){k.push(new Ei(S.segments[x].path,ae(w[0]))),z++;continue}const le=Pi(ie)?ie.outlets[nn]:`${ie}`,nt=z<w.length-1?w[z+1]:null;le&&nt&&ar(nt)?(k.push(new Ei(le,ae(nt))),z+=2):(k.push(new Ei(le,{})),z++)}return new Yn(k,{})}function it(S){const x={};return Ir(S,(w,k)=>{"string"==typeof w&&(w=[w]),null!==w&&(x[k]=Ee(new Yn([],{}),0,w))}),x}function ae(S){const x={};return Ir(S,(w,k)=>x[k]=`${w}`),x}function qe(S,x,w){return S==w.path&&cn(x,w.parameters)}const Ke="imperative";class Nt{constructor(x,w){this.id=x,this.url=w}}class kt extends Nt{constructor(x,w,k="imperative",z=null){super(x,w),this.type=0,this.navigationTrigger=k,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bt extends Nt{constructor(x,w,k){super(x,w),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jt extends Nt{constructor(x,w,k,z){super(x,w),this.reason=k,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mn extends Nt{constructor(x,w,k,z){super(x,w),this.reason=k,this.code=z,this.type=16}}class zn extends Nt{constructor(x,w,k,z){super(x,w),this.error=k,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gn extends Nt{constructor(x,w,k,z){super(x,w),this.urlAfterRedirects=k,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends Nt{constructor(x,w,k,z){super(x,w),this.urlAfterRedirects=k,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Nt{constructor(x,w,k,z,ie){super(x,w),this.urlAfterRedirects=k,this.state=z,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class es extends Nt{constructor(x,w,k,z){super(x,w),this.urlAfterRedirects=k,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Nt{constructor(x,w,k,z){super(x,w),this.urlAfterRedirects=k,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qt{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(x,w,k){this.routerEvent=x,this.position=w,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fo=(()=>{class S{createUrlTree(w,k,z,ie,le,nt){return Wn(w||k.root,z,ie,le,nt)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})(),ki=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(x){return fo.\u0275fac(x)},providedIn:"root"}),S})();class Hi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const w=this.pathFromRoot(x);return w.length>1?w[w.length-2]:null}children(x){const w=Yo(x,this._root);return w?w.children.map(k=>k.value):[]}firstChild(x){const w=Yo(x,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(x){const w=ca(x,this._root);return w.length<2?[]:w[w.length-2].children.map(z=>z.value).filter(z=>z!==x)}pathFromRoot(x){return ca(x,this._root).map(w=>w.value)}}function Yo(S,x){if(S===x.value)return x;for(const w of x.children){const k=Yo(S,w);if(k)return k}return null}function ca(S,x){if(S===x.value)return[x];for(const w of x.children){const k=ca(S,w);if(k.length)return k.unshift(x),k}return[]}class qi{constructor(x,w){this.value=x,this.children=w}toString(){return`TreeNode(${this.value})`}}function no(S){const x={};return S&&S.children.forEach(w=>x[w.value.outlet]=w),x}class Ls extends Hi{constructor(x,w){super(x),this.snapshot=w,ps(this,x)}toString(){return this.snapshot.toString()}}function wa(S,x){const w=function bo(S,x){const le=new rl([],{},{},"",{},nn,x,null,S.root,-1,{});return new io("",new qi(le,[]))}(S,x),k=new he.X([new Ei("",{})]),z=new he.X({}),ie=new he.X({}),le=new he.X({}),nt=new he.X(""),Pt=new Ms(k,z,le,nt,ie,nn,x,w.root);return Pt.snapshot=w.root,new Ls(new qi(Pt,[]),w)}class Ms{constructor(x,w,k,z,ie,le,nt,Pt){var pn,Bn;this.url=x,this.params=w,this.queryParams=k,this.fragment=z,this.data=ie,this.outlet=le,this.component=nt,this.title=null!==(pn=null===(Bn=this.data)||void 0===Bn?void 0:Bn.pipe((0,ht.U)(On=>On[In])))&&void 0!==pn?pn:(0,ee.of)(void 0),this._futureSnapshot=Pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(x=>Er(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(x=>Er(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ro(S,x="emptyOnly"){const w=S.pathFromRoot;let k=0;if("always"!==x)for(k=w.length-1;k>=1;){const z=w[k],ie=w[k-1];if(z.routeConfig&&""===z.routeConfig.path)k--;else{if(ie.component)break;k--}}return function ua(S){return S.reduce((x,w)=>{var k;return{params:{...x.params,...w.params},data:{...x.data,...w.data},resolve:{...w.data,...x.resolve,...null===(k=w.routeConfig)||void 0===k?void 0:k.data,...w._resolvedData}}},{params:{},data:{},resolve:{}})}(w.slice(k))}class rl{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[In]}constructor(x,w,k,z,ie,le,nt,Pt,pn,Bn,On){this.url=x,this.params=w,this.queryParams=k,this.fragment=z,this.data=ie,this.outlet=le,this.component=nt,this.routeConfig=Pt,this._urlSegment=pn,this._lastPathIndex=Bn,this._resolve=On}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class io extends Hi{constructor(x,w){super(w),this.url=x,ps(this,w)}toString(){return da(this._root)}}function ps(S,x){x.value._routerState=S,x.children.forEach(w=>ps(S,w))}function da(S){const x=S.children.length>0?` { ${S.children.map(da).join(", ")} } `:"";return`${S.value}${x}`}function po(S){if(S.snapshot){const x=S.snapshot,w=S._futureSnapshot;S.snapshot=w,cn(x.queryParams,w.queryParams)||S.queryParams.next(w.queryParams),x.fragment!==w.fragment&&S.fragment.next(w.fragment),cn(x.params,w.params)||S.params.next(w.params),function br(S,x){if(S.length!==x.length)return!1;for(let w=0;w<S.length;++w)if(!cn(S[w],x[w]))return!1;return!0}(x.url,w.url)||S.url.next(w.url),cn(x.data,w.data)||S.data.next(w.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function cs(S,x){const w=cn(S.params,x.params)&&function Pr(S,x){return mr(S,x)&&S.every((w,k)=>cn(w.parameters,x[k].parameters))}(S.url,x.url);return w&&!(!S.parent!=!x.parent)&&(!S.parent||cs(S.parent,x.parent))}function Lo(S,x,w){if(w&&S.shouldReuseRoute(x.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=x.value;const z=function so(S,x,w){return x.children.map(k=>{for(const z of w.children)if(S.shouldReuseRoute(k.value,z.value.snapshot))return Lo(S,k,z);return Lo(S,k)})}(S,x,w);return new qi(k,z)}{if(S.shouldAttach(x.value)){const ie=S.retrieve(x.value);if(null!==ie){const le=ie.route;return le.value._futureSnapshot=x.value,le.children=x.children.map(nt=>Lo(S,nt)),le}}const k=function Ii(S){return new Ms(new he.X(S.url),new he.X(S.params),new he.X(S.queryParams),new he.X(S.fragment),new he.X(S.data),S.outlet,S.component,S)}(x.value),z=x.children.map(ie=>Lo(S,ie));return new qi(k,z)}}const ts="ngNavigationCancelingError";function Do(S,x){const{redirectTo:w,navigationBehaviorOptions:k}=jn(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,z=Hs(!1,0,x);return z.url=w,z.navigationBehaviorOptions=k,z}function Hs(S,x,w){const k=new Error("NavigationCancelingError: "+(S||""));return k[ts]=!0,k.cancellationCode=x,w&&(k.url=w),k}function Zo(S){return oo(S)&&jn(S.url)}function oo(S){return S&&S[ts]}class Ds{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xo,this.attachRef=null}}let Xo=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,k){const z=this.getOrCreateContext(w);z.outlet=k,this.contexts.set(w,z)}onChildOutletDestroyed(w){const k=this.getContext(w);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let k=this.getContext(w);return k||(k=new Ds,this.contexts.set(w,k)),k}getContext(w){return this.contexts.get(w)||null}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const go=!1;let Ca=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Xo),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(w){if(w.name){const{firstChange:k,previousValue:z}=w.name;if(k)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){var k;return(null===(k=this.parentContexts.getContext(w))||void 0===k?void 0:k.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,go);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,go);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,go);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new _.vHH(4013,go);this._activatedRoute=w;const z=this.location,le=w.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,Pt=new Es(w,nt,z.injector);if(k&&function mo(S){return!!S.resolveComponentFactory}(k)){const pn=k.resolveComponentFactory(le);this.activated=z.createComponent(pn,z.length,Pt)}else this.activated=z.createComponent(le,{index:z.length,injector:Pt,environmentInjector:null!=k?k:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275dir=_.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),S})();class Es{constructor(x,w,k){this.route=x,this.childContexts=w,this.parent=k}get(x,w){return x===Ms?this.route:x===Xo?this.childContexts:this.parent.get(x,w)}}let hi=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275cmp=_.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(w,k){1&w&&_._UZ(0,"router-outlet")},dependencies:[Ca],encapsulation:2}),S})();function yo(S,x){var w;return S.providers&&!S._injector&&(S._injector=(0,_.MMx)(S.providers,x,`Route: ${S.path}`)),null!==(w=S._injector)&&void 0!==w?w:x}function zi(S){const x=S.children&&S.children.map(zi),w=x?{...S,children:x}:{...S};return!w.component&&!w.loadComponent&&(x||w.loadChildren)&&w.outlet&&w.outlet!==nn&&(w.component=hi),w}function us(S){return S.outlet||nn}function Jo(S,x){const w=S.filter(k=>us(k)===x);return w.push(...S.filter(k=>us(k)!==x)),w}function fa(S){var x;if(!S)return null;if(null!==(x=S.routeConfig)&&void 0!==x&&x._injector)return S.routeConfig._injector;for(let w=S.parent;w;w=w.parent){const k=w.routeConfig;if(null!=k&&k._loadedInjector)return k._loadedInjector;if(null!=k&&k._injector)return k._injector}return null}class pa{constructor(x,w,k,z){this.routeReuseStrategy=x,this.futureState=w,this.currState=k,this.forwardEvent=z}activate(x){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,x),po(this.futureState.root),this.activateChildRoutes(w,k,x)}deactivateChildRoutes(x,w,k){const z=no(w);x.children.forEach(ie=>{const le=ie.value.outlet;this.deactivateRoutes(ie,z[le],k),delete z[le]}),Ir(z,(ie,le)=>{this.deactivateRouteAndItsChildren(ie,k)})}deactivateRoutes(x,w,k){const z=x.value,ie=w?w.value:null;if(z===ie)if(z.component){const le=k.getContext(z.outlet);le&&this.deactivateChildRoutes(x,w,le.children)}else this.deactivateChildRoutes(x,w,k);else ie&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(x,w){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,w):this.deactivateRouteAndOutlet(x,w)}detachAndStoreRouteSubtree(x,w){const k=w.getContext(x.value.outlet),z=k&&x.value.component?k.children:w,ie=no(x);for(const le of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[le],z);if(k&&k.outlet){const le=k.outlet.detach(),nt=k.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:le,route:x,contexts:nt})}}deactivateRouteAndOutlet(x,w){const k=w.getContext(x.value.outlet),z=k&&x.value.component?k.children:w,ie=no(x);for(const le of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[le],z);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(x,w,k){const z=no(w);x.children.forEach(ie=>{this.activateRoutes(ie,z[ie.value.outlet],k),this.forwardEvent(new Vr(ie.value.snapshot))}),x.children.length&&this.forwardEvent(new an(x.value.snapshot))}activateRoutes(x,w,k){const z=x.value,ie=w?w.value:null;if(po(z),z===ie)if(z.component){const nt=k.getOrCreateContext(z.outlet);this.activateChildRoutes(x,w,nt.children)}else this.activateChildRoutes(x,w,k);else if(z.component){const nt=k.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Pt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),nt.children.onOutletReAttached(Pt.contexts),nt.attachRef=Pt.componentRef,nt.route=Pt.route.value,nt.outlet&&nt.outlet.attach(Pt.componentRef,Pt.route.value),po(Pt.route.value),this.activateChildRoutes(x,null,nt.children)}else{var le;const Pt=fa(z.snapshot),pn=null!==(le=null==Pt?void 0:Pt.get(_._Vd))&&void 0!==le?le:null;nt.attachRef=null,nt.route=z,nt.resolver=pn,nt.injector=Pt,nt.outlet&&nt.outlet.activateWith(z,nt.injector),this.activateChildRoutes(x,null,nt.children)}}else this.activateChildRoutes(x,null,k)}}class ea{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class pr{constructor(x,w){this.component=x,this.route=w}}function $o(S,x,w){const k=S._root;return q(k,x?x._root:null,w,[k.value])}function b(S,x){const w=Symbol(),k=x.get(S,w);return k===w?"function"!=typeof S||(0,_.Z0I)(S)?x.get(S):S:k}function q(S,x,w,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=no(x);return S.children.forEach(le=>{(function T(S,x,w,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=S.value,le=x?x.value:null,nt=w?w.getContext(S.value.outlet):null;if(le&&ie.routeConfig===le.routeConfig){const Pt=function W(S,x,w){if("function"==typeof w)return w(S,x);switch(w){case"pathParamsChange":return!mr(S.url,x.url);case"pathParamsOrQueryParamsChange":return!mr(S.url,x.url)||!cn(S.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cs(S,x)||!cn(S.queryParams,x.queryParams);default:return!cs(S,x)}}(le,ie,ie.routeConfig.runGuardsAndResolvers);Pt?z.canActivateChecks.push(new ea(k)):(ie.data=le.data,ie._resolvedData=le._resolvedData),q(S,x,ie.component?nt?nt.children:null:w,k,z),Pt&&nt&&nt.outlet&&nt.outlet.isActivated&&z.canDeactivateChecks.push(new pr(nt.outlet.component,le))}else le&&pe(x,nt,z),z.canActivateChecks.push(new ea(k)),q(S,null,ie.component?nt?nt.children:null:w,k,z)})(le,ie[le.value.outlet],w,k.concat([le.value]),z),delete ie[le.value.outlet]}),Ir(ie,(le,nt)=>pe(le,w.getContext(nt),z)),z}function pe(S,x,w){const k=no(S),z=S.value;Ir(k,(ie,le)=>{pe(ie,z.component?x?x.children.getContext(le):null:x,w)}),w.canDeactivateChecks.push(new pr(z.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,z))}function B(S){return"function"==typeof S}function gs(S){return S instanceof Be.K||"EmptyError"===(null==S?void 0:S.name)}const Gs=Symbol("INITIAL_VALUE");function Ai(){return(0,_t.w)(S=>He(S.map(x=>x.pipe((0,ct.q)(1),(0,wt.O)(Gs)))).pipe((0,ht.U)(x=>{for(const w of x)if(!0!==w){if(w===Gs)return Gs;if(!1===w||w instanceof or)return w}return!0}),(0,ft.h)(x=>x!==Gs),(0,ct.q)(1)))}function Ua(S){return(0,pt.z)((0,lt.b)(x=>{if(jn(x))throw Do(0,x)}),(0,ht.U)(x=>!0===x))}const Os={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Va(S,x,w,k,z){const ie=ja(S,x,w);return ie.matched?function ms(S,x,w,k){const z=x.canMatch;if(!z||0===z.length)return(0,ee.of)(!0);const ie=z.map(le=>{const nt=b(le,S);return Tn(function jr(S){return S&&B(S.canMatch)}(nt)?nt.canMatch(x,w):S.runInContext(()=>nt(x,w)))});return(0,ee.of)(ie).pipe(Ai(),Ua())}(k=yo(x,k),x,w).pipe((0,ht.U)(le=>!0===le?ie:{...Os})):(0,ee.of)(ie)}function ja(S,x,w){var k;if(""===x.path)return"full"===x.pathMatch&&(S.hasChildren()||w.length>0)?{...Os}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const ie=(x.matcher||Xn)(w,S,x);if(!ie)return{...Os};const le={};Ir(ie.posParams,(Pt,pn)=>{le[pn]=Pt.path});const nt=ie.consumed.length>0?{...le,...ie.consumed[ie.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:ie.consumed,remainingSegments:w.slice(ie.consumed.length),parameters:nt,positionalParamSegments:null!==(k=ie.posParams)&&void 0!==k?k:{}}}function _o(S,x,w,k){if(w.length>0&&function ta(S,x,w){return w.some(k=>Eo(S,x,k)&&us(k)!==nn)}(S,w,k)){const ie=new Yn(x,function El(S,x,w,k){const z={};z[nn]=k,k._sourceSegment=S,k._segmentIndexShift=x.length;for(const ie of w)if(""===ie.path&&us(ie)!==nn){const le=new Yn([],{});le._sourceSegment=S,le._segmentIndexShift=x.length,z[us(ie)]=le}return z}(S,x,k,new Yn(w,S.children)));return ie._sourceSegment=S,ie._segmentIndexShift=x.length,{segmentGroup:ie,slicedSegments:[]}}if(0===w.length&&function hs(S,x,w){return w.some(k=>Eo(S,x,k))}(S,w,k)){const ie=new Yn(S.segments,function Uo(S,x,w,k,z){const ie={};for(const le of k)if(Eo(S,w,le)&&!z[us(le)]){const nt=new Yn([],{});nt._sourceSegment=S,nt._segmentIndexShift=x.length,ie[us(le)]=nt}return{...z,...ie}}(S,x,w,k,S.children));return ie._sourceSegment=S,ie._segmentIndexShift=x.length,{segmentGroup:ie,slicedSegments:w}}const z=new Yn(S.segments,S.children);return z._sourceSegment=S,z._segmentIndexShift=x.length,{segmentGroup:z,slicedSegments:w}}function Eo(S,x,w){return(!(S.hasChildren()||x.length>0)||"full"!==w.pathMatch)&&""===w.path}function Vo(S,x,w,k){return!!(us(S)===k||k!==nn&&Eo(x,w,S))&&("**"===S.path||ja(x,S,w).matched)}function ao(S,x,w){return 0===x.length&&!S.children[w]}const is=!1;class ba{constructor(x){this.segmentGroup=x||null}}class Ha{constructor(x){this.urlTree=x}}function Yi(S){return et(new ba(S))}function Ni(S){return et(new Ha(S))}class Il{constructor(x,w,k,z,ie){this.injector=x,this.configLoader=w,this.urlSerializer=k,this.urlTree=z,this.config=ie,this.allowRedirects=!0}apply(){const x=_o(this.urlTree.root,[],[],this.config).segmentGroup,w=new Yn(x.segments,x.children);return this.expandSegmentGroup(this.injector,this.config,w,nn).pipe((0,ht.U)(ie=>this.createUrlTree(Qt(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,vt.K)(ie=>{if(ie instanceof Ha)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof ba?this.noMatchError(ie):ie}))}match(x){return this.expandSegmentGroup(this.injector,this.config,x.root,nn).pipe((0,ht.U)(z=>this.createUrlTree(Qt(z),x.queryParams,x.fragment))).pipe((0,vt.K)(z=>{throw z instanceof ba?this.noMatchError(z):z}))}noMatchError(x){return new _.vHH(4002,is)}createUrlTree(x,w,k){const z=St(x);return new or(z,w,k)}expandSegmentGroup(x,w,k,z){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(x,w,k).pipe((0,ht.U)(ie=>new Yn([],ie))):this.expandSegment(x,k,w,k.segments,z,!0)}expandChildren(x,w,k){const z=[];for(const ie of Object.keys(k.children))"primary"===ie?z.unshift(ie):z.push(ie);return(0,y.D)(z).pipe((0,Fe.b)(ie=>{const le=k.children[ie],nt=Jo(w,ie);return this.expandSegmentGroup(x,nt,le,ie).pipe((0,ht.U)(Pt=>({segment:Pt,outlet:ie})))}),(0,Zt.R)((ie,le)=>(ie[le.outlet]=le.segment,ie),{}),Te())}expandSegment(x,w,k,z,ie,le){return(0,y.D)(k).pipe((0,Fe.b)(nt=>this.expandSegmentAgainstRoute(x,w,k,nt,z,ie,le).pipe((0,vt.K)(pn=>{if(pn instanceof ba)return(0,ee.of)(null);throw pn}))),(0,Le.P)(nt=>!!nt),(0,vt.K)((nt,Pt)=>{if(gs(nt))return ao(w,z,ie)?(0,ee.of)(new Yn([],{})):Yi(w);throw nt}))}expandSegmentAgainstRoute(x,w,k,z,ie,le,nt){return Vo(z,w,ie,le)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(x,w,z,ie,le):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,w,k,z,ie,le):Yi(w):Yi(w)}expandSegmentAgainstRouteUsingRedirect(x,w,k,z,ie,le){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,k,z,le):this.expandRegularSegmentAgainstRouteUsingRedirect(x,w,k,z,ie,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,w,k,z){const ie=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Ni(ie):this.lineralizeSegments(k,ie).pipe((0,ke.z)(le=>{const nt=new Yn(le,{});return this.expandSegment(x,nt,w,le,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,w,k,z,ie,le){const{matched:nt,consumedSegments:Pt,remainingSegments:pn,positionalParamSegments:Bn}=ja(w,z,ie);if(!nt)return Yi(w);const On=this.applyRedirectCommands(Pt,z.redirectTo,Bn);return z.redirectTo.startsWith("/")?Ni(On):this.lineralizeSegments(z,On).pipe((0,ke.z)(Ci=>this.expandSegment(x,w,k,Ci.concat(pn),le,!1)))}matchSegmentAgainstRoute(x,w,k,z,ie){return"**"===k.path?(x=yo(k,x),k.loadChildren?(k._loadedRoutes?(0,ee.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(x,k)).pipe((0,ht.U)(nt=>(k._loadedRoutes=nt.routes,k._loadedInjector=nt.injector,new Yn(z,{})))):(0,ee.of)(new Yn(z,{}))):Va(w,k,z,x).pipe((0,_t.w)(({matched:le,consumedSegments:nt,remainingSegments:Pt})=>{var pn;return le?(x=null!==(pn=k._injector)&&void 0!==pn?pn:x,this.getChildConfig(x,k,z).pipe((0,ke.z)(On=>{var Ci;const Li=null!==(Ci=On.injector)&&void 0!==Ci?Ci:x,qs=On.routes,{segmentGroup:Io,slicedSegments:Mo}=_o(w,nt,Pt,qs),$s=new Yn(Io.segments,Io.children);if(0===Mo.length&&$s.hasChildren())return this.expandChildren(Li,qs,$s).pipe((0,ht.U)(Xc=>new Yn(nt,Xc)));if(0===qs.length&&0===Mo.length)return(0,ee.of)(new Yn(nt,{}));const Ar=us(k)===ie;return this.expandSegment(Li,$s,qs,Mo,Ar?nn:ie,!0).pipe((0,ht.U)(Ys=>new Yn(nt.concat(Ys.segments),Ys.children)))}))):Yi(w)}))}getChildConfig(x,w,k){return w.children?(0,ee.of)({routes:w.children,injector:x}):w.loadChildren?void 0!==w._loadedRoutes?(0,ee.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ya(S,x,w,k){const z=x.canLoad;if(void 0===z||0===z.length)return(0,ee.of)(!0);const ie=z.map(le=>{const nt=b(le,S);return Tn(function O(S){return S&&B(S.canLoad)}(nt)?nt.canLoad(x,w):S.runInContext(()=>nt(x,w)))});return(0,ee.of)(ie).pipe(Ai(),Ua())}(x,w,k).pipe((0,ke.z)(z=>z?this.configLoader.loadChildren(x,w).pipe((0,lt.b)(ie=>{w._loadedRoutes=ie.routes,w._loadedInjector=ie.injector})):function Da(S){return et(Hs(is,3))}())):(0,ee.of)({routes:[],injector:x})}lineralizeSegments(x,w){let k=[],z=w.root;for(;;){if(k=k.concat(z.segments),0===z.numberOfChildren)return(0,ee.of)(k);if(z.numberOfChildren>1||!z.children[nn])return x.redirectTo,et(new _.vHH(4e3,is));z=z.children[nn]}}applyRedirectCommands(x,w,k){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),x,k)}applyRedirectCreateUrlTree(x,w,k,z){const ie=this.createSegmentGroup(x,w.root,k,z);return new or(ie,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(x,w){const k={};return Ir(x,(z,ie)=>{if("string"==typeof z&&z.startsWith(":")){const nt=z.substring(1);k[ie]=w[nt]}else k[ie]=z}),k}createSegmentGroup(x,w,k,z){const ie=this.createSegments(x,w.segments,k,z);let le={};return Ir(w.children,(nt,Pt)=>{le[Pt]=this.createSegmentGroup(x,nt,k,z)}),new Yn(ie,le)}createSegments(x,w,k,z){return w.map(ie=>ie.path.startsWith(":")?this.findPosParam(x,ie,z):this.findOrReturn(ie,k))}findPosParam(x,w,k){const z=k[w.path.substring(1)];if(!z)throw new _.vHH(4001,is);return z}findOrReturn(x,w){let k=0;for(const z of w){if(z.path===x.path)return w.splice(k),z;k++}return x}}class Rr{}class L{constructor(x,w,k,z,ie,le,nt){this.injector=x,this.rootComponentType=w,this.config=k,this.urlTree=z,this.url=ie,this.paramsInheritanceStrategy=le,this.urlSerializer=nt}recognize(){const x=_o(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,nn).pipe((0,ht.U)(w=>{if(null===w)return null;const k=new rl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new qi(k,w),ie=new io(this.url,z);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(x){const w=x.value,k=ro(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),x.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(x,w,k,z){return 0===k.segments.length&&k.hasChildren()?this.processChildren(x,w,k):this.processSegment(x,w,k,k.segments,z)}processChildren(x,w,k){return(0,y.D)(Object.keys(k.children)).pipe((0,Fe.b)(z=>{const ie=k.children[z],le=Jo(w,z);return this.processSegmentGroup(x,le,ie,z)}),(0,Zt.R)((z,ie)=>z&&ie?(z.push(...ie),z):null),function Tt(S,x=!1){return(0,$e.e)((w,k)=>{let z=0;w.subscribe((0,ve.x)(k,ie=>{const le=S(ie,z++);(le||x)&&k.next(ie),!le&&k.complete()}))})}(z=>null!==z),(0,Dt.d)(null),Te(),(0,ht.U)(z=>{if(null===z)return null;const ie=Me(z);return function X(S){S.sort((x,w)=>x.value.outlet===nn?-1:w.value.outlet===nn?1:x.value.outlet.localeCompare(w.value.outlet))}(ie),ie}))}processSegment(x,w,k,z,ie){return(0,y.D)(w).pipe((0,Fe.b)(le=>{var nt;return this.processSegmentAgainstRoute(null!==(nt=le._injector)&&void 0!==nt?nt:x,le,k,z,ie)}),(0,Le.P)(le=>!!le),(0,vt.K)(le=>{if(gs(le))return ao(k,z,ie)?(0,ee.of)([]):(0,ee.of)(null);throw le}))}processSegmentAgainstRoute(x,w,k,z,ie){if(w.redirectTo||!Vo(w,k,z,ie))return(0,ee.of)(null);let le;if("**"===w.path){var nt,Pt;const pn=z.length>0?Br(z).parameters:{},Bn=Ln(k)+z.length,On=new rl(z,pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$r(w),us(w),null!==(nt=null!==(Pt=w.component)&&void 0!==Pt?Pt:w._loadedComponent)&&void 0!==nt?nt:null,w,Wt(k),Bn,Lr(w));le=(0,ee.of)({snapshot:On,consumedSegments:[],remainingSegments:[]})}else le=Va(k,w,z,x).pipe((0,ht.U)(({matched:pn,consumedSegments:Bn,remainingSegments:On,parameters:Ci})=>{var Li,qs;if(!pn)return null;const Io=Ln(k)+Bn.length;return{snapshot:new rl(Bn,Ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$r(w),us(w),null!==(Li=null!==(qs=w.component)&&void 0!==qs?qs:w._loadedComponent)&&void 0!==Li?Li:null,w,Wt(k),Io,Lr(w)),consumedSegments:Bn,remainingSegments:On}}));return le.pipe((0,_t.w)(pn=>{var Bn,On;if(null===pn)return(0,ee.of)(null);const{snapshot:Ci,consumedSegments:Li,remainingSegments:qs}=pn;x=null!==(Bn=w._injector)&&void 0!==Bn?Bn:x;const Io=null!==(On=w._loadedInjector)&&void 0!==On?On:x,Mo=function j(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(w),{segmentGroup:$s,slicedSegments:Ar}=_o(k,Li,qs,Mo.filter(Ys=>void 0===Ys.redirectTo));if(0===Ar.length&&$s.hasChildren())return this.processChildren(Io,Mo,$s).pipe((0,ht.U)(Ys=>null===Ys?null:[new qi(Ci,Ys)]));if(0===Mo.length&&0===Ar.length)return(0,ee.of)([new qi(Ci,[])]);const Sl=us(w)===ie;return this.processSegment(Io,Mo,$s,Ar,Sl?nn:ie).pipe((0,ht.U)(Ys=>null===Ys?null:[new qi(Ci,Ys)]))}))}}function se(S){const x=S.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function Me(S){const x=[],w=new Set;for(const k of S){if(!se(k)){x.push(k);continue}const z=x.find(ie=>k.value.routeConfig===ie.value.routeConfig);void 0!==z?(z.children.push(...k.children),w.add(z)):x.push(k)}for(const k of w){const z=Me(k.children);x.push(new qi(k.value,z))}return x.filter(k=>!w.has(k))}function Wt(S){let x=S;for(;x._sourceSegment;)x=x._sourceSegment;return x}function Ln(S){var x;let w=S,k=null!==(x=w._segmentIndexShift)&&void 0!==x?x:0;for(;w._sourceSegment;){var z;w=w._sourceSegment,k+=null!==(z=w._segmentIndexShift)&&void 0!==z?z:0}return k-1}function $r(S){return S.data||{}}function Lr(S){return S.resolve||{}}function Ws(S){return"string"==typeof S.title||null===S.title}function Bs(S){return(0,_t.w)(x=>{const w=S(x);return w?(0,y.D)(w).pipe((0,ht.U)(()=>x)):(0,ee.of)(x)})}const Ks=new _.OlP("ROUTES");let Ta=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,ee.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const k=Tn(w.loadComponent()).pipe((0,ht.U)(zl),(0,lt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ie}),Rn(()=>{this.componentLoaders.delete(w)})),z=new Pe(k,()=>new we.x).pipe(Oe());return this.componentLoaders.set(w,z),z}loadChildren(w,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,ee.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ie=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,ht.U)(nt=>{this.onLoadEndListener&&this.onLoadEndListener(k);let Pt,pn,Bn=!1;Array.isArray(nt)?pn=nt:(Pt=nt.create(w).injector,pn=Zr(Pt.get(Ks,[],_.XFs.Self|_.XFs.Optional)));return{routes:pn.map(zi),injector:Pt}}),Rn(()=>{this.childrenLoaders.delete(k)})),le=new Pe(ie,()=>new we.x).pipe(Oe());return this.childrenLoaders.set(k,le),le}loadModuleFactoryOrRoutes(w){return Tn(w()).pipe((0,ht.U)(zl),(0,ke.z)(k=>k instanceof _.YKP||Array.isArray(k)?(0,ee.of)(k):(0,y.D)(this.compiler.compileModuleAsync(k))))}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function zl(S){return function za(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let va=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new we.x,this.configLoader=(0,_.f3M)(Ta),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Ge),this.rootContexts=(0,_.f3M)(Xo),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Et(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new tt(z))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var k;const z=++this.navigationId;null===(k=this.transitions)||void 0===k||k.next({...this.transitions.value,...w,id:z})}setupNavigations(w){return this.transitions=new he.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ke,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(k=>0!==k.id),(0,ht.U)(k=>({...k,extractedUrl:w.urlHandlingStrategy.extract(k.rawUrl)})),(0,_t.w)(k=>{let z=!1,ie=!1;return(0,ee.of)(k).pipe((0,lt.b)(le=>{this.currentNavigation={id:le.id,initialUrl:le.rawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_t.w)(le=>{var nt;const Pt=w.browserUrlTree.toString(),pn=!w.navigated||le.extractedUrl.toString()!==Pt||Pt!==w.currentUrlTree.toString(),Bn=null!==(nt=le.extras.onSameUrlNavigation)&&void 0!==nt?nt:w.onSameUrlNavigation;if(!pn&&"reload"!==Bn){const On="";return this.events.next(new mn(le.id,w.serializeUrl(k.rawUrl),On,0)),w.rawUrlTree=le.rawUrl,le.resolve(null),Ze.E}if(w.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return Gc(le.source)&&(w.browserUrlTree=le.extractedUrl),(0,ee.of)(le).pipe((0,_t.w)(On=>{var Ci,Li;const qs=null===(Ci=this.transitions)||void 0===Ci?void 0:Ci.getValue();return this.events.next(new kt(On.id,this.urlSerializer.serialize(On.extractedUrl),On.source,On.restoredState)),qs!==(null===(Li=this.transitions)||void 0===Li?void 0:Li.getValue())?Ze.E:Promise.resolve(On)}),function lo(S,x,w,k){return(0,_t.w)(z=>function So(S,x,w,k,z){return new Il(S,x,w,k,z).apply()}(S,x,w,z.extractedUrl,k).pipe((0,ht.U)(ie=>({...z,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,lt.b)(On=>{this.currentNavigation={...this.currentNavigation,finalUrl:On.urlAfterRedirects},k.urlAfterRedirects=On.urlAfterRedirects}),function wr(S,x,w,k,z){return(0,ke.z)(ie=>function wl(S,x,w,k,z,ie,le="emptyOnly"){return new L(S,x,w,k,z,le,ie).recognize().pipe((0,_t.w)(nt=>null===nt?function Hl(S){return new xe.y(x=>x.error(S))}(new Rr):(0,ee.of)(nt)))}(S,x,w,ie.urlAfterRedirects,k.serialize(ie.urlAfterRedirects),k,z).pipe((0,ht.U)(le=>({...ie,targetSnapshot:le}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,lt.b)(On=>{if(k.targetSnapshot=On.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!On.extras.skipLocationChange){const Li=w.urlHandlingStrategy.merge(On.urlAfterRedirects,On.rawUrl);w.setBrowserUrl(Li,On)}w.browserUrlTree=On.urlAfterRedirects}const Ci=new Gn(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(Ci)}));if(pn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:On,extractedUrl:Ci,source:Li,restoredState:qs,extras:Io}=le,Mo=new kt(On,this.urlSerializer.serialize(Ci),Li,qs);this.events.next(Mo);const $s=wa(Ci,this.rootComponentType).snapshot;return k={...le,targetSnapshot:$s,urlAfterRedirects:Ci,extras:{...Io,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(k)}{const On="";return this.events.next(new mn(le.id,w.serializeUrl(k.extractedUrl),On,1)),w.rawUrlTree=le.rawUrl,le.resolve(null),Ze.E}}),(0,lt.b)(le=>{const nt=new mi(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(nt)}),(0,ht.U)(le=>k={...le,guards:$o(le.targetSnapshot,le.currentSnapshot,this.rootContexts)}),function vl(S,x){return(0,ke.z)(w=>{const{targetSnapshot:k,currentSnapshot:z,guards:{canActivateChecks:ie,canDeactivateChecks:le}}=w;return 0===le.length&&0===ie.length?(0,ee.of)({...w,guardsResult:!0}):function ma(S,x,w,k){return(0,y.D)(S).pipe((0,ke.z)(z=>function _l(S,x,w,k,z){const ie=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,ee.of)(!0);const le=ie.map(nt=>{var Pt;const pn=null!==(Pt=fa(x))&&void 0!==Pt?Pt:z,Bn=b(nt,pn);return Tn(function dn(S){return S&&B(S.canDeactivate)}(Bn)?Bn.canDeactivate(S,x,w,k):pn.runInContext(()=>Bn(S,x,w,k))).pipe((0,Le.P)())});return(0,ee.of)(le).pipe(Ai())}(z.component,z.route,w,x,k)),(0,Le.P)(z=>!0!==z,!0))}(le,k,z,S).pipe((0,ke.z)(nt=>nt&&function R(S){return"boolean"==typeof S}(nt)?function ds(S,x,w,k){return(0,y.D)(x).pipe((0,Fe.b)(z=>(0,Re.z)(function il(S,x){return null!==S&&x&&x(new qt(S)),(0,ee.of)(!0)}(z.route.parent,k),function rs(S,x){return null!==S&&x&&x(new Un(S)),(0,ee.of)(!0)}(z.route,k),function vo(S,x,w){const k=x[x.length-1],ie=x.slice(0,x.length-1).reverse().map(le=>function ga(S){const x=S.routeConfig?S.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:S,guards:x}:null}(le)).filter(le=>null!==le).map(le=>de(()=>{const nt=le.guards.map(Pt=>{var pn;const Bn=null!==(pn=fa(le.node))&&void 0!==pn?pn:w,On=b(Pt,Bn);return Tn(function yt(S){return S&&B(S.canActivateChild)}(On)?On.canActivateChild(k,S):Bn.runInContext(()=>On(k,S))).pipe((0,Le.P)())});return(0,ee.of)(nt).pipe(Ai())}));return(0,ee.of)(ie).pipe(Ai())}(S,z.path,w),function To(S,x,w){const k=x.routeConfig?x.routeConfig.canActivate:null;if(!k||0===k.length)return(0,ee.of)(!0);const z=k.map(ie=>de(()=>{var le;const nt=null!==(le=fa(x))&&void 0!==le?le:w,Pt=b(ie,nt);return Tn(function ne(S){return S&&B(S.canActivate)}(Pt)?Pt.canActivate(x,S):nt.runInContext(()=>Pt(x,S))).pipe((0,Le.P)())}));return(0,ee.of)(z).pipe(Ai())}(S,z.route,w))),(0,Le.P)(z=>!0!==z,!0))}(k,ie,S,x):(0,ee.of)(nt)),(0,ht.U)(nt=>({...w,guardsResult:nt})))})}(this.environmentInjector,le=>this.events.next(le)),(0,lt.b)(le=>{if(k.guardsResult=le.guardsResult,jn(le.guardsResult))throw Do(0,le.guardsResult);const nt=new Jn(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.events.next(nt)}),(0,ft.h)(le=>!!le.guardsResult||(w.restoreHistory(le),this.cancelNavigationTransition(le,"",3),!1)),Bs(le=>{if(le.guards.canActivateChecks.length)return(0,ee.of)(le).pipe((0,lt.b)(nt=>{const Pt=new es(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(Pt)}),(0,_t.w)(nt=>{let Pt=!1;return(0,ee.of)(nt).pipe(function Fi(S,x){return(0,ke.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:z}}=w;if(!z.length)return(0,ee.of)(w);let ie=0;return(0,y.D)(z).pipe((0,Fe.b)(le=>function Ri(S,x,w,k){const z=S.routeConfig,ie=S._resolve;return void 0!==(null==z?void 0:z.title)&&!Ws(z)&&(ie[In]=z.title),function Gi(S,x,w,k){const z=function na(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,ee.of)({});const ie={};return(0,y.D)(z).pipe((0,ke.z)(le=>function Ao(S,x,w,k){var z;const ie=null!==(z=fa(x))&&void 0!==z?z:k,le=b(S,ie);return Tn(le.resolve?le.resolve(x,w):ie.runInContext(()=>le(x,w)))}(S[le],x,w,k).pipe((0,Le.P)(),(0,lt.b)(nt=>{ie[le]=nt}))),$t(1),function ln(S){return(0,ht.U)(()=>S)}(ie),(0,vt.K)(le=>gs(le)?Ze.E:et(le)))}(ie,S,x,k).pipe((0,ht.U)(le=>(S._resolvedData=le,S.data=ro(S,w).resolve,z&&Ws(z)&&(S.data[In]=z.title),null)))}(le.route,k,S,x)),(0,lt.b)(()=>ie++),$t(1),(0,ke.z)(le=>ie===z.length?(0,ee.of)(w):Ze.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,lt.b)({next:()=>Pt=!0,complete:()=>{Pt||(w.restoreHistory(nt),this.cancelNavigationTransition(nt,"",2))}}))}),(0,lt.b)(nt=>{const Pt=new ut(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(Pt)}))}),Bs(le=>{const nt=Pt=>{var pn;const Bn=[];null!==(pn=Pt.routeConfig)&&void 0!==pn&&pn.loadComponent&&!Pt.routeConfig._loadedComponent&&Bn.push(this.configLoader.loadComponent(Pt.routeConfig).pipe((0,lt.b)(On=>{Pt.component=On}),(0,ht.U)(()=>{})));for(const On of Pt.children)Bn.push(...nt(On));return Bn};return He(nt(le.targetSnapshot.root)).pipe((0,Dt.d)(),(0,ct.q)(1))}),Bs(()=>this.afterPreactivation()),(0,ht.U)(le=>{const nt=function ha(S,x,w){const k=Lo(S,x._root,w?w._root:void 0);return new Ls(k,x)}(w.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return k={...le,targetRouterState:nt}}),(0,lt.b)(le=>{w.currentUrlTree=le.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),w.routerState=le.targetRouterState,"deferred"===w.urlUpdateStrategy&&(le.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,le),w.browserUrlTree=le.urlAfterRedirects)}),((S,x,w)=>(0,ht.U)(k=>(new pa(x,k.targetRouterState,k.currentRouterState,w).activate(S),k)))(this.rootContexts,w.routeReuseStrategy,le=>this.events.next(le)),(0,ct.q)(1),(0,lt.b)({next:le=>{var nt;z=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Bt(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),null===(nt=w.titleStrategy)||void 0===nt||nt.updateTitle(le.targetRouterState.snapshot),le.resolve(!0)},complete:()=>{z=!0}}),Rn(()=>{var le;z||ie||this.cancelNavigationTransition(k,"",1),(null===(le=this.currentNavigation)||void 0===le?void 0:le.id)===k.id&&(this.currentNavigation=null)}),(0,vt.K)(le=>{if(ie=!0,oo(le)){Zo(le)||(w.navigated=!0,w.restoreHistory(k,!0));const Pt=new Jt(k.id,this.urlSerializer.serialize(k.extractedUrl),le.message,le.cancellationCode);if(this.events.next(Pt),Zo(le)){const pn=w.urlHandlingStrategy.merge(le.url,w.rawUrlTree),Bn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Gc(k.source)};w.scheduleNavigation(pn,Ke,null,Bn,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{var nt;w.restoreHistory(k,!0);const Pt=new zn(k.id,this.urlSerializer.serialize(k.extractedUrl),le,null!==(nt=k.targetSnapshot)&&void 0!==nt?nt:void 0);this.events.next(Pt);try{k.resolve(w.errorHandler(le))}catch(pn){k.reject(pn)}}return Ze.E}))}))}cancelNavigationTransition(w,k,z){const ie=new Jt(w.id,this.urlSerializer.serialize(w.extractedUrl),k,z);this.events.next(ie),w.resolve(!1)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Gc(S){return S!==Ke}let Wi=(()=>{class S{buildTitle(w){let k,z=w.root;for(;void 0!==z;){var ie;k=null!==(ie=this.getResolvedTitleForRoute(z))&&void 0!==ie?ie:k,z=z.children.find(le=>le.outlet===nn)}return k}getResolvedTitleForRoute(w){return w.data[In]}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(Cl)},providedIn:"root"}),S})(),Cl=(()=>{class S extends Wi{constructor(w){super(),this.title=w}updateTitle(w){const k=this.buildTitle(w);void 0!==k&&this.title.setTitle(k)}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(Cn.Dx))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Zi=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(Gl)},providedIn:"root"}),S})();class mu{shouldDetach(x){return!1}store(x,w){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,w){return x.routeConfig===w.routeConfig}}let Gl=(()=>{class S extends mu{}return S.\u0275fac=function(){let x;return function(k){return(x||(x=_.n5z(S)))(k||S)}}(),S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ss=new _.OlP("",{providedIn:"root",factory:()=>({})});let ci=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(ic)},providedIn:"root"}),S})(),ic=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,k){return w}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ir(S){throw S}function sc(S,x,w){return x.parse("/")}const Fn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var w;this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(ss,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ir,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(ci),this.routeReuseStrategy=(0,_.f3M)(Zi),this.urlCreationStrategy=(0,_.f3M)(ki),this.titleStrategy=(0,_.f3M)(Wi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Zr(null!==(w=(0,_.f3M)(Ks,{optional:!0}))&&void 0!==w?w:[]),this.navigationTransitions=(0,_.f3M)(va),this.urlSerializer=(0,_.f3M)(Ge),this.location=(0,_.f3M)(Ve.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wa(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(k=>{this.lastSuccessfulId=k.id,this.currentPageId=k.targetPageId},k=>{this.console.warn(`Unhandled Navigation Error: ${k}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ke,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,k,w.state)},0)}))}navigateToSyncWithBrowser(w,k,z){const ie={replaceUrl:!0},le=null!=z&&z.navigationId?z:null;if(z){const Pt={...z};delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(ie.state=Pt)}const nt=this.parseUrl(w);this.scheduleNavigation(nt,k,le,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(zi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,k={}){const{relativeTo:z,queryParams:ie,fragment:le,queryParamsHandling:nt,preserveFragment:Pt}=k,pn=Pt?this.currentUrlTree.fragment:le;let Bn=null;switch(nt){case"merge":Bn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=ie||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),this.urlCreationStrategy.createUrlTree(z,this.routerState,this.currentUrlTree,w,Bn,null!=pn?pn:null)}navigateByUrl(w,k={skipLocationChange:!1}){const z=jn(w)?w:this.parseUrl(w),ie=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ie,Ke,null,k)}navigate(w,k={skipLocationChange:!1}){return function ui(S){for(let x=0;x<S.length;x++){const w=S[x];if(null==w)throw new _.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(z){k=this.malformedUriErrorHandler(z,this.urlSerializer,w)}return k}isActive(w,k){let z;if(z=!0===k?{...Fn}:!1===k?{...Lt}:k,jn(w))return Jr(this.currentUrlTree,w,z);const ie=this.parseUrl(w);return Jr(this.currentUrlTree,ie,z)}removeEmptyProps(w){return Object.keys(w).reduce((k,z)=>{const ie=w[z];return null!=ie&&(k[z]=ie),k},{})}scheduleNavigation(w,k,z,ie,le){if(this.disposed)return Promise.resolve(!1);let nt,Pt,pn,Bn;if(le?(nt=le.resolve,Pt=le.reject,pn=le.promise):pn=new Promise((Li,qs)=>{nt=Li,Pt=qs}),"computed"===this.canceledNavigationResolution)if(z&&z.\u0275routerPageId)Bn=z.\u0275routerPageId;else if(ie.replaceUrl||ie.skipLocationChange){var On;Bn=null!==(On=this.browserPageId)&&void 0!==On?On:0}else{var Ci;Bn=(null!==(Ci=this.browserPageId)&&void 0!==Ci?Ci:0)+1}else Bn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Bn,source:k,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:ie,resolve:nt,reject:Pt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(Li=>Promise.reject(Li))}setBrowserUrl(w,k){const z=this.urlSerializer.serialize(w),ie={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.isCurrentPathEqualTo(z)||k.extras.replaceUrl?this.location.replaceState(z,"",ie):this.location.go(z,"",ie)}restoreHistory(w,k=!1){if("computed"===this.canceledNavigationResolution){var z,ie;const le=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(z=this.getCurrentNavigation())||void 0===z?void 0:z.finalUrl)||0===le?this.currentUrlTree===(null===(ie=this.getCurrentNavigation())||void 0===ie?void 0:ie.finalUrl)&&0===le&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),xo=(()=>{class S{constructor(w,k,z,ie,le,nt){var Pt;this.router=w,this.route=k,this.tabIndexAttribute=z,this.renderer=ie,this.el=le,this.locationStrategy=nt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new we.x;const pn=null===(Pt=le.nativeElement.tagName)||void 0===Pt?void 0:Pt.toLowerCase();this.isAnchorElement="a"===pn||"area"===pn,this.isAnchorElement?this.subscription=w.events.subscribe(Bn=>{Bn instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,_.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,_.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,_.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,k,z,ie,le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||k||z||ie||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const k=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(w,k){const z=this.renderer,ie=this.el.nativeElement;null!==k?z.setAttribute(ie,w,k):z.removeAttribute(ie,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(w){return new(w||S)(_.Y36(sn),_.Y36(Ms),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ve.S$))},S.\u0275dir=_.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,k){1&w&&_.NdJ("click",function(ie){return k.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&w&&_.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),S})();class Wl{}let jo=(()=>{class S{constructor(w,k,z,ie,le){this.router=w,this.injector=z,this.preloadingStrategy=ie,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(w=>w instanceof Bt),(0,Fe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const z=[];for(const Pt of k){var ie,le;Pt.providers&&!Pt._injector&&(Pt._injector=(0,_.MMx)(Pt.providers,w,`Route: ${Pt.path}`));const pn=null!==(ie=Pt._injector)&&void 0!==ie?ie:w,Bn=null!==(le=Pt._loadedInjector)&&void 0!==le?le:pn;var nt;(Pt.loadChildren&&!Pt._loadedRoutes&&void 0===Pt.canLoad||Pt.loadComponent&&!Pt._loadedComponent)&&z.push(this.preloadConfig(pn,Pt)),(Pt.children||Pt._loadedRoutes)&&z.push(this.processRoutes(Bn,null!==(nt=Pt.children)&&void 0!==nt?nt:Pt._loadedRoutes))}return(0,y.D)(z).pipe((0,Kn.J)())}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>{let z;z=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(w,k):(0,ee.of)(null);const ie=z.pipe((0,ke.z)(le=>{var nt;return null===le?(0,ee.of)(void 0):(k._loadedRoutes=le.routes,k._loadedInjector=le.injector,this.processRoutes(null!==(nt=le.injector)&&void 0!==nt?nt:w,le.routes))}));if(k.loadComponent&&!k._loadedComponent){const le=this.loader.loadComponent(k);return(0,y.D)([ie,le]).pipe((0,Kn.J)())}return ie})}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(sn),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Wl),_.LFG(Ta))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ga=new _.OlP("");let Wc=(()=>{class S{constructor(w,k,z,ie,le={}){this.urlSerializer=w,this.transitions=k,this.viewportScroller=z,this.zone=ie,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration=le.scrollPositionRestoration||"disabled",le.anchorScrolling=le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof kt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof hr&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hr(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){var w,k;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(k=this.scrollEventsSubscription)||void 0===k||k.unsubscribe()}}return S.\u0275fac=function(w){_.$Z()},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();const sr=!1;function ia(S,...x){return(0,_.MR2)([{provide:Ks,multi:!0,useValue:S},sr?{provide:rr,useValue:!0}:[],{provide:Ms,useFactory:Dl,deps:[sn]},{provide:_.tb,multi:!0,useFactory:Mr},x.map(w=>w.\u0275providers)])}function Dl(S){return S.routerState.root}function oi(S,x){return{\u0275kind:S,\u0275providers:x}}const rr=new _.OlP("",{providedIn:"root",factory:()=>!1});function Mr(){const S=(0,_.f3M)(_.zs3);return x=>{var w,k;const z=S.get(_.z2F);if(x!==z.components[0])return;const ie=S.get(sn),le=S.get(Pn);1===S.get(Kl)&&ie.initialNavigation(),null===(w=S.get(lc,null,_.XFs.Optional))||void 0===w||w.setUpPreloading(),null===(k=S.get(Ga,null,_.XFs.Optional))||void 0===k||k.init(),ie.resetRootComponentType(z.componentTypes[0]),le.closed||(le.next(),le.complete(),le.unsubscribe())}}const Pn=new _.OlP(sr?"bootstrap done indicator":"",{factory:()=>new we.x}),Kl=new _.OlP(sr?"initial navigation":"",{providedIn:"root",factory:()=>1});function qc(){let S=[];return S=sr?[{provide:_.Xts,multi:!0,useFactory:()=>{const x=(0,_.f3M)(sn);return()=>x.events.subscribe(w=>{var k,z,ie,le;null===(k=(z=console).group)||void 0===k||k.call(z,`Router Event: ${w.constructor.name}`),console.log(function xr(S){var x,w,k,z;if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${(null===(x=S.snapshot.routeConfig)||void 0===x?void 0:x.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(w=S.snapshot.routeConfig)||void 0===w?void 0:w.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(k=S.snapshot.routeConfig)||void 0===k?void 0:k.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(z=S.snapshot.routeConfig)||void 0===z?void 0:z.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(w)),console.log(w),null===(ie=(le=console).groupEnd)||void 0===ie||ie.call(le)})}}]:[],oi(1,S)}const lc=new _.OlP(sr?"router preloader":"");function vu(S){return oi(0,[{provide:lc,useExisting:jo},{provide:Wl,useExisting:S}])}const Yr=!1,Aa=new _.OlP(Yr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Mi=[Ve.Ye,{provide:Ge,useClass:Qe},sn,Xo,{provide:Ms,useFactory:Dl,deps:[sn]},Ta,Yr?{provide:rr,useValue:!0}:[]];function vr(){return new _.PXZ("Router",sn)}let Or=(()=>{class S{constructor(w){}static forRoot(w,k){return{ngModule:S,providers:[Mi,Yr&&null!=k&&k.enableTracing?qc().\u0275providers:[],{provide:Ks,multi:!0,useValue:w},{provide:Aa,useFactory:Zc,deps:[[sn,new _.FiY,new _.tp0]]},{provide:ss,useValue:k||{}},null!=k&&k.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:Ga,useFactory:()=>{const S=(0,_.f3M)(Ve.EM),x=(0,_.f3M)(_.R0b),w=(0,_.f3M)(ss),k=(0,_.f3M)(va),z=(0,_.f3M)(Ge);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Wc(z,k,S,x,w)}},null!=k&&k.preloadingStrategy?vu(k.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:vr},null!=k&&k.initialNavigation?_a(k):[],[{provide:Ro,useFactory:Mr},{provide:_.tb,multi:!0,useExisting:Ro}]]}}static forChild(w){return{ngModule:S,providers:[{provide:Ks,multi:!0,useValue:w}]}}}return S.\u0275fac=function(w){return new(w||S)(_.LFG(Aa,8))},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({imports:[hi]}),S})();function Zc(S){if(Yr&&S)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _a(S){return["disabled"===S.initialNavigation?oi(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const x=(0,_.f3M)(sn);return()=>{x.setUpLocationChangeListener()}}},{provide:Kl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?oi(2,[{provide:Kl,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:x=>{const w=x.get(Ve.V_,Promise.resolve());return()=>w.then(()=>new Promise(k=>{const z=x.get(sn),ie=x.get(Pn);(function ol(S,x){S.events.pipe((0,ft.h)(w=>w instanceof Bt||w instanceof Jt||w instanceof zn||w instanceof mn),(0,ht.U)(w=>w instanceof Bt||w instanceof mn?co.COMPLETE:w instanceof Jt&&(0===w.code||1===w.code)?co.REDIRECTING:co.FAILED),(0,ft.h)(w=>w!==co.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{x()})})(z,()=>{k(!0)}),x.get(va).afterPreactivation=()=>(k(!0),ie.closed?(0,ee.of)(void 0):ie),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ro=new _.OlP(Yr?"Router Initializer":"")},3942:(yn,gt,H)=>{"use strict";H.d(gt,{Z:()=>rt});var _=H(2090),y=H(4859),ee=H(6881),he=H(1877);class Be{constructor(Re,Se){this._delegate=Re,this.firebase=Se,(0,ee._addComponent)(Re,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Re,Se=ee._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Re);return!pt.isInitialized()&&"EXPLICIT"===(null===(de=pt.getComponent())||void 0===de?void 0:de.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Se})}_removeServiceInstance(Re,Se=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Se)}_addComponent(Re){(0,ee._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,ee._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function Ne(){const bt=function Ue(bt){const Re={},Se={__esModule:!0,initializeApp:function Y($e,Oe={}){const Pe=ee.initializeApp($e,Oe);if((0,_.r3)(Re,Pe.name))return Re[Pe.name];const we=new bt(Pe,Se);return Re[Pe.name]=we,we},app:pt,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function Ze($e){const Oe=$e.name,Pe=Oe.replace("-compat","");if(ee._registerComponent($e)&&"PUBLIC"===$e.type){const we=(Ve=pt())=>{if("function"!=typeof Ve[Pe])throw me.create("invalid-app-argument",{appName:Oe});return Ve[Pe]()};void 0!==$e.serviceProps&&(0,_.ZB)(we,$e.serviceProps),Se[Pe]=we,bt.prototype[Pe]=function(...Ve){return this._getService.bind(this,Oe).apply(this,$e.multipleInstances?Ve:[])}}return"PUBLIC"===$e.type?Se[Pe]:null},removeApp:function de($e){delete Re[$e]},useAsService:function At($e,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:ee}};function pt($e){if(!(0,_.r3)(Re,$e=$e||ee._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:$e});return Re[$e]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function et(){return Object.keys(Re).map($e=>Re[$e])}}),pt.App=bt,Se}(Be);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Re(Se){(0,_.ZB)(bt,Se)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),bt}(),ge=new he.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=_e;!function He(bt){(0,ee.registerVersion)("@firebase/app-compat","0.2.9",bt)}()},6881:(yn,gt,H)=>{"use strict";H.r(gt),H.d(gt,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>xi,_DEFAULT_ENTRY_NAME:()=>Br,_addComponent:()=>tn,_addOrOverwriteComponent:()=>fn,_apps:()=>Ir,_clearComponents:()=>qr,_components:()=>Tn,_getProvider:()=>Jr,_registerComponent:()=>on,_removeServiceInstance:()=>Sr,deleteApp:()=>Pr,getApp:()=>Yn,getApps:()=>Ei,initializeApp:()=>or,onLog:()=>Ge,registerVersion:()=>Ht,setLogLevel:()=>Qe});var _=H(5861),y=H(4859),ee=H(1877),he=H(2090);const Be=(Ut,St)=>St.some(Qt=>Ut instanceof Qt);let xe,me;const _e=new WeakMap,ge=new WeakMap,ve=new WeakMap,ze=new WeakMap,He=new WeakMap;let Re={get(Ut,St,Qt){if(Ut instanceof IDBTransaction){if("done"===St)return ge.get(Ut);if("objectStoreNames"===St)return Ut.objectStoreNames||ve.get(Ut);if("store"===St)return Qt.objectStoreNames[1]?void 0:Qt.objectStore(Qt.objectStoreNames[0])}return Y(Ut[St])},set:(Ut,St,Qt)=>(Ut[St]=Qt,!0),has:(Ut,St)=>Ut instanceof IDBTransaction&&("done"===St||"store"===St)||St in Ut};function pt(Ut){return"function"==typeof Ut?function de(Ut){return Ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ut)?function(...St){return Ut.apply(et(this),St),Y(_e.get(this))}:function(...St){return Y(Ut.apply(et(this),St))}:function(St,...Qt){const Nn=Ut.call(et(this),St,...Qt);return ve.set(Nn,St.sort?St.sort():[St]),Y(Nn)}}(Ut):(Ut instanceof IDBTransaction&&function bt(Ut){if(ge.has(Ut))return;const St=new Promise((Qt,Nn)=>{const jn=()=>{Ut.removeEventListener("complete",yr),Ut.removeEventListener("error",Cr),Ut.removeEventListener("abort",Cr)},yr=()=>{Qt(),jn()},Cr=()=>{Nn(Ut.error||new DOMException("AbortError","AbortError")),jn()};Ut.addEventListener("complete",yr),Ut.addEventListener("error",Cr),Ut.addEventListener("abort",Cr)});ge.set(Ut,St)}(Ut),Be(Ut,function Ue(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ut,Re):Ut)}function Y(Ut){if(Ut instanceof IDBRequest)return function rt(Ut){const St=new Promise((Qt,Nn)=>{const jn=()=>{Ut.removeEventListener("success",yr),Ut.removeEventListener("error",Cr)},yr=()=>{Qt(Y(Ut.result)),jn()},Cr=()=>{Nn(Ut.error),jn()};Ut.addEventListener("success",yr),Ut.addEventListener("error",Cr)});return St.then(Qt=>{Qt instanceof IDBCursor&&_e.set(Qt,Ut)}).catch(()=>{}),He.set(St,Ut),St}(Ut);if(ze.has(Ut))return ze.get(Ut);const St=pt(Ut);return St!==Ut&&(ze.set(Ut,St),He.set(St,Ut)),St}const et=Ut=>He.get(Ut),$e=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Pe=new Map;function we(Ut,St){if(!(Ut instanceof IDBDatabase)||St in Ut||"string"!=typeof St)return;if(Pe.get(St))return Pe.get(St);const Qt=St.replace(/FromIndex$/,""),Nn=St!==Qt,jn=Oe.includes(Qt);if(!(Qt in(Nn?IDBIndex:IDBObjectStore).prototype)||!jn&&!$e.includes(Qt))return;const yr=function(){var Cr=(0,_.Z)(function*($n,...tr){const Wn=this.transaction($n,jn?"readwrite":"readonly");let ar=Wn.store;return Nn&&(ar=ar.index(tr.shift())),(yield Promise.all([ar[Qt](...tr),jn&&Wn.done]))[0]});return function(tr){return Cr.apply(this,arguments)}}();return Pe.set(St,yr),yr}!function Se(Ut){Re=Ut(Re)}(Ut=>({...Ut,get:(St,Qt,Nn)=>we(St,Qt)||Ut.get(St,Qt,Nn),has:(St,Qt)=>!!we(St,Qt)||Ut.has(St,Qt)}));class Ve{constructor(St){this.container=St}getPlatformInfoString(){return this.container.getProviders().map(Qt=>{if(function ht(Ut){const St=Ut.getComponent();return"VERSION"===(null==St?void 0:St.type)}(Qt)){const Nn=Qt.getImmediate();return`${Nn.library}/${Nn.version}`}return null}).filter(Qt=>Qt).join(" ")}}const _t="@firebase/app",wt=new ee.Yd("@firebase/app"),Br="[DEFAULT]",Di={[_t]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ir=new Map,Tn=new Map;function tn(Ut,St){try{Ut.container.addComponent(St)}catch(Qt){wt.debug(`Component ${St.name} failed to register with FirebaseApp ${Ut.name}`,Qt)}}function fn(Ut,St){Ut.container.addOrOverwriteComponent(St)}function on(Ut){const St=Ut.name;if(Tn.has(St))return wt.debug(`There were multiple attempts to register component ${St}.`),!1;Tn.set(St,Ut);for(const Qt of Ir.values())tn(Qt,Ut);return!0}function Jr(Ut,St){const Qt=Ut.container.getProvider("heartbeat").getImmediate({optional:!0});return Qt&&Qt.triggerHeartbeat(),Ut.container.getProvider(St)}function Sr(Ut,St,Qt=Br){Jr(Ut,St).clearInstance(Qt)}function qr(){Tn.clear()}const gi=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(St,Qt,Nn){this._isDeleted=!1,this._options=Object.assign({},St),this._config=Object.assign({},Qt),this._name=Qt.name,this._automaticDataCollectionEnabled=Qt.automaticDataCollectionEnabled,this._container=Nn,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this.checkDestroyed(),this._automaticDataCollectionEnabled=St}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(St){this._isDeleted=St}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const xi="9.21.0";function or(Ut,St={}){let Qt=Ut;"object"!=typeof St&&(St={name:St});const Nn=Object.assign({name:Br,automaticDataCollectionEnabled:!1},St),jn=Nn.name;if("string"!=typeof jn||!jn)throw gi.create("bad-app-name",{appName:String(jn)});if(Qt||(Qt=(0,he.aH)()),!Qt)throw gi.create("no-options");const yr=Ir.get(jn);if(yr){if((0,he.vZ)(Qt,yr.options)&&(0,he.vZ)(Nn,yr.config))return yr;throw gi.create("duplicate-app",{appName:jn})}const Cr=new y.H0(jn);for(const tr of Tn.values())Cr.addComponent(tr);const $n=new Ur(Qt,Nn,Cr);return Ir.set(jn,$n),$n}function Yn(Ut=Br){const St=Ir.get(Ut);if(!St&&Ut===Br)return or();if(!St)throw gi.create("no-app",{appName:Ut});return St}function Ei(){return Array.from(Ir.values())}function Pr(Ut){return mr.apply(this,arguments)}function mr(){return(mr=(0,_.Z)(function*(Ut){const St=Ut.name;Ir.has(St)&&(Ir.delete(St),yield Promise.all(Ut.container.getProviders().map(Qt=>Qt.delete())),Ut.isDeleted=!0)})).apply(this,arguments)}function Ht(Ut,St,Qt){var Nn;let jn=null!==(Nn=Di[Ut])&&void 0!==Nn?Nn:Ut;Qt&&(jn+=`-${Qt}`);const yr=jn.match(/\s|\//),Cr=St.match(/\s|\//);if(yr||Cr){const $n=[`Unable to register library "${jn}" with version "${St}":`];return yr&&$n.push(`library name "${jn}" contains illegal characters (whitespace or "/")`),yr&&Cr&&$n.push("and"),Cr&&$n.push(`version name "${St}" contains illegal characters (whitespace or "/")`),void wt.warn($n.join(" "))}on(new y.wA(`${jn}-version`,()=>({library:jn,version:St}),"VERSION"))}function Ge(Ut,St){if(null!==Ut&&"function"!=typeof Ut)throw gi.create("invalid-log-argument");(0,ee.Am)(Ut,St)}function Qe(Ut){(0,ee.Ub)(Ut)}const Xt="firebase-heartbeat-database",zt=1,Ce="firebase-heartbeat-store";let be=null;function We(){return be||(be=function Ze(Ut,St,{blocked:Qt,upgrade:Nn,blocking:jn,terminated:yr}={}){const Cr=indexedDB.open(Ut,St),$n=Y(Cr);return Nn&&Cr.addEventListener("upgradeneeded",tr=>{Nn(Y(Cr.result),tr.oldVersion,tr.newVersion,Y(Cr.transaction),tr)}),Qt&&Cr.addEventListener("blocked",tr=>Qt(tr.oldVersion,tr.newVersion,tr)),$n.then(tr=>{yr&&tr.addEventListener("close",()=>yr()),jn&&tr.addEventListener("versionchange",Wn=>jn(Wn.oldVersion,Wn.newVersion,Wn))}).catch(()=>{}),$n}(Xt,zt,{upgrade:(Ut,St)=>{0===St&&Ut.createObjectStore(Ce)}}).catch(Ut=>{throw gi.create("idb-open",{originalErrorMessage:Ut.message})})),be}function ot(){return(ot=(0,_.Z)(function*(Ut){try{return(yield We()).transaction(Ce).objectStore(Ce).get(je(Ut))}catch(St){if(St instanceof he.ZR)wt.warn(St.message);else{const Qt=gi.create("idb-get",{originalErrorMessage:null==St?void 0:St.message});wt.warn(Qt.message)}}})).apply(this,arguments)}function gn(Ut,St){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,_.Z)(function*(Ut,St){try{const Nn=(yield We()).transaction(Ce,"readwrite");return yield Nn.objectStore(Ce).put(St,je(Ut)),Nn.done}catch(Qt){if(Qt instanceof he.ZR)wt.warn(Qt.message);else{const Nn=gi.create("idb-set",{originalErrorMessage:null==Qt?void 0:Qt.message});wt.warn(Nn.message)}}})).apply(this,arguments)}function je(Ut){return`${Ut.name}!${Ut.options.appId}`}class Ot{constructor(St){this.container=St,this._heartbeatsCache=null;const Qt=this.container.getProvider("app").getImmediate();this._storage=new Qn(Qt),this._heartbeatsCachePromise=this._storage.read().then(Nn=>(this._heartbeatsCache=Nn,Nn))}triggerHeartbeat(){var St=this;return(0,_.Z)(function*(){const Nn=St.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jn=en();if(null===St._heartbeatsCache&&(St._heartbeatsCache=yield St._heartbeatsCachePromise),St._heartbeatsCache.lastSentHeartbeatDate!==jn&&!St._heartbeatsCache.heartbeats.some(yr=>yr.date===jn))return St._heartbeatsCache.heartbeats.push({date:jn,agent:Nn}),St._heartbeatsCache.heartbeats=St._heartbeatsCache.heartbeats.filter(yr=>{const Cr=new Date(yr.date).valueOf();return Date.now()-Cr<=2592e6}),St._storage.overwrite(St._heartbeatsCache)})()}getHeartbeatsHeader(){var St=this;return(0,_.Z)(function*(){if(null===St._heartbeatsCache&&(yield St._heartbeatsCachePromise),null===St._heartbeatsCache||0===St._heartbeatsCache.heartbeats.length)return"";const Qt=en(),{heartbeatsToSend:Nn,unsentEntries:jn}=function Dn(Ut,St=1024){const Qt=[];let Nn=Ut.slice();for(const jn of Ut){const yr=Qt.find(Cr=>Cr.agent===jn.agent);if(yr){if(yr.dates.push(jn.date),cr(Qt)>St){yr.dates.pop();break}}else if(Qt.push({agent:jn.agent,dates:[jn.date]}),cr(Qt)>St){Qt.pop();break}Nn=Nn.slice(1)}return{heartbeatsToSend:Qt,unsentEntries:Nn}}(St._heartbeatsCache.heartbeats),yr=(0,he.L)(JSON.stringify({version:2,heartbeats:Nn}));return St._heartbeatsCache.lastSentHeartbeatDate=Qt,jn.length>0?(St._heartbeatsCache.heartbeats=jn,yield St._storage.overwrite(St._heartbeatsCache)):(St._heartbeatsCache.heartbeats=[],St._storage.overwrite(St._heartbeatsCache)),yr})()}}function en(){return(new Date).toISOString().substring(0,10)}class Qn{constructor(St){this.app=St,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var St=this;return(0,_.Z)(function*(){return(yield St._canUseIndexedDBPromise)&&(yield function Ct(Ut){return ot.apply(this,arguments)}(St.app))||{heartbeats:[]}})()}overwrite(St){var Qt=this;return(0,_.Z)(function*(){var Nn;if(yield Qt._canUseIndexedDBPromise){const yr=yield Qt.read();return gn(Qt.app,{lastSentHeartbeatDate:null!==(Nn=St.lastSentHeartbeatDate)&&void 0!==Nn?Nn:yr.lastSentHeartbeatDate,heartbeats:St.heartbeats})}})()}add(St){var Qt=this;return(0,_.Z)(function*(){var Nn;if(yield Qt._canUseIndexedDBPromise){const yr=yield Qt.read();return gn(Qt.app,{lastSentHeartbeatDate:null!==(Nn=St.lastSentHeartbeatDate)&&void 0!==Nn?Nn:yr.lastSentHeartbeatDate,heartbeats:[...yr.heartbeats,...St.heartbeats]})}})()}}function cr(Ut){return(0,he.L)(JSON.stringify({version:2,heartbeats:Ut})).length}!function Gr(Ut){on(new y.wA("platform-logger",St=>new Ve(St),"PRIVATE")),on(new y.wA("heartbeat",St=>new Ot(St),"PRIVATE")),Ht(_t,"0.9.9",Ut),Ht(_t,"0.9.9","esm2017"),Ht("fire-js","")}("")},4859:(yn,gt,H)=>{"use strict";H.d(gt,{H0:()=>Ue,wA:()=>ee,zt:()=>Be});var _=H(5861),y=H(2090);class ee{constructor(_e,ge,ve){this.name=_e,this.instanceFactory=ge,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const he="[DEFAULT]";class Be{constructor(_e,ge){this.name=_e,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const ge=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(ge)){const ve=new y.BH;if(this.instancesDeferred.set(ge,ve),this.isInitialized(ge)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ge});ze&&ve.resolve(ze)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(_e){var ge;const ve=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),ze=null!==(ge=null==_e?void 0:_e.optional)&&void 0!==ge&&ge;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(He){if(ze)return null;throw He}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function me(Ne){return"EAGER"===Ne.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ge,ve]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ge);try{const He=this.getOrInitializeService({instanceIdentifier:ze});ve.resolve(He)}catch{}}}}clearInstance(_e=he){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,_.Z)(function*(){const ge=Array.from(_e.instances.values());yield Promise.all([...ge.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ge.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=he){return this.instances.has(_e)}getOptions(_e=he){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:ge={}}=_e,ve=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ve,options:ge});for(const[He,rt]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(He)&&rt.resolve(ze);return ze}onInit(_e,ge){var ve;const ze=this.normalizeInstanceIdentifier(ge),He=null!==(ve=this.onInitCallbacks.get(ze))&&void 0!==ve?ve:new Set;He.add(_e),this.onInitCallbacks.set(ze,He);const rt=this.instances.get(ze);return rt&&_e(rt,ze),()=>{He.delete(_e)}}invokeOnInitCallbacks(_e,ge){const ve=this.onInitCallbacks.get(ge);if(ve)for(const ze of ve)try{ze(_e,ge)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:ge={}}){let ve=this.instances.get(_e);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=_e,Ne===he?void 0:Ne),options:ge}),this.instances.set(_e,ve),this.instancesOptions.set(_e,ge),this.invokeOnInitCallbacks(ve,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,ve)}catch{}var Ne;return ve||null}normalizeInstanceIdentifier(_e=he){return this.component?this.component.multipleInstances?_e:he:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const ge=this.getProvider(_e.name);if(ge.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);ge.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const ge=new Be(_e,this);return this.providers.set(_e,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(yn,gt,H)=>{"use strict";H.d(gt,{Am:()=>Ne,Ub:()=>Ue,Yd:()=>me,in:()=>y});const _=[];var y=(()=>{return(_e=y||(y={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",y;var _e})();const ee={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},he=y.INFO,Be={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},xe=(_e,ge,...ve)=>{if(ge<_e.logLevel)return;const ze=(new Date).toISOString(),He=Be[ge];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[He](`[${ze}]  ${_e.name}:`,...ve)};class me{constructor(ge){this.name=ge,this._logLevel=he,this._logHandler=xe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in y))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?ee[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...ge),this._logHandler(this,y.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...ge),this._logHandler(this,y.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,y.INFO,...ge),this._logHandler(this,y.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,y.WARN,...ge),this._logHandler(this,y.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...ge),this._logHandler(this,y.ERROR,...ge)}}function Ue(_e){_.forEach(ge=>{ge.setLogLevel(_e)})}function Ne(_e,ge){for(const ve of _){let ze=null;ge&&ge.level&&(ze=ee[ge.level]),ve.userLogHandler=null===_e?null:(He,rt,...bt)=>{const Re=bt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");rt>=(null!=ze?ze:He.logLevel)&&_e({level:y[rt].toLowerCase(),message:Re,args:bt,type:He.name})}}}},4709:(yn,gt,H)=>{"use strict";H.d(gt,{dr:()=>gi,oU:()=>xi,cs:()=>go,YG:()=>mr,Sm:()=>Ht,PM:()=>Ge,W2:()=>ot,IJ:()=>je,W4:()=>ye,jY:()=>en,Gu:()=>Dn,gu:()=>Qn,Xz:()=>cr,pK:()=>St,Ie:()=>Qt,Q$:()=>tr,q_:()=>Wn,ki:()=>hi,I_:()=>Oi,jP:()=>oo,Nd:()=>Ke,VI:()=>Nt,cJ:()=>kt,GO:()=>Bt,g2:()=>tt,wd:()=>qt,sr:()=>Vr,Pc:()=>ga,r4:()=>pa,SH:()=>Hi,YI:()=>Es,QI:()=>Br,j9:()=>Di});var _=H(5861),y=H(4650),ee=H(433),he=H(655),Be=H(8421),xe=H(9751),me=H(5577),Ue=H(1144),Ne=H(576),_e=H(3268);const ge=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],ze=["on","off"];function He(b,q,T,W){if((0,Ne.m)(T)&&(W=T,T=void 0),W)return He(b,q,T).pipe((0,_e.Z)(W));const[pe,B]=function Se(b){return(0,Ne.m)(b.addEventListener)&&(0,Ne.m)(b.removeEventListener)}(b)?ve.map(R=>O=>b[R](q,O,T)):function bt(b){return(0,Ne.m)(b.addListener)&&(0,Ne.m)(b.removeListener)}(b)?ge.map(rt(b,q)):function Re(b){return(0,Ne.m)(b.on)&&(0,Ne.m)(b.off)}(b)?ze.map(rt(b,q)):[];if(!pe&&(0,Ue.z)(b))return(0,me.z)(R=>He(R,q,T))((0,Be.Xf)(b));if(!pe)throw new TypeError("Invalid event target");return new xe.y(R=>{const O=(...ne)=>R.next(1<ne.length?ne:ne[0]);return pe(O),()=>B(O)})}function rt(b,q){return T=>W=>b[T](q,W)}var de=H(7579),pt=H(1135),Y=H(2607),Oe=(H(2200),H(500),H(9892),H(1898),H(6406)),Pe=H(9397),we=H(3982),Ve=H(9459),_t=(H(1557),H(6280)),ft=(H(3457),H(4349),H(9816)),Le=H(9300),Fe=H(3900),lt=H(1884),vt=H(6895);const $t=Oe.i,Te=["*"];function Kn(b,q){if(1&b&&(y.TgZ(0,"div",1),y.GkF(1,2),y.qZA()),2&b){const T=y.oxw();y.xp6(1),y.Q6J("ngTemplateOutlet",T.template)}}const nn=b=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(b):"function"==typeof requestAnimationFrame?requestAnimationFrame(b):setTimeout(b);let In=(()=>{class b{constructor(T,W){this.injector=T,this.el=W,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,lr(this.el)}handleValueChange(T,W){T===this.el.nativeElement&&(W!==this.lastValue&&(this.lastValue=W,this.onChange(W)),lr(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),lr(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(ee.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>lr(this.el)));const W=T.control;W&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(B=>{if(typeof W[B]<"u"){const R=W[B].bind(W);W[B]=(...O)=>{R(...O),lr(this.el)}}})}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,hostBindings:function(T,W){1&T&&y.NdJ("ionBlur",function(B){return W._handleBlurEvent(B.target)})}}),b})();const lr=b=>{nn(()=>{const q=b.nativeElement,T=null!=q.value&&q.value.toString().length>0,W=Er(q);Xn(q,W);const pe=q.closest("ion-item");pe&&Xn(pe,T?[...W,"item-has-value"]:W)})},Er=b=>{const q=b.classList,T=[];for(let W=0;W<q.length;W++){const pe=q.item(W);null!==pe&&br(pe,"ng-")&&T.push(`ion-${pe.substring(3)}`)}return T},Xn=(b,q)=>{const T=b.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...q)},br=(b,q)=>b.substring(0,q.length)===q;let Br=(()=>{class b extends In{constructor(T,W){super(T,W)}_handleChangeEvent(T){this.handleValueChange(T,T.value)}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(T,W){1&T&&y.NdJ("ionChange",function(B){return W._handleChangeEvent(B.target)})},features:[y._Bn([{provide:ee.JU,useExisting:b,multi:!0}]),y.qOj]}),b})(),Di=(()=>{class b extends In{constructor(T,W){super(T,W)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.zs3),y.Y36(y.SBq))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,W){1&T&&y.NdJ("ionInput",function(B){return W._handleInputEvent(B.target)})},features:[y._Bn([{provide:ee.JU,useExisting:b,multi:!0}]),y.qOj]}),b})();const Ir=(b,q)=>{const T=b.prototype;q.forEach(W=>{Object.defineProperty(T,W,{get(){return this.el[W]},set(pe){this.z.runOutsideAngular(()=>this.el[W]=pe)}})})},Tn=(b,q)=>{const T=b.prototype;q.forEach(W=>{T[W]=function(){const pe=arguments;return this.z.runOutsideAngular(()=>this.el[W].apply(this.el,pe))}})},tn=(b,q,T)=>{T.forEach(W=>b[W]=He(q,W))};function on(b){return function(T){const{defineCustomElementFn:W,inputs:pe,methods:B}=b;return void 0!==W&&W(),pe&&Ir(T,pe),B&&Tn(T,B),T}}let gi=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({})],b),b})(),xi=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],b),b})(),mr=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionFocus","ionBlur"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],b),b})(),Ht=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["collapse"]})],b),b})(),Ge=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],b),b})(),ot=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],b),b})(),je=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],b),b})(),ye=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionFocus","ionBlur"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],b),b})(),en=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["fixed"]})],b),b})(),Dn=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["collapse","mode","translucent"]})],b),b})(),Qn=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],b),b})(),cr=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["alt","src"]})],b),b})(),St=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),Qt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],b),b})(),tr=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","mode","position"]})],b),b})(),Wn=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],b),b})(),Oi=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],b),b})(),Ke=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({})],b),b})(),Nt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),kt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionChange"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],b),b})(),Bt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["disabled","layout","mode","type","value"]})],b),b})(),tt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement,tn(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],b),b})(),qt=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","size"]})],b),b})(),Vr=(()=>{let b=class{constructor(T,W,pe){this.z=pe,T.detach(),this.el=W.nativeElement}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(T,W){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["color","mode"]})],b),b})(),hr=(()=>{class b{get(T,W){const pe=Rs();return pe?pe.get(T,W):null}getBoolean(T,W){const pe=Rs();return!!pe&&pe.getBoolean(T,W)}getNumber(T,W){const pe=Rs();return pe?pe.getNumber(T,W):0}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const xr=new y.OlP("USERCONFIG"),Rs=()=>{if(typeof window<"u"){const b=window.Ionic;if(null!=b&&b.config)return b.config}return null};let fo=(()=>{class b{constructor(T,W){this.doc=T,this.backButton=new de.x,this.keyboardDidShow=new de.x,this.keyboardDidHide=new de.x,this.pause=new de.x,this.resume=new de.x,this.resize=new de.x,W.run(()=>{var pe;let B;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(R,O){return this.subscribe(ne=>ne.register(R,yt=>W.run(()=>O(yt))))},ki(this.pause,T,"pause"),ki(this.resume,T,"resume"),ki(this.backButton,T,"ionBackButton"),ki(this.resize,this.win,"resize"),ki(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ki(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(R=>{B=R}),null!==(pe=this.win)&&void 0!==pe&&pe.cordova?T.addEventListener("deviceready",()=>{B("cordova")},{once:!0}):B("dom")})}is(T){return(0,Oe.a)(this.win,T)}platforms(){return(0,Oe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return $i(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,W;return null===(T=(W=this.win).matchMedia)||void 0===T?void 0:T.call(W,"(orientation: portrait)").matches}testUserAgent(T){const W=this.win.navigator;return!!(null!=W&&W.userAgent&&W.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return b.\u0275fac=function(T){return new(T||b)(y.LFG(vt.K0),y.LFG(y.R0b))},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const $i=(b,q)=>{q=q.replace(/[[\]\\]/g,"\\$&");const W=new RegExp("[\\?&]"+q+"=([^&#]*)").exec(b);return W?decodeURIComponent(W[1].replace(/\+/g," ")):null},ki=(b,q,T)=>{q&&q.addEventListener(T,W=>{b.next(null!=W?W.detail:void 0)})};let Hi=(()=>{class b{constructor(T,W,pe,B){this.location=W,this.serializer=pe,this.router=B,this.direction=ca,this.animated=qi,this.guessDirection="forward",this.lastNavId=-1,B&&B.events.subscribe(R=>{if(R instanceof Y.OD){const O=R.restoredState?R.restoredState.navigationId:R.id;this.guessDirection=O<this.lastNavId?"back":"forward",this.guessAnimation=R.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?R.id:O}}),T.backButton.subscribeWithPriority(0,R=>{this.pop(),R()})}navigateForward(T,W={}){return this.setDirection("forward",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}navigateBack(T,W={}){return this.setDirection("back",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}navigateRoot(T,W={}){return this.setDirection("root",W.animated,W.animationDirection,W.animation),this.navigate(T,W)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,_.Z)(function*(){let W=T.topOutlet;for(;W&&!(yield W.pop());)W=W.parentOutlet})()}setDirection(T,W,pe,B){this.direction=T,this.animated=Yo(T,W,pe),this.animationBuilder=B}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let W,T="root";const pe=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,W=this.guessAnimation):(W=this.animated,T=this.direction),this.direction=ca,this.animated=qi,this.animationBuilder=void 0,{direction:T,animation:W,animationBuilder:pe}}navigate(T,W){if(Array.isArray(T))return this.router.navigate(T,W);{const pe=this.serializer.parse(T.toString());return void 0!==W.queryParams&&(pe.queryParams={...W.queryParams}),void 0!==W.fragment&&(pe.fragment=W.fragment),this.router.navigateByUrl(pe,W)}}}return b.\u0275fac=function(T){return new(T||b)(y.LFG(fo),y.LFG(vt.Ye),y.LFG(Y.Hx),y.LFG(Y.F0,8))},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Yo=(b,q,T)=>{if(!1!==q){if(void 0!==T)return T;if("forward"===b||"back"===b)return b;if("root"===b&&!0===q)return"forward"}},ca="auto",qi=void 0;class no{constructor(q={}){this.data=q}get(q){return this.data[q]}}let Ls=(()=>{class b{constructor(){this.zone=(0,y.f3M)(y.R0b),this.applicationRef=(0,y.f3M)(y.z2F)}create(T,W,pe){return new wa(T,W,this.applicationRef,this.zone,pe)}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})();class wa{constructor(q,T,W,pe,B){this.environmentInjector=q,this.injector=T,this.applicationRef=W,this.zone=pe,this.elementReferenceKey=B,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(q,T,W,pe){return this.zone.run(()=>new Promise(B=>{const R={...W};void 0!==this.elementReferenceKey&&(R[this.elementReferenceKey]=q),B(bo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,q,T,R,pe))}))}removeViewFromDom(q,T){return this.zone.run(()=>new Promise(W=>{const pe=this.elRefMap.get(T);if(pe){pe.destroy(),this.elRefMap.delete(T);const B=this.elEventsMap.get(T);B&&(B(),this.elEventsMap.delete(T))}W()}))}}const bo=(b,q,T,W,pe,B,R,O,ne,yt)=>{const dn=y.zs3.create({providers:rl(ne),parent:T}),jr=(0,y.LMc)(O,{environmentInjector:q,elementInjector:dn}),yi=jr.instance,Si=jr.location.nativeElement;if(ne&&Object.assign(yi,ne),yt)for(const Gs of yt)Si.classList.add(Gs);const gs=ro(b,yi,Si);return R.appendChild(Si),W.attachView(jr.hostView),pe.set(Si,jr),B.set(Si,gs),Si},Ms=[Ve.L,Ve.a,Ve.b,Ve.c,Ve.d],ro=(b,q,T)=>b.run(()=>{const W=Ms.filter(pe=>"function"==typeof q[pe]).map(pe=>{const B=R=>q[pe](R.detail);return T.addEventListener(pe,B),()=>T.removeEventListener(pe,B)});return()=>W.forEach(pe=>pe())}),ua=new y.OlP("NavParamsToken"),rl=b=>[{provide:ua,useValue:b},{provide:no,useFactory:io,deps:[ua]}],io=b=>new no(b),da=(b,q)=>((b=b.filter(T=>T.stackId!==q.stackId)).push(q),b),ha=(b,q)=>{const T=b.createUrlTree(["."],{relativeTo:q});return b.serializeUrl(T)},so=(b,q)=>{if(!b)return;const T=Ii(q);for(let W=0;W<T.length;W++){if(W>=b.length)return T[W];if(T[W]!==b[W])return}},Ii=b=>b.split("/").map(q=>q.trim()).filter(q=>""!==q),ts=b=>{b&&(b.ref.destroy(),b.unlistenEvents())};class Do{constructor(q,T,W,pe,B,R){this.containerEl=T,this.router=W,this.navCtrl=pe,this.zone=B,this.location=R,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==q?Ii(q):void 0}createView(q,T){var W;const pe=ha(this.router,T),B=null==q||null===(W=q.location)||void 0===W?void 0:W.nativeElement,R=ro(this.zone,q.instance,B);return{id:this.nextId++,stackId:so(this.tabsPrefix,pe),unlistenEvents:R,element:B,ref:q,url:pe}}getExistingView(q){const T=ha(this.router,q),W=this.views.find(pe=>pe.url===T);return W&&W.ref.changeDetectorRef.reattach(),W}setActive(q){var T,W,pe;const B=this.navCtrl.consumeTransition();let{direction:R,animation:O,animationBuilder:ne}=B;const yt=this.activeView,dn=((b,q)=>!q||b.stackId!==q.stackId)(q,yt);dn&&(R="back",O=void 0);const jr=this.views.slice();let yi;const Si=this.router;Si.getCurrentNavigation?yi=Si.getCurrentNavigation():null!==(T=Si.navigations)&&void 0!==T&&T.value&&(yi=Si.navigations.value),null!==(W=yi)&&void 0!==W&&null!==(pe=W.extras)&&void 0!==pe&&pe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const gs=this.views.includes(q),Gs=this.insertView(q,R);gs||q.ref.changeDetectorRef.detectChanges();const Ai=q.animationBuilder;return void 0===ne&&"back"===R&&!dn&&void 0!==Ai&&(ne=Ai),yt&&(yt.animationBuilder=ne),this.zone.runOutsideAngular(()=>this.wait(()=>(yt&&yt.ref.changeDetectorRef.detach(),q.ref.changeDetectorRef.reattach(),this.transition(q,yt,O,this.canGoBack(1),!1,ne).then(()=>Hs(q,Gs,jr,this.location,this.zone)).then(()=>({enteringView:q,direction:R,animation:O,tabSwitch:dn})))))}canGoBack(q,T=this.getActiveStackId()){return this.getStack(T).length>q}pop(q,T=this.getActiveStackId()){return this.zone.run(()=>{const W=this.getStack(T);if(W.length<=q)return Promise.resolve(!1);const pe=W[W.length-q-1];let B=pe.url;const R=pe.savedData;if(R){var O,ne;const dn=R.get("primary");null!=dn&&null!==(O=dn.route)&&void 0!==O&&null!==(ne=O._routerState)&&void 0!==ne&&ne.snapshot.url&&(B=dn.route._routerState.snapshot.url)}const{animationBuilder:yt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(B,{...pe.savedExtras,animation:yt}).then(()=>!0)})}startBackTransition(){const q=this.activeView;if(q){const T=this.getStack(q.stackId),W=T[T.length-2],pe=W.animationBuilder;return this.wait(()=>this.transition(W,q,"back",this.canGoBack(2),!0,pe))}return Promise.resolve()}endBackTransition(q){q?(this.skipTransition=!0,this.pop(1)):this.activeView&&Zo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(q){const T=this.getStack(q);return T.length>0?T[T.length-1]:void 0}getRootUrl(q){const T=this.getStack(q);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ts),this.activeView=void 0,this.views=[]}getStack(q){return this.views.filter(T=>T.stackId===q)}insertView(q,T){return this.activeView=q,this.views=((b,q,T)=>"root"===T?da(b,q):"forward"===T?((b,q)=>(b.indexOf(q)>=0?b=b.filter(W=>W.stackId!==q.stackId||W.id<=q.id):b.push(q),b))(b,q):((b,q)=>b.indexOf(q)>=0?b.filter(W=>W.stackId!==q.stackId||W.id<=q.id):da(b,q))(b,q))(this.views,q,T),this.views.slice()}transition(q,T,W,pe,B,R){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===q)return Promise.resolve(!1);const O=q?q.element:void 0,ne=T?T.element:void 0,yt=this.containerEl;return O&&O!==ne&&(O.classList.add("ion-page"),O.classList.add("ion-page-invisible"),O.parentElement!==yt&&yt.appendChild(O),yt.commit)?yt.commit(O,ne,{duration:void 0===W?0:void 0,direction:W,showGoBack:pe,progressAnimation:B,animationBuilder:R}):Promise.resolve(!1)}wait(q){var T=this;return(0,_.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const W=T.runningTask=q();return W.finally(()=>T.runningTask=void 0),W})()}}const Hs=(b,q,T,W,pe)=>"function"==typeof requestAnimationFrame?new Promise(B=>{requestAnimationFrame(()=>{Zo(b,q,T,W,pe),B()})}):Promise.resolve(),Zo=(b,q,T,W,pe)=>{pe.run(()=>T.filter(B=>!q.includes(B)).forEach(ts)),q.forEach(B=>{const O=W.path().split("?")[0].split("#")[0];if(B!==b&&B.url!==O){const ne=B.element;ne.setAttribute("aria-hidden","true"),ne.classList.add("ion-page-hidden"),B.ref.changeDetectorRef.detach()}})};let oo=(()=>{class b{constructor(T,W,pe,B,R,O,ne,yt){this.parentOutlet=yt,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new pt.X(null),this.stackEvents=new y.vpe,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Y.y6),this.location=(0,y.f3M)(y.s_b),this.environmentInjector=(0,y.f3M)(y.lqb),this.config=(0,y.f3M)(hr),this.navCtrl=(0,y.f3M)(Hi),this.nativeEl=B.nativeElement,this.name=T||Y.eC,this.tabsPrefix="true"===W?ha(R,ne):void 0,this.stackCtrl=new Do(this.tabsPrefix,this.nativeEl,R,this.navCtrl,O,pe),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:W=>this.stackCtrl.endBackTransition(W)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Pe.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,W){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const W=this.getContext();this.activatedView.savedData=new Map(W.children.contexts);const pe=this.activatedView.savedData.get("primary");if(pe&&W.route&&(pe.route={...W.route}),this.activatedView.savedExtras={},W.route){const B=W.route.snapshot;this.activatedView.savedExtras.queryParams=B.queryParams,this.activatedView.savedExtras.fragment=B.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,W){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let pe,B=this.stackCtrl.getExistingView(T);if(B){pe=this.activated=B.ref;const O=B.savedData;O&&(this.getContext().children.contexts=O),this.updateActivatedRouteProxy(pe.instance,T)}else{var R;const O=T._futureSnapshot,ne=this.parentContexts.getOrCreateContext(this.name).children,yt=new pt.X(null),dn=this.createActivatedRouteProxy(yt,T),jr=new Ds(dn,ne,this.location.injector),yi=null!==(R=O.routeConfig.component)&&void 0!==R?R:O.component;pe=this.activated=this.location.createComponent(yi,{index:this.location.length,injector:jr,environmentInjector:null!=W?W:this.environmentInjector}),yt.next(pe.instance),B=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(pe.instance,dn),this.currentActivatedRoute$.next({component:pe.instance,activatedRoute:T})}this.activatedView=B,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(B).then(O=>{this.activateEvents.emit(pe.instance),this.stackEvents.emit(O)})}canGoBack(T=1,W){return this.stackCtrl.canGoBack(T,W)}pop(T=1,W){return this.stackCtrl.pop(T,W)}getLastUrl(T){const W=this.stackCtrl.getLastUrl(T);return W?W.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,W){const pe=new Y.gz;return pe._futureSnapshot=W._futureSnapshot,pe._routerState=W._routerState,pe.snapshot=W.snapshot,pe.outlet=W.outlet,pe.component=W.component,pe._paramMap=this.proxyObservable(T,"paramMap"),pe._queryParamMap=this.proxyObservable(T,"queryParamMap"),pe.url=this.proxyObservable(T,"url"),pe.params=this.proxyObservable(T,"params"),pe.queryParams=this.proxyObservable(T,"queryParams"),pe.fragment=this.proxyObservable(T,"fragment"),pe.data=this.proxyObservable(T,"data"),pe}proxyObservable(T,W){return T.pipe((0,Le.h)(pe=>!!pe),(0,Fe.w)(pe=>this.currentActivatedRoute$.pipe((0,Le.h)(B=>null!==B&&B.component===pe),(0,Fe.w)(B=>B&&B.activatedRoute[W]),(0,lt.x)())))}updateActivatedRouteProxy(T,W){const pe=this.proxyMap.get(T);if(!pe)throw new Error("Could not find activated route proxy for view");pe._futureSnapshot=W._futureSnapshot,pe._routerState=W._routerState,pe.snapshot=W.snapshot,pe.outlet=W.outlet,pe.component=W.component,this.currentActivatedRoute$.next({component:T,activatedRoute:W})}}return b.\u0275fac=function(T){return new(T||b)(y.$8M("name"),y.$8M("tabs"),y.Y36(vt.Ye),y.Y36(y.SBq),y.Y36(Y.F0),y.Y36(y.R0b),y.Y36(Y.gz),y.Y36(b,12))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class Ds{constructor(q,T,W){this.route=q,this.childContexts=T,this.parent=W}get(q,T){return q===Y.gz?this.route:q===Y.y6?this.childContexts:this.parent.get(q,T)}}let go=(()=>{class b{constructor(T,W,pe){this.routerOutlet=T,this.navCtrl=W,this.config=pe}onClick(T){var W;const pe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(W=this.routerOutlet)&&void 0!==W&&W.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),T.preventDefault()):null!=pe&&(this.navCtrl.navigateBack(pe,{animation:this.routerAnimation}),T.preventDefault())}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(oo,8),y.Y36(Hi),y.Y36(hr))},b.\u0275dir=y.lG2({type:b,selectors:[["ion-back-button"]],hostBindings:function(T,W){1&T&&y.NdJ("click",function(B){return W.onClick(B)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),b})(),Es=(()=>{class b{constructor(T,W,pe,B,R){this.locationStrategy=T,this.navCtrl=W,this.elementRef=pe,this.router=B,this.routerLink=R,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const W=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=W}}onClick(T){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),T.preventDefault()}}return b.\u0275fac=function(T){return new(T||b)(y.Y36(vt.S$),y.Y36(Hi),y.Y36(y.SBq),y.Y36(Y.F0),y.Y36(Y.rH,8))},b.\u0275dir=y.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,W){1&T&&y.NdJ("click",function(B){return W.onClick(B)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[y.TTD]}),b})(),hi=(()=>{let b=class{constructor(T,W,pe){this.z=pe,this.isCmpOpen=!1,this.el=W.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,T.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,T.detectChanges()}),tn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return b.\u0275fac=function(T){return new(T||b)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},b.\u0275cmp=y.Xpm({type:b,selectors:[["ion-modal"]],contentQueries:function(T,W,pe){if(1&T&&y.Suo(pe,y.Rgc,5),2&T){let B;y.iGM(B=y.CRH())&&(W.template=B.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(T,W){1&T&&y.YNc(0,Kn,2,1,"div",0),2&T&&y.Q6J("ngIf",W.isCmpOpen||W.keepContentsMounted)},dependencies:[vt.O5,vt.tP],encapsulation:2,changeDetection:0}),b=(0,he.gn)([on({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],b),b})();class Bo{constructor(q){this.ctrl=q}create(q){return this.ctrl.create(q||{})}dismiss(q,T,W){return this.ctrl.dismiss(q,T,W)}getTop(){return this.ctrl.getTop()}}let Ps=(()=>{class b extends Bo{constructor(){super(_t.m),this.angularDelegate=(0,y.f3M)(Ls),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})(),zs=(()=>{class b extends Bo{constructor(){super(_t.c),this.angularDelegate=(0,y.f3M)(Ls),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),b})();class pa{shouldDetach(q){return!1}shouldAttach(q){return!1}store(q,T){}retrieve(q){return null}shouldReuseRoute(q,T){if(q.routeConfig!==T.routeConfig)return!1;const W=q.params,pe=T.params,B=Object.keys(W),R=Object.keys(pe);if(B.length!==R.length)return!1;for(const O of B)if(pe[O]!==W[O])return!1;return!0}}const ea=(b,q,T)=>()=>{if(q.defaultView&&typeof window<"u"){(0,we.s)({...b,_zoneGate:B=>T.run(B)});const pe="__zone_symbol__addEventListener"in q.body?"__zone_symbol__addEventListener":"addEventListener";return function Zt(){var b=[];if(typeof window<"u"){var q=window;(!q.customElements||q.Element&&(!q.Element.prototype.closest||!q.Element.prototype.matches||!q.Element.prototype.remove||!q.Element.prototype.getRootNode))&&b.push(H.e(6748).then(H.t.bind(H,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||q.NodeList&&!q.NodeList.prototype.forEach||!q.fetch||!function(){try{var W=new URL("b","http://a");return W.pathname="c%20d","http://a/c%20d"===W.href&&W.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&b.push(H.e(2214).then(H.t.bind(H,4144,23)))}return Promise.all(b)}().then(()=>((b,q)=>typeof window>"u"?Promise.resolve():(0,ft.p)().then(()=>($t(),(0,ft.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),q))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nn,jmp:B=>T.runOutsideAngular(B),ael(B,R,O,ne){B[pe](R,O,ne)},rel(B,R,O,ne){B.removeEventListener(R,O,ne)}}))}};let ga=(()=>{class b{static forRoot(T){return{ngModule:b,providers:[{provide:xr,useValue:T},{provide:y.ip1,useFactory:ea,multi:!0,deps:[xr,vt.K0,y.R0b]}]}}}return b.\u0275fac=function(T){return new(T||b)},b.\u0275mod=y.oAB({type:b}),b.\u0275inj=y.cJS({providers:[Ls,Ps,zs],imports:[vt.ez]}),b})()},259:(yn,gt,H)=>{"use strict";H.d(gt,{C6:()=>_.getApps,Mq:()=>_.getApp,ZR:()=>_.FirebaseError});var _=H(6881);(0,_.registerVersion)("firebase","9.21.0","app")},9260:(yn,gt,H)=>{"use strict";H.d(gt,{Z:()=>_.Z});var _=H(3942);_.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(yn,gt,H)=>{"use strict";H.r(gt);var _=H(5861),y=H(3942),ee=H(2090),he=H(6881),Be=H(655),xe=H(1877),me=H(4859);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve_EMAIL_SIGNIN="EMAIL_SIGNIN",ve_PASSWORD_RESET="PASSWORD_RESET",ve_RECOVER_EMAIL="RECOVER_EMAIL",ve_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ve_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ve_VERIFY_EMAIL="VERIFY_EMAIL";const rt=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},bt=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new xe.Yd("@firebase/auth");function Y(C,...g){de.logLevel<=xe.in.ERROR&&de.error(`Auth (${he.SDK_VERSION}): ${C}`,...g)}function et(C,...g){throw Oe(C,...g)}function Ze(C,...g){return Oe(C,...g)}function At(C,g,m){const A=Object.assign(Object.assign({},bt()),{[g]:m});return new ee.LL("auth","Firebase",A).create(g,{appName:C.name})}function $e(C,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&et(C,"argument-error"),At(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(C,...g){if("string"!=typeof C){const m=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(m,...A)}return Re.create(C,...g)}function Pe(C,g,...m){if(!C)throw Oe(g,...m)}function we(C){const g="INTERNAL ASSERTION FAILED: "+C;throw Y(g),new Error(g)}function Ve(C,g){C||we(g)}function ht(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function _t(){return"http:"===ct()||"https:"===ct()}function ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ke{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ve(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(C,g){Ve(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Fe{static initialize(g,m,A){this.fetchImpl=g,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new ke(3e4,6e4);function Zt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function $t(C,g,m,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(C,g,m,A,K={}){return Dt(C,K,(0,_.Z)(function*(){let oe={},Je={};A&&("GET"===g?Je=A:oe={body:JSON.stringify(A)});const mt=(0,ee.xO)(Object.assign({key:C.config.apiKey},Je)).slice(1),Kt=yield C._getAdditionalHeaders();return Kt["Content-Type"]="application/json",C.languageCode&&(Kt["X-Firebase-Locale"]=C.languageCode),Fe.fetch()(Rn(C,C.config.apiHost,m,mt),Object.assign({method:g,headers:Kt,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Dt(C,g,m){return Te.apply(this,arguments)}function Te(){return(Te=(0,_.Z)(function*(C,g,m){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},lt),g);try{const K=new Kn(C),oe=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Je=yield oe.json();if("needConfirmation"in Je)throw Cn(C,"account-exists-with-different-credential",Je);if(oe.ok&&!("errorMessage"in Je))return Je;{const mt=oe.ok?Je.errorMessage:Je.error.message,[Kt,kn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw Cn(C,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Kt)throw Cn(C,"email-already-in-use",Je);if("USER_DISABLED"===Kt)throw Cn(C,"user-disabled",Je);const er=A[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(kn)throw At(C,er,kn);et(C,er)}}catch(K){if(K instanceof ee.ZR)throw K;et(C,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Tt(C,g,m,A){return ln.apply(this,arguments)}function ln(){return(ln=(0,_.Z)(function*(C,g,m,A,K={}){const oe=yield $t(C,g,m,A,K);return"mfaPendingCredential"in oe&&et(C,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Rn(C,g,m,A){const K=`${g}${m}?${A}`;return C.config.emulator?Le(C.config,K):`${C.config.apiScheme}://${K}`}class Kn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(Ze(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cn(C,g,m){const A={appName:C.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const K=Ze(C,g,A);return K.customData._tokenResponse=m,K}function In(){return(In=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Er(){return(Er=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function br(){return(br=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function cn(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Br(){return(Br=(0,_.Z)(function*(C,g=!1){const m=(0,ee.m9)(C),A=yield m.getIdToken(g),K=Ir(A);Pe(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const oe="object"==typeof K.firebase?K.firebase:void 0,Je=null==oe?void 0:oe.sign_in_provider;return{claims:K,token:A,authTime:cn(Di(K.auth_time)),issuedAtTime:cn(Di(K.iat)),expirationTime:cn(Di(K.exp)),signInProvider:Je||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function Di(C){return 1e3*Number(C)}function Ir(C){const[g,m,A]=C.split(".");if(void 0===g||void 0===m||void 0===A)return Y("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,ee.tV)(m);return K?JSON.parse(K):(Y("Failed to decode base64 JWT payload"),null)}catch(K){return Y("Caught error parsing JWT payload as JSON",null==K?void 0:K.toString()),null}}function tn(C,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,_.Z)(function*(C,g,m=!1){if(m)return g;try{return yield g}catch(A){throw A instanceof ee.ZR&&function on({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}class Jr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),A)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Sr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=cn(this.lastLoginAt),this.creationTime=cn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qr(C){return ni.apply(this,arguments)}function ni(){return ni=(0,_.Z)(function*(C){var g;const m=C.auth,A=yield C.getIdToken(),K=yield tn(C,function Xn(C,g){return br.apply(this,arguments)}(m,{idToken:A}));Pe(null==K?void 0:K.users.length,m,"internal-error");const oe=K.users[0];C._notifyReloadListener(oe);const Je=null!==(g=oe.providerUserInfo)&&void 0!==g&&g.length?function or(C){return C.map(g=>{var{providerId:m}=g,A=(0,Be._T)(g,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(oe.providerUserInfo):[],mt=function xi(C,g){return[...C.filter(A=>!g.some(K=>K.providerId===A.providerId)),...g]}(C.providerData,Je),er=!!C.isAnonymous&&!(C.email&&oe.passwordHash||null!=mt&&mt.length),nr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:mt,metadata:new Sr(oe.createdAt,oe.lastLoginAt),isAnonymous:er};Object.assign(C,nr)}),ni.apply(this,arguments)}function Ur(){return(Ur=(0,_.Z)(function*(C){const g=(0,ee.m9)(C);yield qr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ei(){return(Ei=(0,_.Z)(function*(C,g){const m=yield Dt(C,{},(0,_.Z)(function*(){const A=(0,ee.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:oe}=C.config,Je=Rn(C,K,"/v1/token",`key=${oe}`),mt=yield C._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(Je,{method:"POST",headers:mt,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Pe(g.idToken,"internal-error"),Pe(typeof g.idToken<"u","internal-error"),Pe(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Tn(C){const g=Ir(C);return Pe(g,"internal-error"),Pe(typeof g.exp<"u","internal-error"),Pe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var A=this;return(0,_.Z)(function*(){return Pe(!A.accessToken||A.refreshToken,g,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var A=this;return(0,_.Z)(function*(){const{accessToken:K,refreshToken:oe,expiresIn:Je}=yield function Yn(C,g){return Ei.apply(this,arguments)}(g,m);A.updateTokensAndExpiration(K,oe,Number(Je))})()}updateTokensAndExpiration(g,m,A){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,m){const{refreshToken:A,accessToken:K,expirationTime:oe}=m,Je=new Pr;return A&&(Pe("string"==typeof A,"internal-error",{appName:g}),Je.refreshToken=A),K&&(Pe("string"==typeof K,"internal-error",{appName:g}),Je.accessToken=K),oe&&(Pe("number"==typeof oe,"internal-error",{appName:g}),Je.expirationTime=oe),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Pr,this.toJSON())}_performRefresh(){return we("not implemented")}}function mr(C,g){Pe("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class Ht{constructor(g){var{uid:m,auth:A,stsTokenManager:K}=g,oe=(0,Be._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Sr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,_.Z)(function*(){const A=yield tn(m,m.stsTokenManager.getToken(m.auth,g));return Pe(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(g){return function Zr(C){return Br.apply(this,arguments)}(this,g)}reload(){return function gi(C){return Ur.apply(this,arguments)}(this)}_assign(g){this!==g&&(Pe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Ht(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var A=this;return(0,_.Z)(function*(){let K=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),K=!0),m&&(yield qr(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,_.Z)(function*(){const m=yield g.getIdToken();return yield tn(g,function nn(C,g){return In.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var A,K,oe,Je,mt,Kt,kn,er;const nr=null!==(A=m.displayName)&&void 0!==A?A:void 0,as=null!==(K=m.email)&&void 0!==K?K:void 0,Go=null!==(oe=m.phoneNumber)&&void 0!==oe?oe:void 0,Yd=null!==(Je=m.photoURL)&&void 0!==Je?Je:void 0,dl=null!==(mt=m.tenantId)&&void 0!==mt?mt:void 0,Nc=null!==(Kt=m._redirectEventId)&&void 0!==Kt?Kt:void 0,Ns=null!==(kn=m.createdAt)&&void 0!==kn?kn:void 0,Ou=null!==(er=m.lastLoginAt)&&void 0!==er?er:void 0,{uid:ou,emailVerified:Xl,isAnonymous:au,providerData:Zd,stsTokenManager:gd}=m;Pe(ou&&gd,g,"internal-error");const md=Pr.fromJSON(this.name,gd);Pe("string"==typeof ou,g,"internal-error"),mr(nr,g.name),mr(as,g.name),Pe("boolean"==typeof Xl,g,"internal-error"),Pe("boolean"==typeof au,g,"internal-error"),mr(Go,g.name),mr(Yd,g.name),mr(dl,g.name),mr(Nc,g.name),mr(Ns,g.name),mr(Ou,g.name);const Nh=new Ht({uid:ou,auth:g,email:as,emailVerified:Xl,displayName:nr,isAnonymous:au,photoURL:Yd,phoneNumber:Go,tenantId:dl,stsTokenManager:md,createdAt:Ns,lastLoginAt:Ou});return Zd&&Array.isArray(Zd)&&(Nh.providerData=Zd.map(Fc=>Object.assign({},Fc))),Nc&&(Nh._redirectEventId=Nc),Nh}static _fromIdTokenResponse(g,m,A=!1){return(0,_.Z)(function*(){const K=new Pr;K.updateFromServerResponse(m);const oe=new Ht({uid:m.localId,auth:g,stsTokenManager:K,isAnonymous:A});return yield qr(oe),oe})()}}const Ge=new Map;function Qe(C){Ve(C instanceof Function,"Expected a class definition");let g=Ge.get(C);return g?(Ve(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,Ge.set(C,g),g)}const zt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,A){var K=this;return(0,_.Z)(function*(){K.storage[m]=A})()}_get(m){var A=this;return(0,_.Z)(function*(){const K=A.storage[m];return void 0===K?null:K})()}_remove(m){var A=this;return(0,_.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return C.type="NONE",C})();function Ce(C,g,m){return`firebase:${C}:${g}:${m}`}class be{constructor(g,m,A){this.persistence=g,this.auth=m,this.userKey=A;const{config:K,name:oe}=this.auth;this.fullUserKey=Ce(this.userKey,K.apiKey,oe),this.fullPersistenceKey=Ce("persistence",K.apiKey,oe),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ht._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,_.Z)(function*(){if(m.persistence===g)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,A="authUser"){return(0,_.Z)(function*(){if(!m.length)return new be(Qe(zt),g,A);const K=(yield Promise.all(m.map(function(){var kn=(0,_.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return kn.apply(this,arguments)}}()))).filter(kn=>kn);let oe=K[0]||Qe(zt);const Je=Ce(A,g.config.apiKey,g.name);let mt=null;for(const kn of m)try{const er=yield kn._get(Je);if(er){const nr=Ht._fromJSON(g,er);kn!==oe&&(mt=nr),oe=kn;break}}catch{}const Kt=K.filter(kn=>kn._shouldAllowMigration);return oe._shouldAllowMigration&&Kt.length?(oe=Kt[0],mt&&(yield oe._set(Je,mt.toJSON())),yield Promise.all(m.map(function(){var kn=(0,_.Z)(function*(er){if(er!==oe)try{yield er._remove(Je)}catch{}});return function(er){return kn.apply(this,arguments)}}())),new be(oe,g,A)):new be(oe,g,A)})()}}function We(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ct(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ye(g))return"Blackberry";if(dt(g))return"Webos";if(ot(g))return"Safari";if((g.includes("chrome/")||gn(g))&&!g.includes("edge/"))return"Chrome";if(je(g))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ct(C=(0,ee.z$)()){return/firefox\//i.test(C)}function ot(C=(0,ee.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function gn(C=(0,ee.z$)()){return/crios\//i.test(C)}function Ye(C=(0,ee.z$)()){return/iemobile/i.test(C)}function je(C=(0,ee.z$)()){return/android/i.test(C)}function ye(C=(0,ee.z$)()){return/blackberry/i.test(C)}function dt(C=(0,ee.z$)()){return/webos/i.test(C)}function Ot(C=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function cr(C=(0,ee.z$)()){return Ot(C)||je(C)||dt(C)||ye(C)||/windows phone/i.test(C)||Ye(C)}function Ut(C,g=[]){let m;switch(C){case"Browser":m=We((0,ee.z$)());break;case"Worker":m=`${We((0,ee.z$)())}-${C}`;break;default:m=C}const A=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${A}`}function Qt(){return(Qt=(0,_.Z)(function*(C){return(yield $t(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nn(C,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,_.Z)(function*(C,g){return $t(C,"GET","/v2/recaptchaConfig",Zt(C,g))})).apply(this,arguments)}function yr(C){return void 0!==C&&void 0!==C.getResponse}function Cr(C){return void 0!==C&&void 0!==C.enterprise}class $n{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Wn(C){return new Promise((g,m)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=g,A.onerror=K=>{const oe=Ze("internal-error");oe.customData=K,m(oe)},A.type="text/javascript",A.charset="UTF-8",function tr(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(A)})}function ar(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ji="NO_RECAPTCHA";class _s{constructor(g){this.type="recaptcha-enterprise",this.auth=Dr(g)}verify(g="verify",m=!1){var A=this;return(0,_.Z)(function*(){function oe(){return oe=(0,_.Z)(function*(mt){if(!m){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var Kt=(0,_.Z)(function*(kn,er){Nn(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nr=>{if(void 0!==nr.recaptchaKey){const as=new $n(nr);return null==mt.tenantId?mt._agentRecaptchaConfig=as:mt._tenantRecaptchaConfigs[mt.tenantId]=as,kn(as.siteKey)}er(new Error("recaptcha Enterprise site key undefined"))}).catch(nr=>{er(nr)})});return function(kn,er){return Kt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Je(mt,Kt,kn){const er=window.grecaptcha;Cr(er)?er.enterprise.ready(()=>{er.enterprise.execute(mt,{action:g}).then(nr=>{Kt(nr)}).catch(()=>{Kt(Ji)})}):kn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,Kt)=>{(function K(mt){return oe.apply(this,arguments)})(A.auth).then(kn=>{if(!m&&Cr(window.grecaptcha))Je(kn,mt,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));Wn("https://www.google.com/recaptcha/enterprise.js?render="+kn).then(()=>{Je(kn,mt,Kt)}).catch(er=>{Kt(er)})}}).catch(kn=>{Kt(kn)})})})()}}function ri(C,g,m){return bn.apply(this,arguments)}function bn(){return(bn=(0,_.Z)(function*(C,g,m,A=!1){const K=new _s(C);let oe;try{oe=yield K.verify(m)}catch{oe=yield K.verify(m,!0)}const Je=Object.assign({},g);return Object.assign(Je,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}class dr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const A=oe=>new Promise((Je,mt)=>{try{Je(g(oe))}catch(Kt){mt(Kt)}});A.onAbort=m,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,_.Z)(function*(){if(m.auth.currentUser===g)return;const A=[];try{for(const K of m.queue)yield K(g),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const oe of A)try{oe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==K?void 0:K.message})}})()}}class li{constructor(g,m,A,K){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(g,m){var A=this;return m&&(this._popupRedirectResolver=Qe(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var K,oe;if(!A._deleted&&(A.persistenceManager=yield be.create(A,g),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,_.Z)(function*(){var A;const K=yield m.assertedPersistence.getCurrentUser();let oe=K,Je=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const mt=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,Kt=null==oe?void 0:oe._redirectEventId,kn=yield m.tryRedirectSignIn(g);(!mt||mt===Kt)&&null!=kn&&kn.user&&(oe=kn.user,Je=!0)}if(!oe)return m.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Je)try{yield m.beforeStateQueue.runMiddleware(oe)}catch(mt){oe=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(mt))}return oe?m.reloadAndSetCurrentUserOrClear(oe):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===oe._redirectEventId?m.directlySetCurrentUser(oe):m.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(g){var m=this;return(0,_.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,_.Z)(function*(){try{yield qr(g)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ft(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){const A=g?(0,ee.m9)(g):null;return A&&Pe(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(g,m=!1){var A=this;return(0,_.Z)(function*(){if(!A._deleted)return g&&Pe(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),m||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,_.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Qe(g))}))}initializeRecaptchaConfig(){var g=this;return(0,_.Z)(function*(){const m=yield Nn(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new $n(m);null==g.tenantId?g._agentRecaptchaConfig=A:g._tenantRecaptchaConfigs[g.tenantId]=A,A.emailPasswordEnabled&&new _s(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ee.LL("auth","Firebase",g())}onAuthStateChanged(g,m,A){return this.registerStateListener(this.authStateSubscription,g,m,A)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,A){return this.registerStateListener(this.idTokenSubscription,g,m,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var A=this;return(0,_.Z)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(m);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const A=g&&Qe(g)||m._popupRedirectResolver;Pe(A,m,"argument-error"),m.redirectPersistenceManager=yield be.create(m,[Qe(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,_.Z)(function*(){var A,K;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===g?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,_.Z)(function*(){if(g===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,A,K){if(this._deleted)return()=>{};const oe="function"==typeof m?m:m.next.bind(m),Je=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(Je,this,"internal-error"),Je.then(()=>oe(this.currentUser)),"function"==typeof m?g.addObserver(m,A,K):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ut(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,_.Z)(function*(){var m;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const oe=yield g._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var g=this;return(0,_.Z)(function*(){var m;const A=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=A&&A.error&&function pt(C,...g){de.logLevel<=xe.in.WARN&&de.warn(`Auth (${he.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function Dr(C){return(0,ee.m9)(C)}class Xi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ee.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ee(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function ae(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Ke{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return we("not implemented")}_getIdTokenResponse(g){return we("not implemented")}_linkToIdToken(g,m){return we("not implemented")}_getReauthenticationResolver(g){return we("not implemented")}}function Nt(C,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:resetPassword",Zt(C,g))})).apply(this,arguments)}function Bt(C,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zn(){return(zn=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:update",Zt(C,g))})).apply(this,arguments)}function Gn(C,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithPassword",Zt(C,g))})).apply(this,arguments)}function Jn(C,g){return es.apply(this,arguments)}function es(){return(es=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:sendOobCode",Zt(C,g))})).apply(this,arguments)}function tt(){return(tt=(0,_.Z)(function*(C,g){return Jn(C,g)})).apply(this,arguments)}function Et(C,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(C,g){return Jn(C,g)})).apply(this,arguments)}function an(C,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,_.Z)(function*(C,g){return Jn(C,g)})).apply(this,arguments)}function hr(){return(hr=(0,_.Z)(function*(C,g){return Jn(C,g)})).apply(this,arguments)}function Rs(){return(Rs=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithEmailLink",Zt(C,g))})).apply(this,arguments)}function $i(){return($i=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithEmailLink",Zt(C,g))})).apply(this,arguments)}class ki extends Ke{constructor(g,m,A,K=null){super("password",A),this._email=g,this._password=m,this._tenantId=K}static _fromEmailAndPassword(g,m){return new ki(g,m,"password")}static _fromEmailAndCode(g,m,A=null){return new ki(g,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,_.Z)(function*(){var A;switch(m.signInMethod){case"password":const K={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=g._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const oe=yield ri(g,K,"signInWithPassword");return Gn(g,oe)}return Gn(g,K).catch(function(){var oe=(0,_.Z)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mt=yield ri(g,K,"signInWithPassword");return Gn(g,mt)}return Promise.reject(Je)});return function(Je){return oe.apply(this,arguments)}}());case"emailLink":return function xr(C,g){return Rs.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:et(g,"internal-error")}})()}_linkToIdToken(g,m){var A=this;return(0,_.Z)(function*(){switch(A.signInMethod){case"password":return Bt(g,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function fo(C,g){return $i.apply(this,arguments)}(g,{idToken:m,email:A._email,oobCode:A._password});default:et(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Hi(C,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithIdp",Zt(C,g))})).apply(this,arguments)}class qi extends Ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new qi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):et("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K}=m,oe=(0,Be._T)(m,["providerId","signInMethod"]);if(!A||!K)return null;const Je=new qi(A,K);return Je.idToken=oe.idToken||void 0,Je.accessToken=oe.accessToken||void 0,Je.secret=oe.secret,Je.nonce=oe.nonce,Je.pendingToken=oe.pendingToken||null,Je}_getIdTokenResponse(g){return Hi(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,Hi(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,ee.xO)(m)}return g}}function Ls(){return(Ls=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:sendVerificationCode",Zt(C,g))})).apply(this,arguments)}function bo(){return(bo=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithPhoneNumber",Zt(C,g))})).apply(this,arguments)}function ro(){return(ro=(0,_.Z)(function*(C,g){const m=yield Tt(C,"POST","/v1/accounts:signInWithPhoneNumber",Zt(C,g));if(m.temporaryProof)throw Cn(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ua={USER_NOT_FOUND:"user-not-found"};function io(){return(io=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithPhoneNumber",Zt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ua)})).apply(this,arguments)}class ps extends Ke{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new ps({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new ps({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function wa(C,g){return bo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Ms(C,g){return ro.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function rl(C,g){return io.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:A,verificationCode:K}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:A,code:K}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:A,phoneNumber:K,temporaryProof:oe}=g;return A||m||K||oe?new ps({verificationId:m,verificationCode:A,phoneNumber:K,temporaryProof:oe}):null}}class cs{constructor(g){var m,A,K,oe,Je,mt;const Kt=(0,ee.zd)((0,ee.pd)(g)),kn=null!==(m=Kt.apiKey)&&void 0!==m?m:null,er=null!==(A=Kt.oobCode)&&void 0!==A?A:null,nr=function da(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Kt.mode)&&void 0!==K?K:null);Pe(kn&&er&&nr,"argument-error"),this.apiKey=kn,this.operation=nr,this.code=er,this.continueUrl=null!==(oe=Kt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Je=Kt.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(mt=Kt.tenantId)&&void 0!==mt?mt:null}static parseLink(g){const m=function po(C){const g=(0,ee.zd)((0,ee.pd)(C)).link,m=g?(0,ee.zd)((0,ee.pd)(g)).deep_link_id:null,A=(0,ee.zd)((0,ee.pd)(C)).deep_link_id;return(A?(0,ee.zd)((0,ee.pd)(A)).link:null)||A||m||g||C}(g);try{return new cs(m)}catch{return null}}}let Lo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,A){return ki._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const K=cs.parseLink(A);return Pe(K,"argument-error"),ki._fromEmailAndCode(m,K.code,K.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class so{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ii extends so{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ts extends Ii{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),qi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Pe(g.idToken||g.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ts.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ts.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:oe,nonce:Je,providerId:mt}=g;if(!A&&!K&&!m&&!oe||!mt)return null;try{return new ts(mt)._credential({idToken:m,accessToken:A,nonce:Je,pendingToken:oe})}catch{return null}}}let Do=(()=>{class C extends Ii{constructor(){super("facebook.com")}static credential(m){return qi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Hs=(()=>{class C extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return qi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:K}=m;if(!A&&!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Zo=(()=>{class C extends Ii{constructor(){super("github.com")}static credential(m){return qi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ds extends Ke{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Hi(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,Hi(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K,pendingToken:oe}=m;return A&&K&&oe&&A===K?new Ds(A,oe):null}static _create(g,m){return new Ds(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends so{constructor(g){Pe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return go.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return go.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ds.fromJSON(g);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:A}=g;if(!m||!A)return null;try{return Ds._create(A,m)}catch{return null}}}let Ca=(()=>{class C extends Ii{constructor(){super("twitter.com")}static credential(m,A){return qi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=m;if(!A||!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Es(C,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signUp",Zt(C,g))})).apply(this,arguments)}class hi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,A,K=!1){return(0,_.Z)(function*(){const oe=yield Ht._fromIdTokenResponse(g,A,K),Je=yo(A);return new hi({user:oe,providerId:Je,_tokenResponse:A,operationType:m})})()}static _forOperation(g,m,A){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const K=yo(A);return new hi({user:g,providerId:K,_tokenResponse:A,operationType:m})})()}}function yo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ti(){return(Ti=(0,_.Z)(function*(C){var g;const m=Dr(C);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new hi({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Es(m,{returnSecureToken:!0}),K=yield hi._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class Qo extends ee.ZR{constructor(g,m,A,K){var oe;super(m.code,m.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:g.name,tenantId:null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,m,A,K){return new Qo(g,m,A,K)}}function Ts(C,g,m,A){return("reauthenticate"===g?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Qo._fromErrorAndOperation(C,oe,g,A):oe})}function ns(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Ps(){return Ps=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C);yield us(!0,m,g);const{providerUserInfo:A}=yield function lr(C,g){return Er.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),K=ns(A||[]);return m.providerData=m.providerData.filter(oe=>K.has(oe.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Ps.apply(this,arguments)}function zs(C,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,_.Z)(function*(C,g,m=!1){const A=yield tn(C,g._linkToIdToken(C.auth,yield C.getIdToken()),m);return hi._forOperation(C,"link",A)})).apply(this,arguments)}function us(C,g,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,_.Z)(function*(C,g,m){yield qr(g);const K=!1===C?"provider-already-linked":"no-such-provider";Pe(ns(g.providerData).has(m)===C,g.auth,K)})).apply(this,arguments)}function fa(C,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,_.Z)(function*(C,g,m=!1){const{auth:A}=C,K="reauthenticate";try{const oe=yield tn(C,Ts(A,K,g,C),m);Pe(oe.idToken,A,"internal-error");const Je=Ir(oe.idToken);Pe(Je,A,"internal-error");const{sub:mt}=Je;return Pe(C.uid===mt,A,"user-mismatch"),hi._forOperation(C,K,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&et(A,"user-mismatch"),oe}})).apply(this,arguments)}function pa(C,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,_.Z)(function*(C,g,m=!1){const A="signIn",K=yield Ts(C,A,g),oe=yield hi._fromIdTokenResponse(C,A,K);return m||(yield C._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function pr(C,g){return $o.apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(C,g){return pa(Dr(C),g)})).apply(this,arguments)}function ga(C,g){return b.apply(this,arguments)}function b(){return(b=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C);return yield us(!1,m,g.providerId),zs(m,g)})).apply(this,arguments)}function q(C,g){return T.apply(this,arguments)}function T(){return(T=(0,_.Z)(function*(C,g){return fa((0,ee.m9)(C),g)})).apply(this,arguments)}function pe(){return(pe=(0,_.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:signInWithCustomToken",Zt(C,g))})).apply(this,arguments)}function R(){return R=(0,_.Z)(function*(C,g){const m=Dr(C),A=yield function W(C,g){return pe.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),K=yield hi._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(K.user),K}),R.apply(this,arguments)}class O{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?ne._fromServerResponse(g,m):"totpInfo"in m?yt._fromServerResponse(g,m):et(g,"internal-error")}}class ne extends O{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new ne(m)}}class yt extends O{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new yt(m)}}function dn(C,g,m){var A;Pe((null===(A=m.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),Pe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function yi(){return yi=(0,_.Z)(function*(C,g,m){var A;const K=Dr(C),oe={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Je=yield ri(K,oe,"getOobCode",!0);m&&dn(K,Je,m),yield Et(K,Je)}else m&&dn(K,oe,m),yield Et(K,oe).catch(function(){var Je=(0,_.Z)(function*(mt){if("auth/missing-recaptcha-token"!==mt.code)return Promise.reject(mt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Kt=yield ri(K,oe,"getOobCode",!0);m&&dn(K,Kt,m),yield Et(K,Kt)}});return function(mt){return Je.apply(this,arguments)}}())}),yi.apply(this,arguments)}function gs(){return(gs=(0,_.Z)(function*(C,g,m){yield Nt((0,ee.m9)(C),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ai(){return Ai=(0,_.Z)(function*(C,g){yield function mn(C,g){return zn.apply(this,arguments)}((0,ee.m9)(C),{oobCode:g})}),Ai.apply(this,arguments)}function vl(C,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C),A=yield Nt(m,{oobCode:g}),K=A.requestType;switch(Pe(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(A.mfaInfo,m,"internal-error");default:Pe(A.email,m,"internal-error")}let oe=null;return A.mfaInfo&&(oe=O._fromServerResponse(Dr(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:K}})).apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(C,g){const{data:m}=yield vl((0,ee.m9)(C),g);return m.email})).apply(this,arguments)}function To(){return To=(0,_.Z)(function*(C,g,m){var A;const K=Dr(C),oe={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let Je;if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const kn=yield ri(K,oe,"signUpPassword");Je=Es(K,kn)}else Je=Es(K,oe).catch(function(){var kn=(0,_.Z)(function*(er){if("auth/missing-recaptcha-token"===er.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nr=yield ri(K,oe,"signUpPassword");return Es(K,nr)}return Promise.reject(er)});return function(er){return kn.apply(this,arguments)}}());const mt=yield Je.catch(kn=>Promise.reject(kn)),Kt=yield hi._fromIdTokenResponse(K,"signIn",mt);return yield K._updateCurrentUser(Kt.user),Kt}),To.apply(this,arguments)}function ya(){return ya=(0,_.Z)(function*(C,g,m){var A;const K=Dr(C),oe={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Je(mt,Kt){Pe(Kt.handleCodeInApp,K,"argument-error"),Kt&&dn(K,mt,Kt)}if(null!==(A=K._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const mt=yield ri(K,oe,"getOobCode",!0);Je(mt,m),yield an(K,mt)}else Je(oe,m),yield an(K,oe).catch(function(){var mt=(0,_.Z)(function*(Kt){if("auth/missing-recaptcha-token"!==Kt.code)return Promise.reject(Kt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const kn=yield ri(K,oe,"getOobCode",!0);Je(kn,m),yield an(K,kn)}});return function(Kt){return mt.apply(this,arguments)}}())}),ya.apply(this,arguments)}function Os(){return(Os=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),K=Lo.credentialWithLink(g,m||ht());return Pe(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),pr(A,K)})).apply(this,arguments)}function ja(){return(ja=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:createAuthUri",Zt(C,g))})).apply(this,arguments)}function Uo(){return Uo=(0,_.Z)(function*(C,g){const A={identifier:g,continueUri:_t()?ht():"http://localhost"},{signinMethods:K}=yield function Va(C,g){return ja.apply(this,arguments)}((0,ee.m9)(C),A);return K||[]}),Uo.apply(this,arguments)}function ta(){return ta=(0,_.Z)(function*(C,g){const m=(0,ee.m9)(C),K={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&dn(m.auth,K,g);const{email:oe}=yield function ut(C,g){return tt.apply(this,arguments)}(m.auth,K);oe!==C.email&&(yield C.reload())}),ta.apply(this,arguments)}function Eo(){return Eo=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};m&&dn(A.auth,oe,m);const{email:Je}=yield function Vr(C,g){return hr.apply(this,arguments)}(A.auth,oe);Je!==C.email&&(yield C.reload())}),Eo.apply(this,arguments)}function ao(){return(ao=(0,_.Z)(function*(C,g){return $t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ba(){return ba=(0,_.Z)(function*(C,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const A=(0,ee.m9)(C),oe={idToken:yield A.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Je=yield tn(A,function Vo(C,g){return ao.apply(this,arguments)}(A.auth,oe));A.displayName=Je.displayName||null,A.photoURL=Je.photoUrl||null;const mt=A.providerData.find(({providerId:Kt})=>"password"===Kt);mt&&(mt.displayName=A.displayName,mt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Je)}),ba.apply(this,arguments)}function Ni(C,g,m){return si.apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(C,g,m){const{auth:A}=C,oe={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(oe.email=g),m&&(oe.password=m);const Je=yield tn(C,Bt(A,oe));yield C._updateTokensIfNecessary(Je,!0)})).apply(this,arguments)}class So{constructor(g,m,A={}){this.isNewUser=g,this.providerId=m,this.profile=A}}class Il extends So{constructor(g,m,A,K){super(g,m,A),this.username=K}}class lo extends So{constructor(g,m){super(g,"facebook.com",m)}}class jl extends Il{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Rr extends So{constructor(g,m){super(g,"google.com",m)}}class Hl extends Il{constructor(g,m,A){super(g,"twitter.com",m,A)}}function wl(C){const{user:g,_tokenResponse:m}=C;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Da(C){var g,m;if(!C)return null;const{providerId:A}=C,K=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},oe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&null!=C&&C.idToken){const Je=null===(m=null===(g=Ir(C.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Je)return new So(oe,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!A)return null;switch(A){case"facebook.com":return new lo(oe,K);case"github.com":return new jl(oe,K);case"google.com":return new Rr(oe,K);case"twitter.com":return new Hl(oe,K,C.screenName||null);case"custom":case"anonymous":return new So(oe,null);default:return new So(oe,A,K)}}(m)}class Lr{constructor(g,m,A){this.type=g,this.credential=m,this.auth=A}static _fromIdtoken(g,m){return new Lr("enroll",g,m)}static _fromMfaPendingCredential(g){return new Lr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,A;if(null!=g&&g.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Lr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return Lr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class wr{constructor(g,m,A){this.session=g,this.hints=m,this.signInResolver=A}static _fromError(g,m){const A=Dr(g),K=m.customData._serverResponse,oe=(K.mfaInfo||[]).map(mt=>O._fromServerResponse(A,mt));Pe(K.mfaPendingCredential,A,"internal-error");const Je=Lr._fromMfaPendingCredential(K.mfaPendingCredential);return new wr(Je,oe,function(){var mt=(0,_.Z)(function*(Kt){const kn=yield Kt._process(A,Je);delete K.mfaInfo,delete K.mfaPendingCredential;const er=Object.assign(Object.assign({},K),{idToken:kn.idToken,refreshToken:kn.refreshToken});switch(m.operationType){case"signIn":const nr=yield hi._fromIdTokenResponse(A,m.operationType,er);return yield A._updateCurrentUser(nr.user),nr;case"reauthenticate":return Pe(m.user,A,"internal-error"),hi._forOperation(m.user,m.operationType,er);default:et(A,"internal-error")}});return function(Kt){return mt.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,_.Z)(function*(){return m.signInResolver(g)})()}}class Bs{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>O._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new Bs(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Lr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var A=this;return(0,_.Z)(function*(){const K=g,oe=yield A.getSession(),Je=yield tn(A.user,K._process(A.user.auth,oe,m));return yield A.user._updateTokensIfNecessary(Je),A.user.reload()})()}unenroll(g){var m=this;return(0,_.Z)(function*(){const A="string"==typeof g?g:g.uid,K=yield m.user.getIdToken();try{const oe=yield tn(m.user,function Ws(C,g){return $t(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(C,g))}(m.user.auth,{idToken:K,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Je})=>Je!==A),yield m.user._updateTokensIfNecessary(oe),yield m.user.reload()}catch(oe){throw oe}})()}}const ra=new WeakMap,Ta="__sak";class za{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wi=(()=>{class C extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zl(){const C=(0,ee.z$)();return ot(C)||Ot(C)}()&&function Gr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),oe=this.localCache[A];K!==oe&&m(A,oe,K)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((mt,Kt,kn)=>{this.notifyListeners(mt,kn)});const K=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mt=this.storage.getItem(K);if(m.newValue!==mt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!A)return}const oe=()=>{const mt=this.storage.getItem(K);!A&&this.localCache[K]===mt||this.notifyListeners(K,mt)},Je=this.storage.getItem(K);!function Qn(){return(0,ee.w1)()&&10===document.documentMode}()||Je===m.newValue||m.newValue===m.oldValue?oe():setTimeout(oe,10)}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var K=()=>super._set,oe=this;return(0,_.Z)(function*(){yield K().call(oe,m,A),oe.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,K=this;return(0,_.Z)(function*(){const oe=yield A().call(K,m);return K.localCache[m]=JSON.stringify(oe),oe})()}_remove(m){var A=()=>super._remove,K=this;return(0,_.Z)(function*(){yield A().call(K,m),delete K.localCache[m]})()}}return C.type="LOCAL",C})(),Zi=(()=>{class C extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return C.type="SESSION",C})();let Gl=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(oe=>oe.isListeningto(m));if(A)return A;const K=new C(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,_.Z)(function*(){const K=m,{eventId:oe,eventType:Je,data:mt}=K.data,Kt=A.handlersMap[Je];if(null==Kt||!Kt.size)return;K.ports[0].postMessage({status:"ack",eventId:oe,eventType:Je});const kn=Array.from(Kt).map(function(){var nr=(0,_.Z)(function*(as){return as(K.origin,mt)});return function(as){return nr.apply(this,arguments)}}()),er=yield function mu(C){return Promise.all(C.map(function(){var g=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return g.apply(this,arguments)}}()))}(kn);K.ports[0].postMessage({status:"done",eventId:oe,eventType:Je,response:er})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function hn(C="",g=10){let m="";for(let A=0;A<g;A++)m+=Math.floor(10*Math.random());return C+m}class ss{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,A=50){var K=this;return(0,_.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Je,mt;return new Promise((Kt,kn)=>{const er=hn("",20);oe.port1.start();const nr=setTimeout(()=>{kn(new Error("unsupported_event"))},A);mt={messageChannel:oe,onMessage(as){const Go=as;if(Go.data.eventId===er)switch(Go.data.status){case"ack":clearTimeout(nr),Je=setTimeout(()=>{kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),Kt(Go.data.response);break;default:clearTimeout(nr),clearTimeout(Je),kn(new Error("invalid_response"))}}},K.handlers.add(mt),oe.port1.addEventListener("message",mt.onMessage),K.target.postMessage({eventType:g,eventId:er,data:m},[oe.port2])}).finally(()=>{mt&&K.removeMessageHandler(mt)})})()}}function ci(){return window}function Hn(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function sc(){return(sc=(0,_.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sn="firebaseLocalStorageDb",ui=1,xo="firebaseLocalStorage",Ac="fbase_key";class bl{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Wl(C,g){return C.transaction([xo],g?"readwrite":"readonly").objectStore(xo)}function yu(){const C=indexedDB.open(sn,ui);return new Promise((g,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(xo,{keyPath:Ac})}catch(K){m(K)}}),C.addEventListener("success",(0,_.Z)(function*(){const A=C.result;A.objectStoreNames.contains(xo)?g(A):(A.close(),yield function oc(){const C=indexedDB.deleteDatabase(sn);return new bl(C).toPromise()}(),g(yield yu()))}))})}function jo(C,g,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,_.Z)(function*(C,g,m){const A=Wl(C,!0).put({[Ac]:g,value:m});return new bl(A).toPromise()})).apply(this,arguments)}function co(){return(co=(0,_.Z)(function*(C,g){const m=Wl(C,!1).get(g),A=yield new bl(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ol(C,g){const m=Wl(C,!0).delete(g);return new bl(m).toPromise()}const oi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield yu()),m.db})()}_withRetries(m){var A=this;return(0,_.Z)(function*(){let K=0;for(;;)try{const oe=yield A._openDb();return yield m(oe)}catch(oe){if(K++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return Hn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=Gl._getInstance(function Lt(){return Hn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,_.Z)(function*(K,oe){return{keyProcessed:(yield m._poll()).includes(oe.key)}});return function(K,oe){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,_.Z)(function*(K,oe){return["keyChanged"]});return function(K,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var A,K;if(m.activeServiceWorker=yield function ir(){return sc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ss(m.activeServiceWorker);const oe=yield m.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(K=oe[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,_.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Fn(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield yu();return yield jo(m,Ta,"1"),yield ol(m,Ta),!0}catch{}return!1})()}_withPendingWrite(m){var A=this;return(0,_.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var K=this;return(0,_.Z)(function*(){return K._withPendingWrite((0,_.Z)(function*(){return yield K._withRetries(oe=>jo(oe,m,A)),K.localCache[m]=A,K.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,_.Z)(function*(){const K=yield A._withRetries(oe=>function Wc(C,g){return co.apply(this,arguments)}(oe,m));return A.localCache[m]=K,K})()}_remove(m){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(K=>ol(K,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const A=yield m._withRetries(Je=>{const mt=Wl(Je,!1).getAll();return new bl(mt).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const K=[],oe=new Set;for(const{fbase_key:Je,value:mt}of A)oe.add(Je),JSON.stringify(m.localCache[Je])!==JSON.stringify(mt)&&(m.notifyListeners(Je,mt),K.push(Je));for(const Je of Object.keys(m.localCache))m.localCache[Je]&&!oe.has(Je)&&(m.notifyListeners(Je,null),K.push(Je));return K})()}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Pn=1e12;class Kl{constructor(g){this.auth=g,this.counter=Pn,this._widgets=new Map}render(g,m){const A=this.counter;return this._widgets.set(A,new ac(g,this.auth.name,m||{})),this.counter++,A}reset(g){var m;const A=g||Pn;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Pn))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,_.Z)(function*(){var A;return null===(A=m._widgets.get(g||Pn))||void 0===A||A.execute(),""})()}}class ac{constructor(g,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof g?document.getElementById(g):g;Pe(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tl(C){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qc=ar("rcb"),lc=new ke(3e4,6e4);class Wa{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ci().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Pe(function Yc(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&yr(ci().grecaptcha)?Promise.resolve(ci().grecaptcha):new Promise((A,K)=>{const oe=ci().setTimeout(()=>{K(Ze(g,"network-request-failed"))},lc.get());ci()[qc]=()=>{ci().clearTimeout(oe),delete ci()[qc];const mt=ci().grecaptcha;if(!mt||!yr(mt))return void K(Ze(g,"internal-error"));const Kt=mt.render;mt.render=(kn,er)=>{const nr=Kt(kn,er);return this.counter++,nr},this.hostLanguage=m,A(mt)},Wn(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:qc,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(oe),K(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=ci().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zu{load(g){return(0,_.Z)(function*(){return new Kl(g)})()}clearedOneInstance(){}}const Yr="recaptcha",cc={theme:"light",type:"image"};class Aa{constructor(g,m=Object.assign({},cc),A){this.parameters=m,this.type=Yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(A),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof g?document.getElementById(g):g;Pe(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zu:new Wa,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(m)||new Promise(oe=>{const Je=mt=>{mt&&(g.tokenChangeListeners.delete(Je),oe(mt))};g.tokenChangeListeners.add(Je),g.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof g)g(m);else if("string"==typeof g){const A=ci()[g];"function"==typeof A&&A(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){Pe(_t()&&!Hn(),g.auth,"internal-error"),yield function Mi(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function St(C){return Qt.apply(this,arguments)}(g.auth);Pe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=ps._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Rt(){return(Rt=(0,_.Z)(function*(C,g,m){const A=Dr(C),K=yield Ro(A,g,(0,ee.m9)(m));return new vr(K,oe=>pr(A,oe))})).apply(this,arguments)}function ws(){return(ws=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);yield us(!1,A,"phone");const K=yield Ro(A.auth,g,(0,ee.m9)(m));return new vr(K,oe=>ga(A,oe))})).apply(this,arguments)}function _a(){return(_a=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C),K=yield Ro(A.auth,g,(0,ee.m9)(m));return new vr(K,oe=>q(A,oe))})).apply(this,arguments)}function Ro(C,g,m){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,_.Z)(function*(C,g,m){var A;const K=yield m.verify();try{let oe;if(Pe("string"==typeof K,C,"argument-error"),Pe(m.type===Yr,C,"argument-error"),oe="string"==typeof g?{phoneNumber:g}:g,"session"in oe){const Je=oe.session;if("phoneNumber"in oe)return Pe("enroll"===Je.type,C,"internal-error"),(yield function Ri(C,g){return $t(C,"POST","/v2/accounts/mfaEnrollment:start",Zt(C,g))}(C,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Pe("signin"===Je.type,C,"internal-error");const mt=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return Pe(mt,C,"missing-multi-factor-info"),(yield function rr(C,g){return $t(C,"POST","/v2/accounts/mfaSignIn:start",Zt(C,g))}(C,{mfaPendingCredential:Je.credential,mfaEnrollmentId:mt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function no(C,g){return Ls.apply(this,arguments)}(C,{phoneNumber:oe.phoneNumber,recaptchaToken:K});return Je}}finally{m._reset()}}),Qi.apply(this,arguments)}function S(){return(S=(0,_.Z)(function*(C,g){yield zs((0,ee.m9)(C),g)})).apply(this,arguments)}let x=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=Dr(m)}verifyPhoneNumber(m,A){return Ro(this.auth,m,(0,ee.m9)(A))}static credential(m,A){return ps._fromVerification(m,A)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:K}=m;return A&&K?ps._fromTokenResponse(A,K):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function w(C,g){return g?Qe(g):(Pe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class k extends Ke{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Hi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Hi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Hi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function z(C){return pa(C.auth,new k(C),C.bypassAuthState)}function ie(C){const{auth:g,user:m}=C;return Pe(m,g,"internal-error"),fa(m,new k(C),C.bypassAuthState)}function le(C){return nt.apply(this,arguments)}function nt(){return(nt=(0,_.Z)(function*(C){const{auth:g,user:m}=C;return Pe(m,g,"internal-error"),zs(m,new k(C),C.bypassAuthState)})).apply(this,arguments)}class Pt{constructor(g,m,A,K,oe=!1){this.auth=g,this.resolver=A,this.user=K,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,_.Z)(function*(A,K){g.pendingPromise={resolve:A,reject:K};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(oe){g.reject(oe)}});return function(A,K){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,_.Z)(function*(){const{urlResponse:A,sessionId:K,postBody:oe,tenantId:Je,error:mt,type:Kt}=g;if(mt)return void m.reject(mt);const kn={auth:m.auth,requestUri:A,sessionId:K,tenantId:Je||void 0,postBody:oe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Kt)(kn))}catch(er){m.reject(er)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return z;case"linkViaPopup":case"linkViaRedirect":return le;case"reauthViaPopup":case"reauthViaRedirect":return ie;default:et(this.auth,"internal-error")}}resolve(g){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pn=new ke(2e3,1e4);function On(){return(On=(0,_.Z)(function*(C,g,m){const A=Dr(C);$e(C,g,so);const K=w(A,m);return new Mo(A,"signInViaPopup",g,K).executeNotNull()})).apply(this,arguments)}function Li(){return(Li=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);$e(A.auth,g,so);const K=w(A.auth,m);return new Mo(A.auth,"reauthViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);$e(A.auth,g,so);const K=w(A.auth,m);return new Mo(A.auth,"linkViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}let Mo=(()=>{class C extends Pt{constructor(m,A,K,oe,Je){super(m,A,oe,Je),this.provider=K,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const A=yield m.execute();return Pe(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,_.Z)(function*(){Ve(1===m.filter.length,"Popup operations only handle one event");const A=hn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(Ze(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,pn.get())};m()}}return C.currentPopupAction=null,C})();const $s="pendingRedirect",Ar=new Map;class Sl extends Pt{constructor(g,m,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,_.Z)(function*(){let A=Ar.get(m.auth._key());if(!A){try{const oe=(yield function Ys(C,g){return Xc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;A=()=>Promise.resolve(oe)}catch(K){A=()=>Promise.reject(K)}Ar.set(m.auth._key(),A)}return m.bypassAuthState||Ar.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,A=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(A,g);if("unknown"!==g.type){if(g.eventId){const K=yield A.auth._redirectUserForId(g.eventId);if(K)return A.user=K,m().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Xc(){return(Xc=(0,_.Z)(function*(C,g){const m=_u(g),A=Ea(C);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(m));return yield A._remove(m),K})).apply(this,arguments)}function Ka(C,g){return al.apply(this,arguments)}function al(){return(al=(0,_.Z)(function*(C,g){return Ea(C)._set(_u(g),"true")})).apply(this,arguments)}function Xu(C,g){Ar.set(C._key(),g)}function Ea(C){return Qe(C._redirectPersistence)}function _u(C){return Ce($s,C.config.apiKey,C.name)}function Eu(C,g,m){return function Ld(C,g,m){return Iu.apply(this,arguments)}(C,g,m)}function Iu(){return(Iu=(0,_.Z)(function*(C,g,m){const A=Dr(C);$e(C,g,so),yield A._initializationPromise;const K=w(A,m);return yield Ka(K,A),K._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Bd(C,g,m){return function Qu(C,g,m){return ql.apply(this,arguments)}(C,g,m)}function ql(){return(ql=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);$e(A.auth,g,so),yield A.auth._initializationPromise;const K=w(A.auth,m);yield Ka(K,A.auth);const oe=yield dc(A);return K._openRedirect(A.auth,g,"reauthViaRedirect",oe)})).apply(this,arguments)}function uc(C,g,m){return function Ju(C,g,m){return Ss.apply(this,arguments)}(C,g,m)}function Ss(){return(Ss=(0,_.Z)(function*(C,g,m){const A=(0,ee.m9)(C);$e(A.auth,g,so),yield A.auth._initializationPromise;const K=w(A.auth,m);yield us(!1,A,g.providerId),yield Ka(K,A.auth);const oe=yield dc(A);return K._openRedirect(A.auth,g,"linkViaRedirect",oe)})).apply(this,arguments)}function xa(){return(xa=(0,_.Z)(function*(C,g){return yield Dr(C)._initializationPromise,wu(C,g,!1)})).apply(this,arguments)}function wu(C,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,_.Z)(function*(C,g,m=!1){const A=Dr(C),K=w(A,g),Je=yield new Sl(A,K,m).execute();return Je&&!m&&(delete Je.user._redirectEventId,yield A._persistUserIfCurrent(Je.user),yield A._setRedirectUser(null,g)),Je})).apply(this,arguments)}function dc(C){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(C){const g=hn(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class xc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(m=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function hc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ys(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var A;if(g.error&&!ys(g)){const K=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(Ze(this.auth,K))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const A=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(g))}saveEventToCache(g){this.cachedEventUids.add(Po(g)),this.lastProcessedEventTime=Date.now()}}function Po(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function ys({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Xr(C){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,_.Z)(function*(C,g={}){return $t(C,"GET","/v1/projects",g)})).apply(this,arguments)}const ed=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yl=/^https?/;function Us(){return(Us=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Xr(C);for(const m of g)try{if(Rc(m))return}catch{}et(C,"unauthorized-domain")})).apply(this,arguments)}function Rc(C){const g=ht(),{protocol:m,hostname:A}=new URL(g);if(C.startsWith("chrome-extension://")){const Je=new URL(C);return""===Je.hostname&&""===A?"chrome-extension:"===m&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Je.hostname===A}if(!Yl.test(m))return!1;if(ed.test(C))return A===C;const K=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const fc=new ke(3e4,6e4);function Zl(){const C=ci().___jsl;if(null!=C&&C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Ho=null;const Cu=new ke(5e3,15e3),ll="__/auth/iframe",wo="emulator/auth/iframe",Qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ah(C){const g=C.config;Pe(g.authDomain,C,"auth-domain-config-required");const m=g.emulator?Le(g,wo):`https://${C.config.authDomain}/${ll}`,A={apiKey:g.apiKey,appName:C.name,v:he.SDK_VERSION},K=qa.get(C.config.apiHost);K&&(A.eid=K);const oe=C._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${m}?${(0,ee.xO)(A).slice(1)}`}function $(){return $=(0,_.Z)(function*(C){const g=yield function uo(C){return Ho=Ho||function ks(C){return new Promise((g,m)=>{var A,K,oe;function Je(){Zl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Zl(),m(Ze(C,"network-request-failed"))},timeout:fc.get()})}if(null!==(K=null===(A=ci().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)g(gapi.iframes.getContext());else{if(null===(oe=ci().gapi)||void 0===oe||!oe.load){const mt=ar("iframefcb");return ci()[mt]=()=>{gapi.load?Je():m(Ze(C,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${mt}`).catch(Kt=>m(Kt))}Je()}}).catch(g=>{throw Ho=null,g})}(C),Ho}(C),m=ci().gapi;return Pe(m,C,"internal-error"),g.open({where:document.body,url:Ah(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qc,dontclear:!0},A=>new Promise(function(){var K=(0,_.Z)(function*(oe,Je){yield A.restyle({setHideOnLeave:!1});const mt=Ze(C,"network-request-failed"),Kt=ci().setTimeout(()=>{Je(mt)},Cu.get());function kn(){ci().clearTimeout(Kt),oe(A)}A.ping(kn).then(kn,()=>{Je(mt)})});return function(oe,Je){return K.apply(this,arguments)}}()))}),$.apply(this,arguments)}const J={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ie=500,st=600,It="_blank",Gt="http://localhost";class wn{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nr="__/auth/handler",Fr="emulator/auth/handler",ho=encodeURIComponent("fac");function As(C,g,m,A,K,oe){return cl.apply(this,arguments)}function cl(){return(cl=(0,_.Z)(function*(C,g,m,A,K,oe){Pe(C.config.authDomain,C,"auth-domain-config-required"),Pe(C.config.apiKey,C,"invalid-api-key");const Je={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:A,v:he.SDK_VERSION,eventId:K};if(g instanceof so){g.setDefaultLanguage(C.languageCode),Je.providerId=g.providerId||"",(0,ee.xb)(g.getCustomParameters())||(Je.customParameters=JSON.stringify(g.getCustomParameters()));for(const[er,nr]of Object.entries(oe||{}))Je[er]=nr}if(g instanceof Ii){const er=g.getScopes().filter(nr=>""!==nr);er.length>0&&(Je.scopes=er.join(","))}C.tenantId&&(Je.tid=C.tenantId);const mt=Je;for(const er of Object.keys(mt))void 0===mt[er]&&delete mt[er];const Kt=yield C._getAppCheckToken(),kn=Kt?`#${ho}=${encodeURIComponent(Kt)}`:"";return`${function Xs({config:C}){return C.emulator?Le(C,Fr):`https://${C.authDomain}/${Nr}`}(C)}?${(0,ee.xO)(mt).slice(1)}${kn}`})).apply(this,arguments)}const Al="webStorageSupport",Oo=class _i{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zi,this._completeRedirectFn=wu,this._overrideRedirectResult=Xu}_openPopup(g,m,A,K){var oe=this;return(0,_.Z)(function*(){var Je;Ve(null===(Je=oe.eventManagers[g._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const mt=yield As(g,m,A,ht(),K);return function xn(C,g,m,A=Ie,K=st){const oe=Math.max((window.screen.availHeight-K)/2,0).toString(),Je=Math.max((window.screen.availWidth-A)/2,0).toString();let mt="";const Kt=Object.assign(Object.assign({},J),{width:A.toString(),height:K.toString(),top:oe,left:Je}),kn=(0,ee.z$)().toLowerCase();m&&(mt=gn(kn)?It:m),Ct(kn)&&(g=g||Gt,Kt.scrollbars="yes");const er=Object.entries(Kt).reduce((as,[Go,Yd])=>`${as}${Go}=${Yd},`,"");if(function Dn(C=(0,ee.z$)()){var g;return Ot(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(kn)&&"_self"!==mt)return function Zn(C,g){const m=document.createElement("a");m.href=C,m.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(g||"",mt),new wn(null);const nr=window.open(g||"",mt,er);Pe(nr,C,"popup-blocked");try{nr.focus()}catch{}return new wn(nr)}(g,mt,hn())})()}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe._originValidation(g),function ic(C){ci().location.href=C}(yield As(g,m,A,ht(),K)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:K,promise:oe}=this.eventManagers[m];return K?Promise.resolve(K):(Ve(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(g);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(g){var m=this;return(0,_.Z)(function*(){const A=yield function P(C){return $.apply(this,arguments)}(g),K=new xc(g);return A.register("authEvent",oe=>(Pe(null==oe?void 0:oe.authEvent,g,"invalid-auth-event"),{status:K.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:K},m.iframes[g._key()]=A,K})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Al,{type:Al},K=>{var oe;const Je=null===(oe=null==K?void 0:K[0])||void 0===oe?void 0:oe[Al];void 0!==Je&&m(!!Je),et(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Hr(C){return Us.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return cr()||ot()||Ot()}};class Jc{constructor(g){this.factorId=g}_process(g,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,A);case"signin":return this._finalizeSignIn(g,m.credential);default:return we("unexpected MultiFactorSessionType")}}}class bu extends Jc{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new bu(g)}_finalizeEnroll(g,m,A){return function Gi(C,g){return $t(C,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(C,g))}(g,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Sa(C,g){return $t(C,"POST","/v2/accounts/mfaSignIn:finalize",Zt(C,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zo=(()=>{class C{constructor(){}static assertion(m){return bu._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var Ya="@firebase/auth";class Za{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(A=>{g((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ml(){return window}(0,ee.Pz)("authIdTokenMaxAge"),function $d(C){(0,he._registerComponent)(new me.wA("auth",(g,{options:m})=>{const A=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),oe=g.getProvider("app-check-internal"),{apiKey:Je,authDomain:mt}=A.options;Pe(Je&&!Je.includes(":"),"invalid-api-key",{appName:A.name}),Pe(!(null!=mt&&mt.includes(":")),"argument-error",{appName:A.name});const Kt={apiKey:Je,authDomain:mt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ut(C)},kn=new li(A,K,oe,Kt);return function Oi(C,g){const m=(null==g?void 0:g.persistence)||[],A=(Array.isArray(m)?m:[m]).map(Qe);null!=g&&g.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(kn,m),kn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,A)=>{g.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new me.wA("auth-internal",g=>{const m=Dr(g.getProvider("auth").getImmediate());return new Za(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Ya,"0.23.1",function Rl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,he.registerVersion)(Ya,"0.23.1","esm2017")}("Browser");const Mh=2e3;function Pl(){return Pl=(0,_.Z)(function*(C,g,m){var A;const{BuildInfo:K}=Ml();Ve(g.sessionId,"AuthEvent did not contain a session ID");const oe=yield function Su(C){return Ra.apply(this,arguments)}(g.sessionId),Je={};return Ot()?Je.ibi=K.packageName:je()?Je.apn=K.packageName:et(C,"operation-not-supported-in-this-environment"),K.displayName&&(Je.appDisplayName=K.displayName),Je.sessionId=oe,As(C,m,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,Je)}),Pl.apply(this,arguments)}function Vd(){return(Vd=(0,_.Z)(function*(C){const{BuildInfo:g}=Ml(),m={};Ot()?m.iosBundleId=g.packageName:je()?m.androidPackageName=g.packageName:et(C,"operation-not-supported-in-this-environment"),yield Xr(C,m)})).apply(this,arguments)}function Qa(){return(Qa=(0,_.Z)(function*(C,g,m){const{cordova:A}=Ml();let K=()=>{};try{yield new Promise((oe,Je)=>{let mt=null;function Kt(){var nr;oe();const as=null===(nr=A.plugins.browsertab)||void 0===nr?void 0:nr.close;"function"==typeof as&&as(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function kn(){mt||(mt=window.setTimeout(()=>{Je(Ze(C,"redirect-cancelled-by-user"))},Mh))}function er(){"visible"===(null==document?void 0:document.visibilityState)&&kn()}g.addPassiveListener(Kt),document.addEventListener("resume",kn,!1),je()&&document.addEventListener("visibilitychange",er,!1),K=()=>{g.removePassiveListener(Kt),document.removeEventListener("resume",kn,!1),document.removeEventListener("visibilitychange",er,!1),mt&&window.clearTimeout(mt)}})}finally{K()}})).apply(this,arguments)}function Ra(){return(Ra=(0,_.Z)(function*(C){const g=function pc(C){if(Ve(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),m=new Uint8Array(g);for(let A=0;A<C.length;A++)m[A]=C.charCodeAt(A);return m}(C),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const jd=20;class oa extends xc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function Hd(C){return gc.apply(this,arguments)}function gc(){return(gc=(0,_.Z)(function*(C){const g=yield Ol()._get(ko(C));return g&&(yield Ol()._remove(ko(C))),g})).apply(this,arguments)}function zd(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<jd;m++){const A=Math.floor(Math.random()*g.length);C.push(g.charAt(A))}return C.join("")}function Ol(){return Qe(Wi)}function ko(C){return Ce("authEvent",C.config.apiKey,C.name)}function mc(C){if(null==C||!C.includes("?"))return{};const[g,...m]=C.split("?");return(0,ee.zd)(m.join("?"))}const tu=class xu{constructor(){this._redirectPersistence=Zi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wu,this._overrideRedirectResult=Xu}_initialize(g){var m=this;return(0,_.Z)(function*(){const A=g._key();let K=m.eventManagers.get(A);return K||(K=new oa(g),m.eventManagers.set(A,K),m.attachCallbackListeners(g,K)),K})()}_openPopup(g){et(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){!function Pc(C){var g,m,A,K,oe,Je,mt,Kt,kn,er;const nr=Ml();Pe("function"==typeof(null===(g=null==nr?void 0:nr.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pe(typeof(null===(m=null==nr?void 0:nr.BuildInfo)||void 0===m?void 0:m.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pe("function"==typeof(null===(oe=null===(K=null===(A=null==nr?void 0:nr.cordova)||void 0===A?void 0:A.plugins)||void 0===K?void 0:K.browsertab)||void 0===oe?void 0:oe.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(Kt=null===(mt=null===(Je=null==nr?void 0:nr.cordova)||void 0===Je?void 0:Je.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===Kt?void 0:Kt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(er=null===(kn=null==nr?void 0:nr.cordova)||void 0===kn?void 0:kn.InAppBrowser)||void 0===er?void 0:er.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Je=yield oe._initialize(g);yield Je.initialized(),Je.resetRedirect(),function sa(){Ar.clear()}(),yield oe._originValidation(g);const mt=function Ph(C,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:zd(),postBody:null,tenantId:C.tenantId,error:Ze(C,"no-auth-event")}}(g,A,K);yield function Ma(C,g){return Ol()._set(ko(C),g)}(g,mt);const Kt=yield function Ud(C,g,m){return Pl.apply(this,arguments)}(g,mt,m),kn=yield function os(C){const{cordova:g}=Ml();return new Promise(m=>{g.plugins.browsertab.isAvailable(A=>{let K=null;A?g.plugins.browsertab.openUrl(C):K=g.InAppBrowser.open(C,function en(C=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(K)})})}(Kt);return function Xa(C,g,m){return Qa.apply(this,arguments)}(g,Je,kn)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function td(C){return Vd.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:A,handleOpenURL:K,BuildInfo:oe}=Ml(),Je=setTimeout((0,_.Z)(function*(){yield Hd(g),m.onEvent(nu())}),500),mt=function(){var er=(0,_.Z)(function*(nr){clearTimeout(Je);const as=yield Hd(g);let Go=null;as&&null!=nr&&nr.url&&(Go=function nd(C,g){var m,A;const K=function eu(C){const g=mc(C),m=g.link?decodeURIComponent(g.link):void 0,A=mc(m).link,K=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return mc(K).link||K||A||m||C}(g);if(K.includes("/__/auth/callback")){const oe=mc(K),Je=oe.firebaseError?function Au(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,mt=null===(A=null===(m=null==Je?void 0:Je.code)||void 0===m?void 0:m.split("auth/"))||void 0===A?void 0:A[1],Kt=mt?Ze(mt):null;return Kt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:K,postBody:null}}return null}(as,nr.url)),m.onEvent(Go||nu())});return function(as){return er.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,mt);const Kt=K,kn=`${oe.packageName.toLowerCase()}://`;Ml().handleOpenURL=function(){var er=(0,_.Z)(function*(nr){if(nr.toLowerCase().startsWith(kn)&&mt({url:nr}),"function"==typeof Kt)try{Kt(nr)}catch(as){console.error(as)}});return function(nr){return er.apply(this,arguments)}}()}};function nu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}const Bp=1e3;function Qs(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Oc(C=(0,ee.z$)()){return!("file:"!==Qs()&&"ionic:"!==Qs()&&"capacitor:"!==Qs()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oh(){try{const C=self.localStorage,g=hn();if(C)return C.setItem(g,"1"),C.removeItem(g),!function Ru(C=(0,ee.z$)()){return function ul(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vc(C=(0,ee.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ee.hl)()}catch{return Of()&&(0,ee.hl)()}return!1}function Of(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qr(){return(function id(){return"http:"===Qs()||"https:"===Qs()}()||(0,ee.ru)()||Oc())&&!function kc(){return(0,ee.b$)()||(0,ee.UG)()}()&&Oh()&&!Of()}function sd(){return Oc()&&typeof document<"u"}function ad(){return(ad=(0,_.Z)(function*(){return!!sd()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},Bp);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const aa={LOCAL:"local",NONE:"none",SESSION:"session"},_c=Pe,Gd="persistence";function ru(C){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,_.Z)(function*(C){yield C._initializationPromise;const g=Wd(),m=Ce(Gd,C.config.apiKey,C.name);g&&g.setItem(m,C._getPersistence())})).apply(this,arguments)}function Wd(){var C;try{return(null===(C=function ld(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const Ic=Pe;class wc{constructor(){this.browserResolver=Qe(Oo),this.cordovaResolver=Qe(tu),this.underlyingResolver=null,this._redirectPersistence=Zi,this._completeRedirectFn=wu,this._overrideRedirectResult=Xu}_initialize(g){var m=this;return(0,_.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(g,m,A,K)})()}_openRedirect(g,m,A,K){var oe=this;return(0,_.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(g,m,A,K)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ic(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const m=yield function od(){return ad.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Pa(C){return C.unwrap()}function kf(C){return $p(C)}function $p(C){const{_tokenResponse:g}=C instanceof ee.ZR?C.customData:C;if(!g)return null;if(!(C instanceof ee.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return x.credentialFromResult(C);const m=g.providerId;if(!m||m===Ne.PASSWORD)return null;let A;switch(m){case Ne.GOOGLE:A=Hs;break;case Ne.FACEBOOK:A=Do;break;case Ne.GITHUB:A=Zo;break;case Ne.TWITTER:A=Ca;break;default:const{oauthIdToken:K,oauthAccessToken:oe,oauthTokenSecret:Je,pendingToken:mt,nonce:Kt}=g;return oe||Je||K||mt?mt?m.startsWith("saml.")?Ds._create(m,mt):qi._fromParams({providerId:m,signInMethod:m,pendingToken:mt,idToken:K,accessToken:oe}):new ts(m).credential({idToken:K,accessToken:oe,rawNonce:Kt}):null}return C instanceof ee.ZR?A.credentialFromError(C):A.credentialFromResult(C)}function Ja(C,g){return g.catch(m=>{throw m instanceof ee.ZR&&function Kd(C,g){var m;const A=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new Pu(C,function Fi(C,g){var m;const A=(0,ee.m9)(C),K=g;return Pe(g.customData.operationType,A,"argument-error"),Pe(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),wr._fromError(A,K)}(C,g));else if(A){const K=$p(g),oe=g;K&&(oe.credential=K,oe.tenantId=A.tenantId||void 0,oe.email=A.email||void 0,oe.phoneNumber=A.phoneNumber||void 0)}}(C,m),m}).then(m=>{const K=m.user;return{operationType:m.operationType,credential:kf(m),additionalUserInfo:wl(m),user:kl.getOrCreate(K)}})}function vs(C,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,_.Z)(function*(C,g){const m=yield g;return{verificationId:m.verificationId,confirm:A=>Ja(C,m.confirm(A))}})).apply(this,arguments)}class Pu{constructor(g,m){this.resolver=m,this.auth=function Mu(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ja(Pa(this.auth),this.resolver.resolveSignIn(g))}}class kl{constructor(g){this._delegate=g,this.multiFactor=function Ks(C){const g=(0,ee.m9)(C);return ra.has(g)||ra.set(g,Bs._fromUser(g)),ra.get(g)}(g)}static getOrCreate(g){return kl.USER_MAP.has(g)||kl.USER_MAP.set(g,new kl(g)),kl.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,_.Z)(function*(){return Ja(m.auth,ga(m._delegate,g))})()}linkWithPhoneNumber(g,m){var A=this;return(0,_.Z)(function*(){return vs(A.auth,function wi(C,g,m){return ws.apply(this,arguments)}(A._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,_.Z)(function*(){return Ja(m.auth,function qs(C,g,m){return Io.apply(this,arguments)}(m._delegate,g,wc))})()}linkWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield ru(Dr(m.auth)),uc(m._delegate,g,wc)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,_.Z)(function*(){return Ja(m.auth,q(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return vs(this.auth,function Zc(C,g,m){return _a.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Ja(this.auth,function Ci(C,g,m){return Li.apply(this,arguments)}(this._delegate,g,wc))}reauthenticateWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield ru(Dr(m.auth)),Bd(m._delegate,g,wc)})()}sendEmailVerification(g){return function El(C,g){return ta.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,_.Z)(function*(){return yield function yl(C,g){return Ps.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function Ha(C,g){return Ni((0,ee.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function Yi(C,g){return Ni((0,ee.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function fr(C,g){return S.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function is(C,g){return ba.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function hs(C,g,m){return Eo.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kl.USER_MAP=new WeakMap;const dd=Pe;let su=(()=>{class C{constructor(m,A){if(this.app=m,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=m.options;dd(K,"invalid-api-key",{appName:m.name}),dd(K,"invalid-api-key",{appName:m.name});const oe=typeof window<"u"?wc:void 0;this._delegate=A.initialize({options:{persistence:fd(K,m.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,A){!function re(C,g,m){const A=Dr(C);Pe(A._canInitEmulator,A,"emulator-config-failed"),Pe(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const K=!(null==m||!m.disableWarnings),oe=Ee(g),{host:Je,port:mt}=function it(C){const g=Ee(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const oe=K[1];return{host:oe,port:ae(A.substr(oe.length+1))}}{const[oe,Je]=A.split(":");return{host:oe,port:ae(Je)}}}(g);A.config.emulator={url:`${oe}//${Je}${null===mt?"":`:${mt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Je,port:mt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function qe(){function C(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,m,A)}applyActionCode(m){return function Gs(C,g){return Ai.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return vl(this._delegate,m)}confirmPasswordReset(m,A){return function Si(C,g,m){return gs.apply(this,arguments)}(this._delegate,m,A)}createUserWithEmailAndPassword(m,A){var K=this;return(0,_.Z)(function*(){return Ja(K._delegate,function il(C,g,m){return To.apply(this,arguments)}(K._delegate,m,A))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function _o(C,g){return Uo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ua(C,g){const m=cs.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,_.Z)(function*(){dd(Qr(),m._delegate,"operation-not-supported-in-this-environment");const A=yield function Sh(C,g){return xa.apply(this,arguments)}(m._delegate,wc);return A?Ja(m._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Mf(C,g){Dr(C)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,A,K){const{next:oe,error:Je,complete:mt}=hd(m,A,K);return this._delegate.onAuthStateChanged(oe,Je,mt)}onIdTokenChanged(m,A,K){const{next:oe,error:Je,complete:mt}=hd(m,A,K);return this._delegate.onIdTokenChanged(oe,Je,mt)}sendSignInLinkToEmail(m,A){return function _l(C,g,m){return ya.apply(this,arguments)}(this._delegate,m,A)}sendPasswordResetEmail(m,A){return function jr(C,g,m){return yi.apply(this,arguments)}(this._delegate,m,A||void 0)}setPersistence(m){var A=this;return(0,_.Z)(function*(){let K;switch(function cd(C,g){_c(Object.values(aa).includes(g),C,"invalid-persistence-type"),(0,ee.b$)()?_c(g!==aa.SESSION,C,"unsupported-persistence-type"):(0,ee.UG)()?_c(g===aa.NONE,C,"unsupported-persistence-type"):Of()?_c(g===aa.NONE||g===aa.LOCAL&&(0,ee.hl)(),C,"unsupported-persistence-type"):_c(g===aa.NONE||Oh(),C,"unsupported-persistence-type")}(A._delegate,m),m){case aa.SESSION:K=Zi;break;case aa.LOCAL:K=(yield Qe(oi)._isAvailable())?oi:Wi;break;case aa.NONE:K=zt;break;default:return et("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ja(this._delegate,function Bo(C){return Ti.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ja(this._delegate,pr(this._delegate,m))}signInWithCustomToken(m){return Ja(this._delegate,function B(C,g){return R.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,A){return Ja(this._delegate,function vo(C,g,m){return pr((0,ee.m9)(C),Lo.credential(g,m))}(this._delegate,m,A))}signInWithEmailLink(m,A){return Ja(this._delegate,function ms(C,g,m){return Os.apply(this,arguments)}(this._delegate,m,A))}signInWithPhoneNumber(m,A){return vs(this._delegate,function Or(C,g,m){return Rt.apply(this,arguments)}(this._delegate,m,A))}signInWithPopup(m){var A=this;return(0,_.Z)(function*(){return dd(Qr(),A._delegate,"operation-not-supported-in-this-environment"),Ja(A._delegate,function Bn(C,g,m){return On.apply(this,arguments)}(A._delegate,m,wc))})()}signInWithRedirect(m){var A=this;return(0,_.Z)(function*(){return dd(Qr(),A._delegate,"operation-not-supported-in-this-environment"),yield ru(A._delegate),Eu(A._delegate,m,wc)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ds(C,g){return rs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=aa,C})();function hd(C,g,m){let A=C;"function"!=typeof C&&({next:A,error:g,complete:m}=C);const K=A;return{next:Je=>K(Je&&kl.getOrCreate(Je)),error:g,complete:m}}function fd(C,g){const m=function iu(C,g){const m=Wd();if(!m)return[];const A=Ce(Gd,C,g);switch(m.getItem(A)){case aa.NONE:return[zt];case aa.LOCAL:return[oi,Zi];case aa.SESSION:return[Zi];default:return[]}}(C,g);if(typeof self<"u"&&!m.includes(oi)&&m.push(oi),typeof window<"u")for(const A of[Wi,Zi])m.includes(A)||m.push(A);return m.includes(zt)||m.push(zt),m}class la{constructor(){this.providerId="phone",this._delegate=new x(Pa(y.Z.auth()))}static credential(g,m){return x.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}la.PHONE_SIGN_IN_METHOD=x.PHONE_SIGN_IN_METHOD,la.PROVIDER_ID=x.PROVIDER_ID;const el=Pe;class kh{constructor(g,m,A=y.Z.app()){var K;el(null===(K=A.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Aa(g,m,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qd(C){C.INTERNAL.registerComponent(new me.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new su(m,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ve_EMAIL_SIGNIN,PASSWORD_RESET:ve_PASSWORD_RESET,RECOVER_EMAIL:ve_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ve_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ve_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ve_VERIFY_EMAIL}},EmailAuthProvider:Lo,FacebookAuthProvider:Do,GithubAuthProvider:Zo,GoogleAuthProvider:Hs,OAuthProvider:ts,SAMLAuthProvider:go,PhoneAuthProvider:la,PhoneMultiFactorGenerator:zo,RecaptchaVerifier:kh,TwitterAuthProvider:Ca,Auth:su,AuthCredential:Ke,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.1")}(y.Z)},5861:(yn,gt,H)=>{"use strict";function _(ee,he,Be,xe,me,Ue,Ne){try{var _e=ee[Ue](Ne),ge=_e.value}catch(ve){return void Be(ve)}_e.done?he(ge):Promise.resolve(ge).then(xe,me)}function y(ee){return function(){var he=this,Be=arguments;return new Promise(function(xe,me){var Ue=ee.apply(he,Be);function Ne(ge){_(Ue,xe,me,Ne,_e,"next",ge)}function _e(ge){_(Ue,xe,me,Ne,_e,"throw",ge)}Ne(void 0)})}}H.d(gt,{Z:()=>y})}},yn=>{yn(yn.s=2295)}]);